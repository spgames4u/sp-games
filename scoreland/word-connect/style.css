*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{width:100%;height:100%;overflow:hidden;font-family:'Cairo',sans-serif;background:#0b0e1a;color:#fff}

/* ── الشاشات ── */
.screen{display:none;position:fixed;inset:0;flex-direction:column;align-items:center;justify-content:center}
.screen.on{display:flex}

/* ── التحميل ── */
#S0{background:#0b0e1a;gap:14px}
#S0 p{font-size:.85rem;color:rgba(255,255,255,.4)}
.spinner{width:36px;height:36px;border:3px solid rgba(255,255,255,.1);border-top-color:#c9a227;border-radius:50%;animation:spin .6s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* ── اللعب ── */
#S1.on{justify-content:flex-start;background:#0b0e1a}

.layout{
    width:100%;max-width:420px;height:100%;margin:0 auto;
    display:flex;flex-direction:column;align-items:center;
    padding:14px 14px 10px;
}

/* الهيدر */
.hdr{
    width:100%;display:flex;align-items:center;gap:10px;
    margin-bottom:10px;
}
.snd-btn{
    background:none;border:none;font-size:1.05rem;cursor:pointer;
    color:rgba(255,255,255,.45);padding:0;line-height:1;flex-shrink:0;
}
.hdr-title{
    flex:1;text-align:center;font-size:1.05rem;font-weight:700;
    color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.hdr-ctr{
    font-size:.75rem;color:rgba(255,255,255,.35);flex-shrink:0;
    font-weight:400;
}

/* الشبكة */
.board{
    flex:1;width:100%;min-height:0;
    display:flex;align-items:center;justify-content:center;
    position:relative;
}
.grid{
    display:grid;gap:5px;
    background:rgba(255,255,255,.03);
    border:1px solid rgba(255,255,255,.06);
    border-radius:16px;padding:10px;
}
#svg{position:absolute;pointer-events:none;z-index:5}

/* الخلايا */
.c{
    background:linear-gradient(160deg,#181d35,#121628);
    border:1.5px solid rgba(255,255,255,.08);
    border-radius:9px;
    color:rgba(255,255,255,.85);font-weight:700;
    display:flex;align-items:center;justify-content:center;
    cursor:pointer;user-select:none;touch-action:none;
    aspect-ratio:1;
    transition:transform .1s,background .1s,border-color .1s,box-shadow .1s;
}
.c.sel{
    background:linear-gradient(160deg,#c9a227,#a68520);
    color:#0b0e1a;
    transform:scale(1.07);
    border-color:#c9a227;
    box-shadow:0 0 14px rgba(201,162,39,.3);
}
.c.done{
    opacity:.2;pointer-events:none;
    background:rgba(30,30,50,.3);border-color:transparent;
}

/* الكلمات */
.words{
    width:100%;min-height:38px;
    display:flex;flex-wrap:wrap;gap:8px;justify-content:center;
    padding:8px 0 4px;
}
.tag{
    background:linear-gradient(135deg,#1b7a3d,#15612f);
    padding:5px 16px;border-radius:20px;
    font-size:.82rem;font-weight:600;
    box-shadow:0 2px 10px rgba(21,97,47,.25);
    animation:tagIn .3s ease;
}
@keyframes tagIn{0%{transform:scale(0);opacity:0}70%{transform:scale(1.1)}100%{transform:scale(1);opacity:1}}

/* ── النتيجة ── */
#S2{background:#0b0e1a}
.res-card{text-align:center;display:flex;flex-direction:column;align-items:center;gap:14px}
.res-icon{
    width:68px;height:68px;border-radius:50%;
    display:flex;align-items:center;justify-content:center;
    font-size:1.8rem;animation:tagIn .4s ease;
}
.res-icon.ok{background:rgba(27,122,61,.2);color:#2ecc71}
.res-icon.no{background:rgba(231,76,60,.2);color:#e74c3c}
.res-title{font-size:1.2rem;font-weight:700}
.res-title.ok{color:#2ecc71}
.res-title.no{color:#e74c3c}
.res-coins{
    display:flex;align-items:center;gap:6px;
    font-size:1.05rem;font-weight:700;color:#c9a227;
    background:rgba(201,162,39,.08);padding:8px 20px;border-radius:10px;
    border:1px solid rgba(201,162,39,.15);
}
.res-coins.hidden{display:none}
.res-next{font-size:.78rem;color:rgba(255,255,255,.3);animation:pulse 1.5s infinite}
@keyframes pulse{0%,100%{opacity:.3}50%{opacity:.12}}

/* ── Responsive ── */
@media(max-width:380px){.layout{padding:10px 10px 6px}.hdr-title{font-size:.95rem}}
@media(orientation:landscape) and (max-height:500px){
    .layout{max-width:360px;padding:4px 8px}
    .hdr{margin-bottom:4px}.hdr-title{font-size:.85rem}
    .hdr-ctr{font-size:.65rem}
    .words{padding:4px 0;min-height:28px}.tag{font-size:.72rem;padding:3px 10px}
}
