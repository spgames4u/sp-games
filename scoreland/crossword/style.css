/* ══════════════════════════════════════
   الكلمات المتقاطعة - ScoreLand
   v2 - Optimized for iframe
   ══════════════════════════════════════ */
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
:root{
    --bg:#0b0e1a;--surface:#151a32;--surface2:#1a2040;
    --gold:#d4a930;--gold-dim:rgba(212,169,48,.15);--gold-glow:rgba(212,169,48,.3);
    --emerald:#22c55e;--emerald-dim:rgba(34,197,94,.12);
    --text:#f0f0f5;--text-dim:rgba(255,255,255,.4);--text-mid:rgba(255,255,255,.6);
    --danger:#ef4444;
}
html,body{width:100%;height:100%;overflow:hidden;font-family:'Cairo',sans-serif;background:var(--bg);color:var(--text)}

/* شاشات */
.screen{display:none;position:fixed;inset:0;flex-direction:column;align-items:center;justify-content:center;z-index:1}
.screen.on{display:flex}

/* ── تحميل ── */
#S0{background:var(--bg);z-index:100}
.loader-wrap{display:flex;flex-direction:column;align-items:center;gap:16px}
.cross-loader{width:44px;height:44px;position:relative}
.cross-loader span{position:absolute;background:var(--gold);border-radius:2px;animation:cp 1.2s ease-in-out infinite}
.cross-loader span:nth-child(1){width:44px;height:5px;top:19px;left:0}
.cross-loader span:nth-child(2){width:5px;height:44px;top:0;left:19px;animation-delay:.15s}
.cross-loader span:nth-child(3){width:30px;height:3px;top:20px;left:7px;animation-delay:.3s;background:var(--emerald)}
.cross-loader span:nth-child(4){width:3px;height:30px;top:7px;left:20px;animation-delay:.45s;background:var(--emerald)}
@keyframes cp{0%,100%{opacity:.3;transform:scale(1)}50%{opacity:1;transform:scale(1.05)}}
#S0 p{font-size:.78rem;color:var(--text-dim);font-weight:600}

/* ── اللعب ── */
#S1.on{justify-content:flex-start;background:var(--bg)}
.game-layout{width:100%;max-width:480px;height:100%;margin:0 auto;display:flex;flex-direction:column;padding:8px 10px 0}

/* هيدر */
.game-hdr{display:flex;align-items:center;gap:8px;padding:2px 0 6px;flex-shrink:0}
.icon-btn{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.06);border-radius:7px;width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text-dim);transition:all .2s;flex-shrink:0}
.icon-btn:active{transform:scale(.9)}.icon-btn.off{opacity:.3}.icon-btn svg{width:15px;height:15px}
.hdr-center{flex:1;min-width:0;display:flex;flex-direction:column;gap:3px}
.hdr-title{font-size:.88rem;font-weight:700;color:var(--text);text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.2}
.progress-bar{width:100%;height:3px;background:rgba(255,255,255,.06);border-radius:3px;overflow:hidden}
.progress-fill{height:100%;width:0;background:linear-gradient(90deg,var(--emerald),var(--gold));border-radius:3px;transition:width .5s ease}
.hdr-ctr{font-size:.68rem;color:var(--gold);font-weight:700;flex-shrink:0;background:var(--gold-dim);padding:2px 8px;border-radius:14px;border:1px solid rgba(212,169,48,.1)}

/* منطقة اللعب */
.play-area{flex:1;min-height:0;display:flex;flex-direction:column;gap:4px;overflow:hidden}
.grid-wrap{display:flex;align-items:center;justify-content:center;flex-shrink:0;padding:4px 0}

/* الشبكة */
.crossword-grid{display:inline-grid;gap:2px}

/* خلايا */
.cw-cell{position:relative;border-radius:5px;overflow:hidden;transition:all .12s}
.cw-cell.blank{background:transparent;pointer-events:none}
.cw-cell.active{background:var(--surface);border:1.5px solid rgba(255,255,255,.12);cursor:pointer}
.cell-num{position:absolute;top:0;right:1px;color:var(--gold);font-weight:700;line-height:1;z-index:2;pointer-events:none}
[dir="ltr"] .cell-num{right:auto;left:1px}
.cell-letter{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--text);z-index:1;pointer-events:none;transition:color .2s}

/* حالات الخلية */
.cw-cell.selected{border-color:var(--gold)!important;background:var(--gold-dim)!important;box-shadow:0 0 10px var(--gold-glow)}
.cw-cell.selected .cell-letter{color:var(--gold)}
.cw-cell.highlighted{border-color:rgba(212,169,48,.25)!important;background:rgba(212,169,48,.06)!important}
.cw-cell.correct{border-color:var(--emerald)!important;background:var(--emerald-dim)!important}
.cw-cell.correct .cell-letter{color:var(--emerald)}
@keyframes cellCorrect{0%{transform:scale(1)}40%{transform:scale(1.12)}100%{transform:scale(1)}}
.cw-cell.pop{animation:cellCorrect .3s ease}

/* التلميحات */
.clues-panel{flex:1;min-height:0;overflow-y:auto;display:flex;flex-direction:column;gap:4px;padding:2px 0;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.06) transparent}
.clues-panel::-webkit-scrollbar{width:2px}.clues-panel::-webkit-scrollbar-thumb{background:rgba(255,255,255,.06);border-radius:2px}
.clue-section{margin-bottom:1px}
.clue-heading{display:flex;align-items:center;gap:5px;padding:3px 6px;font-size:.65rem;font-weight:700;color:var(--gold);letter-spacing:.5px;border-bottom:1px solid rgba(212,169,48,.08);margin-bottom:1px}
.clue-arrow{opacity:.5}
.clue-list{display:flex;flex-direction:column;gap:0}
.clue-item{display:flex;align-items:flex-start;gap:6px;padding:4px 8px;border-radius:6px;cursor:pointer;transition:all .12s;font-size:.72rem;line-height:1.4;color:var(--text-mid)}
.clue-item:active{transform:scale(.98)}
.clue-item.active{background:var(--gold-dim);color:var(--text)}
.clue-item.solved{opacity:.35;text-decoration:line-through;text-decoration-color:var(--emerald);pointer-events:none}
.clue-item.solved .clue-num{color:var(--emerald)}
.clue-num{font-weight:800;color:var(--gold);min-width:14px;font-size:.65rem;flex-shrink:0}
.clue-text{flex:1}

/* إدخال مخفي لتفعيل كيبورد النظام على الموبايل */
.hidden-input{position:fixed;top:-100px;left:-100px;width:1px;height:1px;opacity:0;pointer-events:none;font-size:16px}

/* ── النتيجة ── */
#S2{background:var(--bg)}
.result-card{text-align:center;display:flex;flex-direction:column;align-items:center;gap:14px;position:relative;padding:30px}
.result-glow{position:absolute;width:180px;height:180px;border-radius:50%;filter:blur(70px);top:50%;left:50%;transform:translate(-50%,-60%);pointer-events:none;opacity:.25}
.result-icon{width:70px;height:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.8rem;font-weight:900;animation:ri .5s cubic-bezier(.34,1.56,.64,1);position:relative;z-index:1}
@keyframes ri{0%{transform:scale(0) rotate(-20deg);opacity:0}100%{transform:scale(1) rotate(0);opacity:1}}
.result-icon.ok{background:rgba(34,197,94,.12);color:var(--emerald);border:2px solid rgba(34,197,94,.2);box-shadow:0 0 24px rgba(34,197,94,.25)}
.result-icon.no{background:rgba(239,68,68,.1);color:var(--danger);border:2px solid rgba(239,68,68,.15)}
.result-title{font-size:1.2rem;font-weight:800;position:relative;z-index:1}
.result-title.ok{color:var(--emerald)}.result-title.no{color:var(--danger)}
.result-coins{display:flex;align-items:center;gap:7px;font-size:1rem;font-weight:800;color:var(--gold);background:var(--gold-dim);padding:8px 20px;border-radius:12px;border:1px solid rgba(212,169,48,.12);animation:ci .4s .2s both}
@keyframes ci{0%{transform:translateY(8px);opacity:0}100%{transform:translateY(0);opacity:1}}
.result-coins.hidden{display:none}
.result-next{font-size:.72rem;color:var(--text-dim);animation:pulse 1.8s ease infinite;margin-top:2px}
@keyframes pulse{0%,100%{opacity:.35}50%{opacity:.1}}

/* خلفية */
body::before{content:'';position:fixed;inset:0;pointer-events:none;z-index:0;background:radial-gradient(ellipse 500px 350px at 20% 10%,rgba(212,169,48,.02),transparent),radial-gradient(ellipse 400px 400px at 80% 90%,rgba(34,197,94,.015),transparent)}

/* Responsive */
@media(max-width:360px){.game-layout{padding:4px 6px 0}.hdr-title{font-size:.8rem}.clue-item{font-size:.68rem;padding:3px 6px}}
@media(max-height:600px){.game-hdr{padding:1px 0 3px}}
@media(orientation:landscape) and (max-height:440px){
    .game-layout{flex-direction:row;flex-wrap:wrap;max-width:100%;padding:3px 10px}
    .game-hdr{width:100%;padding:1px 0 2px}
    .play-area{flex-direction:row;gap:8px;flex:1;min-height:0}
    .grid-wrap{flex:0 0 auto}
    .clues-panel{flex:1;max-height:none}
}
