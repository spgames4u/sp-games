window.__require=function t(e,i,a){function n(o,r){if(!i[o]){if(!e[o]){var c=o.split("/");if(c=c[c.length-1],!e[c]){var h="function"==typeof __require&&__require;if(!r&&h)return h(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+o+"'")}o=c}var d=i[o]={exports:{}};e[o][0].call(d.exports,function(t){return n(e[o][1][t]||t)},d,d.exports,t,e,i,a)}return i[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<a.length;o++)n(a[o]);return n}({AI:[function(t,e){"use strict";cc._RF.push(e,"ce306R3yNJLcIqojoghAaHN","AI");var i={PounceSkill:function(t,e,i){var a=kit.norm(t.x-e.x,t.y-e.y),n=300;if(i&&i.l&&(n=i.l),a<n){var s=kit.vector2Radian(e.y-t.y,e.x-t.x);return t.setRotation(kit.radian2Degree(s)),!0}},JumpSkill:function(t,e,i){var a=i.l,n=kit.degree2Radian(t.getRotation()),s=t.x0+Math.sin(n)*a,o=t.y0+Math.cos(n)*a;return Math.floor(s/CELL_W),Math.floor(o/CELL_H),!t.game.contactMgr.objectCheckWall(t,{dx:Math.sin(n)*a,dy:Math.cos(n)*a,flyHeight:0})}},a=cc.Class({init:function(t,e,a){this.define=t,this.config=e,this.obj=e.obj,this.game=a,this.effectMgr=this.game.effectMgr,this.alarmTime=this.define.alarmTime||0,this.alarmTimer=this.alarmTime,this.alarmRange=this.define.alarmRange,this.obj.define.name!=MOB_SLOWDOG_N&&this.obj.define.name!=MOB_DOG_PROLOGUE_N||this.createAlarmCircleEff(this.alarmRange),this.changeStatus("Idle"),this.skillAI=i},checkSkill:function(t){if(this.skillAI){var e=this.obj;if(e.skills&&e.skills.length>0)for(var i=e.skills.length-1;i>=0;i--)if(e.skills[i]){var a=e.skills[i].define,n=a.ai;if(e.skills[i].initSkillCD||(e.skills[i].initSkillCD=!0,e.skills[i].cdTimer+=2*Math.random()-1),e.skills[i].isReady()&&(!this.skillAI[n]||this.skillAI[n](e,t,a)))return cc.log("startSkill"),e.startSkill(i,{target:t}),e.stopSkill(i),!0}}},changeStatus:function(t){if(this.status!=t)return this.status=t,this["initStatus"+this.status]&&this["initStatus"+this.status](),!0},updateLogic:function(t){this["updateStatus"+this.status]&&this["updateStatus"+this.status](t)},seekTargetIdle:function(){for(var t=this.obj,e=g_sharedContactManager.contactList,i=t.x0,a=t.y0,n=1e12,s=null,o=0;o<e.length;o++){var r=e[o],c=r.x0-i,h=r.y0-a,d=c*c+h*h;r.team!=t.team&&!r.isDead&&r.canAutoAim&&(!this.alarmRange||d<=this.alarmRange*this.alarmRange)&&d<n&&(n=d,s=r)}this.target=s},seekTarget:function(){for(var t=this.obj,e=g_sharedContactManager.contactList,i=t.x0,a=t.y0,n=1e12,s=null,o=0;o<e.length;o++){var r=e[o],c=r.x0-i,h=r.y0-a;if(r.team!=t.team&&!r.isDead&&r.canAutoAim){var d=c*c+h*h;r.taunting&&(d-=9e4),d<n&&(n=d,s=r)}}this.target=s},setTarget:function(t){this.target=t},initStatusIdle:function(){this.obj,this.seekTimer=0;var t=kit.rnd(1,1.5);this.idleTimer=t},createAlarmCircleEff:function(t){if(!(t<=0)){var e=this.game.effectMgr.createSprite(0,0,"uiz/effect/ability_warn");e.opacity=100,this.obj.alarmCircle=e,this.obj.addChild(e,-1)}},updateStatusIdle:function(t){this.obj,this.seekTimer-=t,this.seekTimer<=0&&(this.seekTimer=.5+Math.random(),this.seekTargetIdle()),this.target&&this.changeStatus("Seek")},getActivated:function(){"idle"==this.status&&this.changeStatus("Seek")&&(this.alarmRange&&this.obj.getAlarmed(),this.activateNearby(),this.obj.alarmCircle&&(this.obj.alarmCircle.destroy(),this.obj.alarmCircle=null))},activateNearby:function(){for(var t=this.obj,e=g_sharedContactManager.contactList,i=t.x0,a=t.y0,n=0;n<e.length;n++){var s=e[n],o=s.x0-i,r=s.y0-a,c=o*o+r*r;s.team==t.team&&!s.isDead&&s.canAutoAim&&(!this.alarmRange||c<=this.alarmRange*this.alarmRange)&&(s.PatrolUpdater?s.PatrolUpdater.getActivated():s.ai&&s.ai.getActivated&&s.ai.getActivated())}},initStatusSeek:function(){this.seekOffsetTimer||this.refreshSeekOffset(),this.astarTimer=0,this.seekCD=0,this.moveTime=this.define.moveTime||.5,this.moveTimer=this.moveTime||0,this.moveTimeRand=this.define.moveTimeRand||3,this.moveTimer+=Math.random()*this.moveTimeRand,cc.log("initStatusSeek",this.obj.define.id)},refreshSeekOffset:function(){this.obj;var t=this.define,e=Math.random()*t.ar1+t.ar0,i=2*Math.random()*Math.PI;this.seekOffsetX=kit.sin(i)*e,this.seekOffsetY=kit.cos(i)*e,t.cr1&&t.cr0&&(this.seekOffsetTimer=t.cr1*Math.random()+t.cr0),console.log("refreshSeekOffset",this.seekOffsetX,this.seekOffsetY)},callAttack:function(t,e){var i=this.obj;e&&this.define.aim?((t=t||{}).aim=this.define.aim,i.callAttack(t)):i.callAttack(t)},updateStatusSeek:function(t){var e=this.obj;if(this.moveTimer-=t,!e.isDead&&!e.isStun){this.seekCD-=t,(this.seekCD<=0||this.target&&this.target.isDead)&&(this.seekCD=1+Math.random(),this.seekTarget());var i=this.target;if(i){if(this.checkSkill(i))return;var a=this.define,n=i.x0,s=i.y0,o=n-e.x0,r=s-e.y0,c=i.radius+e.radius+a.sr,h=o*o+r*r;if(h<c*c&&this.moveTimer<=0){this.attackTimer=this.attackInterval;var d=kit.vector2Radian(r,o);e.setRotation(kit.radian2Degree(d)),this.callAttack(null,!0),this.changeStatus("Fight")}else if(this.astarTimer-=t,this.astarTimer<=0||!e.isMove&&!e.noMove){this.seekOffsetTimer>0&&(this.seekOffsetTimer-=t,this.seekOffsetTimer<=0&&this.refreshSeekOffset());var l=a.ar0+a.ar1+10,u=h/(l*l);d=kit.vector2Radian(r,o),n=i.x0,s=i.y0,u>1?(n+=this.seekOffsetX,s+=this.seekOffsetY,e.moveTo(n,s),this.refreshSeekOffset()):(o+=this.seekOffsetX*u*.5,r+=this.seekOffsetY*u*.5,e.callMove({rad:d,s:1})),this.astarTimer=.5+1*Math.random()}}else this.checkSkill()}},initStatusFight:function(){var t=this.obj;t.isMove&&t.callMove({s:0}),this.attackTime=this.define.attackTime||0,this.attackTimer=this.attackTime||0,cc.log("initStatusFight",t.define.id)},updateStatusFight:function(t){var e=this.obj;if(this.attackTimer-=t,!e.isAttack){if(this.attackTimer>0){if(!this.target.isDead){var i=this.target.x0-e.x0,a=this.target.y0-e.y0,n=this.target.radius+e.radius+this.define.sr;if(i*i+a*a<n*n)return kit.vector2Radian(a,i),void this.callAttack()}return}cc.log("updateStatusFight toSeek",e.define.id),this.changeStatus("Seek")}}});e.exports=a,cc._RF.pop()},{}],AddEpBuff:[function(t,e){"use strict";cc._RF.push(e,"2f868tm5PNHNpVBVbIIUSVE","AddEpBuff"),cc.Class({extends:t("OnHurtBuff"),begin:function(){this._super();var t=this.obj,e=this.define.num||0;this.shield=e,this.game.fastMode||(this.eff=Effect.Shield(t.x,t.y,60))},excute:function(){this.eff&&!this.game.fastMode&&this.eff.setPosition(this.obj.x,this.obj.y)},onHurt:function(t){return this.shield>t?(this.shield-=t,0):(t-=this.shield,this.shield=0,this.callEnd(),t)},end:function(){this._super(),this.game.fastMode||(this.eff.destroy(),this.eff=null)}}),cc._RF.pop()},{OnHurtBuff:"OnHurtBuff"}],AdvancedLightSourceManager:[function(t,e){"use strict";cc._RF.push(e,"f05bcaFRcZFOY6JKPm3oBOC","AdvancedLightSourceManager"),cc.Class({extends:cc.Component,init:function(t){this.lightSourceList=[];var e=VIEW_SIZE.width,i=VIEW_SIZE.height,a=cc.director.getWinSize(),n=cc.director.getWinSizeInPixels(),s=new cc.RenderTexture(e,i,cc.Texture2D.PIXEL_FORMAT_RGBA8888);for(var o in s.setKeepMatrix(!0),s.setPosition(e/2,i/2),s.setVirtualViewport(cc.v2(0,0),cc.rect(0,0,a.width,a.height),cc.rect(0,0,n.width,n.height)),s.begin(),this.lightSourceList)this.lightSourceList[o].updatePos(),this.lightSourceList[o].visit();s.end(),this.node.addChild(s),this.rt=s,t?s.getSprite().setBlendFunc(gl.DST_COLOR,gl.ONE):s.getSprite().setBlendFunc(gl.ZERO,gl.SRC_COLOR),this.scheduleUpdate(),this.addChild(this)},add:function(t){var e=Effect.AdvancedLightSource(t,this.lightSourceList);this.lightSourceList.push(e)},update:function(){var t=this.rt;for(var e in t.beginWithClear(0,0,0,0,0,0),this.lightSourceList)this.lightSourceList[e].updatePos(),this.lightSourceList[e].visit();t.end()}}),cc._RF.pop()},{}],AlertInfoBossStrip:[function(t,e){"use strict";cc._RF.push(e,"4c584W3kYVIkJz+ctSgTEhR","AlertInfoBossStrip"),cc._RF.pop()},{}],Ammo:[function(t,e){"use strict";cc._RF.push(e,"816a3jUB2xNzIi8TT7ol07S","Ammo"),t("Animation");var i=cc.Class({toString:function(){return this.define.name||"Ammo"},init:function(t,e,i){this.define=t,this.config=e,this.game=i,this.effectMgr=this.game.effectMgr,this.x=e.x,this.y=e.y,this.obj=e.obj,this.attackScale=this.config.attackScale||1,this.dx=0,this.dy=0,this.team=e.te,this.dmg=e.dmg||t.dmg||0,this.critChance=e.critChance,this.length=t.length||30,this.flyDistance=e.l||t.l||1e3,this.speed0=t.spd||1e3,this.knockBack=t.kb||0,this.buff=t.buff||e.buff,this.buffs=t.buffs||e.buffs||[],this.radius=t.radius||0,this.ignoreWall=e.ignoreWall||t.ignoreWall||0,this.noReflect=e.noReflect||t.noReflect||0,this.hurtedObject=e.hurtedObject,this.thrDeath=t.thrDeath||0,this.thrChance=e.thr||t.thr||0,this.thrChance>0&&(this.thrCount=t.thrCount||1,this.thrDecline=t.thrDecline||1),this.alwayThrough=e.alwayThrough||t.alwayThrough||0,this.alwaysCheck=e.alwaysCheck||t.alwaysCheck,this.initSprite(),this.game.addUpdate(this)},initSprite:function(){if(!this.game.fastMode){var t=this.define;if(t.anim)var e=this.effectMgr.createAnimation(t.anim.name,{speed:5,repeat:-1});else e=t.particle?this.effectMgr.createParticle(0,0,t.particle,function(t){t.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){t.emissionRate=20})))}):this.effectMgr.createSprite(0,0,t.frm||"bullet/player/zidan2");if(this.rotateSpd=this.define.rotateSpd,e.setAnchorPoint(t.anchorX||.5,t.anchorY||.85),!t.noBlend){var i=e.getComponent(cc.Sprite);i.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,i.dstBlendFactor=cc.macro.BlendFactor.ONE}this.game.camera.addChild(e,t.zOrder||1e3),this.sprite=e}},updateSprite:function(t){this.sprite&&(this.sprite.setPosition(this.x,this.y),this._refreshSprite&&(this._refreshSprite=!1,this.sprite.angle=-this.node.deg),this.rotateSpd&&(this.sprite.angle+=this.rotateSpd*t))},removeSprite:function(){this.sprite&&(this.sprite=null,this.sprite.destroy())},move:function(t,e,i){this.speed=this.speed0*e,this.timer=this.flyDistance/this.speed;var a=kit.sin(t),n=kit.cos(t);this.spdX=this.speed*a,this.spdY=this.speed*n,this.lx=-a*this.length,this.ly=-n*this.length,this.hw=Math.abs(.5*this.lx),this.hh=Math.abs(.5*this.ly),this.deg=kit.radian2Degree(t),i&&(this.x+=this.spdX*i,this.y+=this.spdY*i),this.sprite&&(this.sprite.angle=-this.deg,this.sprite.setPosition(this.x,this.y))},updateLogic:function(t){this.dx=this.spdX*t,this.dy=this.spdY*t,this.updateSprite(t),this.timer-=t,this.timer<=0&&(this.removingBullet&&this.remove("maxLength"),this.removingBullet=!0)},remove:function(t,e){if(!this.isRemoved){if(this.isRemoved=!0,this.define.spawnBltOnRemove){var i=this.define.spawnBltOnRemove;for(var a in i)this.spawnBlt(i[a])}if(this.define.chain&&"hit"==t){var n=this.seekTarget(e);if(n){var s=kit.vector2Degree(n.y-e.y0,n.x-e.x0),o=this.define.nextChainDmgRatio||1;this.spawnBlt({dmg:this.dmg*o,deg0:s,x0:e.x0,y0:e.y0,hurtedObject:e})}}this.removeSprite(),this.game.removeUpdate(this),g_sharedContactManager.removeBullet(this)}},seekTarget:function(t){for(var e=this.team,i=t||this,a=g_sharedContactManager.contactList,n=i.x,s=i.y,o=1e12,r=null,c=0;c<a.length;c++){var h=a[c],d=h.x0-n,l=h.y0-s;if(h.team!=e&&!h.isDead&&h.canAutoAim&&i!=h){var u=d*d+l*l;h.taunting&&(u-=9e4),u<o&&(o=u,r=h)}}return r},spawnBlt:function(t){var e=t,i=e.blt>=0&&this.define.bltList&&this.define.bltList[e.blt];i||((i=kit.clone(this.define)).spawnBltOnRemove=!1,i.chain&&(i.n=1,i.chain--));var a=e.x||0,n=e.y||0,s=this.x,o=this.y,r=this.deg;null!=e.x0&&(s=e.x0),null!=e.y0&&(o=e.y0),null!=e.deg0&&(r=e.deg0);var c=kit.degree2Radian(r),h=Math.sin(c),d=s+(f=Math.cos(c))*a+h*n,l=o-h*a+f*n,u=e.deg||0;if(e.dx||e.dy){a=e.dx||0,n=e.dy||0;var f,m=r+u;c=kit.degree2Radian(m),h=Math.sin(c),d=d+(f=Math.cos(c))*a+h*n,l=l-h*a+f*n}var p=t.dmg||this.dmg,g=r+u;console.log("spawnBlt hurtedObject",e.hurtedObject),Ammofactory(this,i,{critChance:this.critChance,x:d,y:l,te:this.team,obj:this.obj,dmg:p,l:null,deg:g,hurtedObject:e.hurtedObject},this.game)},hit:function(){}});window.Ammofactory=function(e,i,a,n){var s=t("Bullet"),o=a.spd||1,r=i.rnd||0,c=a.d||i.d||0;i.sound&&this.effectMgr.play(SoundEffectPath[i.sound]);var h=i.n,d=null!=a.deg?a.deg:e.deg,l=kit.degree2Radian(d);if(!(h&&h>1))return c&&(l+=Math.random()*c-.5*c),(f=i.ctor?new i.ctor:new s).init(i,a,n),f.move(l,(1+Math.random()*r)*o),f;for(var u=0;u<h;u++){if(i.ctor)var f=new i.ctor;else f=new s;if(f.init(i,a,n),i.wd)var m=c*u/(h-1)-.5*c;else m=Math.random()*c-.5*c;f.move(l+m,(1+Math.random()*r)*o)}},e.exports=i,cc._RF.pop()},{Animation:"Animation",Bullet:"Bullet"}],Animation:[function(t,e){"use strict";cc._RF.push(e,"e9e97aaAIlCb5Bjv4SH/ooB","Animation"),cc._RF.pop()},{}],Arrow:[function(t,e){"use strict";cc._RF.push(e,"470bfofTpRMw4324UjG4Z7W","Arrow");var i=cc.Class({extends:t("Bullet"),attack:function(t,e,i){new Bullet(this.define.blt,t).move(e,.8+.4*Math.random(),i)},througth:function(t,e,i){var a=.2*this.config.dmg;if(this.config.l){var n=.3*this.config.l;n<200?n=200:n>300&&(n=300)}else n=300;for(var s={x:this.x+this.lx*i,y:this.y+this.ly*i,te:this.obj.team,obj:this.obj,dmg:a,l:n,hurtedObject:e},o=0;o<=t;o++)this.attack(s,kit.degree2Radian(this.deg+t*(30*Math.random()-15)),.03)},explosion:function(t){var e=.2*this.config.dmg;if(this.config.l){var i=.3*this.config.l;i<200?i=200:i>300&&(i=300)}else i=300;for(var a={x:this.x,y:this.y,te:this.obj.team,obj:this.obj,dmg:e,l:i},n=0;n<=t;n++)this.attack(a,Math.random()*Math.PI*2,.03)},reflect:function(t,e,i,a){if(0!=a){if(1==a)var n=-this.deg;else 2==a&&(n=180-this.deg);var s=.2*this.config.dmg;if(this.config.l){var o=.3*this.config.l;o<200?o=200:o>300&&(o=300)}else o=300;for(var r={x:e,y:i,te:this.obj.team,obj:this.obj,dmg:s,l:o},c=0;c<=t;c++)this.attack(r,kit.degree2Radian(n+10*c-5*t),.05)}},hitWall:function(t,e,i){this.isRemoved=!0,this.game.fastMode||(this.blockEffect(t,e,this.deg),this.smoke&&this.smoke.updateSmoke(0,t,e)),this.removeSprite(),this.game.removeUpdate(this),g_sharedContactManager.removeBullet(this),this.reflect(5,t,e,i)},remove:function(t){if(!this.isRemoved&&(this.isRemoved=!0,this.smoke&&this.smoke.updateSmoke(),g_sharedContactManager.removeBullet(this),this.game.removeUpdate(this),this.removeSprite(),"maxLength"==t)){if(!this.game.fastMode){var e=kit.vector2Radian(-this.spdY,-this.spdX);this.hitGroundEffect(this.x,this.y,kit.radian2Degree(e))}this.explosion(9)}},hit:function(t,e){return this.througth(5,t,e),this._super(t,e)}});e.exports=i,cc._RF.pop()},{Bullet:"Bullet"}],AtkDebuff:[function(t,e){"use strict";cc._RF.push(e,"617630tBsFEVZn/gLLVTqKm","AtkDebuff"),cc.Class({extends:t("Buff"),begin:function(){this._super(),this.obj.attribute.mutScale("atkDmg",this.define.atkScale)},end:function(){this._super(),this.obj,this.obj.attribute.mutScale("atkDmg",1/this.define.atkScale)}}),cc._RF.pop()},{Buff:"Buff"}],AttackBuff2:[function(t,e){"use strict";cc._RF.push(e,"82097jWklhHIpc9DqypoLVZ","AttackBuff2"),cc.Class({init:function(t,e){this.game=e,this.particleNode=this.game.effectMgr.createParticle(0,0,"attack_buff2");var i=this.particleNode.getComponent(cc.ParticleSystem);i.positionType=cc.ParticleSystem.PositionType.RELATIVE,i.autoRemoveOnFinish=!0,this.particle=i,t.addChild(this.particleNode)},remove:function(){this.particle&&this.particle.getComponent(cc.ParticleSystem).stopSystem(),this.particle=null,this.particleNode=null}}),cc._RF.pop()},{}],AttackBuff:[function(t,e){"use strict";cc._RF.push(e,"611e0hemZNKcLciku9h9dSk","AttackBuff"),cc.Class({init:function(t,e){this.game=e;var i=this.game.effectMgr.createParticle(0,0,"attack_buff2"),a=i.getComponent(cc.ParticleSystem);a.autoRemoveOnFinish=!0,this.particle=a,this.particleNode=i,t.addChild(i)},remove:function(){this.particle&&this.particle.stopSystem(),this.particle=null,this.particleNode=null}}),cc._RF.pop()},{}],AttackUpSkill:[function(t,e){"use strict";cc._RF.push(e,"5465cnLFVdDvoGjeOXXXE8Q","AttackUpSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.widow_AttackUp);var t=this.obj,e=t.attribute;t.setNoSkills(!0),this.attackDmg=this.define.attackDmg||0,this.pentration=this.define.pentration||0,this.atkDmg=e.get("atkDmg"),e.set("atkDmg",this.attackDmg),e.add("thrChance",this.pentration),e.mutScale("atkDmg",this.define.ds||1),e.mutScale("atkSpd",this.define.as),this.critScale=this.define.critScale||0,e.add("critChance",this.critScale),this.critDmg=this.define.critDmg||0,e.add("critBonus",this.critDmg),e.mutScale("bltSpd",this.define.ass),this.define.ignoreSlow||e.mutScale("moveSpd",this.define.ms),this.define.crit&&e.add("critChance",this.define.crit),t.refreshAvatar(),t==this.game.hero&&this.game.controller&&(this.game.fastMode||this.createRedScreen()),this.define.stunTime&&(this.orgBuff=this.obj.config.blt.buff,this.obj.config.blt.buff={name:"AttackUpSkillStun",ctor:StunBuff,symbol:getUniqueSymbol(),t:this.define.stunTime,chance:this.define.stunChance}),t.setAutoAttack(!0),this.replaceBlt(),this.game&&this.game.hero==t&&this.game.controller&&(t.registOnKillCb(this),this.killHeroCt=0)},onKill:function(t){t.isHero&&this.killHeroCt++},replaceBlt:function(){this.backupBlt=this.obj.blt;var t=this.define.blt;for(var e in this.obj.blt=[kit.mergeObjs(t,this.obj.blt[0])],this.obj.attackSequence)this.obj.attackSequence[e].effect=Effect.fireLightWidow},restoreBlt:function(){for(var t in this.obj.blt=this.backupBlt,this.obj.attackSequence)this.obj.attackSequence[t].effect=null},createRedScreen:function(){var t=new cc.Node;this.game.addChild(t),this.redNode=t,(n=this.effectMgr.createSprite(0,0,"scan2")).opacity=0;var e=n.getContentSize(),i=VIEW_SIZE.width/e.width,a=VIEW_SIZE.height/e.height;n.setScale(i,a),n.x=VIEW_SIZE.width/2,n.y=VIEW_SIZE.height/2,t.addChild(n),n.runAction(cc.FadeTo(.5,255)),this.redScreen=n,this.scanX=0,e=(n=this.effectMgr.createSprite(0,0,"scan2")).getContentSize(),a=VIEW_SIZE.height/e.height,n.setScaleY(a),n.x=this.scanX-e.width/2,n.y=VIEW_SIZE.height/2,t.addChild(n),this.scan=n;var n=this.effectMgr.createSprite(0,0,"aim_left");t.addChild(n),n.x=VIEW_SIZE.width/2,n.y=VIEW_SIZE.height/2,this.aimRed=n,n.opacity=0;var s=cc.moveBy(.2,-VIEW_SIZE.width/4,0).easing(cc.easeIn(1)),o=cc.fadeIn(.2),r=cc.callFunc(function(){n.ready=!0}),c=cc.sequence(cc.spawn(o,s),cc.delayTime(.15),r);n.runAction(c),n=this.effectMgr.createSprite(0,0,"aim_right"),t.addChild(n),n.x=VIEW_SIZE.width/2,n.y=VIEW_SIZE.height/2,this.aimRed=n,n.opacity=0,s=cc.moveBy(.2,VIEW_SIZE.width/4,0).easing(cc.easeIn(1)),o=cc.fadeIn(.2),r=cc.callFunc(function(){n.ready=!0}),c=cc.sequence(cc.spawn(o,s),cc.delayTime(.15),r),n.runAction(c)},excute:function(t){kit.timer(this,"sound",.5,t)&&this.game.effectMgr.play(SoundEffectPath.widow_AttackUp2);var e=this.obj,i=e.team;if(e.bltCt=e.attribute.get("bltMaxCt"),this.redNode&&this.scan&&!this.game.fastMode){this.aimRed.ready&&(this.scanX+=40),this.scan.x=this.scanX-this.scan.getContentSize().width/2;var a=g_sharedContactManager.contactList;for(var n in a){var s=a[n];s.isSensor||s.canNotHurt||s.isDead||!s._isActiveContact||s.team==i||!s.setShader||s.infrared||s.convertToWorldSpace(cc.v2(0,0)).x<this.scanX&&(s.pushShader("infrared"),s.infrared=!0)}}},end:function(){this._super();var t=(a=this.obj).attribute;if(a.setAutoAttack(!1),a.setNoSkills(!1),t.set("atkDmg",this.atkDmg),t.add("thrChance",-this.pentration),t.mutScale("atkDmg",1/this.define.ds),t.mutScale("atkSpd",1/this.define.as),t.add("critChance",-this.critScale),t.add("critBonus",-this.critDmg),t.mutScale("bltSpd",1/this.define.ass),this.define.ignoreSlow||t.mutScale("moveSpd",1/this.define.ms),this.define.crit&&t.add("critChance",-this.define.crit),a.refreshAvatar(),this.redNode&&!this.game.fastMode){this.redNode.destroy();var e=g_sharedContactManager.contactList;for(var i in e){var a;(a=e[i]).infrared&&a.setShader&&(a.popShader("infrared"),a.infrared=!1)}}this.define.stunTime&&(this.obj.config.blt.buff=this.orgBuff),this.restoreBlt(),this.game&&this.game.hero==a&&this.game.controller&&a.unregistOnHitCb(this)}}),cc._RF.pop()},{Skill:"Skill"}],AttributeBuff:[function(t,e){"use strict";cc._RF.push(e,"3ef3eKFX6hI970kej6clzv4","AttributeBuff"),cc.Class({extends:t("Buff"),begin:function(){var t=this.obj.attribute,e=this.define.add,i=this.define.mutScale,a=this.define.addScale,n=this.stack||1;if(e)for(var s=0;s<e.length;s++)t.add(e[s][0],e[s][1]*n),cc.log("AttributeBuff critchance",t.get("critChance"));if(i)for(s=0;s<i.length;s++)t.mutScale(i[s][0],i[s][1]*n);if(a)for(s=0;s<a.length;s++)t.addScale(a[s][0],a[s][1]*n)},end:function(){var t=this.obj.attribute,e=this.define.add,i=this.define.mutScale,a=this.define.addScale,n=this.stack||1;if(e)for(var s=0;s<e.length;s++)t.add(e[s][0],-e[s][1]*n);if(i)for(s=0;s<i.length;s++)t.mutScale(i[s][0],1/i[s][1]*n);if(a)for(s=0;s<a.length;s++)t.addScale(a[s][0],-a[s][1]*n)}}),cc._RF.pop()},{Buff:"Buff"}],Attribute:[function(require,module,exports){"use strict";cc._RF.push(module,"3f6b152eTNF+67ldDsEv37/","Attribute");var Attribute=cc.Class({ctor:function(){this.table={}},init:function(t,e,i,a,n){this.table[t]={max:i||999999,min:a||0,v0:e||0,v1:0,s_add:1,s_mut:1,cb:n,cover:0,coverCt:0},this.update(t)},add:function(t,e){if(this.table[t])return this.table[t].v1+=e,this.update(t),!0},addScale:function(t,e){if(this.table[t])return this.table[t].s_add+=e,this.update(t),!0;alert(e)},mutScale:function(t,e){if(this.table[t])return this.table[t].s_mut*=e,this.update(t),!0},set:function(t,e){this.table[t].v0=e,this.update(t)},cover:function(t,e){var i=this.table[t];void 0!==e?(i.cover=e,i.coverCt++):i.coverCt--,this.update(t)},update:function(t){var e,i=this.table[t];(e=i.coverCt>0?i.cover:(i.v0+i.v1)*i.s_add*i.s_mut)>i.max?i.v=i.max:e<i.min?i.v=i.min:i.v=e,i.cb&&i.cb(i.v)},get:function(t){return this.table[t]&&this.table[t].v},dump:function(){},getK:function(t,e){return this.table[t][e]}});Attribute.translate={hp:function(t,e){t.attribute.hp=e},crit:function(t,e){t.attribute.crit=e},moveSpeed:function(t,e,i){var a=t.attribute.moveSpeedBase||i.speed;t.attribute.speed=a+e},shield:function(t,e){t.attribute.ep=e},blowMinRange:function(t,e,i){t.blt||(t.blt=kit.clone(i.blt)),t.blt[0].minradius+=e},blowMaxRange:function(t,e,i){t.blt||(t.blt=kit.clone(i.blt)),t.blt[0].hurtradius+=e},bulletSpeed:function(t,e){t.attribute.bulletSpeedScale=1+e},pentration:function(t,e,i){t.blt||(t.blt=kit.clone(i.blt)),t.blt[0].alwayThrough+=e},shieldRegen:function(t,e){t.attribute.epRecoverScale=e},attackRange:function(t,e,i){t.blt||(t.blt=kit.clone(i.blt)),t.blt[0].l=e},blt:function blt(config,value,define){config.blt||(config.blt=kit.clone(define.blt)),eval("value="+value),config.blt[0]=kit.mergeObjs(value,config.blt[0])},bonusAttackRangeForWinston:function(t,e,i){t.blt||(t.blt=kit.clone(i.blt)),t.blt[0].radius+=e},attackSpeedScale:function(t,e){t.attribute.attackSpeedScale=e},seekAr0:function(t,e){t.seek.ar0=e},seekAr1:function(t,e){t.seek.ar1=e},seekSr:function(t,e){t.seek.sr=e},mob1:function mob1(config,value,define,num){num=num||1,config.mobs=[],eval("value="+value),config.mobs.push(value);var nextMob=config.attribute["mob"+(num+1)];nextMob&&Attribute.translate.mob1(config,nextMob,define,num+1)},stunChance1:function(t,e){t.blt||(t.blt=kit.clone(define.blt)),t.blt.buff||(t.blt.buff=kit.clone(BuffDefine.Stun)),t.blt.buff.chance=e,t.blt.buff.t=1},stunChance2:function(t,e){t.blt||(t.blt=kit.clone(define.blt)),t.blt.buff||(t.blt.buff=kit.clone(BuffDefine.Stun)),t.blt.buff.chance=e,t.blt.buff.t=2},stunChance3:function(t,e){t.blt||(t.blt=kit.clone(define.blt)),t.blt.buff||(t.blt.buff=kit.clone(BuffDefine.Stun)),t.blt.buff.chance=e,t.blt.buff.t=3}},Attribute.mergeStatConfig=function(t,e){return e?(t.skillAdd=kit.addObjs(t.skillAdd,e.skillAdd),t.skillMul=kit.mulObjs(t.skillMul,e.skillMul),t.attribute=kit.addObjs(t.attribute,e.attribute),t.buff=kit.mergeObjs(t.buff,e.buff),t.bltToConvert=e.bltToConvert,t):t},Attribute.translateStatConfig=function(t,e){var i=t.attribute;if(!i)return t;for(var a in i)Attribute.translate[a]?Attribute.translate[a](t,i[a],e):t.attribute[a]=i[a];return t},module.exports=Attribute,cc._RF.pop()},{}],AutoBltBuff:[function(t,e){"use strict";cc._RF.push(e,"5673b1sJFBBAIpPJJzN7lPr","AutoBltBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super();var t=this.obj;this.dt=this.define.dt,this.timer=this.define.timer||this.dt,this.triggerType=this.define.triggerType,this.triggerType&&((this.triggerType="onAttack")?t.registOnAttackCb(this):t.registCb(this,this.triggerType)),this.dmg=this.define.dmg||0,this.config.obj&&this.define.dmgScaleRate?this.dmgScaleWithAttack=this.config.obj.getStandardAtk()*this.define.dmgScaleRate:this.dmgScaleWithAttack=0,this.dmg+=this.dmgScaleWithAttack,this.attackSequence=this.define.seq,this.blt=this.define.blt,this.define.hurtradius&&(this.blt=kit.clone(this.define.blt),this.blt.hurtradius=this.define.hurtradius)},onReload:function(){this.callAttack()},callAttack:function(){if(!this.isAttack){if(this.attackSequence){this.isAttack=!0,this.attackIndex=0,this.attackTimer=this.attackSequence[0].t;var t=this.obj.target,e=t&&kit.radian2Degree(kit.vector2Radian(t.y0-this.obj.y0,t.x0-this.obj.x0))||this.obj.deg;this.attackDeg=e}else this.attack(),this.moreAttack=this.define.moreAttack||0,this.stack&&(this.moreAttack+=this.stack-1);this.moreAttack=this.define.moreAttack||0,this.stack&&(this.moreAttack+=this.stack-1)}},onAttack:function(){this.timer<=0&&(this.timer=this.dt,this.callAttack())},excute:function(t){this.timer-=t,this.attackSequence&&this.isAttack&&(this.attackTimer-=t,this.attackTimer<=0&&(this.attack(this.attackSequence[this.attackIndex],{deg0:this.attackDeg}),this.attackIndex++,this.attackIndex>=this.attackSequence.length&&(this.attackIndex=0,this.isAttack=!1),this.attackTimer=this.attackSequence[this.attackIndex].t)),this.triggerType||this.timer<=0&&(this.timer=this.dt,this.callAttack()),this.moreAttack&&kit.timer(this,"moreAttack",.05,t)&&(this.moreAttack--,this.attack())},attack:function(t,e){var i,a,n=this.blt;if(n.grenade&&(a=this.obj.target)){var s=a.x0,o=a.y0;if(this.define.rndR){var r=Math.random()*Math.PI*2;s+=this.define.rndR*Math.sin(r),o+=this.define.rndR*Math.cos(r)}i=kit.norm(s-this.obj.x0,o-this.obj.y0)}if(!n.grenade||a){var c=a&&kit.radian2Degree(kit.vector2Radian(o-this.obj.y0,s-this.obj.x0))||this.obj.deg;if(e&&e.deg0&&(c=e.deg0),t&&t.deg&&(c+=t.deg),n.ghostFire&&this.obj.ghostFireCt>=3)return;var h=this.obj.x,d=this.obj.y;if(this.define.firePos){var l=this.obj.getFirePos();h=l.x,d=l.y}console.log("auto missle obj pos",h+","+d),n.grenade||(this.define.dx&&(h+=this.define.dx),this.define.dy&&(d+=this.define.dy)),Ammofactory(this.obj,this.blt,{l:i,x:h,y:d,obj:this.obj,te:this.obj.team,deg:c,dmg:this.dmg},this.game),this.game.effectMgr.play(this.blt.attackSound)}},end:function(){this._super(),this.triggerType&&((this.triggerType="onAttack")?this.obj.unregistOnAttackCb(this):this.obj.unregistCb(this,this.triggerType))}}),cc._RF.pop()},{Buff:"Buff"}],AutoBuffBuff:[function(t,e){"use strict";cc._RF.push(e,"53405mV4mRLkJ35C1aNfn9I","AutoBuffBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super();var t=this.obj;this.dt=this.define.dt,this.timer=this.dt,this.triggerType=this.define.triggerType,this.triggerType&&t.registCb(this,this.triggerType)},onReload:function(){this.buff()},excute:function(t){this.triggerType||(this.timer-=t,this.timer<=0&&(this.timer=this.dt,this.buff()))},buff:function(){var t=this.define.spawnBuff,e={t:this.define.buffTime};this.define.attrIndex&&(e.addScale=[[this.define.attrIndex,this.define.attrNum]]),this.obj.setBuffById(t,e)},end:function(){this._super(),this.triggerType&&this.obj.unregistCb(this,this.triggerType)}}),cc._RF.pop()},{Buff:"Buff"}],Avatar:[function(t,e){"use strict";cc._RF.push(e,"7e884LdI8FDQ6dji6Bo2LNi","Avatar"),cc.Class({extends:cc.Component,init:function(t,e,i){this.game&&this.game.bindScheduler(this.node),this.define=t,this.config=e,this.obj=e.obj,this.obj.shaderFunc&&(this.shaderFunc=this.obj.shaderFunc),this.game=i,this.effectMgr=this.game.effectMgr,this.moveSpd=0,this.atkSpd=1,this.initAnimeName(),this.initAnime(),this.initShader()},initShader:function(){this.shaderStack=[],this.initDefaultShader()},initDefaultShader:function(){var t=this.define,e=this.obj.config.shader||t.shader;e&&(this.defaultShader=e,this.setShader(e))},cloneShader:function(t){if(this.shaderStack=t.shaderStack,this.shaderName!=t.shaderName)return this.setShader(t.shaderName)},clearShader:function(){this.shaderStack=[];var t=this.defaultShader;if(this.shaderName!=t)return this.setShader(t)},pushShader:function(t){if(this.shaderStack.push(t),this.shaderName!=t)return cc.log(this.define.anime+":pushShader->"+t),this.setShader(t),!0},popShader:function(t){for(var e=this.shaderStack.length-1;e>=0;e--)if(this.shaderStack[e]==t){this.shaderStack.splice(e,1);break}if(t=this.shaderStack.length>0?this.shaderStack[this.shaderStack.length-1]:this.defaultShader,this.shaderName!=t)return this.setShader(t),!0},updateShader:function(){if(this.shaderStack.length>0)var t=this.shaderStack[this.shaderStack.length-1];else t=this.defaultShader;this.shaderName!=t&&this.setShader(t)},setShader:function(t){this.shaderName=t,cc.log("setShader",this.shaderName),this.loadShader()},getShaderName:function(){return this.shaderName},loadShader:function(){var t;if(t=this.shaderName?this.shaderName:"normal",this.rtEabled);else{var e=this.game.effectMgr;this.display&&e.bindShader(this.display,t),this.base&&e.bindShader(this.base.sprite,t)}},hitFlash:function(){this.hitFlash2()},deadDissolve:function(){if(this.game,!(this.u_gray_d>0)){var t;this.u_gray_d=.4,this.pushShader("dissolve"),this.fixHitFlashMat4();var e=this,i=function i(a){e.display&&(e.u_gray_d+=1*a,e.u_gray_d>1?(e.u_gray_d=1,t.setProperty("u_gray",e.u_gray_d),e.unschedule(i)):(t=e.display.getMaterial(0)).setProperty("u_gray",e.u_gray_d))};this.schedule(i),this.flashFunc&&(this.popShader(this.hitFlashName),this.unschedule(this.flashFunc),this.flashFunc=null),i(0)}},fixHitFlashMat4:function(){var t=this.shaderName,e=this.defaultShader;if(t!=e){var i=this.display;if(i){var a=SHADER_DEFINE[e];a&&a.value&&a.value.u_mat4&&i.getMaterial(0).setProperty("u_mat4",a.value.u_mat4)}}},hitFlash2:function(t){var e=this;return void 0===t&&(t=2),function(t){if(t=t,e.game,e.u_gray>0)e.u_gray=1;else{if(e.u_gray=1,1==t)var i="hitFlash";else 2==t&&(i="hitFlashArmature");var a;e.hitFlashName=i,e.pushShader(i),e.fixHitFlashMat4();var n=e,s=function t(e){n.display&&(n.u_gray<0?(n.u_gray=0,a.setProperty("u_gray",n.u_gray),n.unschedule(t),n.flashFunc=null,n.popShader(i)):(a=n.display.getMaterial(0)).setProperty("u_gray",n.u_gray),n.u_gray-=10*e)};e.flashFunc=s,s(0),e.schedule(s)}}(t)},setForcedAnime:function(t,e,i){this.forcedAnimeName=t,this.forcedAnimeSpd=e,this.forcedAnimeLoop=i},setForcedAnimeSpd:function(t){this.forcedAnimeSpd=t},callMoveAnime:function(t){this.isMove=t},setMoveSpeed:function(t){this.moveSpd=t},setAttackSpeed:function(t){this.atkSpd=t},callDeadAnime:function(t){this.isDead=t},setAttackAnimeName:function(t){this.attackAnimeName=t||"attack"},setWalkAnimeName:function(t){this.walkAnimeName=t||"walk"},setRunAnimeName:function(t){this.runAnimeName=t||"run"},setStandAnimeName:function(t){this.standAnimeName=t||"stand"},setAimAnimeName:function(t){this.aimAnimeName=t||this.standAnimeName},initAnimeName:function(){this.setAttackAnimeName(this.define.attackAnime),this.setWalkAnimeName(this.define.walkAnime),this.setStandAnimeName(this.define.standAnime),this.setAimAnimeName(this.define.aimAnime)},initAnime:function(){var t=this,e=this,i=this.game.effectMgr.createArmature(this.define.anime||"xingshi",function(i,a){e.display=a;var n=e.display.armature();e.animation=n.animation,"nanzhu"==t.define.anime?e.animation.play("Pistol_stand",.1):e.animation.play("stand",.1),e.loadShader(),a.addEventListener(dragonBones.EventObject.COMPLETE,e.onAnimeEvent,e),e.initSkin()});this.node.addChild(i,0),e.aniNode=i},onLoad:function(){},setDisplayByName:function(t,e){var i;(i=this.display.armature().getSlot(t))&&i.setDisplayByName(e)},onAnimeEvent:function(t){t.type==dragonBones.EventObject.COMPLETE&&(this.animTimeAction||(this.aniName=null),this.animCfg&&!this.animTimeAction?this.endAnim():this.refresh())},callAttack:function(t,e,i){if(this.nextAttackAnim="aim"==t?this.aimAnimeName:"no"!=t&&(t||this.attackAnimeName),this.nextAttackAnim)if(i){var a=this.obj.attribute.get("atkSpd");this.playAnim({speed:a,anim:this.nextAttackAnim,loop:e||0}),this.nextAttackAnim=!1}else this.nextAttackAnimPlayTimes=e?-1:1,this.refresh()},update:function(t){if(t.needRefresh){var e=t.obj,i=e.attribute,a=t.forcedRefresh;if(t.forcedAnimeName)t.setAnime(this.forcedAnimeName,t.forcedAnimeSpd,a);else if(e.isDead)this.setAnime("behit",.01,!0,1);else if(e.isAttack){var n=i.get("atkSpd");this.nextAttackAnim&&this.setAnime(this.nextAttackAnim,this.forcedAnimeSpd||n,!0,this.nextAttackAnimPlayTimes),this.nextAttackAnim=!1}else if(this.toHurt||"behit"==this.animName)this.toHurt&&(this.toHurt=!1,this.setAnime("behit",this.forcedAnimeSpd,!0,1));else if(e.isMove||e.isSeeking&&!e.isReload){var s=e.spd/250*i.get("moveSpd");t.setAnime(t.walkAnimeName,t.forcedAnimeSpd||s,a)}else t.setAnime(t.standAnimeName,t.forcedAnimeSpd,a);t.needRefresh=!1,t.forcedRefresh=!1}},setAnime:function(t,e,i,a){var n=this.getArmature();if(n){var s=n.animation;if(i||this.aniName!=t){this.aniName=t;var o=s.play(t,a||this.forcedAnimeLoop||-1);this.state=o}this.state&&(this.state.timeScale=e||1)}},refresh:function(t){this.needRefresh=!0,this.forcedRefresh=t},initSkin:function(){var t=this.define.skin;if(t)for(var e in t)this.setDisplayByName(e,t[e])},endAnim:function(){this.animCfg&&this.animCfg.func&&this.animCfg.func(),this.animTimeAction=null,this.playAnim()},playAnim:function(t){if(!t)return this.setForcedAnime(null),this.refresh(),void(this.animCfg=null);var e=this.define[t.anim]||t.anim;this.setForcedAnime(e,t.speed,0==t.loop?1:-1),this.refresh(!0),this.animTimeAction&&this.node.stopAction(this.animTimeAction),t.time?this.animTimeAction=this.node.runAction(cc.sequence(cc.delayTime(t.time),cc.callFunc(this.endAnim,this))):0==t.loop||(this.animTimeAction=null),this.animCfg=t},getArmature:function(){if(this.display)return this.display.armature()}}),cc._RF.pop()},{}],BastionHero:[function(t,e){"use strict";cc._RF.push(e,"79d8dkv7khI04t/Y1H5/2Gx","BastionHero");var i=cc.Class({extends:t("Hero"),init:function(){this._super.apply(this,arguments),this.angle=0,this.movDeg=0,this.atkRad=kit.degree2Radian(this.deg),this.avatar.lowerArmature.angle=-this.deg},updateRotate:function(t){var e=this.rttSpd,i=this.moveRad,a=this.isSeeking||this.isForcedSeeking>0;if(0==this.noSeek){if(a){this.seekCD-=t,this.isAutoTarget&&this.seekCD<0&&this.seekTarget();var n=this.target;if(n){var s=this.x,o=this.y,r=n.x0-s,c=n.y0-o;n.isDead||n.isRemoved||r*r+c*c>this.aimRange*this.aimRange?this.seekTarget():(i=kit.vector2Radian(c,r),this.aimOffsetX&&(i-=kit.vector2Radian(kit.norm(c,r),this.aimOffsetX)),this.atkRad=i,this.atkRadTimer=null)}}this.atkRadTimer&&(this.atkRadTimer-=t,this.atkRadTimer<=0&&(this.atkRadTimer=null,this.atkRad=null)),this.atkRad&&(i=this.atkRad)}this.target||this.isAttack||(this.atkRad=this.moveRad);var h=kit.radian2Degree(i),d=this.updateAttackRotate(t,h,10,e);this.updateMoveRotate(t,this.moveRad&&kit.radian2Degree(this.moveRad),10,e),a&&(this.alwaysAttack||Math.abs(d)<this.aimMaxDegree||!n)&&!this.isAttack&&0==this.noAttack&&this.callAttack(),this.aura.angle=-kit.radian2Degree(this.moveRad)},setTotalRotation:function(t){this.deg=t,this.avatar.upperArmature.angle=-this.deg,this.movDeg=t,this.avatar.lowerArmature.angle=-t},updateMoveRotate:function(t,e,i,a){if(a*=this.rttSpdMaxScale,this.isStun||this.noRotate>0)return 0;var n,s=this.movDeg;return(n=e-s)>180?n-=360:n<-180&&(n+=360),(n=n*i*t)>a?n=a:n<-a&&(n=-a),s=(s+n+360)%360,this.movDeg=s,this.avatar.lowerArmature.angle=-s,n},updateAttackRotate:function(t,e,i,a){if(a*=this.rttSpdMaxScale,this.isStun||this.noRotate>0)return 0;var n,s=this.deg;return(n=e-s)>180?n-=360:n<-180&&(n+=360),(n=n*i*t)>a?n=a:n<-a&&(n=-a),s=(s+n+360)%360,this.deg=s,this.avatar.upperArmature.angle=-this.deg,n},deathExplosion:function(){Effect.ExplosiveWithFire(this,null,5)}});e.exports=i,cc._RF.pop()},{Hero:"Hero"}],BatterySkill:[function(t,e){"use strict";cc._RF.push(e,"b020drj3k1P0rCPjjeJPyQR","BatterySkill"),cc.Class({extends:t("Skill"),init:function(t,e,i){this._super(t,e,i)},cast:function(){if(this._super())return!0;this.buildT=this.define.buildT,this.existT=this.define.existT,this.turretID=this.define.turretID,this.r=this.define.r,this.reHp=this.define.reHp,this.dt=this.define.dt,this.atkDt=this.define.atkDt,this.idleTimer=0,this.counter=0,this.noExcute=!1,this.hp=this.define.hp,this.dmg=this.define.dmg,this.spd=this.define.spd,this.l=this.define.l,this.selfArmor=this.define.selfArmor;var t=this.obj,e=t.attribute,i=kit.degree2Radian(t.deg);if(this.tD=kit.clone(ENTITYS[this.turretID]),this.tC={x:t.x+60*Math.sin(i),y:t.y+60*Math.cos(i),te:t.team,deg:t.deg,stat:{hp:this.hp,attack:this.dmg}},this.tD.blt[0].spd=this.spd,this.tD.blt[0].l=this.l,this.define.stunTime&&(this.tD.blt[0].buff||(this.tD.blt[0].buff=[]),this.tD.blt[0].buff.push({name:"BatterySkillStun",ctor:StunBuff,symbol:getUniqueSymbol(),t:this.define.stunTime,chance:this.define.stunChance})),t.setNoMove(!0),t.setNoRotate(!0),t.setNoAttack(!0),t.setNoSkills(!0),t.setForcedAnime("skill",2/this.buildT),t.refreshAvatar(),this.addArmor=e.get("armorLevel")*this.selfArmor,this.addT=this.define.addT||0,this.addT){var a=g_sharedContactManager.contactList;for(var n in a){var s=a[n];s.isTurret&&!s.isDead&&s.team==t.team&&(s._timeCounter-=this.addT,s._timeCounter<0&&(s._timeCounter=0))}}i=kit.degree2Radian(this.obj.deg);var o=kit.degree2Radian(0);this.showWorkingBase(t.x+60*Math.sin(i+o),t.y+60*Math.cos(i+o)),kit.initTimer(this,"building",this.buildT/2*.4)},repairEffect:function(t,e){var i=this.game.effectMgr.createParticle(t,e,"repair"),a=i.getComponent(cc.ParticleSystem);a.positionType=cc.ParticleSystem.PositionType.RELATIVE,a.autoRemoveOnFinish=!0,a.duration=.1,this.game.camera.addChild(i,1e7),this.game.effectMgr.play(SoundEffectPath.torbjorn_Battery)},showWorkingBase:function(t,e){var i=this.tD,a=this.tD.avatar.base,n=this.effectMgr.createSprite(0,0,a);this.game&&this.game.bindScheduler(n),n.scale=.4*(i.scale||1),n.angle=-this.obj.deg,n.x=t,n.y=e,this.game.camera.addChild(n,1),n.runAction(cc.sequence(cc.delayTime(this.buildT+.2),cc.destroySelf()))},excute:function(t){var e=(i=this.obj).attribute;if(!this.game.fastMode&&kit.timer(this,"building",this.buildT/2*.65,t)&&this.counter<this.buildT){var i=this.obj,a=kit.degree2Radian(this.obj.deg),n=kit.degree2Radian(0);this.repairEffect(i.x+60*Math.sin(a+n),i.y+60*Math.cos(a+n))}if(this.idleTimer+=t,this.idleTimer>this.dt){this.idleTimer=0;var s=i.x,o=i.y,r=this.r,c=g_sharedContactManager.contactList;for(var h in c){var d=c[h];if(d.isTurret&&!d.isDead&&d.team==i.team){var l=d.x-s,u=d.y-o;l*l+u*u<=r*r&&d.heal(this.reHp)}}}if(this.counter+=t,!(this.counter<this.buildT||this.noExcute)){this.noExcute=!0,i.setNoMove(!1),i.setNoRotate(!1),i.setNoAttack(!1),i.setNoSkills(!1),i.setForcedAnime(null),i.refreshAvatar();var f=this.addArmor;e.add("armorLevel",f);var m=new this.tD.ctor(this.tD,this.tC);m._removeTurret={},m._removeTurret.unit=m,m._existT=this.existT,m._timeCounter=0,m._removeTurret.updateLogic=function(t){this.unit._timeCounter+=t,this.unit._timeCounter>this.unit._existT&&(this.unit.isDead||this.unit.death(),this.game.removeUpdate(this))},this.game.addUpdate(m._removeTurret)}},end:function(){if(this._super(),!this.noExcute){var t=this.obj;t.setNoMove(!1),t.setNoRotate(!1),t.setNoAttack(!1),t.setNoSkills(!1),t.setForcedAnime(null),t.refreshAvatar()}this.obj.attribute.add("armorLevel",-this.addArmor)}}),cc._RF.pop()},{Skill:"Skill"}],BigDragonAI:[function(t,e){"use strict";cc._RF.push(e,"7b91eGO7IhC6LFjrM5Kr5N9","BigDragonAI");var i=cc.Class({extends:t("HydraliskAI")});e.exports=i,cc._RF.pop()},{HydraliskAI:"HydraliskAI"}],BleedBuff:[function(t,e){"use strict";cc._RF.push(e,"e5abe2YeIdFv7dKPUZFvehU","BleedBuff"),cc.Class({extends:t("Buff"),begin:function(){this.dmg=this.define.dmg||0,this.dmgPerTick=this.dmg/(this.define.t-1),this.bleedBuffSymbol=getUniqueSymbol()},cover:function(t){this.dmg+=t.dmg,this.dmgPerTick=this.dmg/(this.define.t-1)},excute:function(t){kit.timer(this.obj,"rendbuff",1,t)&&this.dmg>0&&(this.obj.simpleHurt(this.dmgPerTick),this.dmg-=this.dmgPerTick)},end:function(){}}),cc._RF.pop()},{Buff:"Buff"}],BlinkIllusionSkill:[function(t,e){"use strict";cc._RF.push(e,"f1794XyGk5I/a8Zwdnh3bRV","BlinkIllusionSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.reaper_ShadowImage);var t=this.obj,e=t.x,i=t.y,a=t.deg,n=kit.degree2Radian(a),s=(Math.sin(n),Math.cos(n),kit.clone(t.define.blt[0]));s.dmg=this.define.dmg,this.left=new TracerImage(t.define,{x:e,y:i,deg:t.deg,blt:s,te:t.team,z:1e5});var o=new BlinkSkill(this.define,this.config);o.ready(),o.start(),kit.initTimer(this,"blink")},end:function(){this._super(),this.left&&this.left.blinkTo(this.obj,!0,this.obj)},excute:function(t){if(kit.timer(this,"blink",.7,t)&&this.left){var e,i=this.getTargetInfo(),a=i&&i.pos;a||(a=this.obj.getPosition(),e=!0),this.left.blinkTo(a,e,this.obj),e&&(this.left=null)}},getTargetInfo:function(){var t=g_sharedContactManager.contactList;for(var e in t){var i=t[e];if(!i.isSensor&&i._isActiveContact&&!i.isDead&&this.obj.team!=i.team)return{target:i,pos:cc.v2(i.x-200+400*Math.random(),i.y-200+400*Math.random())}}}}),cc._RF.pop()},{Skill:"Skill"}],BlinkSkill:[function(t,e){"use strict";cc._RF.push(e,"55ff8YetERAm7m4H+7aqSG9","BlinkSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.tracer_Blink);var t=this.obj;this.blt=this.define.blt,this.target={},this.deg=this.obj.deg;var e=this.define.d||200;this.d=e,this.fireCt=this.define.ct||0,this.fireDt=this.define.dt||.15,this.x=this.obj.x,this.y=this.obj.y,this.game.fastMode||this.effect();var i=t.x+e*Math.sin(t.moveRad),a=t.y+e*Math.cos(t.moveRad);t.x0=i,t.y0=a,t.x=i,t.y=a,this.game.fastMode||this.flashEffectIn(),this.firstBulletLatency=this.define.firstBulletLatency||this.fireDt,this.effectDuration=.61,this.effectTimer=this.effectDuration,kit.initTimer(this,"fire",this.firstBulletLatency-this.fireDt)},effect:function(){this.obj.pushShader("tracer_blink");var t=new cc.MotionStreak(3.8,3,50,cc.color(255,255,255),"1");this.game.camera.addChild(t,this.obj.getLocalZOrder()-1),t.setPosition(this.obj.getPosition()),this.streak=t},flashEffectIn:function(t,e){var i=this.effectMgr.createSprite(0,0,"effect/tracer/light2");i.scale=0,this.obj.addChild(i);var a=cc.Sequence(cc.Spawn(cc.ScaleTo(.2,5),cc.FadeOut(.4)),cc.CallFunc(function(){i.destroy()}));i.runAction(a),t&&e&&(i.x=t,i.y=e)},checkEnemy:function(t){this.target[t.uniqueID]||(this.target[t.uniqueID]=t)},fire:function(t,e,i){if(!(this.fireCt<=0)){this.fireCt--;var a=this.obj,n=g_sharedContactManager.checkAliveEnemy(this,a.x0,a.y0,this.blt.l,a.team,this.checkEnemy);if(!n)for(var s in this.target)if(!this.target[s].isDead&&!this.target[s].isRemoved){n=this.target[s];break}var o=this.define.dmg||this.blt.dmg;return t=t||a.x,e=e||a.y,i=n&&kit.radian2Degree(kit.vector2Radian(n.y-e,n.x-t))||360*Math.random(),Ammofactory(a,this.blt,{x:t,y:e,obj:a,te:a.team,deg:i,dmg:o},this.game),this.game.effectMgr.play(SoundEffectPath.tracer_Blink_bullet),i}},blinkEffect:function(t,e,i){var a=this.effectMgr.createSprite(0,0,"effect/tracer/light");a.scale=1,a.opacity=0,a.angle=-i,a.x=t,a.y=e,this.game.camera.addChild(a);var n=cc.Sequence(cc.Spawn(cc.ScaleTo(.2,2,0),cc.FadeIn(.2)),cc.CallFunc(function(){a.destroy()}));a.runAction(n)},cancelEffect:function(){this.obj.popShader("tracer_blink")},end:function(){this._super(),this.cancelEffect(),this.game.fastMode||this.streak.destroy()},excute:function(t){if(kit.timer(this,"fire",this.fireDt,t,this.firstBulletLatency-this.fireDt)){var e=this.fire(this.x,this.y);this.game.fastMode||e&&this.blinkEffect(this.x,this.y,e)}if(!this.game.fastMode){this.effectTimer-=t;var i=this.effectDuration-.1;if(this.effectTimer>0){var a=this.obj,n=this.streak.getStroke(),s=(e=a.deg,kit.degree2Radian(e)),o=20*Math.sin(s),r=20*Math.cos(s);if(this.effectTimer<i&&n>0){var c=this.streak.opacity-7.5/i;c<=0&&(c=0),this.streak.opacity=c,this.streak.setPosition(this.obj.x+o,this.obj.y+r)}else if(this.streak){e=a.deg,s=kit.degree2Radian(e);var h=this.d/5*Math.sin(s),d=this.d/5*Math.cos(s);this.streak.setPosition(this.streak.x+=h,this.streak.y+=d)}"tracer_blink"==a.getShaderName()&&a.shaderState.setUniformFloat("k",this.effectTimer/this.effectDuration)}}}}),cc._RF.pop()},{Skill:"Skill"}],BlockGrenade:[function(t,e){"use strict";cc._RF.push(e,"efa6f6udalGd6hEchYc9RJJ","BlockGrenade");var i=t("Grenade");cc.Class({extends:t("Ammo"),remove:function(){this.isRemoved||(this._super(),g_sharedContactManager.removeBullet(this),this.bomb(),this.hit())},removeSprite:function(){this.sprite&&(this.sprite.runAction(cc.sequence(cc.destroySelf())),this.sprite=null)},move:function(t,e){this._super(t,e),g_sharedContactManager.addBullet(this);var i=this.sprite;i&&(i.setScale(this.define.sx||.2,this.define.sy||.2),i.runAction(cc.scaleTo(this.define.st||.1,this.define.sx1||1,this.define.sy1||1)))},bomb:i.prototype.bomb,hit:function(){if(!this.isHit){this.isHit=!0;var t=this.config.callback||this.define.callback;t&&t(this.x,this.y,this),this.remove()}},hitWall:function(){this.isRemoved=!0,this.hit(),this.removeSprite(),this.game.removeUpdate(this),g_sharedContactManager.removeBullet(this)},initSprite:function(){this._super();var t=this.define;t.bltEff&&t.bltEff(this.sprite)}}),cc._RF.pop()},{Ammo:"Ammo",Grenade:"Grenade"}],BlowUPSkill:[function(t,e){"use strict";cc._RF.push(e,"0839cMrIQROVIBJdlI92Jlz","BlowUPSkill");var i=t("Timer");cc.Class({extends:t("Skill"),start:function(){return this.prepare(),Skill.isAim},stop:function(t){if(t)return this.cast()?Skill.no:Skill.yes},aim:function(t){if(this.aimTimer||(this.aimTimer=1),this.aimTimer-=t,this.aimTimer<0){this.aimTimer=1;var e=this.obj;(e.isAutoTarget||!e.target||e.target.isDead||e.target)&&e.seekTarget();var i=e.target;i?(this.aimTarget=i,this.aimSp||(this.aimSp=this.effectMgr.createSprite(0,0,"effect/focus/effect_focus"),this.game.camera.addChild(this.aimSp,1e5))):(this.aimTarget=null,this.removeAimSp())}this.aimTarget&&this.aimSp&&this.aimSp.setPosition(this.aimTarget.x0,this.aimTarget.y0)},removeAimSp:function(){this.aimSp&&(this.aimSp.destroy(),this.aimSp=null)},getBltPosition:function(){var t=this.obj,e=t.x0,i=t.y0,a=t.deg,n=kit.degree2Radian(a),s=Math.sin(n),o=Math.cos(n),r=e+o*dx+s*dy,c=i-s*dx+o*dy;return cc.v2(r,c)},cast:function(){if(this._super())return!0;var t=this.define,e=this.obj;e.stopAttack(),e.setNoAttack(!0),this.stopAttackTimer=!1,this.attackTimer=.6,this.firstExcute=!1;var a=kit.clone(this.define.blt);t.damage&&(a.dmg=this.define.damage),t.minradius&&(a.minradius=this.define.minradius),t.hurtradius&&(a.hurtradius=this.define.hurtradius);var n=a.x||0,s=a.y||0;if(a.buff||(a.buff=[]),t.stunTime&&a.buff.push({name:"TracerBlowUpStun",ctor:StunBuff,symbol:getUniqueSymbol(),t:t.stunTime,chance:this.define.stunChance}),t.slowTime){var o=kit.clone(BuffDefine.SlowBuff);o.t=t.slowTime,o.mutScale[0][1]=t.slow,a.buff.push(o)}var r=e.x0,c=e.y0,h=e.deg,d=kit.degree2Radian(h),l=Math.sin(d),u=Math.cos(d),f=r+u*n+l*s,m=c-l*n+u*s;!e.isAutoTarget&&e.target&&!e.target.isDead&&e.target||e.seekTarget(),this.removeAimSp();var p=this.aimTarget||e.target;if(p){r=e.x,c=e.y;var g=p.x0,v=p.y0,b=.5*VIEW_SIZE.width+50+p.radius,k=.5*VIEW_SIZE.height+50+p.radius;if(p.isDead||p.isRemoved||!e.isAIEnabled&&Math.abs(g-r)>b||Math.abs(v-c)>k){if(Ammofactory(e,a,{obj:e,x:f,y:m,te:e.team},this.game),t.bonusNum)for(var y=1;y<=t.bonusNum;y++)Ammofactory(e,a,{obj:e,x:f-150+300*Math.random(),y:m-150+300*Math.random(),te:e.team},this.game)}else{d=kit.vector2Radian(v-c,g-r),e.setNoRotate(!0),h=kit.radian2Degree(d);var S=e.deg-h,_=function(){e.setNoRotate(!1)},x={timer:0,updateLogic:function(n){if(!e.isDead)if(this.timer+=n,this.timer<.1)e.angle=-(h-S*(.1-this.timer)/.1);else{if(e.angle=-h,e.deg=h,Ammofactory(e,a,{obj:e,x:f,y:m,te:e.team},this.game),t.bonusNum)for(var s=1;s<=t.bonusNum;s++)Ammofactory(e,a,{obj:e,x:f-150+300*Math.random(),y:m-150+300*Math.random(),te:e.team},this.game);this.game.removeUpdate(this),(new i).init(.2,_,null,this.game)}}};this.game.addUpdate(x)}}else for(this.blt=Ammofactory(e,a,{obj:e,x:f,y:m,te:e.team},this.game),y=1;y<=t.bonusNum;y++)Ammofactory(e,a,{obj:e,x:f-150+300*Math.random(),y:m-150+300*Math.random(),te:e.team},this.game)},excute:function(t){if(this.firstExcute||(this.firstExcute=!0,this.effectMgr.play(SoundEffectPath.tracer_BlowUP),this.effectMgr.play(SoundEffectPath.tracer_BlowUP2)),this.attackTimer-=t,this.attackTimer<0&&!this.stopAttackTimer&&(this.stopAttackTimer=!0,this.obj.setNoAttack(!1)),this.attackTimer<-.15)return!0},end:function(){this._super(),this.stopAttackTimer||(this.stopAttackTimer=!0,this.obj.setNoAttack(!1))}}),cc._RF.pop()},{Skill:"Skill",Timer:"Timer"}],BltBar:[function(t,e){"use strict";cc._RF.push(e,"ff4c5Gv81lOfJXqZ65Vq5ow","BltBar"),cc.Class({extends:cc.Node,init:function(t,e,i){this.game=e,this.bltLength=109,this.effectMgr=this.game.effectMgr;var a,n="ui/ingame/bar/blt",s=this.effectMgr.createFilledSprite(0,0,n,cc.Sprite.FillType.HORIZONTAL);this.addChild(s,10),this.hpNode=s,(a=s.getComponent(cc.Sprite)).fillStart=0,a.fillRange=1,this.hpBar=a,(s=this.effectMgr.createFilledSprite(0,0,n,cc.Sprite.FillType.HORIZONTAL)).opacity=0,this.addChild(s,11),this.hpNodeReload=s,(a=s.getComponent(cc.Sprite)).fillStart=0,a.fillRange=1,this.hpBarReload=a;var o=this.effectMgr.createSprite(0,0,"ui/ingame/bar/blt_bg");this.bg=o,this.addChild(o);var r=this.effectMgr.createSprite(0,0,"ui/ingame/bar/blt_index");this.blt=r,this.addChild(r,12),this.reset(i);var c=this;a.schedule(function(){c.update(c)},.01),this.updateBaseBltCt()},updateBaseBltCt:function(){this.oct=this.obj.bltMaxCt,this.updateBltBarLine()},updateBltBarLine:function(){var t=this.bltLength,e=this.obj.bltMaxCt,i=Math.floor(e/this.oct),a=t*(this.oct/e);if(this.scaleX=(e-this.oct)/this.oct*.2+1,this.scaleX=this.scaleX>1.5?1.5:this.scaleX,this.hpLine&&this.hpLine.destroy(),this.hpLine=new cc.Node,this.hpNode.addChild(this.hpLine),i>0)for(var n=0;n<=i-1;n++){if(-t/2+a*(n+1)>44)return;var s=this.effectMgr.createSprite(-t/2+a*(n+1),0,"ui/ingame/bar/hp_line");this.hpLine.addChild(s)}},reset:function(t){this.obj=t,this.sx=1,this.osx=this.sx,this.enabled=!0},onRefresh:function(){var t=this.obj;this.refreshAction=null,t.bltCt<=0&&(this.enabled=!1)},refresh:function(t){!this.obj.isReload||t?(this.reloadingEnd(),this.updateContent(),this.onRefresh(),this.active=!0):this.reloadingStart()},updateContent:function(){var t=this.obj;if((e=t.bltCt/t.bltMaxCt)!=this.percent){this.opacity=255;var e=kit.clamp(e,0,1);this.hpBar.fillRange=e,this.percent=e,this.blt.x=this.bltLength*(e-.5)-4}},updateReloading:function(){if(this.isReloading){var t=1-this.obj.bltReload/this.obj.bltTime;t=kit.clamp(t,0,1),this.hpBarReload.fillRange=t,this.blt.x=this.bltLength*(t-.5)-4}},lockAndLoad:function(){this.lockAndLoaded||(this.lockAndLoaded=!0,this.blt.stopAllActions(),this.blt.runAction(cc.sequence(cc.moveBy(.15,cc.v2(-this.bltLength,0)),cc.moveBy(.15,cc.v2(this.bltLength,0)))),this.blt.angle=0)},reloadingStart:function(){this.isReloading||(this.isReloading=!0,this.hpNodeReload.opacity=128,this.blt.runAction(cc.rotateBy(.3,360).repeatForever()),this.updateContent())},reloadingEnd:function(){this.isReloading&&(this.isReloading=!1,this.blt.stopAllActions(),this.hpNodeReload.opacity=0,this.blt.angle=0,this.lockAndLoaded=!1)},update:function(t){t.setPosition(t.obj.x,t.obj.y+68)}}),cc._RF.pop()},{}],BltSizeUp:[function(t,e){"use strict";cc._RF.push(e,"dd223g3FjlNka7hYRRCFRU6","BltSizeUp"),cc.Class({extends:t("Buff"),begin:function(){this.obj.bltSize=2},end:function(){this.obj.bltSize=null}}),cc._RF.pop()},{Buff:"Buff"}],BomberBomb:[function(t,e){"use strict";cc._RF.push(e,"29cd37Rv5tJXKzZmyGGspxL","BomberBomb");var i=t("Grenade");cc.Class({extends:t("GrenadeWithLatency"),initSprite:function(){this._super();var t=this.define;t.bltEff&&t.bltEff(this.sprite),this.shadow=this.game.effectMgr.createSprite(0,0,"shadow"),this.shadow.opacity=100,this.game.camera.addChild(this.shadow,300)},removeSprite:function(){this.sprite&&(this.sprite.runAction(cc.sequence(cc.fadeOut(.1),cc.destroySelf())),this.sprite=null),this.shadow&&(this.shadow.destroy(),this.shadow=null)},move:function(t,e){i.prototype.move.call(this,t,e),this.sprite,this.bonusY=200,this.sprite.setPosition(this.x,this.y+this.bonusY),this.shadow.y+=this.bonusY,this.define.alert&&this.alert()},updateSprite:function(){if(this.sprite){var t=this.define.explodeTime-this.explodeTimer,e=this.define.explodeTime,i=2*(-10*t+-1.5*t*t+(10*e- -1.5*e*e));this.sprite.setScale(i+1),this.shadow.x=this.x+Math.sin(2*Math.PI/3+0)*i*200,this.shadow.y=this.y+Math.cos(2*Math.PI/3+0)*i*200+this.bonusY,this.sprite.setPosition(this.x,this.y+this.bonusY),this.bonusY=200*this.explodeTimer/this.define.explodeTime}}}),cc._RF.pop()},{Grenade:"Grenade",GrenadeWithLatency:"GrenadeWithLatency"}],Bomber:[function(t,e){"use strict";cc._RF.push(e,"d5555XB6zVJwaIoVztQl4Ix","Bomber"),window.Bomber={prepare:function(){Bomber.obj={ct:0,order:[],updateLogic:this.updateLogic}},start:function(t){t.gameManager&&t.gameManager.levelPool&&"event"==t.gameManager.levelPool.getCurrentLevelType()||0!=Bomber.obj.order.length&&(t.addUpdate(Bomber.obj),Bomber.obj.game=t)},updateLogic:function(t){Bomber.obj.order[Bomber.obj.ct]&&kit.timer(Bomber.obj,"bomb",3,t,-2)&&(Bomber.plane(Bomber.obj.game,Bomber.obj.order[Bomber.obj.ct]),Bomber.obj.ct++)},plane:function(t,e){var i=t.hero,a=t.effectMgr.createSprite(0,0,"effect/dropbox/plane_shadow");a.scale=2,a.opacity=150,t.camera.addChild(a,1111),a.angle=-kit.radian2Degree(0);var n=t.map.size[0]*CELL_W,s=t.map.size[1]*CELL_H,o=n/2,r=s/2;a.x=-s*Math.sin(0)*1.2+o,a.y=-s*Math.cos(0)*1.2+r;var c=s*Math.sin(0)*1.2+o,h=s*Math.cos(0)*1.2+r;a.runAction(cc.sequence(cc.moveTo(1.2,cc.v2(c,h)),cc.destroySelf())),a.runAction(cc.sequence(cc.delayTime(.6),cc.callFunc(function(){Ammofactory(i,e,{l:1,x:o,y:r,obj:i,te:i.team,deg:0,dmg:e.dmg},t)}))),t.effectMgr.play(SoundEffectPath.plane)},pushOrder:function(t){Bomber.obj.order.push(t)}},cc._RF.pop()},{}],BonusAttackSpeedBuffOnHitBuff:[function(t,e){"use strict";cc._RF.push(e,"bae6cJM8Q9B66e/9cKKp8RC","BonusAttackSpeedBuffOnHitBuff"),cc.Class({extends:t("OnHitSelfBuff"),onHit:function(t,e,i){if(!(this.cdTimer>0)&&i.buffList){var a=this.define;if(this.cdTimer=a.cd||0,Math.random()<a.chance){var n={t:a.duration,addScale:[["atkSpd",a.attackSpeedScale]]},s=kit.mergeObjs(n,BuffDefine.Attribute);s&&new s.ctor(s,{obj:this.obj})}}}}),cc._RF.pop()},{OnHitSelfBuff:"OnHitSelfBuff"}],BonusCritChanceOnHighEpBuff:[function(t,e){"use strict";cc._RF.push(e,"d369dabB5JLp407M5FvSbPZ","BonusCritChanceOnHighEpBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super(),this.isAdded=!1},excute:function(){var t=this.define,e=this.obj;!this.isAdded&&e.ep>=t.epRate*e.epMax?(e.attribute.add("critChance",t.critChance),this.isAdded=!0):this.isAdded&&e.ep<t.epRate*e.epMax&&(e.attribute.add("critChance",-t.critChance),this.isAdded=!1)}}),cc._RF.pop()},{Buff:"Buff"}],BonusCritChanceOnKillBuff:[function(t,e){"use strict";cc._RF.push(e,"6a3abCLgeZL8brxyl8q5p4n","BonusCritChanceOnKillBuff"),cc.Class({extends:t("OnKillCountBuff"),begin:function(){this._super(),this.buffDef=kit.clone(this.define.buff),this.buffDef.addScale=null,this.buffDef.add=null,this.buffDef.mutScale=[["critChance",this.define.critChance||0]],this.buffDef.t=this.define.duration||2},onKill:function(){if(!(this.cdTimer>0)){this.count?this.count++:this.count=1;var t=this.define;if(!(this.count<t.count)){this.count=0,this.cdTimer=t.cd||0;var e=this.buffDef;e&&new e.ctor(e,{obj:this.obj})}}}}),cc._RF.pop()},{OnKillCountBuff:"OnKillCountBuff"}],BossHpFrame:[function(t,e){"use strict";cc._RF.push(e,"f2a833T8yJHO6HBLdbm80vu","BossHpFrame");var i=cc.Class({extends:cc.Node,init:function(t,e,i){this.game=i,this.effectMgr=this.game.effectMgr,(a=this.effectMgr.createSprite(0,8,"ui/ingame/top_bar/boss")).scale=1,this.addChild(a,5);var a=this.effectMgr.createSprite(0,0,"ui/ingame/top_bar/black");this.addChild(a),this.frame=a;var n=this.effectMgr.createFilledSprite(0,0,"ui/ingame/top_bar/red",cc.Sprite.FillType.HORIZONTAL);a.addChild(n,1),this.hurt_halo=n.getComponent(cc.Sprite),this.hurt_halo.fillStart=0,this.hurt_halo.fillRange=1,n.opacity=0;var s=this.effectMgr.createFilledSprite(0,0,"ui/ingame/top_bar/red",cc.Sprite.FillType.HORIZONTAL);a.addChild(s,2);var o=s.getComponent(cc.Sprite);o.fillStart=0,o.fillRange=0,this.hpBar=o,this.showOut(),this.hpMax=t.hpMax,this.targetList=[],this.addTarget(t)},setHpMax:function(t){this.hpMax=t},addTarget:function(t){t.hpBar.active=!1,t.bossFrame=this,this.targetList.push(t)},onHurt:function(){if(!this.isDead){this.hpUpdateStatus=!0;var t=this.hpMax,e=t;for(var i in this.targetList){var a=Math.max(this.targetList[i].hp,0);e-=this.targetList[i].hpMax-a,cc.log("boss hp/max",a,this.targetList[i].hpMax)}var n=e/t,s=cc.callFunc(function(){this.hurt_halo.fillRange=n,this.hurt_halo.fillRange<0&&(this.hurt_halo.fillRange=0)}.bind(this));this.hurt_halo.node.runAction(cc.sequence(cc.fadeIn(0),cc.fadeOut(.3),s)),this.hpBar.fillRange=n,cc.log("ratio",n),this.hpBar.fillRange<=0&&(this.hpBar.fillRange=0,this.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){this.removeSelf()},this))),this.isDead=!0)}},removeHpEff:function(){},onDeath:function(){},removeSelf:function(){this.game.enableExpFrame(!0),this.destroy()},onDestroy:function(){this.game.bossHpFrameCt--},showOut:function(){this.updateShowOutHp=function(t){this.hpBar.fillRange<1&&!this.hpUpdateStatus?this.hpBar.fillRange+=1*t:(this.hpBar.fillRange=1,this.hpBar.hurt_halo=1,this.hpBar.unschedule(this.updateShowOutHp),this.onHurt())}.bind(this),this.hpBar.schedule(this.updateShowOutHp,.05)}});e.exports=i,cc._RF.pop()},{}],BossStandAI:[function(t,e){"use strict";cc._RF.push(e,"0722c5B82BKoJjfUJ99uK2K","BossStandAI");var i=cc.Class({extends:t("StandAI"),initStatusFight:function(){var t=this.obj;this.attackTime=this.define.attackTime||0,this.attackSeq=this.define.attackSeq||{},t.atkDeg=0;var e=this.attackSeq[t.attackSequenceIndex];e&&(e.attackTime&&(this.attackTime=e.attackTime),e.sweep&&(t.atkDeg=e.atkDeg)),this.attackTimer=this.attackTime||0,this.sweep=1,cc.log("initFight")},updateStatusFight:function(t){var e=this.obj;if(this.attackTimer-=t,!e.isAttack){if(this.attackTimer>0){var i=this.attackSeq[e.attackSequenceIndex];this.sweep&&(this.sweep=0,i&&i.sweep&&cc.tween(e).by(this.attackTimer,{atkDeg:i.sweep}).start());var a=i&&{attackSequenceIndex:e.attackSequenceIndex,attackIndex:i.repeatIndex};if(!this.target.isDead){var n=this.target.x0-e.x0,s=this.target.y0-e.y0,o=this.target.radius+e.radius+this.define.sr;if(n*n+s*s<o*o)return kit.vector2Radian(s,n),cc.log("updateStatusFight callAttack",a),e.callMove({}),void e.callAttack(a)}return}this.changeStatus("Seek")}}});e.exprots=i,cc._RF.pop()},{StandAI:"StandAI"}],Boss:[function(t,e){"use strict";cc._RF.push(e,"3c030t4jqFF6JogZjyExDUt","Boss");var i=cc.Class({extends:t("Mob"),attack:function(){var t=this.attackSequence[this.attackIndex];if(t){if(null!=t.blt)return this.rangeAttack();var e=t.x,i=t.y;if(e||i){var a=kit.degree2Radian(this.deg),n=Math.sin(a),s=Math.cos(a),o=this.x0+s*e+n*i,r=this.y0-n*e+s*i,c=this.team,h=t.r||30,d=g_sharedContactManager.contactList;for(var l in d){var u=d[l];if(!u.isSensor&&u._isActiveContact&&!u.isDead&&!u.isFly&&c!=u.team&&u.canAutoAim&&(e=o-u.x0)*e+(i=r-u.y0)*i<=h*h){this.hit(this.attribute.get("atkDmg"),{obj:this,define:{hurtStopTime:t.hurtStopTime,hurtStopCD:t.hurtStopCD}},u);var f=t.buff;f&&(new f.ctor).init(f,{obj:u,from:this})}}}}},rangeAttack:function(){var t=this.attackSequence[this.attackIndex];if(t.blt||0===t.blt){this.updateTargetPos();var e,i=this.blt[t.blt],a=t.x||0,n=t.y||0,s=this.x0,o=this.y0,r=this.deg,c=kit.degree2Radian(r),h=Math.sin(c),d=s+(p=Math.cos(c))*a+h*n,l=o-h*a+p*n;if(t.seek&&(u=this.seekTarget())&&(r=kit.vector2Radian(u.y-l,u.x-d)),i.grenade){var u=this.ai.target;(e=kit.norm(u.x0-this.x0,u.y0-this.y0))>i.l&&(e=null)}var f=t.deg||0,m=t.atkDeg||this.atkDeg||0,p=(c=kit.degree2Radian(m+r),h=Math.sin(c),Math.cos(c)),g=t.ax||0,v=t.ay||0,b=(d=d+p*g+h*v,l=l-h*g+p*v,r+f+m),k=(a=t.dx||0,n=t.dy||0,this.tx+a),y=this.ty+n;Ammofactory(this,i,{tx:k,ty:y,x:d,y:l,te:this.team,obj:this,dmg:this.attribute.get("atkDmg"),l:e,deg:b},this.game),t.effect&&t.effect(d,l,this,this.game),this.game.effectMgr.play(SoundEffectPath[EntityCN2EN[this.toString()]+"_weapon"])}},seekTarget:function(){for(var t=g_sharedContactManager.contactList,e=this.x0,i=this.y0,a=1e12,n=null,s=0;s<t.length;s++){var o=t[s],r=o.x0-e,c=o.y0-i;if(o.team!=this.team&&!o.isDead&&o.canAutoAim){var h=r*r+c*c;o.taunting&&(h-=9e4),h<a&&(a=h,n=o)}}return n},getTargetPos:function(t){var e=this.seekTarget();if(e){var i=Math.min(e.x,this.game.contactMgr.right-t),a=Math.max(i,this.game.contactMgr.left+t),n=Math.min(e.y,this.game.contactMgr.top-t),s=Math.max(n,this.game.contactMgr.bottom+t);return{x:a+kit.rnd(-t,t),y:s+kit.rnd(-t,t)}}},updateTargetPos:function(){if(this.rotateSeq){if(null!=(a=this.rotateSeq[this.rotateIndex]).target){var t=this.getTargetPos(a.target);if(t){var e=t.x;e=t.y}}else if(a.tx||a.ty||a.dx||a.dy){e=null!=a.tx&&a.tx||this.x+a.dx;var i=null!=a.ty&&a.ty||this.y+a.dy}null!=e&&null!=i||(e=kit.rnd(this.game.contactMgr.left,this.game.contactMgr.right),i=kit.rnd(this.game.contactMgr.bottom,this.game.contactMgr.top))}else{var a;if((a=this.attackSequence[this.attackIndex]).target){var n=this.getTargetPos(a.target);n&&(e=n.x,i=n.y)}e||i||(e=kit.rnd(this.game.contactMgr.left,this.game.contactMgr.right),i=kit.rnd(this.game.contactMgr.bottom,this.game.contactMgr.top))}this.tx=e,this.ty=i}});e.exports=i,cc._RF.pop()},{Mob:"Mob"}],BounceAI:[function(t,e){"use strict";cc._RF.push(e,"19f3cyPCEBInJDg4TG9MKY2","BounceAI");var i=cc.Class({extends:t("AI"),initStatusSeek:function(){this.moveTimer=.1,this.bltOnBounce=this.define.bltOnBounce,this.bltSeqIndex=this.define.bltSeqIndex,this.bltTime=this.define.bltTime,this.bltTimer=Math.random()*this.bltTime},updateStatusSeek:function(t){var e=this.obj;if(this.bltTime&&(this.bltTimer-=t,this.bltTimer<0&&(this.bltTimer=this.bltTime,e.callAttack({attackSequenceIndex:this.bltSeqIndex}))),this.moveTimer-=t,!(this.moveTimer>0||(this.moveTimer=.1,e.isDead||e.isStun))){if(this.checkSkill())return;e.callMove({s:1}),e.moveRad;var i,a,n=e.game.contactMgr,s=n.objectCheckWall(e,{dx:e.spdX*t,dy:0,flyHeight:0}),o=n.objectCheckWall(e,{dy:e.spdY*t,dx:0,flyHeight:0});if(s||o){i=s&&-e.spdX||e.spdX,a=o&&-e.spdY||e.spdY;var r=kit.vector2Radian(a,i);e.setRotation(kit.radian2Degree(r)),e.callMove({s:1}),this.bltOnBounce&&e.callAttack({attackSequenceIndex:this.bltSeqIndex})}}}});e.exports=i,cc._RF.pop()},{AI:"AI"}],BounceBallBlt:[function(t,e){"use strict";cc._RF.push(e,"baffdiTcXlJtriv8SLvFXGz","BounceBallBlt");var i=cc.Class({extends:t("Bullet"),init:function(t,e,i){this._super(t,e,i),this.game=i,this.alwaysCheck=!0,this.hurtedObjs={},this.bounce=!0},move:function(t,e,i){this._super(t,e,i),this.drawLine(),this._isFirstCheck=!1},drawLine:function(){var t=Math.round(this.deg),e=this.game.contactMgr,i=e.getCXY(this.x,this.y),a=new cc.Node;this.game.addToCamera(a,2);var n=a.addComponent(cc.Graphics);if(n.strokeColor=cc.color(255,50,50,80),n.fillColor=cc.color(250,50,20,60),90==t||270==t){for(var s=e.width,o=-2,r=i.x;r<=e.width;r++)if(!e.canPlaceBullet(r,i.y)){s=r;break}for(r=i.x;r>=0;r--)if(!e.canPlaceBullet(r,i.y)){o=r;break}n.rect((o+1)*CELL_W,this.y-5,(s-o-1)*CELL_W,10),n.fill()}else if(0==t||180==t){var c=e.height,h=-2;for(r=i.y;r<=e.height;r++)if(!e.canPlaceBullet(i.x,r)){c=r;break}for(r=i.y;r>=0;r--)if(!e.canPlaceBullet(i.x,r)){h=r;break}n.rect(this.x-5,(h+1)*CELL_H,10,(c-h-1)*CELL_H),n.fill()}},hit:function(t,e,i){t.isInvincible||this.hurtedObjs[t.uniqueID]>0||(this._super(t,e,i),this.hurtedObjs[t.uniqueID]=1)},updateLogic:function(t){for(var e in this._super(t),this.timer=100,this.hurtedObjs)this.hurtedObjs[e]-=t,this.hurtedObjs[e]<=0&&(this.hurtedObjs[e]=0);this.lx=-this.spdX*t,this.ly=-this.spdY*t,this.checkBlock(0,0)},checkBlock:function(){var t=this.x,e=this.y,i=this.game.contactMgr.left,a=this.game.contactMgr.right,n=this.game.contactMgr.bottom,s=this.game.contactMgr.top;t>a-0&&this.spdX>0?(t=a-0-1,this.spdX=-this.spdX,this.dx=-this.dx):t<i+0&&this.spdX<0?(t=i+0+1,this.spdX=-this.spdX,this.dx=-this.dx):e>s-0&&this.spdY>0?(this.spdY=-this.spdY,e=s-0-1,this.dy=-this.dy):e<n+0&&this.spdY<0&&(this.spdY=-this.spdY,e=n+0+1,this.dy=-this.dy),this.x=t,this.y=e},updateSprite:function(t){this._super(t),this.sprite.angle-=5360*t},hitWall:function(t,e,i){1==i?(this.spdX=-this.spdX,t+=this.spdX>0?1:this.spdX<0&&-1):2==i&&(this.spdY=-this.spdY,e+=this.spdY>0?1:this.spdY<0&&-1);var a=Math.floor(t/CELL_W),n=Math.floor(e/CELL_H);this.game.contactMgr.canPlaceBullet(a,n)||(2==i&&(t+=this.spdX>0?-1:this.spdX<0&&1),1==i&&(e+=this.spdY>0?-1:this.spdY<0&&1)),this.x=t,this.y=e;var s=kit.radian2Degree(kit.vector2Radian(this.spdY,this.spdX));Effect.WidowHitEffect(t,e,s+90,this.game)}});e.exports=i,cc._RF.pop()},{Bullet:"Bullet"}],BounceBall:[function(t,e){"use strict";cc._RF.push(e,"660b83UXidLrJdr8NGDG1vS","BounceBall"),cc.Class({extends:t("Entity"),init:function(t,e,i){this._super(t,e,i),this.canAutoAim=!1,this.noStun++,this.isSensor=!1},updateLogic:function(){this.ammo()},drop:function(){},ammo:function(){var e=this.attribute,i={ctor:t("BounceBallBlt"),name:"",kb:.8,noBlend:!0,anchorY:.5,anchorX:.5,frm:"avatar/bounceball",radius:40,length:122,dmg:e.get("atkDmg"),spd:450,rnd:0,l:3e3,alwayThrough:1,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"knife_weapon",sx:.7,sy:.7,z:300};Ammofactory(this,i,{l:1,x:this.x,y:this.y,obj:this,te:this.team,deg:this.deg,dmg:100},this.game),this.death()},initHpBar:function(){},updateAvatar:function(){},onDead:function(){g_sharedContactManager.removeEntity(this),this.remove()}}),cc._RF.pop()},{BounceBallBlt:"BounceBallBlt",Entity:"Entity"}],BounceBlt:[function(t,e){"use strict";cc._RF.push(e,"76506GmSZhA86KBIXgHSfHe","BounceBlt");var i=cc.Class({extends:t("Bullet"),init:function(t,e,i){this._super(t,e,i),this.game=i,this.define.persist&&(this.alwaysCheck=!0,this.hurtedObjs={}),this.bounce=this.define.bounce||1},move:function(t,e,i){this._super(t,e,i)},drawLine:function(){var t=Math.round(this.deg),e=this.game.contactMgr,i=e.getCXY(this.x,this.y),a=new cc.Node;this.game.addToCamera(a,2);var n=a.addComponent(cc.Graphics);if(n.strokeColor=cc.color(255,50,50,80),n.fillColor=cc.color(250,50,20,60),90==t||270==t){for(var s=e.width,o=-2,r=i.x;r<=e.width;r++)if(!e.canPlaceBullet(r,i.y)){s=r;break}for(r=i.x;r>=0;r--)if(!e.canPlaceBullet(r,i.y)){o=r;break}n.rect((o+1)*CELL_W,this.y-5,(s-o-1)*CELL_W,10),n.fill()}else if(0==t||180==t){var c=e.height,h=-2;for(r=i.y;r<=e.height;r++)if(!e.canPlaceBullet(i.x,r)){c=r;break}for(r=i.y;r>=0;r--)if(!e.canPlaceBullet(i.x,r)){h=r;break}n.rect(this.x-5,(h+1)*CELL_H,10,(c-h-1)*CELL_H),n.fill()}},hit:function(t,e,i){if(!t.isInvincible){if(this.define.persist){if(this.hurtedObjs[t.uniqueID]>0)return;this.hurtedObjs[t.uniqueID]=1}this._super(t,e,i)}},updateLogic:function(t){if(this._super(t),this.define.persist)for(var e in this.timer=100,this.hurtedObjs)this.hurtedObjs[e]-=t,this.hurtedObjs[e]<=0&&(this.hurtedObjs[e]=0);this.lx=-this.spdX*t,this.ly=-this.spdY*t,this.checkBlock(0,0)},updateBounceSprite:function(t){this.sprite.angle=-t,this.deg=t,this.smoke&&(this.smoke.target=!1,this.smoke=this.define.smoke&&Effect.BulletSmoke(this.define.smoke,this.sprite,this.x,this.y,this,this.game))},checkBlock:function(){var t=this.x,e=this.y,i=this.game.contactMgr.left,a=this.game.contactMgr.right,n=this.game.contactMgr.bottom,s=this.game.contactMgr.top,o=!1;if(t>a-0&&this.spdX>0){if(t=a-0-1,this.spdX=-this.spdX,this.dx=-this.dx,this.bounce>0)this.bounce-=1,o=!0;else if(0==this.bounce)return this.hitWall(t,e)}else if(t<i+0&&this.spdX<0){if(t=i+0+1,this.spdX=-this.spdX,this.dx=-this.dx,this.bounce>0)this.bounce-=1,o=!0;else if(0==this.bounce)return this.hitWall(t,e)}else if(e>s-0&&this.spdY>0){if(this.spdY=-this.spdY,e=s-0-1,this.dy=-this.dy,this.bounce>0)this.bounce-=1,o=!0;else if(0==this.bounce)return this.hitWall(t,e)}else if(e<n+0&&this.spdY<0)if(this.spdY=-this.spdY,e=n+0+1,this.dy=-this.dy,this.bounce>0)this.bounce-=1,o=!0;else if(0==this.bounce)return this.hitWall(t,e);this.x=t,this.y=e;var r=kit.radian2Degree(kit.vector2Radian(this.spdY,this.spdX));o&&this.updateBounceSprite(r)},updateSprite:function(t){this._super(t)},hitWall:function(t,e,i){if(this.bounce>0)this.bounce-=1;else if(0==this.bounce)return this._super(t,e);1==i?(this.spdX=-this.spdX,t+=this.spdX>0?1:this.spdX<0&&-1):2==i&&(this.spdY=-this.spdY,e+=this.spdY>0?1:this.spdY<0&&-1);var a=Math.floor(t/CELL_W),n=Math.floor(e/CELL_H);this.game.contactMgr.canPlaceBullet(a,n)||(2==i&&(t+=this.spdX>0?-1:this.spdX<0&&1),1==i&&(e+=this.spdY>0?-1:this.spdY<0&&1)),this.x=t,this.y=e;var s=kit.radian2Degree(kit.vector2Radian(this.spdY,this.spdX));this.updateBounceSprite(s)}});e.exports=i,cc._RF.pop()},{Bullet:"Bullet"}],BounceMob:[function(t,e){"use strict";cc._RF.push(e,"91059cZk4dFg6K89E76J4RL","BounceMob"),t("Ammo");var i=cc.Class({extends:t("Mob")});e.exports=i,cc._RF.pop()},{Ammo:"Ammo",Mob:"Mob"}],Breath:[function(t,e){"use strict";cc._RF.push(e,"20fc9/OJOhNv5rxNwmRuQ/S","Breath");var i=cc.Class({extends:t("Ammo"),init:function(t,e,i){this._super(t,e,i);var a=kit.degree2Radian(this.obj.getRotation());this.knockBackX=this.knockBack*kit.sin(a),this.knockBackY=this.knockBack*kit.cos(a)},initSprite:function(){if(!this.game.fastMode){this.define;var t=this.config.obj;if(t.Electric)t.Electric.lifetime=this.define.lifetime;else{var e=Effect.PoisonBreath(t),i=t.attackSequence[t.attackIndex];e.setPosition(i.x,i.y-this.radius),t.addChild(e),t.Electric=e,t.Electric.lifetime=this.define.lifetime}}},onCover:function(t){t.hurt(this.dmg,this,DMG_TYPE.explo);var e=1/t.weight;if(t.knockback&&t.knockback(this.knockBackX*e,this.knockBackY*e),t.buffList){var i=this.buff;i&&(!i.chance||Math.random()<i.chance)&&new i.ctor(i,{obj:t,from:this.obj})}},updateLogic:function(){g_sharedContactManager.checkAliveEnemy(this,this.x,this.y,this.radius,this.team,this.onCover),this.remove()}});e.exports=i,cc._RF.pop()},{Ammo:"Ammo"}],BuffDefine:[function(t,e){"use strict";var i;cc._RF.push(e,"45b04+6DzdNGaka+TrY8rNd","BuffDefine");var a=t("AttributeBuff"),n=t("FrozenBuff"),s=t("InvincileBuff"),o=t("HurtStopBuff"),r=t("onFireBuff"),c=t("AddEpBuff"),h=t("PoisonBuff"),d=t("OnHitSlowBuff"),l=t("StunBuff"),u=t("OnMeleeHitEnemyBuff"),f=t("OnHitEnemyBuff"),m=t("OnHitArmorPentrationForWidowBuff"),p=t("OnHpLowBuff"),g=t("RecoverBuff"),v=t("OnStandBuff"),b=t("OnMoveBuff"),k=t("FreezeBlockOnHpLowBuff"),y=t("RecoverShieldOnShieldOffBuff"),S=t("OnHitCountBuff"),_=t("OnDeathBonusAttackBuff"),x=t("PulseBombOnHitBuff"),w=t("SprintInstantCooldownOnLowHpBuff"),B=t("BonusCritChanceOnHighEpBuff"),C=t("BonusAttackSpeedBuffOnHitBuff"),A=t("SimpleAddAttrBuff"),T=t("SimpleMulAttrBuff"),D=t("OnHitHpHighMulAttrBuff"),q=t("OnHpLowMulAttrBuff"),M=t("OnHpHighMulAttrBuff"),E=t("RecoverHpOnLowHpBuff"),R=t("CritOnHitCountBuff"),I=t("BonusCritChanceOnKillBuff"),O=t("AtkDebuff"),N=t("HurtScale"),L=t("ShangDebuff"),F=t("InfiniteAmmoBuff"),P=t("StandToHealBuff"),H=t("InvincibleOnHurtBuff"),G=t("WeaponMasterBuff"),j=t("OnHurtGetBuffBuff"),U=t("OnMedicineBuff"),W=t("InvincibleOnDeadBuff"),z=t("RendBuff"),Y=t("HurtScaleOnAttackBuff"),K=t("WeaponSteadyBuff"),J=t("RunBuff"),V=t("GradualAttributeBuff"),X=t("GradualLowHpAttributeBuff"),Z=t("OnHitSelfBuff"),Q=(t("Buff"),t("BltSizeUp")),$=t("SpecialWeapon"),tt=t("AttackBuff"),et=t("AttackBuff2"),it=t("SpeedBuff"),at=t("Poison"),nt=t("Burning");t("Effect");var st=t("AutoBltBuff"),ot=t("OnKillBltSpawnBuff"),rt=t("OnKillSpawnDropBuff"),ct=t("OnKillRegenBuff"),ht=t("AutoBuffBuff"),dt=t("OnHurtBonusAttributeBuff"),lt=t("SpiderBuff"),ut=t("OnFirstBulletBuff"),ft=((i={burningDamage:{ctor:r,effect:nt,t:1.2,dt:.2,dmgScaleRate:.1},Poison:{ctor:h,effect:at,t:10,dt:1,dmg:0,dmgScaleRate:.3},frozenBuff:{ctor:n,name:"frozenBuff",effect:t("ColdBuff"),cd:3,t:1,chance:1},Eletric:{ctor:t("EletricBuff"),t:.1,dt:.2,dmgScaleRate:.5,cd:1},explosionOnKillFire:{ctor:r,effect:nt,t:2.4,dt:.2,dmgScaleRate:.5},explosionOnKillFrost:{ctor:n,name:"frozenBuff",effect:t("ColdBuff"),cd:3,t:6,duration:1.5,chance:1,cooldownFlag:"explosionOnKillFrost"},explosionOnKillEletric:{ctor:t("EletricBuff"),t:.4,dt:.2,dmgScaleRate:2.2,cd:1,cooldownFlag:"explosionOnKillEletric",r:700},explosionOnKillPoison:{ctor:h,effect:at,t:12,dt:1,dmg:0,dmgScaleRate:1},spinAxeFire:{ctor:r,effect:nt,t:2.4,dt:.2,dmgScaleRate:.5},spinAxeFrost:{ctor:n,name:"frozenBuff",effect:t("ColdBuff"),cd:3,t:6,duration:1.5,chance:1,cooldownFlag:"spinAxeFrost"},spinAxeEletric:{ctor:t("EletricBuff"),t:.4,dt:.2,dmgScaleRate:2.2,cd:1,cooldownFlag:"spinAxeEletric",r:700},spinAxePoison:{ctor:h,effect:at,t:12,dt:1,dmg:0,dmgScaleRate:1},EletricCooldown:{ctor:t("EletricCoolDownBuff"),t:1},frozenCooldownBuff:{ctor:t("FrozenCoolDownBuff"),name:"FrozenCooldownBuff",t:3},frozenBuff_Spider:{ctor:n,name:"frozenBuff",effect:t("ColdBuff"),cd:3,t:6,duration:1.5,chance:1,cooldownFlag:"frozenBuff_Spider"},frozenBuff_Spider_2:{ctor:n,name:"frozenBuff",effect:t("ColdBuff"),cd:3,t:6,duration:2,chance:1,cooldownFlag:"frozenBuff_Spider"},frozenBuff_Spider_3:{ctor:n,name:"frozenBuff",effect:t("ColdBuff"),cd:3,t:6,duration:2.5,chance:1,cooldownFlag:"frozenBuff_Spider"},frozenBuff_Spider_4:{ctor:n,name:"frozenBuff",effect:t("ColdBuff"),cd:3,t:6,duration:3,chance:1,cooldownFlag:"frozenBuff_Spider"},frozenBuff_Bomb:{ctor:n,name:"frozenBuff",effect:t("ColdBuff"),cd:3,t:6,duration:2,chance:1,cooldownFlag:"frozenBuff_Bomb"},frozenBuff_Ghost:{ctor:n,effect:t("ColdBuff"),name:"frozenBuff",cd:3,t:6,duration:1.5,chance:1,cooldownFlag:"frozenBuff_Ghost"},frozenBuff_Ghost_2:{ctor:n,effect:t("ColdBuff"),name:"frozenBuff",cd:3,t:6,duration:2,chance:1,cooldownFlag:"frozenBuff_Ghost"},frozenBuff_Ghost_3:{ctor:n,effect:t("ColdBuff"),name:"frozenBuff",cd:3,t:6,duration:2.5,chance:1,cooldownFlag:"frozenBuff_Ghost"},frozenBuff_Ghost_4:{ctor:n,effect:t("ColdBuff"),name:"frozenBuff",cd:3,t:6,duration:3,chance:1,cooldownFlag:"frozenBuff_Ghost"},Eletric_Spider:{ctor:t("EletricBuff"),t:.4,dt:.2,dmgScaleRate:5/9,cd:1,cooldownFlag:"Eletric_Spider",r:700},Eletric_Bomb:{ctor:t("EletricBuff"),t:.4,dt:.2,dmgScaleRate:4,cd:1,cooldownFlag:"Eletric_Bomb",r:1200},Eletric_Ghost:{ctor:t("EletricBuff"),t:.4,dt:.2,dmgScaleRate:2.2,cd:1,cooldownFlag:"Eletric_Ghost",r:700},burningDamage_Spider:{ctor:r,effect:nt,t:2.4,dt:.2,dmgScaleRate:.05},burningDamage_Bomb:{ctor:r,effect:nt,t:2.4,dt:.2,dmgScaleRate:.5},burningDamage_Ghost:{ctor:r,effect:nt,t:2.4,dt:.2,dmgScaleRate:.25},Poison_Spider:{ctor:h,effect:at,t:12,dt:1,dmg:0,dmgScaleRate:1},Poison_Spider_2:{ctor:h,effect:at,t:12*.7,dt:.7,dmg:0,dmgScaleRate:1},Poison_Spider_3:{ctor:h,effect:at,t:12*.55,dt:.55,dmg:0,dmgScaleRate:1},Poison_Spider_4:{ctor:h,effect:at,t:12*.4,dt:.4,dmg:0,dmgScaleRate:1},Poison_Bomb:{ctor:h,effect:at,t:15,dt:1,dmg:0,dmgScaleRate:1.1},Poison_Ghost:{ctor:h,effect:at,t:12,dt:1,dmg:0,dmgScaleRate:1},Poison_Ghost_2:{ctor:h,effect:at,t:12*.7,dt:.7,dmg:0,dmgScaleRate:1},Poison_Ghost_3:{ctor:h,effect:at,t:12*.55,dt:.55,dmg:0,dmgScaleRate:1},Poison_Ghost_4:{ctor:h,effect:at,t:12*.4,dt:.4,dmg:0,dmgScaleRate:1},spider_fire:{ctor:lt,mobID:"MOB_SPIDER_FIRE",buffID:"burningDamage_Spider",dt:5,triggerType:"onReload"},spider_frozen:{ctor:lt,mobID:"MOB_SPIDER_FROST",buffID:"frozenBuff_Spider",dt:5,triggerType:"onReload"},spider_frozen_2:{ctor:lt,mobID:"MOB_SPIDER_FROST",buffID:"frozenBuff_Spider_2",dt:5,triggerType:"onReload"},spider_frozen_3:{ctor:lt,mobID:"MOB_SPIDER_FROST",buffID:"frozenBuff_Spider_3",dt:5,triggerType:"onReload"},spider_frozen_4:{ctor:lt,mobID:"MOB_SPIDER_FROST",buffID:"frozenBuff_Spider_4",dt:5,triggerType:"onReload"},spider_eletric:{ctor:lt,mobID:"MOB_SPIDER_ELETRIC",buffID:"Eletric_Spider",dt:5,triggerType:"onReload"},spider_poison:{mobID:"MOB_SPIDER_POISON",ctor:lt,buffID:"Poison_Spider",dt:5,triggerType:"onReload",noDmg:1},spider_poison_2:{mobID:"MOB_SPIDER_POISON",ctor:lt,buffID:"Poison_Spider_2",dt:5,triggerType:"onReload",noDmg:1},spider_poison_3:{mobID:"MOB_SPIDER_POISON",ctor:lt,buffID:"Poison_Spider_3",dt:5,triggerType:"onReload",noDmg:1},spider_poison_4:{mobID:"MOB_SPIDER_POISON",ctor:lt,buffID:"Poison_Spider_4",dt:5,triggerType:"onReload",noDmg:1},OnHurtBonusAttack:{ctor:dt,add:[["attackScale",.004]]},OnHurtBonusCrit:{ctor:dt,add:[["critChance",.0015],["critBonus",.0075]]},OnHurtBonusCritDmg:{ctor:dt,add:[["critBonus",.001]]},OnHurtBonusAtkSpd:{ctor:dt,add:[["atkSpd",.005]]},OnHurtBonusDefense:{ctor:dt,add:[["dmgReduce",.007]]},OnHurtBonusDodge:{ctor:dt,add:[["dodgeChance",.0033]]},OnKillRegen:{ctor:ct,percent:.005},OnKillRegen_2:{ctor:ct,percent:.01},OnKillRegen2:{ctor:ct,percent:.02},AutoInvincible:{ctor:ht,spawnBuff:"invincibleBuffAuto",dt:10},AutoGrenade:{ctor:st,dt:3,stack:3,rndR:80,dmgScaleRate:1,blt:{name:"",ctor:t("Grenade2"),explodeTime:.5,grenade:1,noBlend:!0,anchorX:.5,anchorY:.5,minradius:20,hurtradius:200,dmg:0,dmgk:20,l:900,accurateDis:1,st:.3,frm:window.SUB_DIR+"res/effect/poison/qiu/qiu_00000.png",anim:{name:"atlas/grenade",frame:7,startNum:1,loop:1,digit:1,dt:.05,scale:1},length:35,kb:1,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:Effect.ExplosiveBlt,zOrder:1e3}},AutoGrenade_2:{ctor:st,dt:3,stack:3,rndR:80,dmgScaleRate:1,blt:{name:"",ctor:t("Grenade2"),explodeTime:.5,grenade:1,noBlend:!0,anchorX:.5,anchorY:.5,minradius:20,hurtradius:200,dmg:800,dmgk:20,l:900,accurateDis:1,st:.3,frm:window.SUB_DIR+"res/effect/poison/qiu/qiu_00000.png",anim:{name:"atlas/grenade",frame:7,startNum:1,loop:1,digit:1,dt:.05,scale:1},length:35,kb:1,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:Effect.ExplosiveBlt,zOrder:1e3}},AutoGrenade_3:{ctor:st,dt:3,stack:3,rndR:80,dmgScaleRate:1,blt:{name:"",ctor:t("Grenade2"),explodeTime:.5,grenade:1,noBlend:!0,anchorX:.5,anchorY:.5,minradius:20,hurtradius:250,dmg:800,dmgk:20,l:900,accurateDis:1,st:.3,frm:window.SUB_DIR+"res/effect/poison/qiu/qiu_00000.png",anim:{name:"atlas/grenade",frame:7,startNum:1,loop:1,digit:1,dt:.05,scale:1},length:35,kb:1,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:Effect.ExplosiveBlt,zOrder:1e3}},AutoMissle:{ctor:st,dt:.8,rndR:80,dmgScaleRate:.4,triggerType:"onAttack",firePos:1,seq:[{t:.05,deg:-25},{t:.05,deg:25}],blt:{ctor:t("GuidedMissileDirect"),smoke:"besselStreak",turnSpdScale:1e-4,turnSpdChangeTime:.15,turnSpdScale2:.6,degOffset:0,autoDirection:1,name:"",sx:.4,sy:.4,sx1:1,sy1:1,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,n:1,wd:0,d:0,noBlend:!0,spd:1400,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.LaserHitFloor2,hitFloorEffect:Effect.LaserHitFloor2,attackSound:"sound/auto_missle"}},AutoMissle_2:{ctor:st,dt:.8,firePos:1,rndR:80,dmgScaleRate:.5,triggerType:"onAttack",seq:[{t:.05,deg:-25},{t:.05,deg:0},{t:.05,deg:25}],blt:{ctor:t("GuidedMissileDirect"),smoke:"besselStreak",turnSpdScale:1e-4,turnSpdChangeTime:.15,turnSpdScale2:.6,degOffset:0,autoDirection:1,name:"",sx:.4,sy:.4,sx1:1,sy1:1,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,n:1,wd:0,d:0,noBlend:!0,spd:1400,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.LaserHitFloor2,hitFloorEffect:Effect.LaserHitFloor2,attackSound:"sound/auto_missle"}},AutoMissle_3:{ctor:st,dt:.8,firePos:1,rndR:80,dmgScaleRate:.6,triggerType:"onAttack",seq:[{t:.05,deg:-50},{t:.05,deg:-25},{t:.05,deg:25},{t:.05,deg:50}],blt:{ctor:t("GuidedMissileDirect"),smoke:"besselStreak",turnSpdScale:1e-4,turnSpdChangeTime:.15,turnSpdScale2:.6,degOffset:0,autoDirection:1,name:"",sx:.4,sy:.4,sx1:1,sy1:1,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,n:1,wd:0,d:0,noBlend:!0,spd:1400,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.LaserHitFloor2,hitFloorEffect:Effect.LaserHitFloor2,attackSound:"sound/auto_missle"}},AutoMissle_4:{ctor:st,dt:.8,firePos:1,rndR:80,dmgScaleRate:.7,triggerType:"onAttack",seq:[{t:.05,deg:-50},{t:.05,deg:-25},{t:.05,deg:0},{t:.05,deg:25},{t:.05,deg:50}],blt:{ctor:t("GuidedMissileDirect"),smoke:"besselStreak",turnSpdScale:1e-4,turnSpdChangeTime:.15,turnSpdScale2:.6,degOffset:0,autoDirection:1,name:"",sx:.4,sy:.4,sx1:1,sy1:1,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,n:1,wd:0,d:0,noBlend:!0,spd:1400,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.LaserHitFloor2,hitFloorEffect:Effect.LaserHitFloor2,attackSound:"sound/auto_missle"}},GhostFire:{ctor:st,dt:3.7,dmg:800,dy:-100,blt:{ctor:t("GhostFire"),name:"",kb:.8,noBlend:!0,radius:30,anchorY:.5,particle:"fire1",length:65,dmg:300,hurtRadius:320,n:1,wd:1,d:.04,spd:300,rnd:0,l:11800,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"fire",buff:"burningDamage_Ghost",hitEffect:Effect.ExplosiveBltHit,dmgType:"4"}},GhostPoison:{ctor:st,dt:3.7,dmg:800,dy:-100,blt:{ctor:t("GhostFire"),name:"",kb:.8,noBlend:!0,radius:30,anchorY:.5,hurtRadius:320,particle:"duqiu",length:65,dmg:300,n:1,wd:1,d:.04,spd:300,rnd:0,l:11800,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"poison",buff:"Poison_Ghost",hitEffect:Effect.WidowBombSBlt,dmgType:"2"}},GhostPoison_2:{ctor:st,dt:3.7,dmg:800,blt:{ctor:t("GhostFire"),name:"",kb:.8,noBlend:!0,radius:30,anchorY:.5,hurtRadius:320,particle:"duqiu",length:65,dmg:300,n:1,wd:1,d:.04,spd:300,rnd:0,l:11800,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"poison",buff:"Poison_Ghost_2",hitEffect:Effect.WidowBombSBlt,dmgType:"2"}},GhostPoison_3:{ctor:st,dt:3.7,dmg:800,blt:{ctor:t("GhostFire"),name:"",kb:.8,noBlend:!0,radius:30,anchorY:.5,hurtRadius:320,particle:"duqiu",length:65,dmg:300,n:1,wd:1,d:.04,spd:300,rnd:0,l:11800,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"poison",buff:"Poison_Ghost_3",hitEffect:Effect.WidowBombSBlt,dmgType:"2"}},GhostPoison_4:{ctor:st,dt:3.7,dmg:800,blt:{ctor:t("GhostFire"),name:"",kb:.8,noBlend:!0,radius:30,anchorY:.5,hurtRadius:320,particle:"duqiu",length:65,dmg:300,n:1,wd:1,d:.04,spd:300,rnd:0,l:11800,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"poison",buff:"Poison_Ghost_4",hitEffect:Effect.WidowBombSBlt,dmgType:"2"}},GhostFrost:{ctor:st,dt:3.7,dmg:800,dy:-100,blt:{ctor:t("GhostFire"),name:"",kb:.8,noBlend:!0,radius:30,anchorY:.5,hurtRadius:360,particle:"ice",length:65,dmg:300,n:1,wd:1,d:.04,spd:300,rnd:0,l:11800,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"frost",buff:"frozenBuff_Ghost",dmgType:"5"}},GhostFrost_2:{ctor:st,dt:3.7,dmg:800,blt:{ctor:t("GhostFire"),name:"",kb:.8,noBlend:!0,radius:30,anchorY:.5,hurtRadius:360,particle:"ice",length:65,dmg:300,n:1,wd:1,d:.04,spd:300,rnd:0,l:11800,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"frost",buff:"frozenBuff_Ghost_2",dmgType:"5"}},GhostFrost_3:{ctor:st,dt:3.7,dmg:800,blt:{ctor:t("GhostFire"),name:"",kb:.8,noBlend:!0,radius:30,anchorY:.5,hurtRadius:360,particle:"ice",length:65,dmg:300,n:1,wd:1,d:.04,spd:300,rnd:0,l:11800,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"frost",buff:"frozenBuff_Ghost_3",dmgType:"5"}},GhostFrost_4:{ctor:st,dt:3.7,dmg:800,blt:{ctor:t("GhostFire"),name:"",kb:.8,noBlend:!0,radius:30,anchorY:.5,hurtRadius:360,particle:"ice",length:65,dmg:300,n:1,wd:1,d:.04,spd:300,rnd:0,l:11800,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"frost",buff:"frozenBuff_Ghost_4",dmgType:"5"}},GhostEletric:{ctor:st,dt:3.7,dmg:800,dy:-100,blt:{ctor:t("GhostFire"),name:"",kb:.8,noBlend:!0,radius:30,anchorY:.5,hurtRadius:200,particle:"shandian",length:65,dmg:300,n:1,wd:1,d:.04,spd:300,rnd:0,l:11800,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"eletric",buff:"Eletric_Ghost",hitEffect:Effect.EletricBltHit,dmgType:"3"}},OnKillSpawnC4:{ctor:ot,dmg:850,chance:1,blt:{name:"",ctor:t("C4Bomb"),explodeTime:1.5,noBlend:!0,minradius:20,hurtradius:350,dmg:100,dmgk:20,l:0,accurateDis:1,st:0,frm:"effect/c4.png",anchorY:.5,length:35,kb:35,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:Effect.ExplosiveBlt,zOrder:1e3,alert:!0}},OnKillExplode:{ctor:ot,dmg:111,chance:1,dmgScaleRate:.1,blt:{name:"",ctor:t("Grenade"),explodeTime:1.5,noBlend:!0,minradius:20,hurtradius:350,dmg:100,dmgk:20,l:0,accurateDis:1,st:0,frm:"effect/c4.png",anchorY:.5,length:35,kb:35,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:Effect.ExplosiveBlt,zOrder:1e3,alert:!0}},OnKillSpawnDropInvincible:{ctor:rt,chance:.05,bonusChance:0,drop:"invincible"},OnKillSpawnDropAttack:{ctor:rt,chance:.05,bonusChance:0,drop:"attack"},OnKillSpawnDropAtkSpd:{ctor:rt,chance:.05,bonusChance:0,drop:"atkSpd"},OnKillSpawnDropMovSpd:{ctor:rt,chance:.05,bonusChance:0,drop:"movSpd"},AtkSpdUp:{name:"AtkSpdUp",ctor:a,effect:tt,t:30,addScale:[["atkSpd",.65]]},AtkSpdUp85:{name:"AtkSpdUp",ctor:a,effect:et,t:10,cdt:300,addScale:[["atkSpd",.5]]},MoveSpdUp:{name:"MovSpdUp",ctor:a,effect:it,t:5,addScale:[["moveSpd",1]]},MoveSpdUp65:{name:"MovSpdUp65",ctor:a,icon:"drop/movSpd",effect:it,t:5,addScale:[["moveSpd",.65]]},MoveSpdUp15:{name:"MovSpdUp65",ctor:a,effect:tt,t:15,addScale:[["moveSpd",.15]]},CritUp:{name:"CritUp",ctor:a,effect:tt,t:10,addScale:[["critChance",100]]},hurtDown:{name:"hurtDown",ctor:a,effect:tt,t:10,addScale:[["hurtScale",-.9]]},hpDrop:{ctor:r,t:2,dt:.5,dmgScaleRate:.1},HurtStop:{name:"HurtStop",ctor:o,t:3},PoisonLight:{ctor:h,t:2.1,dt:.7,dmgScaleRate:.1,effect:at},burningDamageLarge:{ctor:r,effect:nt,t:3,dt:.3,dmgScaleRate:.6},burningDamageN:{ctor:r,effect:nt,t:1.5,dt:.1,dmgScaleRate:.5},DotZoneFire:{ctor:r,effect:nt,t:3,dt:.5,dmgScaleRate:.2},DotZoneLightning:{ctor:h,effect:nt,t:3,dt:.5,dmgScaleRate:.2},OnHitSlowBuff:{ctor:d,slowDuration:2,chance:1},AddEp:{ctor:c},SlowBuff:{name:"OnHitSlowBuff-Proc",ctor:a,mutScale:[["moveSpd",.7]],t:1},Stun:{ctor:l,t:2},OnMeleeHitPoison:{ctor:u,chance:1,cd:0,buff:{name:"OnHitPoison-Proc",ctor:h,t:3,dt:1,dmg:1,dmgScaleRate:.3,effect:at}},OnHitPoison:{ctor:f,chance:.5,cd:0,buff:{name:"OnHitPoison-Proc",ctor:h,t:1,dt:.1,dmg:1}},OnHitArmorPentrationForWidow:{ctor:m,chance:1,cd:0,buff:{name:"OnHitArmorPentrationForWidow-Proc",ctor:a,addScale:[["armorLevel",-125]],t:5}},OnHitSpeedUp:{ctor:Z,chance:.5,cd:1,buff:{name:"OnHitSpeedUp-Proc",ctor:a,t:1,addScale:[["moveSpd",3],["atkSpd",3]]}},OnHpLowRecover:{ctor:p,hpRate:.9,cd:3,buff:{ctor:g,t:1,dt:.1,hp:50}},OnStandRecover:{ctor:v,standTime:1,buff:{ctor:g,dt:.1,hp:100}},FreezeBlockOnHpLow:{ctor:k,hpRate:.5,cd:99,hpRe:10,duration:5},RecoverOnHpLow:{ctor:p,num:10,cd:99,hpRate:.5},RecoverShieldOnShieldOff:{ctor:y,num:10,cd:99,epRate:0,latency:5},OnHitCountRecover:{ctor:S,count:3,buff:{ctor:g,t:1,dt:.1,hp:100}},OnDeathBonusAttack:{ctor:_,duration:5,atkDmg:0,attackScale:0,hpRate:0},OnHitEnemy:{ctor:f},OnPoisonSpeed:{},OnSlowEpRecover:{},PulseBombOnHit:{ctor:x},SprintInstantCooldownOnLowHp:{ctor:w},BonusCritChanceOnHighEp:{ctor:B},BonusAttackSpeedBuffOnHit:{ctor:C},Attribute:{name:"Attribute",ctor:a},AddAttribute:{name:"AddAttribute",ctor:A},MulAttribute:{name:"MulAttribute",ctor:T},OnHitHpHighMulAttr:{name:"OnHitHpHighMulAttr",ctor:D,num:.5,cd:.5,hpRate:.5},OnHpLowMulAttr:{name:"OnHpLowMulAttr",ctor:q,attr:"atkDmg",num:0,cd:.5,hpRate:.5},OnHpHighMulAttr:{ctor:M,attr:"atkDmg",num:0,cd:.5,hpRate:.5},OnHpHighMulAttr2:{name:"OnHpHighMulAttr2",ctor:M,attr:"atkDmg",num:0,cd:.5,hpRate:.5},RecoverHpOnLowHp:{name:"RecoverHpOnLowHp",ctor:E,hpRate:.5,regenRate:.1},StunOnHit:{name:"StunOnHit",ctor:f,chance:.01,buff:{ctor:l,t:1}},OnStandCritForWidow:{ctor:v,standTime:5,buff:{ctor:a,addScale:[["critChance",1]]}},OnStandAtk:{ctor:v,standTime:1,buff:{ctor:a,effect:"buffSpin",effectCfg:{img:"aura/buff/1"},addScale:[["atkDmg",30]]}},OnStandAtkSpd:{ctor:v,standTime:2,buff:{stack:1,effect:"buffSpin",effectCfg:{img:"aura/buff/1",scale:.7,rotateSpd:2},ctor:a,addScale:[["atkSpd",.1]]}},OnStandCrit:{ctor:v,standTime:1,buff:{ctor:a,addScale:[["critChance",.2]]}},CritOnHitCount:{ctor:R},BonusCritChanceOnKill:{buff:{ctor:a},ctor:I,count:3},atkDebuff:{ctor:O,name:"atkDebuff",t:2,atkScale:.9},hurtScale:{ctor:N,name:"hurtScale",t:2,hurtScale:1.1},shangDebuff:{ctor:L,t:2,name:"ShangDebuff",atkScale:.5,hurtScale:2,effect:Effect.shang},invincibleBuff:{ctor:s,t:2,name:"InvincileBuff",visual:1},invincibleBuffAuto:{ctor:s,t:6,name:"InvincileBuff",visual:1},hurtInvincible:{ctor:s,t:.7,name:"hurtInvincible"},DropAttackBuff:{name:"DropItemAttackBuff",ctor:a,effect:tt,t:12,addScale:[["atkDmg",.3]],add:[["critChance",1]]},BltSizeUp:{ctor:Q,t:12},InfiniteAmmo:{name:"InfiniteAmmoBuff",ctor:F,t:10,cd:2},StandToHeal:{ctor:P,healPerSec:25,hpMax:.7,standTime:10},InvincibleOnHurt:{ctor:H,cdTime:5},DaggerMastery:{ctor:G},RangeMastery:{ctor:G},MeleeMastery:{ctor:G},OnHurtGetAttr:{ctor:j,buff:{ctor:a,t:2,addScale:[["atkSpd",.3]]}},OnHurtEnmeyGetFrost:{ctor:j,target:"enemy",buff:{effect:t("ColdBuff"),cooldownFlag:"frozenBuff_OnHurtEnmeyGetFrost",ctor:n,cd:3,t:6,duration:2,chance:1}}}).frozenBuff_Ghost={ctor:n,effect:t("ColdBuff"),name:"frozenBuff",cd:3,t:6,duration:1.5,chance:1,cooldownFlag:"frozenBuff_Ghost"},i.OnMedicine={ctor:U,healPercent:.2,healTime:10},i.InvincibleOnDead={ctor:W,healPercent:1,duration:2},i.Rend={ctor:z,dmgPercent:.05,duration:5},i.HurtScaleOnAttack={ctor:Y,hurtScale:-.2},i.WeaponSteady={ctor:K},i.RunSpeed={ctor:J},i.Difficulty3={ctor:g,dt:5,hpPercent:.02},i.Difficulty4={ctor:f,chance:.25,buff:{ctor:l,t:1}},i.Difficulty5={ctor:s,t:1},i.Difficulty6={ctor:V,cd:30,addScale:[["atkDmg",.05]]},i.Difficulty7={ctor:X,cd:2,addScale:[["critChance",.1]]},i.SpecialWeapon={ctor:$,t:9999},i.Poison_Monster={ctor:h,effect:at,t:2,dt:.5,dmg:0,dmgScaleRate:1},i.onKillAtkSpd={ctor:t("OnKillGetBuffBuff"),spawnBuff:"AtkSpdUp_20",chance:1},i.onKillAtkSpd_2={ctor:t("OnKillGetBuffBuff"),spawnBuff:"AtkSpdUp_25",chance:1},i.onHitBonusAtk={ctor:t("OnHitGetBuffBuff"),spawnBuff:"atkDmgStack",chance:1},i.atkDmgStack={name:"atkDmgStack",ctor:a,effect:tt,t:.8,stack:50,addScale:[["atkDmg",.01]]},i.onReloadAtkSpd={ctor:ht,spawnBuff:"AtkSpdUp05",triggerType:"onReload"},i.AtkSpdUp05={name:"AtkSpdUp",ctor:a,effect:tt,t:1,addScale:[["atkSpd",.5]]},i.AtkSpdUp_20={name:"AtkSpdUp",ctor:a,effect:tt,t:1,addScale:[["atkSpd",.2]]},i.AtkSpdUp_25={name:"AtkSpdUp",ctor:a,effect:tt,t:1,addScale:[["atkSpd",.25]]},i.onReloadAtk={ctor:ht,spawnBuff:"AtkUp05",triggerType:"onReload"},i.onReloadCrit={ctor:ht,spawnBuff:"CritUp2",triggerType:"onReload"},i.onReloadCritB={ctor:ht,spawnBuff:"CritBUp1",triggerType:"onReload"},i.AtkUp05={name:"AtkSpdUp",ctor:a,effect:tt,t:1,addScale:[["atkDmg",.5]]},i.WithoutHurtCheck={ctor:t("WithoutHurtGetBuffBuff")},i.AtkUpWithoutHurt={name:"AtkSpdUp",ctor:a,addScale:[["atkDmg",.1]]},i.OnFirstBulletCrit={ctor:ut,spawnBuff:"CritUp1",triggerType:"onReload",spawnBuff2:"CritUp2",buffTime:1},i.CritUp1={name:"CritUp1",ctor:a,effect:"buffSpin",effectCfg:{img:"aura/buff/3"},add:[["critChance",1]]},i.CritUp2={name:"CritUp2",ctor:a,effect:"buffSpin",effectCfg:{img:"aura/buff/3"},t:1,add:[["critChance",1]]},i.CritBUp1={name:"CritBUp1",ctor:a,effect:"buffSpin",effectCfg:{scale:.7,rotateSpd:2},t:1,add:[["critBonus",.2]]},i.onMoveAtk={ctor:b,moveTime:1,buff:{effect:"buffSpin",effectCfg:{img:"aura/buff/2"},ctor:a,addScale:[["atkDmg",.3]],t:2}},i.onMoveAtkSpd={ctor:b,moveTime:1,buff:{effect:"buffSpin",ctor:a,effectCfg:{img:"aura/buff/2"},addScale:[["atkSpd",.2]],t:2}},i.onMoveCrit={ctor:b,moveTime:1,buff:{effect:"buffSpin",effectCfg:{img:"aura/buff/3",scale:.7,rotateSpd:2},ctor:a,addScale:[["critChance",.2]],t:2}},i.OnHitSuddenKill={ctor:t("OnHitSuddenKillBuff"),chance:.02},i);window.BuffDefine=ft,function(){for(var t in ft)ft[t].name=t,ft[t].symbol=getUniqueSymbol(),ft[t].buff&&(ft[t].buff.symbol=getUniqueSymbol(),ft[t].buff.name||(ft[t].buff.name=ft[t].name+"-Proc"))}(),cc._RF.pop()},{AddEpBuff:"AddEpBuff",AtkDebuff:"AtkDebuff",AttackBuff:"AttackBuff",AttackBuff2:"AttackBuff2",AttributeBuff:"AttributeBuff",AutoBltBuff:"AutoBltBuff",AutoBuffBuff:"AutoBuffBuff",BltSizeUp:"BltSizeUp",BonusAttackSpeedBuffOnHitBuff:"BonusAttackSpeedBuffOnHitBuff",BonusCritChanceOnHighEpBuff:"BonusCritChanceOnHighEpBuff",BonusCritChanceOnKillBuff:"BonusCritChanceOnKillBuff",Buff:"Buff",Burning:"Burning",C4Bomb:"C4Bomb",ColdBuff:"ColdBuff",CritOnHitCountBuff:"CritOnHitCountBuff",Effect:"Effect",EletricBuff:"EletricBuff",EletricCoolDownBuff:"EletricCoolDownBuff",FreezeBlockOnHpLowBuff:"FreezeBlockOnHpLowBuff",FrozenBuff:"FrozenBuff",FrozenCoolDownBuff:"FrozenCoolDownBuff",GhostFire:"GhostFire",GradualAttributeBuff:"GradualAttributeBuff",GradualLowHpAttributeBuff:"GradualLowHpAttributeBuff",Grenade:"Grenade",Grenade2:"Grenade2",GuidedMissileDirect:"GuidedMissileDirect",HurtScale:"HurtScale",HurtScaleOnAttackBuff:"HurtScaleOnAttackBuff",HurtStopBuff:"HurtStopBuff",InfiniteAmmoBuff:"InfiniteAmmoBuff",InvincibleOnDeadBuff:"InvincibleOnDeadBuff",InvincibleOnHurtBuff:"InvincibleOnHurtBuff",InvincileBuff:"InvincileBuff",OnDeathBonusAttackBuff:"OnDeathBonusAttackBuff",OnFirstBulletBuff:"OnFirstBulletBuff",OnHitArmorPentrationForWidowBuff:"OnHitArmorPentrationForWidowBuff",OnHitCountBuff:"OnHitCountBuff",OnHitEnemyBuff:"OnHitEnemyBuff",OnHitGetBuffBuff:"OnHitGetBuffBuff",OnHitHpHighMulAttrBuff:"OnHitHpHighMulAttrBuff",OnHitSelfBuff:"OnHitSelfBuff",OnHitSlowBuff:"OnHitSlowBuff",OnHitSuddenKillBuff:"OnHitSuddenKillBuff",OnHpHighMulAttrBuff:"OnHpHighMulAttrBuff",OnHpLowBuff:"OnHpLowBuff",OnHpLowMulAttrBuff:"OnHpLowMulAttrBuff",OnHurtBonusAttributeBuff:"OnHurtBonusAttributeBuff",OnHurtGetBuffBuff:"OnHurtGetBuffBuff",OnKillBltSpawnBuff:"OnKillBltSpawnBuff",OnKillGetBuffBuff:"OnKillGetBuffBuff",OnKillRegenBuff:"OnKillRegenBuff",OnKillSpawnDropBuff:"OnKillSpawnDropBuff",OnMedicineBuff:"OnMedicineBuff",OnMeleeHitEnemyBuff:"OnMeleeHitEnemyBuff",OnMoveBuff:"OnMoveBuff",OnStandBuff:"OnStandBuff",Poison:"Poison",PoisonBuff:"PoisonBuff",PulseBombOnHitBuff:"PulseBombOnHitBuff",RecoverBuff:"RecoverBuff",RecoverHpOnLowHpBuff:"RecoverHpOnLowHpBuff",RecoverShieldOnShieldOffBuff:"RecoverShieldOnShieldOffBuff",RendBuff:"RendBuff",RunBuff:"RunBuff",ShangDebuff:"ShangDebuff",SimpleAddAttrBuff:"SimpleAddAttrBuff",SimpleMulAttrBuff:"SimpleMulAttrBuff",SpecialWeapon:"SpecialWeapon",SpeedBuff:"SpeedBuff",SpiderBuff:"SpiderBuff",SprintInstantCooldownOnLowHpBuff:"SprintInstantCooldownOnLowHpBuff",StandToHealBuff:"StandToHealBuff",StunBuff:"StunBuff",WeaponMasterBuff:"WeaponMasterBuff",WeaponSteadyBuff:"WeaponSteadyBuff",WithoutHurtGetBuffBuff:"WithoutHurtGetBuffBuff",onFireBuff:"onFireBuff"}],BuffUI:[function(t,e){"use strict";cc._RF.push(e,"d79ddLZCvdKwq/gn4HEpKKn","BuffUI"),cc._RF.pop()},{}],Buff:[function(t,e){"use strict";cc._RF.push(e,"86a36GuXg5N+7ejBHO2CNri","Buff"),cc.Class({init:function(t,e,i){this.define=t,this.config=e,this.game=i,this.icon=this.config.icon||this.define.icon;var a=e.obj;this.obj=a;var n=t.symbol;if(this.symbol=n,this.id=this.config.id||this.define.id,!a.isDead&&!this.checkStop()){var s;if(!n)throw cc.error("Buff.ctor: symbol is not defined:"+t.name),new Error("Buff.ctor: symbol is not defined:"+t.name);var o=a.buffList;if(!o)throw cc.error("Buff.ctor: ERR WITH BUFFLIST:"+a.define.name),new Error("Buff.ctor: ERR WITH BUFFLIST:"+a.define.name);this.define.stack&&!this.stack&&(this.stack=1),this.castTimer=t.t,o[n]&&(this.callCover(o[n]),s=!0),o[n]=this,this.begin(),this.game.addUpdate(this),s||this.initEffect()}},initEffect:function(){if(this.define.startEffect&&(new this.define.startEffect).init(this.obj,this.game),this.define.effect){if("string"==typeof this.define.effect)var t=Effect[this.define.effect];else t=this.define.effect;this.effect=new t,this.effect.init(this.obj,this.game,this.define.effectCfg)}},checkStop:function(){return!1},removeEffect:function(){this.effect&&(this.effect.remove?this.effect.remove():this.effect&&this.effect.destroy(),this.effect=null)},callCover:function(t){this.label=t.label,this.effect=t.effect,this.stack=t.stack,t.end(!0),this.game.removeUpdate(t),this.define.stack&&this.stack<this.define.stack&&this.stack++,this.define.stackTime&&(this.castTimer+=t.castTimer,this.castTimer>this.define.stackTime&&(this.castTimer=this.define.stackTime)),this.cover(t)},callEnd:function(){this.end(),this.removeEffect(),this.game.removeUpdate(this),delete this.obj.buffList[this.symbol]},updateLogic:function(t){this.castTimer&&(this.castTimer-=t,this.castTimer<=0)?this.callEnd():this.excute(t)},cover:function(){},begin:function(){},excute:function(){},end:function(){}}),window.uniqueSymbolIndex=0,window.getUniqueSymbol=function(){return uniqueSymbolIndex++,uniqueSymbolIndex},cc._RF.pop()},{}],BuildTurretSkill:[function(t,e){"use strict";cc._RF.push(e,"67f97P5Fi5NYK0/zTfp1MVF","BuildTurretSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.n=this.define.n,this.buildT=this.define.buildT,this.existT=this.define.existT,this.turretID=this.define.turretID,this.atkDt=this.define.atkDt,this.idleTimer=0,this.noExcute=!1,this.hp=this.define.hp,this.a=this.define.a,this.crit=this.define.crit,this.dmg=this.define.dmg,this.spd=this.define.spd,this.l=this.define.l,this.tD=kit.clone(ENTITYS[this.turretID]),this.tD.attackSequence[0].t=this.atkDt;var t=1;this.n>1&&(t=this.define.hpScale||1);var e=this.obj;this.tC={te:e.team,deg:e.deg,stat:{hp:this.hp*t,attack:this.dmg,armor:this.a,crit:this.crit}},this.tD.blt[0].spd=this.spd,this.tD.blt[0].l=this.l,e.setNoMove(!0),e.setNoRotate(!0),e.setNoAttack(!0),e.setNoSkills(!0),e.setForcedAnime("skill",2/this.buildT),e.refreshAvatar();for(var i=kit.degree2Radian(this.obj.deg),a=0;a<this.n;a++){var n=kit.degree2Radian(90*a-45*(this.n-1));this.showWorkingBase(e.x+60*Math.sin(i+n),e.y+60*Math.cos(i+n))}kit.initTimer(this,"building")},repairEffect:function(t,e){var i=this.game.effectMgr.createParticle(t,e,"repair"),a=i.getComponent(cc.ParticleSystem);a.positionType=cc.ParticleSystem.PositionType.RELATIVE,a.autoRemoveOnFinish=!0,a.duration=.1,this.game.camera.addChild(i,1e7),this.game.effectMgr.play(SoundEffectPath.torbjorn_BuildTurret)},showWorkingBase:function(t,e){var i=this.tD,a=this.tD.avatar.base,n=this.effectMgr.createSprite(0,0,a);n.scale=.4*(i.scale||1),n.angle=-this.obj.deg,n.x=t,n.y=e,this.game.camera.addChild(n,1),n.runAction(cc.sequence(cc.delayTime(this.buildT+.2),cc.destroySelf()))},excute:function(t){if(!this.game.fastMode&&kit.timer(this,"building",this.buildT/2*.65,t)&&this.idleTimer<this.buildT)for(var e=this.obj,i=kit.degree2Radian(this.obj.deg),a=0;a<this.n;a++){var n=kit.degree2Radian(90*a-45*(this.n-1));this.repairEffect(e.x+60*Math.sin(i+n),e.y+60*Math.cos(i+n))}if(this.idleTimer+=t,!(this.idleTimer<this.buildT||this.noExcute))for(this.noExcute=!0,(e=this.obj).setNoMove(!1),e.setNoRotate(!1),e.setNoAttack(!1),e.setNoSkills(!1),e.setForcedAnime(null),e.refreshAvatar(),i=kit.degree2Radian(e.deg),a=0;a<this.n;a++){n=kit.degree2Radian(90*a-45*(this.n-1)),this.tC.x=e.x+60*Math.sin(i+n),this.tC.y=e.y+60*Math.cos(i+n);var s=new this.tD.ctor(this.tD,this.tC);s._removeTurret={},s._removeTurret.unit=s,s._existT=this.existT,s._timeCounter=0,s._removeTurret.updateLogic=function(t){this.unit._timeCounter+=t,this.unit._timeCounter>this.unit._existT&&(this.unit.isDead||this.unit.death(),this.game.removeUpdate(this))},this.game.addUpdate(s._removeTurret)}},end:function(){if(!this.noExcute){var t=this.obj;t.setNoMove(!1),t.setNoRotate(!1),t.setNoAttack(!1),t.setNoSkills(!1),t.setForcedAnime(null),t.refreshAvatar()}}}),cc._RF.pop()},{Skill:"Skill"}],BulletFrost:[function(t,e){"use strict";cc._RF.push(e,"fcfefMlX09PwJqzhM1qduMO","BulletFrost");var i=cc.Class({extends:t("Bullet"),initSprite:function(){if(!this.game.fastMode){this.define;var t=this.config.obj;if(t.Electric&&t.Electric.lifetime)t.Electric.start(this.define.lifetime),t.Electric.updateFunc(0);else{t.Electric&&(t.Electric.autoRemoveOnFinish=!0);var e=t.attackSequence[t.attackIndex],i=Effect.Frost(e.x,e.y,t,this.game);t.Electric=i,t.Electric.lifetime=this.define.lifetime,t.Electric.start(this.define.lifetime),t.Electric.updateFunc(0)}this.config.obj.Electric.updateLength(this.define.l)}},hit:function(t,e){this._super(t,e,DMG_TYPE.fire),!this.alreadyFire&&Math.random()>.8&&(this.alreadyFire=!0)},updateLogic:function(t){this._super(t),!this.alreadyFire&&Math.random()>.85+this.timer/2&&(this.alreadyFire=!0)},hitWall:function(t,e){!this.alreadyFire&&Math.random()>.8&&(this.alreadyFire=!0);var i=this.config.obj,a=kit.norm(t-i.x,e-i.y);i.Electric&&i.Electric.updateLength(a),this.isRemoved=!0,this.game.removeUpdate(this),g_sharedContactManager.removeBullet(this)},hitGroundEffect:function(){var t=this.config.obj;t.Electric&&t.Electric.updateLength(this.define.l)}});e.exports=i,cc._RF.pop()},{Bullet:"Bullet"}],BulletLaser:[function(t,e){"use strict";cc._RF.push(e,"0597b0Qc+JNdKvPyAFsY+SZ","BulletLaser");var i=cc.Class({extends:t("Bullet"),initSprite:function(){if(!this.game.fastMode){this.define;var t=this.config.obj,e=t.attackSequence[t.attackIndex];if(!t.Electric){t.Electric&&(t.Electric.autoRemoveOnFinish=!0);var i=Effect.Laser(e.x,e.y,t,this.game);t.Electric=i,t.Electric.lifetime=this.define.lifetime,i.opacity=0}}},move:function(){this._super.apply(this,arguments);var t=this.config.obj;t.Electric.x=this.x,t.Electric.y=this.y,this.ox=this.x,this.oy=this.y},hit:function(t,e){var i=this._super(t,e,DMG_TYPE.fire);if(!this.alreadyFire&&Math.random()>.8&&(this.alreadyFire=!0),i){var a=kit.vector2Degree(t.y-this.oy,t.x-this.ox),n=kit.norm(this.ox-t.x,this.oy-t.y);this.obj.Electric.start(.1),this.obj.Electric&&this.obj.Electric.updateLength(n,a)}Effect.WidowHitEffect2(t.x,t.y,this.deg,1,this.game)},updateLogic:function(t){this._super(t),!this.alreadyFire&&Math.random()>.85+this.timer/2&&(this.alreadyFire=!0)},hitWall:function(t,e){!this.alreadyFire&&Math.random()>.8&&(this.alreadyFire=!0);var i=this.config.obj,a=kit.vector2Degree(e-this.oy,t-this.ox),n=kit.norm(t-this.ox,e-this.oy);i.Electric.start(this.define.lifetime),i.Electric&&i.Electric.updateLength(n,a),this.game.fastMode||(this.blockEffect(t,e,this.deg),this.smoke&&this.smoke.updateSmoke(0,t,e)),this.remove("hitWall")},hitGroundEffect:function(t,e,i){var a=this.config.obj;a.Electric.start(this.define.lifetime),i=kit.vector2Degree(e-this.oy,t-this.ox),a.Electric&&a.Electric.updateLength(this.define.l,i);var n=this.define;n.hitFloorEffect?n.hitFloorEffect(t,e,i+180,1,this.game):n.hitEffect?n.hitEffect(t,e,i+180,1,this.game,this.dmg):Effect.WidowHitEffect(t,e,i+180,this.game)}});e.exports=i,cc._RF.pop()},{Bullet:"Bullet"}],BulletMei:[function(t,e){"use strict";cc._RF.push(e,"9520eLAQ9pPgLjo3cNLO/1a","BulletMei");var i=cc.Class({extends:t("Bullet"),move:function(t,e){this._super(t,e),this.checkList=[],this.radius=10,this.spdR=70},blockEffect:function(){},hitGroundEffect:function(){},getBlocked:function(){this.fade()},hitWall:function(){this.fade()},fade:function(){this.isFade||(this.isFade=!0,g_sharedContactManager.removeBullet(this),this.sprite&&this.sprite.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(this.remove,this))))},updateLogic:function(t){this._isActiveContact?(this.dx=this.spdX*t,this.dy=this.spdY*t,this.radius+=this.spdR*t):(this.x+=this.spdX*t,this.y+=this.spdY*t),this.timer-=t,this.updateSprite(t),this.timer<=0&&this.fade()},remove:function(){this.isRemoved||(this.isRemoved=!0,this.game.removeUpdate(this),this.removeSprite())},removeSprite:function(){this.sprite&&(this.sprite.destroy(),this.sprite=null)},hit:function(t,e){if(!this.checkList[t.uniqueID]&&(this.checkList[t.uniqueID]=!0,!this.obj.hit(this.dmg,this,t,null,null,e))){if(t.buffList){var i=this.buff;i&&(!i.chance||Math.random()<i.chance)&&new i.ctor(i,{obj:t,from:this.obj});for(var a=this.buffs,n=0;n<a.length;n++)new a[n].ctor(a[n],{obj:t,from:this.obj})}var s=this.knockBack/t.weight;t.knockback(this.spdX*s,this.spdY*s)}}});e.exports=i,cc._RF.pop()},{Bullet:"Bullet"}],Bullet:[function(t,e){"use strict";cc._RF.push(e,"aa731Xj9x9PBpAAUh5UlchH","Bullet");var i=cc.Class({extends:t("Ammo"),init:function(t,e,i){this._super(t,e,i),this.game=i},move:function(t,e,i){this._super(t,e,i),g_sharedContactManager.addBullet(this),this.effectMgr.play(SoundEffectPath.soldier_76_Cannon2);var a=this.sprite;if(this.game.fastMode||(this.smoke=this.define.smoke&&Effect[this.define.smoke]&&Effect[this.define.smoke](this.sprite,this.game)),a){var n=this.define,s=n.sx||1,o=n.sy||1;if(this.config.size&&(s*=this.config.size,o*=this.config.size),a.setScale(s,o),this.define.sameR){var r=a.width,c=2*this.radius/r;a.setScale(c)}this.sx=s,this.sy=o,n.st&&(this.sx=n.sx1||1,this.sy=n.sy1||1,this.config.size&&(this.sx*=this.config.size,this.sy*=this.config.size),a.runAction(cc.scaleTo(n.st||.3,this.sx,this.sy)))}},removeSprite:function(){this.sprite&&(this.sprite.destroy(),this.sprite=null)},remove:function(t,e){if(!this.isRemoved){if(this.smoke&&this.smoke.remove(),!this.game.fastMode&&"maxLength"==t){var i=kit.vector2Radian(-this.spdY,-this.spdX);this.hitGroundEffect(this.x,this.y,kit.radian2Degree(i))}this._super(t,e)}},hit:function(t,e,i){if(!this.alwaysCheck){if(this.hurtedObject==t)return void cc.log("hurtedObject");this.hurtedObject=t}if(!this.obj.hit(this.dmg,this,t,i,null,e)){if(t.buffList){var a=this.buff;"string"==typeof a&&(a=BuffDefine[a]),a&&(!a.chance||Math.random()<a.chance)&&(new a.ctor).init(a,{obj:t,from:this.obj},this.game);for(var n=this.buffs,s=0;s<n.length;s++)(new n[s].ctor).init(n[s],{obj:t,from:this.obj},this.game)}var o=this.knockBack/t.weight;t.knockback(this.spdX*o,this.spdY*o);var r=this.x,c=this.y,h=this.lx,d=this.ly;if(this.sprite){var l=this.define,u=this.define.hitEffectScale||1,f=!1;if(l.hitEffect&&(f=l.hitEffect(r+h*e,c+d*e,this.deg,u,this.game,this.dmg)),t.hurtEffect)t.hurtEffect(r+h*e,c+d*e,this.deg,this.game);else if(!f){o=(o=this.knockBack/.025*.3+.7)>1?1.2:1.2*o;var m=kit.degree2Radian(this.deg);Math.random(),t.radius,Math.sin(m),Math.cos(m),t.radius,Math.random(),t.radius,t.radius,Math.random(),t.radius,Effect.WidowHitEffect2(r+h*e,c+d*e,this.deg,u,this.game)}}if(this.define.hitShake&&this.game.shake(this.define.hitShake,this.define.hitShake,8),this.define.hitSound&&this.game.effectMgr.play(SoundEffectPath[this.define.hitSound]),!this.alwayThrough||this.define.chain){if(this.thrDeath&&t.hp<0)return this.dmg*=this.thrDecline,void this.thrDeath--;if(!(this.thrCount&&(this.thrCount--,Math.random()<this.thrChance)))return this.smoke&&this.smoke.remove(),this.x=r-h*e,this.y=c-d*e,this.remove("hit",t),!0;this.dmg*=this.thrDecline}}},blockEffect:function(t,e,i){var a=this.define;a.hitFloorEffect?a.hitFloorEffect(t,e,i+180,1,this.game,this.dmg):a.hitEffect?a.hitEffect(t,e,i+180,1,this.game):Effect.WidowHitEffect(t,e,i+180,this.game)},hitGroundEffect:function(t,e,i){var a=this.define;a.hitFloorEffect?a.hitFloorEffect(t,e,i+180,1,this.game,this.dmg):a.hitEffect?a.hitEffect(t,e,i+180,1,this.game,this.dmg):Effect.WidowHitEffect(t,e,i+180,this.game)},getBlocked:function(){this.game.fastMode||this.blockEffect(this.x,this.y,this.deg),this.remove("getBlocked")},hitWall:function(t,e){this.game.fastMode||(this.blockEffect(t,e,this.deg),this.smoke&&this.smoke.remove()),this.remove("hitWall")}});e.exports=i,cc._RF.pop()},{Ammo:"Ammo"}],Burning:[function(t,e){"use strict";cc._RF.push(e,"b24aa0lvSlMtrfvZPAaEDoB","Burning"),cc.Class({extends:cc.Node,init:function(t){t.addChild(this),this.obj=t;var e=t.game.effectMgr.createParticle(0,0,"fire3");this.addChild(e),this.sprite=e},update:function(){},remove:function(){this.sprite.destroy(),this.destroy()}}),cc._RF.pop()},{}],C4Bomb:[function(t,e){"use strict";cc._RF.push(e,"adcd9xNJY1LxKMkubxlqbRL","C4Bomb"),cc.Class({extends:t("GrenadeWithLatency"),move:function(){this._super.apply(this,arguments),this.deg=0,this.sprite.angle=0,this.timer=0,this.speed=0},updateSprite:function(){if(this.sprite){var t=this.timer;if(t<0&&(t=0,!this.sprite.isStop)){this.sprite.isStop=!0;var e=this.effectMgr.createSprite(10,20,"test"),i=e.getComponent(cc.Sprite);i.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,i.dstBlendFactor=cc.macro.BlendFactor.ONE,e.scale=2,e.color=cc.color(255,0,0),this.sprite.addChild(e);var a=this;e.runAction(cc.sequence(cc.blink(.15,1),cc.callFunc(function(){a.effectMgr.play(SoundEffectPath.SoundEffectPath)})).repeatForever())}}}}),cc._RF.pop()},{GrenadeWithLatency:"GrenadeWithLatency"}],Cannon76:[function(t,e){"use strict";cc._RF.push(e,"8a68ax36n9EWpcZRx4o5u0W","Cannon76"),t("Animation");var i=cc.Class({extends:t("Bullet"),blockEffect:function(t,e){var i=Effect.Animation.createByObj({name:"effect/76/ult/hit/baozha_0000",frame:5,startNum:1,loop:0,dt:.05});this.game.camera.addChild(i,1e5),i.x=t,i.y=e,this.game.shake(5,5),Effect.AfterBurn(t,e)},hitGroundEffect:function(t,e){var i=Effect.Animation.createByObj({name:"effect/76/ult/hit/baozha_0000",frame:5,startNum:1,loop:0,dt:.05});i.x=t,i.y=e,this.game.camera.addChild(i,1e5),this.game.shake(5,5),Effect.AfterBurn(t,e),this.effectMgr.play(SoundEffectPath.soldier_76_Cannon2)}});e.exports=i,cc._RF.pop()},{Animation:"Animation",Bullet:"Bullet"}],CannonSkill:[function(t,e){"use strict";cc._RF.push(e,"3190ejp8NVAgI650ncKVCyM","CannonSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;if(this.game.effectMgr.play(SoundEffectPath.soldier_76_Cannon),this.r=this.define.r,this.dmg=this.define.dmg,this.l=this.define.l,this.spd=this.define.spd,this.blt=kit.clone(this.define.blt),this.blt.spd=this.spd,this.blt.dmg=this.dmg,this.blt.l=this.l,this.blt.radius=this.r,this.game.hero&&this.game.hero.define.id==HERO_SOLDIER_76&&this.game.controller&&(this.blt._needCount=!0,this.game.onceKilledCount=0),this.symbol||(this.symbol=getUniqueSymbol()),this.define.stunTime&&(this.blt.buff={name:"ReaperRoundshotStun",ctor:StunBuff,symbol:getUniqueSymbol(),t:this.define.stunTime,chance:this.define.stunChance}),this.define.slowTime&&(this.blt.buffs||(this.blt.buffs=[]),this.blt.buffs.push({name:"CannonSkillSlow",ctor:AttributeBuff,symbol:this.symbol,t:this.define.slowTime,mutScale:[["moveSpd",this.define.slowScale||0]]})),this.fired=!1,this.obj.setNoMove(!0),this.obj.setNoAttack(!0),this.obj.setNoRotate(!0),!this.game.fastMode){this.obj.playAnim({anim:"skill_1",loop:0,time:.8,speed:1.7});var t=Effect.Animation.createByObj({name:"effect/76/ult/fire/xuanwo_0000",frame:4,startNum:1,delayTime:.7,loop:1,dt:.05,bindScheduler:!0});t.y=110,t.x=20,t.scale=0,t.runAction(cc.scaleTo(.1,1)),this.obj.addChild(t,1e5)}},end:function(){this._super(),this.obj.setNoMove(!1),this.obj.setNoAttack(!1),this.obj.setNoRotate(!1)},updateRotate:function(t,e,i,a,n){var s,o=t.deg;return(s=i-o)>180?s-=360:s<-180&&(s+=360),(s=s*a*e)>n?s=n:s<-n&&(s=-n),o=(o+s+360)%360,t.deg=o,t.angle=-o,s},aimTarget:function(t){var e=this.obj,i=this.obj.convertToWorldSpace(cc.v2(15,120)),a=this.game.camera.convertToNodeSpace(i),n=a.x,s=a.y;!e.isAutoTarget&&e.target&&!e.target.isDead&&e.target||e.seekTarget();var o=e.target;if(o&&kit.norm(o.x-e.x,o.y-e.y)>100){var r=kit.vector2Radian(o.y-s,o.x-n),c=kit.radian2Degree(r);this.updateRotate(e,t,c,10,30)}},excute:function(t){if(this.castTimer>.1||this.fired)return this.game.shake(.3,.3),void this.aimTarget(t);var e=this.obj,i=this.obj.convertToWorldSpace(cc.v2(15,120)),a=this.game.camera.convertToNodeSpace(i),n=a.x,s=a.y,o=e.team;this.fired=!0;var r=kit.degree2Radian(e.deg),c=-30*Math.sin(r),h=-30*Math.cos(r);if(this.obj.knockback(c,h),!this.game.fastMode){this.game.shake(-c,-h);var d=Effect.Animation.createByObj({name:"effect/76/ult/fire/qiangkou_0000",frame:3,startNum:5,delayTime:.8,dt:.05});d.angle=this.obj.angle,d.y=s,d.x=n,d.runAction(cc.spawn(cc.scaleTo(.8,1.2),cc.fadeOut(.8))),this.game.camera.addChild(d,this.obj.getLocalZOrder()+1e5)}Ammofactory(e,this.blt,{obj:e,x:n,y:s,te:o},this.game)}}),cc._RF.pop()},{Skill:"Skill"}],ChargeAndWanderAI:[function(t,e){"use strict";cc._RF.push(e,"3b560TrVG9MRKf6m97W45LA","ChargeAndWanderAI");var i=cc.Class({extends:t("AI"),initStatusSeek:function(){this.seekOffsetTimer||this.refreshSeekOffset(),this.astarTimer=0,this.seekCD=0,this.moveTime=this.define.moveTime||3,this.moveRange=this.define.moveRange||100,this.moveRangeRand=this.define.moveRangeRand||100,this.chargeTime=this.define.chargeTime||3,this.astarTime=this.define.astarTime||1,this.astarTimeRand=this.define.astarTimeRand||1,this.moveStyle="wander",this.moveStyleChangeTimer=this.moveTime,this.bltTime=this.define.bltTime,this.bltTimer=Math.random()*this.bltTime,this.bltSeqOnTime=this.define.bltSeqOnTime},updateStatusSeek:function(t){var e=this.obj;if(this.moveTimer-=t,this.moveStyleChangeTimer-=t,this.moveStyleChangeTimer<0&&(this.moveStyle="charge"==this.moveStyle?"wander":"charge",this.moveStyleChangeTimer="charge"==this.moveStyle&&this.chargeTime||this.moveTime),!e.isDead&&!e.isStun){this.bltTime&&(this.bltTimer-=t,this.bltTimer<0&&(this.bltTimer=this.bltTime,e.callAttack({attackSequenceIndex:this.bltSeqOnTime}))),this.seekCD-=t,(this.seekCD<=0||this.target&&this.target.isDead)&&(this.seekCD=1+Math.random(),this.seekTarget());var i=this.target;if(i){this.checkSkill(i);var a=this.define,n=o-e.x0,s=r-e.y0;if(i.radius,e.radius,a.sr,this.astarTimer-=t,this.astarTimer<=0){if(this.seekOffsetTimer>0&&(this.seekOffsetTimer-=t,this.seekOffsetTimer<=0&&this.refreshSeekOffset()),a.ar0,a.ar1,"charge"==this.moveStyle)var o=i.x0,r=i.y0;else{var c=this.moveRange+Math.random()*this.moveRangeRand,h=Math.random()*Math.PI*2,d=Math.sin(h)*c,l=Math.cos(h)*c;o=e.x+d,r=e.y+l,cc.log("wander",e.x0,e.y0,d,l)}h=kit.vector2Radian(s,n),cc.log("to",o,r),e.moveTo(o,r),this.refreshSeekOffset(),this.astarTimer=this.astarTime+Math.random()*this.astarTimeRand}}}}});e.exprots=i,cc._RF.pop()},{AI:"AI"}],ChargeDragonAI:[function(t,e){"use strict";cc._RF.push(e,"88828O/RztOvYyReA7XYFTF","ChargeDragonAI");var i=cc.Class({extends:t("DragonAI"),initStatusIdle:function(){var t=this.obj;this.seekTimer=0;var e=kit.rnd(1,1.5);this.idleTimer=e,t.callMove({t:e,rad:kit.rnd(0,2*Math.PI),s:1}),t.isDash=!0},updateStatusIdle:function(t){var e=this.obj;if(this.seekTimer-=t,this.seekTimer<=0&&(this.seekTimer=.5+Math.random(),this.seekTarget()),this.target&&this.changeStatus("Seek"),this.idleTimer-=t,this.idleTimer<=0){var i=kit.rnd(1,1.5);this.idleTimer=i,e.callMove({t:i,rad:kit.rnd(0,2*Math.PI),s:1})}},initStatusSeek:function(){this.astarTimer=this.astarTimer||0,this.seekCD=1+Math.random(),this.obj.isDash=!0,this.bltTime=this.define.bltTime,this.bltTimer=Math.random()*this.bltTime,this.bltSeqOnTime=this.define.bltSeqOnTime},updateStatusSeek:function(t){var e=this.obj;if(!e.isDead&&!e.isStun){this.bltTime&&(this.bltTimer-=t,this.bltTimer<0&&(this.bltTimer=this.bltTime,e.callAttack({attackSequenceIndex:this.bltSeqOnTime}))),this.seekCD-=t,(this.seekCD<=0||this.target&&this.target.isDead)&&(this.seekCD=1+Math.random(),this.seekTarget());var i=this.target;if(i){var a=this.define.moveRange,n=i.x-e.x,s=i.y-e.y;if(n*n+s*s>a*a){var o=kit.vector2Radian(s,n);e.callMove({rad:o,s:1,t:5})}else this.changeStatus("Fight")}else this.changeStatus("Idle")}},initStatusFight:function(){this.astarTimer=0,this.sleepTimer=0,this.tryTimer=5,this.obj.isDash=!0,this.deg=0,this.bltSeqOnSkill=this.define.bltSeqOnSkill},updateStatusFight:function(t){var e=this.obj;if(!e.isDead&&!e.isStun){var i=this.target;if(i&&!i.isDead){var a=this.define.moveRange,n=this.define.aimRange,s=i.x-e.x,o=i.y-e.y,r=s*s+o*o;if(r>a*a)this.changeStatus("Seek");else{if(this.sleepTimer-=t,this.sleepTimer<=0&&!e.isAttack&&0==e.noAttack)if(this.tryTimer-=t,this.tryTimer<=0)this.tryTimer=5,this.sleepTimer=this.define.sleep;else if(g_sharedContactManager.canShotThrough(e.x,e.y,i.x,i.y,e.isFly)){var c=kit.vector2Radian(o,s),h=kit.radian2Degree(c)-e.deg;h>180?h-=360:h<-180&&(h+=360),Math.abs(h)<30&&(this.sleepTimer=this.define.sleep,this.deg=.5*(Math.random()>.5?1:-1)*Math.PI*kit.rnd(.9,1.1))}else this.changeStatus("Seek");this.checkSkill(i)&&this.bltSeqOnSkill&&e.callAttack({attackSequenceIndex:this.bltSeqOnSkill}),this.sleepTimer<=0||e.isAttack?(c=kit.vector2Radian(o,s),e.callMove({rad:c,s:0,t:5}),e.rttSpdMaxScale=r>n*n?1:Math.sqrt(r)/n*.8+.2):(c=kit.vector2Radian(o,s),e.callMove({rad:c+this.deg,s:1,t:5}),e.rttSpdMaxScale=r>n*n?1:Math.sqrt(r)/n*.8+.2)}}else this.changeStatus("Seek")}}});e.exports=i,cc._RF.pop()},{DragonAI:"DragonAI"}],ChasingAimAI:[function(t,e){"use strict";cc._RF.push(e,"522c4i1atdNloGB8PUnuNcI","ChasingAimAI");var i=cc.Class({extends:t("AI"),updateStatusSeek:function(t){var e=this.obj;if(this.moveTimer-=t,!e.isDead&&!e.isStun){this.seekCD-=t,(this.seekCD<=0||this.target&&this.target.isDead)&&(this.seekCD=1+Math.random(),this.seekTarget());var i=this.target;if(i){if(this.checkSkill(i))return;var a=this.define,n=i.x0,s=i.y0,o=n-e.x0,r=s-e.y0,c=i.radius+e.radius+a.sr;if(o*o+r*r<c*c&&this.moveTimer<=0){this.attackTimer=this.attackInterval;var h=kit.vector2Radian(r,o);e.callMove({rad:h,s:1}),e.callAttack(),this.changeStatus("Fight")}else this.astarTimer-=t,(this.astarTimer<=0||!e.isMove&&!e.noMove)&&(this.astarTimer=.5+1*Math.random())}else this.checkSkill()}},initStatusFight:function(){var t=this.obj;t.isMove&&t.callMove({s:0}),this.attackTime=this.define.attackTime||0,this.attackTimer=this.attackTime||0,this.aimTime=this.define.aimTime||0,this.aimTimer=this.aimTime||0},updateStatusFight:function(t){var e=this.obj;this.attackTimer-=t;var i=this.target;if(this.aimTimer-=t,i&&this.aimTimer>0){var a=i.x0,n=i.y0,s=a-e.x0,o=n-e.y0,r=kit.vector2Radian(o,s);e.callMove({rad:r,s:1})}if(!e.isAttack){if(this.attackTimer>0){if(!this.target.isDead){s=this.target.x0-e.x0,o=this.target.y0-e.y0;var c=this.target.radius+e.radius+this.define.sr;if(s*s+o*o<c*c)return r=kit.vector2Radian(o,s),e.callMove({rad:r}),void e.callAttack()}return}this.changeStatus("Seek")}}});e.exprots=i,cc._RF.pop()},{AI:"AI"}],ChasingTurret:[function(t,e){"use strict";cc._RF.push(e,"86df7M+sKlKp7FoKl77Db/j","ChasingTurret");var i=t("Entity"),a=cc.Class({extends:t("Turret"),init:function(t,e,i){this._super(t,e,i),this.rttSpd=99,this.isAttack=!1,this.ai=new(this.define.ai.ctor||AI),this.ai.init(this.define.ai,{obj:this},this.game),this.isAIEnabled=!0},updateLogic:function(t){this.isAIEnabled&&this.ai.updateLogic(t),i.prototype.updateLogic.call(this,t)},updateRotate:function(t,e,i,a){if(a*=this.rttSpdMaxScale,this.isStun||this.noRotate>0)return 0;var n,s=this.deg;return(n=e-s)>180?n-=360:n<-180&&(n+=360),(n=n*i*t)>a?n=a:n<-a&&(n=-a),s=(s+n+360)%360,this.deg=s,this.setAvatarAngle(-s),n}});e.exports=a,cc._RF.pop()},{Entity:"Entity",Turret:"Turret"}],ChatDefine:[function(t,e){"use strict";cc._RF.push(e,"fe8bbLGBdFNiaPJgmiGswXh","ChatDefine"),window.ChatDefine={first_dialogue:{1:{A:{name:"Bowen",img:"npc1"},B:{id:1,name:"Bowen",img:"npc1"},chat:[{role:"A",text:"FightingFighting"},{role:"A",text:"Try to save our world now"}]},2:{A:{name:"Bowen",img:"npc1"},B:{id:1,name:"Grand Master",img:"npc4"},chat:[{role:"A",text:"Grand Master! What happened to you?"},{role:"B",text:"Spaceship has been robbed!\nI can't go back!"},{role:"B",text:"Chase it"}]},3:{A:{name:"Bowen",img:"npc1"},B:{name:"Clint",img:"npc4"},chat:[{role:"A",text:"Finally snatched it back "},{role:"A",text:"Do you see how good I am, old uncle!"},{role:"A",text:"what! Uncle is not here..."}]},4:{A:{name:"Maria",img:"npc5",status:"wait"},B:{name:"Bowen",img:"npc1"},chat:[{role:"A",text:"Thanks to you this time!"},{role:"A",text:"Dad is still self-cultivating,\nso I'll rely on you in the back!"},{role:"B",text:"Don't worry,\nthis world will be saved by me!"},{role:"A",text:"Then Maria will help\nyou organize your equipment!"}]},5:{A:{name:"Bowen",img:"npc1"},B:{name:"Clint",img:"npc4"},chat:[{role:"A",text:"Uncle, why are you here?"},{role:"A",text:"You, your legs..."},{role:"B",text:"Yes."},{role:"A",text:""},{role:"B",text:"Bring this on"}]},6:{A:{name:"Bowen",img:"npc1"},B:{name:"",img:""},chat:[{role:"A",text:"WOWgood stuff!"},{role:"A",text:"Can upgrade my combat skills!"}]},7:{A:{name:"Bowen",img:"npc1"},B:{name:"",img:""},chat:[{role:"A",text:"It feels like death, so cold..."}]},8:{A:{name:"Maria",img:"npc5"},B:{name:"Bowen",img:"npc1"},chat:[{role:"A",text:"Brother, I will take you back as soon as you die!\nIt definitely doesn't hurt at all!"},{role:"B",text:"Uh... my first time"}]},9:{A:{name:"Clint",img:"npc4",status:"wait"},B:{name:"Bowen",img:"npc1"},chat:[{role:"A",text:"Doesn't it feel uncomfortable?"},{role:"B",text:"~"},{role:"A",text:"Come on, practice talent"}]},10:{A:{name:"Bella",img:"npc2",status:"wait"},B:{name:"Bowen",img:"npc1"},ex:{reward:"10042"},chat:[{role:"A",text:"The savior is here again?"},{role:"A",text:"Shall we give a present to our lovely brother?"}]},11:{A:{name:"Bella",img:"npc2"},B:{name:"",img:""},chat:[{role:"A",text:"Brother, are you here to play?"},{role:"A",text:"If you are unlucky, you can't be the savior!"}]}}},cc._RF.pop()},{}],CheckPointPopMenu:[function(t,e){"use strict";cc._RF.push(e,"e0337tPUtlCnI6ATXSjwwtW","CheckPointPopMenu");var i=cc.Class({extends:cc.Component,properties:{content:cc.Node,point:cc.Node,myIndex:cc.Label,maxIndex:cc.Label,title:cc.Label,subTitle:cc.Label},init:function(t){this.type=t.type,this.endCB=t.endCB,this.initTitle(),this.effectMgr=t.effectMgr,this.bossInterval=t.bossInterval;var e=t.index>=5&&t.index-5||0,i=e/t.length;this.lastPercent=i;var a=t.index/t.length;this.index=t.index,console.log("CheckPointPopMenu index",this.index),this.percent=a,this.length=t.length,this.content.scaleX=a,this.contentMaxLength=462,this.contentStartX=-232,this.lastPointX=this.point.x=this.contentStartX+i*this.contentMaxLength,this.targetPointX=this.contentStartX+a*this.contentMaxLength,this.myIndex.string=e,this.maxIndex.string=this.length,this.point.runAction(cc.sequence(cc.delayTime(.4),cc.moveTo(.5,cc.v2(this.targetPointX,this.point.y)).easing(cc.easeInOut(2)))),this.node.scaleX=0,this.node.scaleY=1,this.node.runAction(cc.sequence(cc.delayTime(.1),cc.sequence(cc.scaleTo(.3,1,1).easing(cc.easeInOut(2)),cc.delayTime(3),cc.callFunc(this.endMenu,this)))),this.initAlert()},endMenu:function(){this.endCB&&this.endCB(),this.node.destroy()},initTitle:function(){switch(this.type){case"start":this.title.string="BEGIN",this.subTitle.string="MISSIONSTART";break;case"boss":case"finalboss":this.title.string="END",this.subTitle.string="CLEARSUCCESS"}},initAlert:function(){for(var t=this.bossInterval;t<this.length;t+=this.bossInterval){var e=this.effectMgr.createSprite(-this.contentMaxLength/2+t/this.length*this.contentMaxLength,-31,"sub#ui/checkpoint/checkpoint");this.node.addChild(e)}},update:function(){if(this.targetPointX-this.contentStartX==0)this.myIndex.string=0;else{var t=Math.round((this.point.x-this.contentStartX)/(this.targetPointX-this.contentStartX)*this.index);t==this.length?this.myIndex.node.opacity=0:this.myIndex.string=t}}});e.exports=i,cc._RF.pop()},{}],Chest:[function(t,e){"use strict";cc._RF.push(e,"a3df2kcOmFELL1paL9dydUa","Chest");var i=cc.Class({extends:t("Npc"),init:function(t,e,i){this._super(t,e,i),this.game=i,this.effectMgr=this.game.effectMgr,t=this.define,e=this.config,this.isAIEnabled=!1,this.activateRange=220},initAvatar:function(){if(this.avatarNode=this.effectMgr.createSprite(0,0,"npc/chest"),this.addChild(this.avatarNode),!operkit.loadWarData("first_npc_dialogue_"+this.define.id)){this.initShadow2();var t=this.effectMgr.createSprite(140,-50,"npc/guider");t.scale=1.92,this.avatarNode.addChild(t)}},initShadow2:function(){var t=this.effectMgr.createSprite(140,-70,"shadow");t.setScale(2.4),this.addChild(t,-2),this.shadow=t,this.define.shadowScaleX&&(t.scaleX=this.define.shadowScaleX),this.define.shadowScaleY&&(t.scaleY=this.define.shadowScaleY)},updateLogic:function(t){this._super(t),kit.timer(this,"changeAvatar",.5,t)&&(this.avatarChanged=!this.avatarChanged,this.avatarChanged?this.effectMgr.loadSprite(this.avatarNode.sprite,"npc/chest2"):this.effectMgr.loadSprite(this.avatarNode.sprite,"npc/chest"))},activateNpc:function(){menuManager.pop("prefab/luckyDrawMenu",this)}});e.exports=i,cc._RF.pop()},{Npc:"Npc"}],ChooseBonusCard:[function(t,e){"use strict";cc._RF.push(e,"fccd2VzlNxJrI8bcon5XLE9","ChooseBonusCard"),window.RarityTextColor={0:cc.color(244,244,244),1:cc.color(244,244,244),2:cc.color(54,200,49),3:cc.color(79,138,248),4:cc.color(176,122,237),5:cc.color(233,214,78)},cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node,this.enableTouchResize()},enableTouchResize:function(){var t=this,e=function(e){t.onTouchScale(e.target,e.type)};this.node.on(cc.Node.EventType.TOUCH_START,function(t){e&&e(t)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){e&&e(t)}),this.node.on(cc.Node.EventType.TOUCH_END,function(t){e&&e(t)}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){e&&e(t)})},onTouchScale:function(t,e){switch(e){case cc.Node.EventType.TOUCH_START:t.setScale(.95*t.scale);break;case cc.Node.EventType.TOUCH_END:case cc.Node.EventType.TOUCH_CANCEL:t.setScale(t.scale/.95)}},start:function(){},init:function(t,e,i){this.game=e,this.node.scale=1,this.define=t,this.node.getChildByName("title").getComponent(cc.Label).string=t.title,this.node.getChildByName("des").getComponent(cc.Label).string=t.des;var a=this.node.getChildByName("content").getComponent(cc.Sprite),n="sub#uiz/chooseBonus/icon/"+(t.content||t.id);e.effectMgr.loadSprite(a,n),this.cb=i,this.createRarityEffect(t,e)},upgradeEffect:function(t){var e=TalentDefine[this.define.upgrade];if(e){this.define=e,this.node.runAction(cc.scaleTo(.1,1.1).easing(cc.easeInOut(2)));var i=new cc.Node;i.width=170,i.height=160;var a=i.addComponent(cc.Mask);a.type=cc.Mask.Type.IMAGE_STENCIL,a.alphaThreshold=.2,this.game.effectMgr.loadSprite(a,"sub#uiz/chooseBonus/bg_0");var n=this.game.effectMgr.createSprite(0,0,"sub#ui/upgradeBonus/light_upgrade");n.y=-150,n.runAction(cc.sequence(cc.delayTime(.1),cc.moveTo(.3,cc.v2(0,115)),cc.delayTime(.3),cc.callFunc(function(){var t=Effect.Flash(0,0,this.game,3);this.node.addChild(t),this.node.getChildByName("title").getComponent(cc.Label).string=e.title,this.node.getChildByName("des").getComponent(cc.Label).string=e.des;var i=this.node.getChildByName("content").getComponent(cc.Sprite),a="sub#uiz/chooseBonus/icon/"+(e.content||e.id);this.game.effectMgr.loadSprite(i,a),this.createRarityEffect(e,this.game);var n=this.game.effectMgr.createSprite(0,0,"sub#ui/upgradeBonus/light_frame");this.node.addChild(n),n.runAction(cc.spawn(cc.scaleTo(.4,6),cc.fadeOut(.4))),this.game.effectMgr.play(SoundEffectPath.choose_bonus_upgrade_finish)},this),cc.delayTime(1),cc.callFunc(function(){t&&t()}))),i.addChild(n),this.node.addChild(i)}},showAD:function(){var t=this.game.effectMgr.createSprite(80,77,OperUrl.c_video);t.opacity=128,t.scale=3,t.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1)).easing(cc.easeInOut(2))),this.node.addChild(t),this.needAD=!0},recommend:function(){var t=this.game.effectMgr.createSprite(80,97,"sub#uiz/chooseBonus/recommend");t.opacity=128,t.scale=3,t.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1)).easing(cc.easeInOut(2))),this.node.addChild(t),t.runAction(cc.sequence(cc.delayTime(.5),cc.scaleTo(.1,1.2),cc.scaleTo(.1,1)).repeatForever()),this.node.getChildByName("card_frame").runAction(cc.sequence(cc.delayTime(.5),cc.scaleTo(.1,1.1),cc.scaleTo(.1,1)).repeatForever()),this.node.getChildByName("content").runAction(cc.sequence(cc.delayTime(.5),cc.scaleTo(.1,1.3*1.1),cc.scaleTo(.1,1.3)).repeatForever())},showEffect:function(t,e,i,a){this.node.getComponent(cc.Button).interactable=!1,this.node.scale=5,this.node.opacity=128,this.bg.scaleY=0,this.dynamicEff&&(this.dynamicEff.opacity=0),this.dynamicEff2&&(this.dynamicEff2.opacity=0),this.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.1,1),cc.fadeIn(.1)),cc.callFunc(function(){e.effectMgr.play(SoundEffectPath.chooseBonusShow),this.node.getComponent(cc.Button).interactable=!0,this.dynamicEff&&this.dynamicEff.runAction(cc.fadeIn(.2)),this.dynamicEff2&&(this.dynamicEff2.opacity=255),this.bg.runAction(cc.sequence(cc.scaleTo(.4,1).easing(cc.easeOut(2)),cc.callFunc(function(){},this)))},this),cc.shake(.2,8,8),cc.callFunc(function(){i&&this.recommend(),a&&this.showAD()},this)))},createParticle:function(t,e,i){var a=this.game.effectMgr.createSprite(kit.rnd(-75,75),t,"uiz/chooseBonus/pt_"+i);return a.opacity=0,a.scale=kit.rnd(.7,1),a.runAction(cc.sequence(cc.spawn(cc.fadeTo(.2,kit.rnd(155,255)),cc.moveBy(2,cc.v2(0,e)),cc.sequence(cc.delayTime(1.5),cc.fadeOut(.5))),cc.destroySelf())),a},createDynamicEffect:function(){this.dynamicEff&&this.dynamicEff.destroy(),this.dynamicEff2&&this.dynamicEff2.destroy();var t=this.define.rarity;if(!(t<3)){this.dynamicEff=new cc.Node,this.dynamicEff.zIndex=-1,this.node.addChild(this.dynamicEff);var e=(4==t?.4:5==t&&.2)||1,i=t;if(this.dynamicEff.runAction(cc.sequence(cc.callFunc(function(){var a=this.createParticle(-85,kit.rnd(-30,-20)*i,t,1+e);this.node.addChild(a),a=this.createParticle(85,kit.rnd(5,10)*i,t,.5+e/2),this.dynamicEff.addChild(a)},this),cc.delayTime(e)).repeatForever()),5==t){this.dynamicEff2=new cc.Node,this.node.addChild(this.dynamicEff2);var a=this.game.effectMgr.createSprite(0,0,"uiz/chooseBonus/frame_"+t);a.runAction(cc.sequence(cc.fadeIn(1),cc.fadeTo(1,0)).repeatForever()),this.dynamicEff2.addChild(a)}}},initTalent:function(){},createRarityEffect:function(t,e){t.rarity;var i=e.effectMgr,a=this.node.getChildByName("card_frame");i.loadSprite(a.getComponent(cc.Sprite),"uiz/chooseBonus/bg_"+t.rarity);var n=this.node.getChildByName("bg2_1");n.zIndex=-2,i.loadSprite(n.getComponent(cc.Sprite),"uiz/chooseBonus/bg2_"+t.rarity),this.bg=n,(a=this.node.getChildByName("title")).color=RarityTextColor[t.rarity],this.createDynamicEffect()},onCheck:function(){var t=function(t){if(t){this.game.popTimeScale();var e=this.game.hero,i=this.define;Talent.effect(e,i),this.cb&&this.cb(),menuManager.close(),Effect.ShowChooseBonusGain(this.game,i),this.game.checkBonus(),i.chooseSound?this.game.effectMgr.play(SoundEffectPath[i.chooseSound]):this.game.effectMgr.play(SoundEffectPath.chooseTalent),tjSDK.onEventQm(405,i.id),tjSDK.onEvent("choose_bonus",i.id)}};this.needAD?cc.Platformsdk.showVideo(TJ.ADID.war_choose_bonus,t.bind(this)):t.bind(this)(!0)}}),cc._RF.pop()},{}],ChooseBonusInfo:[function(t,e){"use strict";cc._RF.push(e,"a6689GtMRVA44jaZ4oPIfaE","ChooseBonusInfo"),cc.Class({extends:cc.Component,properties:{title:cc.Node,des:cc.Node,right:cc.Node,left:cc.Node,icon:cc.Node,light:cc.Node,scan:cc.Node},onLoad:function(){},start:function(){},init:function(t,e){this.left.x-=VIEW_SIZE.width,this.right.x+=VIEW_SIZE.width,this.light.opacity=0,this.left.getChildByName("title").color=RarityTextColor[t.rarity],this.left.getChildByName("title").getComponent(cc.Label).string=t.title,this.right.getChildByName("des").getComponent(cc.Label).string=t.des,e.effectMgr.loadSprite(this.icon.getComponent(cc.Sprite),"sub#uiz/chooseBonus/icon/"+t.content);var i=cc.moveBy(.2,cc.v2(VIEW_SIZE.width,0)).easing(cc.easeInOut(2)),a=cc.delayTime(2.5),n=cc.moveBy(.2,cc.v2(VIEW_SIZE.width,0)).easing(cc.easeInOut(2)),s=cc.sequence(i,a,n);this.left.runAction(s),i=cc.moveBy(.2,cc.v2(-VIEW_SIZE.width,0)).easing(cc.easeInOut(2)),a=cc.delayTime(2.5),n=cc.moveBy(.2,cc.v2(-VIEW_SIZE.width,0)).easing(cc.easeInOut(2)),s=cc.sequence(i,a,n),this.right.runAction(s),this.light.opacity=0,this.light.runAction(cc.sequence(cc.delayTime(.2),cc.fadeIn(.1),cc.fadeOut(1))),this.scan.opacity=0,this.scan.runAction(cc.sequence(cc.delayTime(.6),cc.spawn(cc.fadeIn(.05),cc.moveBy(.6,cc.v2(VIEW_SIZE.width+100,0)).easing(cc.easeInOut(2))))),this.node.runAction(cc.sequence(cc.delayTime(3),cc.destroySelf()))}}),cc._RF.pop()},{}],ChooseBonusMenu:[function(t,e){"use strict";cc._RF.push(e,"34513KlDlhCkp0F1THF0Fgv","ChooseBonusMenu"),t("TalentDefine"),cc.Class({extends:t("Menu"),properties:{cards:[cc.Node],title:cc.Node,ultBg:cc.Node,richText:cc.RichText},onLoad:function(){for(var t in this.cards)this.cards[t].scale=0},shuffle:function(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),a=[t[e],t[i]];t[i]=a[0],t[e]=a[1]}},start:function(){cc.Platformsdk.showBanner()},init:function(t){var e=this;this.lvl=t.lvl,this.fixOptions=t.fixOptions,this.noOptions=t.noOptions,this.bonus=t.bonus||[0,0,0],console.log("chooseBonusMenu bonus:initTalent init",this.bonus);var i=t.game;if(this.game=i,this.game.pushTimeScale(),this.lvl&&(this.title.getComponent(cc.Label).string="Lv. "+this.lvl),t.changeOptions){var a=this.node.getChildByName("buyAd");if(a.active=!0,a.runAction(cc.sequence(cc.delayTime(1),cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))),a.runAction(cc.sequence(cc.delayTime(1),cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))),10==this.lvl)var n="Epic",s="B07AED";else 5==this.lvl?(n="Rare",s="4F8AF8"):(n="Excellent",s="36C831");this.richText.string="<color=#fff068>Must have more than 1 </c><color=#"+s+">"+n+"</color><color=#fff068> skill</color>",cc.Platformsdk.videoBtnShow(TJ.ADID.war_choose_optionsChange)}this.ultBg.active=5==this.lvl||10==this.lvl,this.node.getChildByName("banner");var o=this.initTalent(),r=function(){var a=e.cards[c].getComponent("ChooseBonusCard");a.init(o[c],i),a.node.opacity=0;var n=c,s=o[c].id==t.recommend,r=o[c].id==t.ad;e.cards[c].runAction(cc.sequence(cc.delayTime(.1*n+.3),cc.callFunc(function(){a.showEffect(o[n],i,s,r)}))),e.cards[c].getChildByName("title").getComponent(cc.Label).string=o[c].title,e.cards[c].getChildByName("des").getComponent(cc.Label).string=o[c].des;var d=e.cards[c].getChildByName("content").getComponent(cc.Sprite);h="uiz/chooseBonus/icon/"+o[c].content,i.effectMgr.loadSprite(d,h),e.cards[c].def=o[c]};for(var c in this.cards){var h;r()}},shuffleWithBonus:function(t,e){var i=Talent.getPoolById("default");return Talent.pickFromPool(t,e,null,i)},addArray:function(t,e){for(var i in t)e[i]&&(t[i]+=e[i]);return t},rollBonus:function(t){for(var e=t&&t[0]||0,i=[],a=TalentConfig.lvlUpRange[0]+e;a<=TalentConfig.lvlUpRange[1];a++){var n=TalentConfig.rarity[a].rollPower;a>TalentConfig.lvlUpRange[0]+e&&(n*=this.game.gameManager.getGlobalAttr("chooseBonusRarityBonusRate")),i.push(n)}return+kit.rollWithPower(i)},initTalent:function(){if(this.fixOptions)for(var t in i=[],this.fixOptions)i.push(TalentDefine[this.fixOptions[t]]);else{var e=this.game.gameManager&&this.game.gameManager.getChapterProgress(),i=Talent.getPool(null,e,this.noOptions,{lvlup:!0}),a=this.lvl,n=TalentConfig.lvlUpBonus[a];n&&(this.bonus=this.addArray(this.bonus,n),console.log("chooseBonusMenu initTalent lvlUpBonus",n,this.bonus));var s=[0,0,0];for(var t in s)s[t]+=this.rollBonus(n);this.bonus=this.addArray(this.bonus,s),console.log("chooseBonusMenu initTalent rollBonus",s,this.bonus),i=this.shuffleWithBonus(i,this.bonus)}return this.chooseArray=i,i},closeCb:function(){cc.Platformsdk.hideBanner()},changeOptions:function(t){t&&(this.game.popTimeScale(),menuManager.close(),menuManager.pop("prefab/chooseBonus",{lvl:this.lvl,game:this.game,bonus:TalentConfig.adBonus,noOptions:[this.chooseArray[0].id,this.chooseArray[1].id,this.chooseArray[2].id]}))},changeWeaponByVideo:function(){cc.Platformsdk.showVideo(TJ.ADID.war_choose_optionsChange,this.changeOptions.bind(this))},onMenuClose:function(t){this._super(t),this.lvl>4||operkit.loadWarData("first_select_talent_"+this.lvl)||(tjSDK.onEvent("first_select_talent_"+this.lvl),operkit.saveWarData("first_select_talent_"+this.lvl,!0,!0),tjSDK.onEventQm((2==this.lvl?107:3==this.lvl&&119)||4==this.lvl&&122))}}),cc._RF.pop()},{Menu:"Menu",TalentDefine:"TalentDefine"}],CircleNode:[function(t,e){"use strict";cc._RF.push(e,"f92caaQsitNkbLIK83tBjRQ","CircleNode"),cc.Class({extends:cc.Component,properties:{quanNode:cc.Node,arrowNode:cc.Node,aimNode:cc.Node},start:function(){},showCircleAction:function(t){if(this.stopCircleAction(),this.node.opacity=255,this.quanNode.opacity=0,this.arrowNode.opacity=0,1===t){this.arrowNode.angle=0;var e=cc.v2(3,50),i=cc.v2(3,0)}else this.arrowNode.angle=-130,e=cc.v2(35,-34),i=cc.v2(-1.5,-3);var a=function(){this.quanNode.stopAllActions(),this.quanNode.runAction(cc.sequence(cc.fadeIn(0),cc.scaleTo(0,.1),cc.spawn(cc.scaleTo(.9,1.3).easing(cc.easeSineIn()),cc.sequence(cc.delayTime(.7),cc.fadeOut(.9-.7)))))}.bind(this),n=function(){this.arrowNode.setPosition(e),this.arrowNode.opacity=255,this.arrowNode.runAction(cc.sequence(cc.moveTo(.5,i).easing(cc.easeSineIn()),cc.callFunc(function(){a()},this),cc.moveTo(.5,e).easing(cc.easeSineOut())).repeatForever())}.bind(this);this.aimNode.runAction(cc.sequence(cc.scaleTo(0,5),cc.scaleTo(.4,1),cc.callFunc(function(){n()},this)))},stopCircleAction:function(){this.node.opacity=0,this.quanNode.stopAllActions(),this.arrowNode.stopAllActions(),this.aimNode.stopAllActions()}}),cc._RF.pop()},{}],ColdBuff:[function(t,e){"use strict";cc._RF.push(e,"a5a63xXMsxIFb1vMYBqU1EG","ColdBuff"),cc.Class({extends:cc.Node,init:function(t){t.addChild(this),this.obj=t;var e=t.game.effectMgr.createParticle(0,0,"frozen");e.scale=2,this.addChild(e),this.sprite=e},update:function(){},remove:function(){this.sprite.destroy(),this.destroy()}}),cc._RF.pop()},{}],CollectManager:[function(t,e){"use strict"},{}],ColorMatrix:[function(t,e){"use strict";cc._RF.push(e,"47a23BytLRJXrBCdOZ4R2Ak","ColorMatrix"),cc.Class({ctor:function(){this.rawData=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]},getArgs:function(){return[["Mat4","u_mat4",this.getMatrix()],["Vec4","u_vec4",this.getOffset()]]},getOffset:function(){var t=this.rawData;return cc.vec4(t[4],t[9],t[14],t[19])},getMatrix:function(){var t=this.rawData;return cc.mat4(t[0],t[1],t[2],t[3],t[5],t[6],t[7],t[8],t[10],t[11],t[12],t[13],t[15],t[16],t[17],t[18])},concat:function(t){for(var e=[],i=this.rawData,a=0;a<4;a++)e[5*a+0]=t[5*a]*i[0]+t[5*a+1]*i[5]+t[5*a+2]*i[10]+t[5*a+3]*i[15],e[5*a+1]=t[5*a]*i[1]+t[5*a+1]*i[6]+t[5*a+2]*i[11]+t[5*a+3]*i[16],e[5*a+2]=t[5*a]*i[2]+t[5*a+1]*i[7]+t[5*a+2]*i[12]+t[5*a+3]*i[17],e[5*a+3]=t[5*a]*i[3]+t[5*a+1]*i[8]+t[5*a+2]*i[13]+t[5*a+3]*i[18],e[5*a+4]=t[5*a]*i[4]+t[5*a+1]*i[9]+t[5*a+2]*i[14]+t[5*a+3]*i[19]+t[5*a+4];for(a=0;a<20;a++)this.rawData[a]=e[a]},setSaturation:function(t){var e=1-t,i=.212671*e,a=.71516*e,n=.072169*e,s=[i+t,a,n,0,0,i,a+t,n,0,0,i,a,n+t,0,0,0,0,0,1,0];return this.concat(s),this},setContrast:function(t,e,i){var a=[t+1,0,0,0,.5*-t,0,e+1,0,0,.5*-e,0,0,i+1,0,.5*-i,0,0,0,1,0];return this.concat(a),this},setBrightness:function(t,e,i){var a=[1,0,0,0,t,0,1,0,0,e,0,0,1,0,i,0,0,0,1,0];return this.concat(a),this},setHue:function(t){t*=.01745;var e=Math.cos(t),i=Math.sin(t),a=[.212671+.787329*e+-.212671*i,.71516+-.71516*e+-.71516*i,.072169+-.072169*e+.927831*i,0,0,.212671+-.212671*e+.143*i,.71516+.28484*e+.14*i,.072169+-.072169*e+-.283*i,0,0,.212671+-.212671*e+-.787329*i,.71516+-.71516*e+.71516*i,.072169+.927831*e+.072169*i,0,0,0,0,0,1,0];return this.concat(a),this},rotHue:function(t){this.concat([.7751357857532615,-.44674630028947854,-.4467463002894786,0,0,0,.7071067811865476,-.7071067811865475,0,0,.5376955000889125,1.0618005111930762,.14287437137812964,0,0,0,0,0,1,0]),t*=.01745;var e=Math.sin(t),i=Math.cos(t),a=[i,-e,0,0,0,e,i,0,0,0,0,0,1,0,0,0,0,0,1,0];return this.concat(a),this.concat([.8518337785912076,-.4105268532016195,.631794676809384,0,0,-.3802081343263619,.35096051346921253,.5481037704464939,0,0,-.38020813432636197,-1.0632530489038825,.548103770446494,0,0,0,0,0,1,0]),this}}),cc._RF.pop()},{}],CompanionAI:[function(t,e){"use strict";cc._RF.push(e,"2dab5X90bhGLYztmlya8Cpb","CompanionAI");var i=cc.Class({extends:t("AI"),updateStatusIdle:function(){var t=this.obj;t.owner&&!t.owner.isDead&&this.changeStatus("Seek")},initStatusSeek:function(){this.seekOffsetTimer||(this.refreshSeekOffset(),this.seekOffsetTimer=1),this.astarTimer=0,this.seekCD=0,this.moveTime=this.define.moveTime||.5,this.moveTimer=this.moveTime||0,this.moveTimeRand=this.define.moveTimeRand||3,this.moveTimer+=Math.random()*this.moveTimeRand,cc.log("initStatusSeek",this.obj.define.id)},updateStatusSeek:function(t){var e=this.obj;if(this.moveTimer-=t,!e.isDead&&!e.isStun){this.seekCD-=t,(this.seekCD<=0||this.target&&this.target.isDead)&&(this.seekCD=1+Math.random(),this.seekTarget());var i=this.target;if(i){this.checkSkill(i);var a=this.define;if(this.define.checkWall){var n=e.game.contactMgr,s=n.getCXY(r,c);if(!n.canFitPlace(s.x,s.y,2))return void(this.seekCD=.2+Math.random())}if(i.radius,e.radius,a.sr,this.moveTimer<=0){this.attackTimer=this.attackInterval;var o=kit.vector2Radian(i.y-e.y,i.x-e.x);return e.setRotation(kit.radian2Degree(o)),this.callAttack(null,!0),void this.changeStatus("Fight")}}if(this.astarTimer-=t,this.seekOffsetTimer&&(this.seekOffsetTimer-=t),e.owner&&!e.owner.isDead){var r=e.owner.x0,c=e.owner.y0,h=r-e.x0,d=c-e.y0;this.astarTimer<=0&&(this.seekOffsetTimer<=0&&(this.refreshSeekOffset(),this.seekOffsetTimer=1,console.log("seekOffsetX,seekOffsetY",this.seekOffsetX,this.seekOffsetY)),o=kit.vector2Radian(d,h),r+=1*this.seekOffsetX,c+=1*this.seekOffsetY,e.moveTo(r,c),this.astarTimer=.5+1*Math.random())}}}});e.exprots=i,cc._RF.pop()},{AI:"AI"}],CompanionDefine:[function(t,e){"use strict";cc._RF.push(e,"e2adcW2OMRFGJPZlDjMalAr","CompanionDefine");var i=t("SimpleAvatar"),a=(t("HydraliskAI"),t("CompanionAI")),n=t("PharahGrenade");window.CompanionDefine={drone:{id:"drone",avatar:{ctor:i,scale:1,anime:"sub3#xiaodiji"},name:"",isFly:1,radius:40/1.2,weight:1500,speed:200,hp:1900,z:10,scale:1.2,shadowScale:1.3,attack:160,power:1,atkSpd:1,exp:20,isRange:!0,dropGold:1.9,shaderFunc:"hue1",ai:{ctor:a,sr:1130,ar0:120,ar1:120,moveTime:.3},blt:[{name:"",ctor:n,kb:.8,sx:.3,sy:.5,sx1:1.25,sy1:1.25,st:.3,anchorY:.9,frm:"bullet/player/genzhongdaodan1",length:65,radius:40,minradius:70,hurtradius:180,dmg:800,dmgk:20,n:1,wd:0,d:0,hurtStopTime:2,hurtStopCD:2.5,spd:1e3,rnd:0,l:1350,bombEff:Effect.MissleExplosive,smoke:"BulletSmoke"}],skill:[],attackSequence:[{t:.2},{t:.5,x:0,y:90,blt:0,hurtStopTime:.4,hurtStopCD:2.5,animLoop:1},{t:1}],drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e}},drone2:{id:"drone2",avatar:{ctor:i,scale:1,anime:"sub3#xiaodiji"},name:"2",isFly:1,radius:40/1.2,weight:1500,speed:200,hp:1900,z:10,scale:1.2,shadowScale:1.3,attack:160,power:1,atkSpd:1,exp:20,isRange:!0,dropGold:1.9,shaderFunc:"hue1",ai:{ctor:a,sr:1130,ar0:120,ar1:120,moveTime:.3},blt:[{name:"",ctor:n,kb:.8,sx:.5,sy:.5,sx1:1.5,sy1:1.5,st:.3,anchorY:.9,frm:"bullet/player/genzhongdaodan1",length:65,radius:40,minradius:80,hurtradius:180,dmg:800,dmgk:20,n:1,wd:0,d:0,hurtStopTime:2,hurtStopCD:2.5,spd:1300,rnd:0,l:1350,bombEff:Effect.MissleExplosive,smoke:"BulletSmoke"}],skill:[],attackSequence:[{t:.2},{t:.4,x:0,y:90,blt:0,hurtStopTime:.4,hurtStopCD:2.5,animLoop:1},{t:1}],drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e}}},cc._RF.pop()},{CompanionAI:"CompanionAI",HydraliskAI:"HydraliskAI",PharahGrenade:"PharahGrenade",SimpleAvatar:"SimpleAvatar"}],Companion:[function(t,e){"use strict";cc._RF.push(e,"783c5O9PadHJblkN8U5jFLL","Companion");var i=t("Mob"),a=cc.Class({extends:i,init:function(){this._super.apply(this,arguments),this.isInvincible++,this.canAutoAim=!1,this.noStun++,this.isSensor=!1,this.define.isFly&&this.setFly(!0)},setOwner:function(t){this.owner=t},rangeAttack:function(){var t=this.attackSequence[this.attackIndex];if(t.blt||0===t.blt){var e,i=this.blt[t.blt],a=t.x||0,n=t.y||0,s=this.x0,o=this.y0,r=this.deg,c=kit.degree2Radian(r),h=Math.sin(c),d=Math.cos(c),l=s+d*a+h*n,u=o-h*a+d*n;if(i.grenade){var f=this.ai.target;(e=kit.norm(f.x0-this.x0,f.y0-this.y0))>i.l&&(e=null)}var m=r+(t.deg||0),p=this.config.attack||this.attribute.get("atkDmg");Ammofactory(this,i,{x:l,y:u,te:this.team,obj:this,dmg:p,l:e,deg:m},this.game),this.game.effectMgr.play(SoundEffectPath[EntityCN2EN[this.toString()]+"_weapon"])}}});e.exports=a,cc._RF.pop()},{Mob:"Mob"}],Constant:[function(t,e){"use strict";cc._RF.push(e,"dc7b3Np+c5E5Is1exptpNn7","Constant"),window.DEBUG_ATTACK_RANGE_SCALE=1,window.DEBUG_MOVSPD_SCALE=1,window.ATTACK_MODE=1,window.NODEPOOL_ACTIVATE=1,cc._RF.pop()},{}],ContactManager:[function(t,e){"use strict";cc._RF.push(e,"87b62+Ano9D24ANd73W8VqU","ContactManager"),window.CELL_W=80,window.CELL_H=80;var i=t("./PathFinder"),a={init:function(t){this.game=t,this.contactList=[],this.bulletList=[],this.contactMap={},this.initDebug()},initMap:function(t,e){this.contactList=[],this.bulletList=[],this.game=t;var i=e.config.width,a=e.config.height;this.width=i,this.height=a,e.size=[i,a],this.map=[];for(var n=0;n<a;n++)this.map[n]=[],this.map[n].length=i;this.terrain=[];var s=e.block;if(s)for(n=0;n<s.length;n++)for(var o=s[n],r=o.w||1,c=o.h||1,h=0;h<r;h++)for(var d=0;d<c;d++)this.setCol(o.x+h,o.y+d,o.i,o.terrain);this.setBorder(e.config.left,e.config.right,e.config.top,e.config.bottom),this.comeInFinder=this.initFinder(0,1),this.normalFinder=this.initFinder(0,0),this.flyFinder=this.initFinder(2,0),this.floatFinder=this.initFinder(1,0),this.initDebug()},initFrontWallBlock:function(){for(var t=0;t<=this.width;t++)this.setCol(t,0,1)},addEntrance:function(){this.top+=200,this.height+=2,this.map[this.height-1]=[],this.map[this.height-1].length=this.width,this.map[this.height-2]=[],this.map[this.height-2].length=this.width;for(var t=0;t<=this.width;t++)t>=4&&t<=7||(this.setCol(t,this.height-2,1),3!=t&&8!=t||this.setCol(t,this.height-1,1))},setBorder:function(t,e,i,a){var n=this.width,s=this.height;this.left=t||0,this.right=e||80*n,this.bottom=a||0,this.top=i||80*s,cc.log("setBorder",this.left,this.right,this.bottom,this.top)},initDebug:function(){},getUnitById:function(t,e){var i=this.contactMap[t]||{};if(1==Number(t)&&(i={1:g_sharedLevelLayer.hero}),-1==Number(t)&&(i={1:g_sharedLevelLayer.teamMate[0]}),-2==Number(t)&&(i={1:g_sharedLevelLayer.teamMate[1]}),-3==Number(t)&&(i={1:g_sharedLevelLayer.teamMate[2]}),-4==Number(t)&&(i={1:g_sharedLevelLayer.teamMate[3]}),e)for(var a in i)return i[a];return i},initFinder:function(t,e){var a=this.width,n=this.height,s=[];if(e){a+=2,n+=2;for(var o=0;o<n;o++){s[o]=[];for(var r=0;r<a;r++)this.canFitPlace(r-1,o-1,t)?s[o][r]=1:s[o][r]=0}}else for(o=0;o<n;o++)for(s[o]=[],r=0;r<a;r++)this.canFitPlace(r,o,t)?s[o][r]=1:s[o][r]=0;return new i({map:s,width:a,height:n})},getCXY:function(t,e){return{x:Math.floor(t/80),y:Math.floor(e/80)}},getXY:function(t,e){return{x:80*(t+.5),y:80*(e+.5)}},searchPath:function(t,e,i,a,n){var s,o=this.width,r=this.height,c=t,h=e;c<=-1?(c=-1,s=!0):c>=o&&(c=o,s=!0),h<=-1?(h=-1,s=!0):h>=r&&(h=r,s=!0),i<0?i=0:i>o-1&&(i=o-1),a<0?a=0:a>r-1&&(a=r-1);var d=[];if(2==n)this.flyFinder.search(c,h,i,a,d);else if(1==n)this.floatFinder.search(c,h,i,a,d);else if(s){if(this.comeInFinder.search(c+1,h+1,i+1,a+1,d)<1/0){for(var l=0;l<d.length;l++){var u=d[l];u.x-=1,u.y-=1}d.unshift({x:t,y:e})}}else this.normalFinder.search(c,h,i,a,d);return d},canFitPlace:function(t,e,i){return i?this.getCol(t,e)<i:!this.getCol(t,e)},canPlace:function(t,e,i){return i?this.getCol(t,e)<2:!this.getCol(t,e)},canPlaceBullet:function(t,e,i){if(!(e<0||e>this.height+1))return i?this.getCol(t,e)<2:this.getCol(t,e)<1},canShotThrough:function(t,e,i,a,n){var s=Math.floor(i/80),o=Math.floor(a/80),r=Math.floor(t/80),c=Math.floor(e/80);if(!this.canPlaceBullet(r,c,n)||!this.canPlaceBullet(s,o,n))return!1;var h=t-i,d=e-a;if(0!=h&&s!=r)for(var l=h<0?1:-1,u=Math.abs(s-r),f=1;f<=u;f++){var m=r+f*l,p=e+((h<0?80*m:80*(m+1))-t)*d/h;if(!this.canPlaceBullet(m,Math.floor(p/80),n))return!1}if(0!=d&&o!=c){var g=d<0?1:-1,v=Math.abs(o-c);for(f=1;f<=v;f++){var b=c+f*g,k=t+((d<0?80*b:80*(b+1))-e)*h/d;if(!this.canPlaceBullet(Math.floor(k/80),b,n))return!1}}return!0},canMoveThrough:function(t,e,i,a,n){var s=t,o=e,r=Math.abs(i-t),c=Math.abs(a-e),h=i-t>0?1:-1,d=a-e>0?1:-1;if(r>=c)for(var l=c-r,u=h;u<r+h;u++){if(l>=0&&(o+=d,l-=r+r,!this.canFitPlace(s,o,n)))return!1;if(s+=h,l+=c+c,!this.canFitPlace(s,o,n))return!1}else for(l=r-c,u=d;u<c+d;u++){if(l>=0&&(s+=h,l-=c+c,!this.canFitPlace(s,o,n)))return!1;if(o+=d,l+=r+r,!this.canFitPlace(s,o,n))return!1}return!0},getCol:function(t,e){var i=this.width,a=this.height;return!this.map[e]||t<0||t>=i||e<0||e>=a||!this.map[e][t]?0:this.map[e][t]},setCol:function(t,e,i,a){var n=this.width,s=this.height;if(!(t<0||t>=n||e<0||e>=s)&&(this.map[e][t]=i,a)){var o=new TerrainDefine[a].ctor;o.init(TerrainDefine[a],this.game),this.terrain[t+","+e]=o}},getTerrain:function(t,e){return this.terrain[t+","+e]},setEntityEnabled:function(t,e){t._isActiveContact=e},addEntity:function(t,e){t._isActiveContact||((!t.radius||t.radius<0)&&cc.error("ContactManager.addEntity: wrong radius="+t.radius),!t.isSensor&&(t.radius>=80||t.radius>=80)&&cc.error("ContactManager.addEntity: too large radius="+t.radius),t._isInBorder=!0,t.x0=t.x,t.y0=t.y,t.kbx=0,t.kby=0,t.dx=0,t.dy=0,t.cxFit=Math.floor(t.x0/80),t.cyFit=Math.floor(t.y0/80),t._isActiveContact=!0,t._needRemoveContact||(e?this.contactList.unshift(t):this.contactList.push(t),t.__id&&(this.contactMap[t.__id]||(this.contactMap[t.__id]={}),this.contactMap[t.__id][t.uniqueID]=t)),t._needRemoveContact=!1,this.checkInBorder(t))},removeEntity:function(t){t._isActiveContact=!1,t._needRemoveContact=!0},addBullet:function(t){t._isActiveContact||(t._isActiveContact=!0,this.bulletList.push(t),t._isFirstCheck=!0)},removeBullet:function(t){t._isActiveContact=!1},getBorder:function(){return{left:this.left,right:this.right,bottom:this.bottom,top:this.top}},update0:function(t){this.updateEntityStart(t)},updateEntityStart:function(){for(var t=this.contactList,e=t.length,i=0;i<e;i++){var a=t[i];a._isActiveContact&&(a.x0=a.x,a.y0=a.y,a.dx=.5*a.kbx,a.dy=.5*a.kby,a.kbx*=.5,a.kby*=.5)}},updateEntityContact:function(){for(var t=this.contactList,e=t.length,i=0;i<e-1;i++){var a=t[i];if(a._isActiveContact){var n=a.x0+a.dx,s=a.y0+a.dy,o=a.radius,r=a.weight;a.isMove||(r*=5);for(var c=i+1;c<e;c++){var h=t[c];if(h._isActiveContact){var d=h.x0+h.dx,l=h.y0+h.dy,u=h.radius,f=h.weight,m=o+u;h.isMove||(f*=5);var p=n-d,g=s-l;if(!(Math.abs(p)>m||Math.abs(g)>m)){var v=kit.norm(p,g)+.1;if(v<m){if(!(a.isSensor||h.isSensor||h.isFly||a.isFly)){var b,k,y=m-v;if(r<0&&f<0)continue;r<0?(b=1,k=0):f<0?(b=0,k=1):(b=r/(r+f),k=f/(r+f)),a.dx+=k*y*p/v,a.dy+=k*y*g/v,h.dx-=b*y*p/v,h.dy-=b*y*g/v}a.onContact(h),h.onContact(a)}}}}}}},updateEntityCheckBlock:function(t){this.updateEntityCheckWall(t),this.updateTerrain(t)},updateEntityCheckWall:function(){for(var t=this.contactList,e=t.length,i=0;i<e;i++){var a=t[i];this.objectCheckWall(a)}},updateTerrain:function(t){for(var e in this.terrain)this.terrain[e].update(t);this.game.hero&&this.objectCheckTerrain(this.game.hero)},updateEntityEnd:function(){for(var t=this.contactList,e=t.length,i=0;i<e;i++){var a=t[i];a._isActiveContact?(a.x=a.x0=a.x0+a.dx,a.y=a.y0=a.y0+a.dy):a._needRemoveContact&&(a._needRemoveContact=!1,t.splice(i,1),i--,e--,this.contactMap[a.__id]&&(this.contactMap[a.__id][a.uniqueID]={isDead:!0}))}},updateBullet:function(t){for(var e=this.contactList,i=e.length,a=this.bulletList,n=a.length,s=0;s<n;s++){var o=a[s];if(o._isActiveContact){var r=o.x,c=o.y,h=o.hw,d=o.hh,l=o.lx,u=o.ly,f=o.length,m=o.radius,p=1/(f*f);o._isFirstCheck||(r+=o.dx,c+=o.dy);var g=r+l,v=c+u;o.x=r,o.y=c;var b=o.ignoreWall||0;if(b>1);else{var k=Math.floor(r/80),y=Math.floor(c/80),S=Math.floor(g/80),_=Math.floor(v/80);if(this.canPlaceBullet(S,_,b)||o.bounce){var x=!0;if(0!=l&&k!=S)for(var w=k-S>0?1:-1,B=Math.abs(k-S),C=1;C<=B;C++){var A=S+C*w;if(l<0)var T=80*A;else T=80*(A+1);var D=v+(T-g)*u/l,q=Math.floor(D/80);if(!this.canPlaceBullet(A,q,b)){l=g-(r=T),u=v-(c=D),h=Math.abs(.5*l),d=Math.abs(.5*u),o.hitWall(r,c,1),x=!1;break}}if(x&&0!=u&&y!=_){var M=y-_>0?1:-1,E=Math.abs(y-_);for(C=1;C<=E;C++){var R=_+C*M;if(u<0)var I=80*R;else I=80*(R+1);var O=g+(I-v)*l/u,N=Math.floor(O/80);if(!this.canPlaceBullet(N,R,b)){l=g-(r=O),u=v-(c=I),h=Math.abs(.5*l),d=Math.abs(.5*u),o.hitWall(r,c,2);break}}}}else o.hitWall(g,v,0)}for(var L=0;L<i;L++){var F=e[L];if(!F.canNotHurt&&F._isActiveContact&&o.team!=F.team){var P=F.x0,H=F.y0,G=F.radius;if(Math.abs(P-r-.5*l)<h+G+m&&Math.abs(H-c-.5*u)<d+G+m){var j=((P-r)*l+(H-c)*u)*p;if(j>1?j=1:j<0&&(j=0),(B=r+j*l-P)*B+(E=c+j*u-H)*E<(G+m)*(G+m)&&o.hit(F,j))break}}}o._isFirstCheck&&(o._isFirstCheck=!1,o.lx=-o.spdX*t,o.ly=-o.spdY*t,o.hw=Math.abs(.5*o.lx),o.hh=Math.abs(.5*o.ly),o.length=o.speed*t)}else a.splice(s,1),s--,n--}},update1:function(t){this.updateEntityContact(t),this.updateEntityCheckBlock(t),this.updateEntityEnd(t),this.updateBullet(t)},objectCheckTerrain:function(t){var e=t.dx,i=t.dy,a=t.x0+e,n=t.y0+i;if(!t.isSensor){var s=Math.floor(a/80),o=Math.floor(n/80),r=[[0,0],[-1,0],[1,0],[0,1],[0,-1],[1,1],[1,-1],[-1,-1],[-1,-1]];for(var c in r){var h=r[c],d=this.getTerrain(s+h[0],o+h[1]);if(d){var l=80*(s+h[0]+.5),u=80*(o+h[1]+.5);if(kit.norm(n-u,a-l)<t.radius+20){d.onContact(t);break}}}}},objectCheckWall:function(t,e){var i=this.left,a=this.right,n=this.bottom,s=this.top,o=t.dx,r=t.dy,c=t.x0+o,h=t.y0+r,d=t.radius,l=t.isFly>0?2:t.isFloat?1:0;if(e){e.flyHeight&&(l=e.flyHeight),o=e.dx||0,r=e.dy||0;var u=c=t.x0+o,f=h=t.y0+r}if(!t.isSensor){var m,p,g,v,b,k,y=Math.floor(c/80),S=Math.floor(h/80),_=this.width,x=this.height;if(this.canFitPlace(y,S,l))y>=0&&y<_&&S>=0&&S<x&&(t.cxFit=y,t.cyFit=S);else if(this.canFitPlace(t.cxFit,t.cyFit))c=80*((y=t.cxFit)+.5),h=80*((S=t.cyFit)+.5);else for(var w=1,B=0,C=0,A=1;;){var T=y+w,D=S+B;if(T<_&&T>=0&&D<x&&D>=0&&this.canFitPlace(T,D,l)){c=80*(T+.5),h=80*(D+.5);break}0==C?B<A&&++B==A&&(C=1):1==C?w>-A&&--w==-A&&(C=2):2==C?B>-A&&--B==-A&&(C=3,A++):3==C&&w<A&&++w==A&&(C=0)}if(o>=0){var q=Math.floor((c+d)/80),M=Math.floor(h/80);!this.canFitPlace(q,M,l)&&this.canFitPlace(q-1,M,l)&&(c=80*q-d)}o<=0&&(q=Math.floor((c-d)/80),M=Math.floor(h/80),!this.canFitPlace(q,M,l)&&this.canFitPlace(q+1,M,l)&&(c=80*(q+1)+d)),r>=0&&(q=Math.floor(c/80),M=Math.floor((h+d)/80),!this.canFitPlace(q,M,l)&&this.canFitPlace(q,M-1,l)&&(h=80*M-d)),r<=0&&(q=Math.floor(c/80),M=Math.floor((h-d)/80),!this.canFitPlace(q,M,l)&&this.canFitPlace(q,M+1,l)&&(h=80*(M+1)+d)),this.canFitPlace(y+1,S-1,l)||(0==(b=(g=c-(m=80*(y+1)))*g+(v=h-(p=80*S))*v+.1)?(c=m,h=p):b<d*d&&(c=m+d*g/(k=Math.sqrt(b)),h=p+d*v/k)),this.canFitPlace(y-1,S-1,l)||(b=(g=c-(m=80*y))*g+(v=h-(p=80*S))*v+.1)<d*d&&(c=m+d*g/(k=Math.sqrt(b)),h=p+d*v/k),this.canFitPlace(y+1,S+1,l)||(b=(g=c-(m=80*(y+1)))*g+(v=h-(p=80*(S+1)))*v+.1)<d*d&&(c=m+d*g/(k=Math.sqrt(b)),h=p+d*v/k),this.canFitPlace(y-1,S+1,l)||(b=(g=c-(m=80*y))*g+(v=h-(p=80*(S+1)))*v+.1)<d*d&&(c=m+d*g/(k=Math.sqrt(b)),h=p+d*v/k),t._isInBorder?(c>a-d?c=a-d:c<i+d&&(c=i+d),h>s-d?h=s-d:h<n+d&&(h=n+d)):!t.noBorder&&c<a-d&&c>i+d&&h<s-d&&h>n+d&&(t._isInBorder=!0)}if(e)return(u!=c||f!=h)&&(cc.log(u,c,f,h),{x:c,y:h,xChanged:u!=c,yChanged:f!=h});t.x0=c-t.dx,t.y0=h-t.dy},checkInBorder:function(t){var e=this.left,i=this.right,a=this.bottom,n=this.top,s=t.radius,o=t.x0,r=t.y0;!t.noBorder&&o<i-s&&o>e+s&&r<n-s&&r>a+s&&(t._isInBorder=!0)},checkEnemy:function(t,e,i,n,s,o){var r=a.contactList;for(var c in r){var h=r[c];if(!h.isSensor&&!h.canNotHurt&&h._isActiveContact&&h.team!=s){var d=h.radius+n,l=e-h.x0,u=i-h.y0,f=l*l+u*u;if(f<=d*d&&o.call(t,h,f,l,u))return h}}},checkAliveEnemy:function(t,e,i,n,s,o){var r=a.contactList;for(var c in r){var h=r[c];if(!h.isSensor&&!h.canNotHurt&&h._isActiveContact&&!h.isDead&&h.team!=s){var d=h.radius+n,l=e-h.x0,u=i-h.y0,f=l*l+u*u;if(f<=d*d&&o.call(t,h,f,l,u))return h}}},checkAliveTeammate:function(t,e,i,n,s,o){var r=a.contactList;for(var c in r){var h=r[c];if(!h.isSensor&&!h.canNotHurt&&!h.isDead&&h._isActiveContact&&h.team==s){var d=h.radius+n,l=e-h.x0,u=i-h.y0,f=l*l+u*u;if(f<=d*d&&o.call(t,h,f,l,u))return h}}},checkAliveEnemyInOut:function(t,e,i,n,s,o,r,c){var h=a.contactList;for(var d in h){var l=h[d];if(!l.isSensor&&!l.canNotHurt&&l._isActiveContact&&!l.isDead&&s!=l.team){var u=e-l.x0,f=i-l.y0;u*u+f*f<=n*n?o[l.uniqueID]||(r.call(t,l),o[l.uniqueID]=l):o[l.uniqueID]&&(c.call(t,l),o[l.uniqueID]=null)}}},checkIsIn:function(t,e,i){var n=a.contactList;for(var s in n){var o=n[s];e[o.uniqueID]&&i.call(t,o)}},checkAliveTeammateInOut:function(t,e,i,n,s,o,r,c){var h=a.contactList;for(var d in h){var l=h[d];if(!l.isSensor&&!l.canNotHurt&&l._isActiveContact&&!l.isDead&&s==l.team){var u=e-l.x0,f=i-l.y0;u*u+f*f<=n*n?o[l.uniqueID]||(r.call(t,l),o[l.uniqueID]=l):o[l.uniqueID]&&(c.call(t,l),o[l.uniqueID]=null)}}}};window.g_sharedContactManager=a,cc._RF.pop()},{"./PathFinder":"PathFinder"}],CritOnHitCountBuff:[function(t,e){"use strict";cc._RF.push(e,"4e2carD7VRLJZpN4z3pYZLl","CritOnHitCountBuff"),cc.Class({extends:t("OnHitBuff"),begin:function(){this._super(),this.hitCount=0},onHit:function(t,e,i){if(!(this.cdTimer>0)&&i.buffList){var a=this.define;this.cdTimer=a.cd||0,this.hitCount++,this.hitCount==(a.hitCount||10)?this.obj.attribute.add("critChance",1):this.hitCount==(a.hitCount||10)+1&&(this.hitCount=0,this.obj.attribute.add("critChance",-1))}}}),cc._RF.pop()},{OnHitBuff:"OnHitBuff"}],CustomBulletDefine:[function(t,e){"use strict";cc._RF.push(e,"693ebG6mCFBc6loK1OFMKuW","CustomBulletDefine");var i={turnRight:{init:function(){this.customVx=100}},straight:{init:function(){this.customVy=0},update:function(t){this.customVy+=1e3*t}},straight_x:{init:function(){this.customVy=-100},update:function(t){this.customVy+=2800*t}},straight_x2:{init:function(){this.customVy=0},update:function(t){this.customVy+=100*t}},turnRight_1:{init:function(){this.customVx=100},update:function(t){this.customVx+=500*t}},turnRight_2:{init:function(){this.customVx=500},update:function(t){this.customVx+=2500*t}},turnStraight:{init:function(){this.customVx=1e3},update:function(){this.customX>200&&(this.customX=200,this.customVx=-1e3),this.customX<-200&&(this.customX=-200,this.customVx=1e3)}},turnStraight_x:{init:function(){this.customVx=800},update:function(){this.customX>100&&(this.customX=100,this.customVx=-800),this.customX<-100&&(this.customX=-100,this.customVx=800)}},turnStraight_x2:{init:function(){this.customVx=-800},update:function(){this.customX>100&&(this.customX=100,this.customVx=-800),this.customX<-100&&(this.customX=-100,this.customVx=800)}},turnStraight_x3:{init:function(){this.customVx=-800},update:function(){this.customX>100&&(this.customX=100,this.customVx=0),this.customX<-100&&(this.customX=-100,this.customVx=0)}},turnStraight_x4:{init:function(){this.customVx=800},update:function(){this.customX>100&&(this.customX=100,this.customVx=0),this.customX<-100&&(this.customX=-100,this.customVx=0)}},circle:{init:function(){this.rad=Math.PI},update:function(t){this.rad+=3*Math.PI*t,this.customX=200*Math.sin(this.rad),this.customY=200*Math.cos(this.rad)}},circle_x:{init:function(){this.rad=Math.PI},update:function(t){this.rad+=3*Math.PI*t,this.customX=120*Math.sin(this.rad),this.customY=120*Math.cos(this.rad)}},circle_x2:{init:function(){this.rad=Math.PI},update:function(t){this.rad+=3*Math.PI*t,this.customX=60*Math.sin(this.rad),this.customY=60*Math.cos(this.rad)}},tornado:{init:function(){this.customDirection=-1,this.customVx=1e3},update:function(t){this.customVx+=2e3*this.customDirection*t,this.customX>0?this.customDirection=-1:this.customX<0&&(this.customDirection=1),this.customX>250?(this.customX=250,this.customVx=0):this.customX<-250&&(this.customX=-250,this.customVx=0)}},tornado_x:{init:function(){this.customDirection=-1,this.customVx=1e3},update:function(t){this.customVx+=2e3*this.customDirection*t,this.customX>0?this.customDirection=-1:this.customX<0&&(this.customDirection=1),this.customX>250?(this.customX=250,this.customVx=0):this.customX<-250&&(this.customX=-250,this.customVx=0)}},tornado_x2:{init:function(){this.customDirection=1,this.customVx=-1e3},update:function(t){this.customVx+=2e3*this.customDirection*t,this.customX>0?this.customDirection=-1:this.customX<0&&(this.customDirection=1),this.customX>250?(this.customX=250,this.customVx=0):this.customX<-250&&(this.customX=-250,this.customVx=0)}}};e.exports=i,cc._RF.pop()},{}],CustomBullet:[function(t,e){"use strict";cc._RF.push(e,"81cc7/xSpZPdpmcmD0lb429","CustomBullet");var i=t("CustomBulletDefine"),a=cc.Class({extends:t("Bullet"),init:function(){this._super.apply(this,arguments);var t=this.define.customDef&&i[this.define.customDef];t&&(this.customInit=t.init,this.customUpdate=t.update)},move:function(t,e,i){this._super(t,e,i),this.timer=this.define.lifetime,this.lastCustomX=0,this.lastCustomY=0,this.customX=0,this.customY=0,this.customVx=0,this.customVy=0,this.customDeg=this.deg,this.customInit&&this.customInit()},updateLogic:function(t){if(this.customInit){this.lastCustomX=this.customX,this.lastCustomY=this.customY,this.customX+=this.customVx*t,this.customY+=this.customVy*t,this.customUpdate&&this.customUpdate(t);var e=Math.sin(kit.degree2Radian(this.customDeg)),i=Math.cos(kit.degree2Radian(this.customDeg)),a=this.customX-this.lastCustomX,n=this.customY-this.lastCustomY,s=i*a+e*n,o=-e*a+i*n;this.customDx=s,this.customDy=o}this.dx=this.spdX*t+this.customDx,this.dy=this.spdY*t+this.customDy,this.updateMove(),this.updateSprite(t),this.timer-=t,this.timer<=0&&(this.removingBullet&&this.remove("maxLength"),this.removingBullet=!0)},updateMove:function(){var t=kit.vector2Radian(this.dy,this.dx),e=kit.sin(t),i=kit.cos(t);this.deg=kit.radian2Degree(t),this.lx=-e*this.length,this.ly=-i*this.length,this.hw=Math.abs(.5*this.lx),this.hh=Math.abs(.5*this.ly),this.sprite&&!this.rotateSpd&&(this.sprite.angle=-this.deg)}});e.exports=a,cc._RF.pop()},{Bullet:"Bullet",CustomBulletDefine:"CustomBulletDefine"}],Dash76Skill:[function(t,e){"use strict";cc._RF.push(e,"f33efB4P9hNnYm+5F0z1BHo","Dash76Skill");var i=t("Timer");cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.soldier_76_Dash76),this.reHp=this.define.reHp,this.dt=this.define.dt,this.speedScale=this.define.speedScale,this.idleTimer=0;var t=this.obj;t.attribute,t.setNoAttack(!0),t.setNoSkills(!0),t.setNoMove(!0),t.stopAttack(),t.refreshAvatar(),t.playAnim({anim:"skill_2",loop:0,time:this.define.t})},excute:function(t){var e=this.obj,i=e.moveRad,a=e.speed*this.speedScale;e.dx+=a*kit.sin(i)*t,e.dy+=a*kit.cos(i)*t,this.idleTimer+=t,this.idleTimer<this.dt||(this.idleTimer=0,e.heal(this.reHp),this.game.fastMode||kit.timer(this,"heal",1,this.dt))},end:function(){this._super();var t=this.obj,e=t.attribute;if(t.setNoAttack(!1),t.setNoSkills(!1),t.setNoMove(!1),this.define.reEp&&t.healEp(this.define.reEp),this.define.atk&&this.define.atkT){var a=this.define.atk;e.mutScale("atkDmg",1+a),(new i).init(this.define.atkT,function(){e.mutScale("atkDmg",1/(1+a))},null,this.game)}}}),cc._RF.pop()},{Skill:"Skill",Timer:"Timer"}],DebugMenu:[function(t,e){"use strict";cc._RF.push(e,"4bd1cx/IoFLYLyRcHgJbez7","DebugMenu"),cc.Class({extends:t("Menu"),properties:{headBtn:cc.Node,board:cc.Node},onLoad:function(){var t,e=this;this.heroBtnTable={};for(var i=0;i<8;i++){0!=i?(t=cc.instantiate(this.headBtn),this.headBtn.getParent().addChild(t)):t=this.headBtn,this.heroBtnTable[i]=t,t.getComponent(cc.Button).clickEvents[0].customEventData=i;var a=cc.sys.localStorage.getItem("c"+(1+i));this.setIcon(t,a)}this.board.opacity=0,this.board.x=this.board.x+this.board.width,cc.loader.loadRes("prefab/debugSlider",cc.Prefab,function(t,i){var a=cc.instantiate(i);e.board.addChild(a)})},setIcon:function(t,e){var i=UI_CONFIG.npc_wh;e&&UI_CONFIG[e]&&(i=UI_CONFIG[e]);var a=cc.find("node/headIcon",t).getComponent(cc.Sprite);cc.loader.loadRes(i.head.res,cc.SpriteFrame,function(t,e){a.spriteFrame=e,a.node.x=i.head.x,a.node.y=i.head.y})},start:function(){this.board.runAction(cc.spawn(cc.fadeIn(.1),cc.moveBy(.2,-this.board.width,0).easing(cc.easeBounceOut())))},onMenuClose:function(){this.board.runAction(cc.moveBy(.4,this.board.width,0)),this.node.runAction(cc.sequence(cc.fadeOut(.2),cc.destroySelf()))},onClose:function(){menuManager.close(this)},onChooseHero:function(t,e){var i=this,a="c"+(1+e),n=cc.sys.localStorage.getItem(a),s=this.heroBtnTable[e];menuManager.pop("debugSelect",{heroId:n,cb:function(t){i.setIcon(s,t),cc.sys.localStorage.setItem(a,t)}})}}),cc._RF.pop()},{Menu:"Menu"}],DebugSelectMenu:[function(t,e){"use strict";cc._RF.push(e,"e0370JTm+pFqoRLheBtBCfb","DebugSelectMenu"),cc.Class({extends:t("Menu"),properties:{headBtn:cc.Node,board:cc.Node},onLoad:function(){this.heroBtnTable={},this.board.opacity=0},start:function(){this.board.runAction(cc.fadeIn(.1))},initStatus:function(t){var e,i=this,a=t.heroes,n=0;for(var s in HEROES){var o=HEROES[s];a&&!a[o]||(0!=n?(e=cc.instantiate(this.headBtn),this.headBtn.getParent().addChild(e)):e=this.headBtn,n++,this.heroBtnTable[o]=e,e.getComponent(cc.Button).clickEvents[0].customEventData=o,!o||function(){var t=UI_CONFIG[o];if(!t)return"continue";i.setCardSelected(e,!1);var a=e.getChildByName("headIcon").getComponent(cc.Sprite);cc.loader.loadRes(t.head.res,cc.SpriteFrame,function(e,i){a.spriteFrame=i,a.node.x+=t.head.x,a.node.y+=t.head.y})}())}a||(e=cc.instantiate(this.headBtn),this.headBtn.getParent().addChild(e),this.heroBtnTable[""]=e,e.getComponent(cc.Button).clickEvents[0].customEventData=""),this.heroId=t.heroId||"",(e=this.heroBtnTable[this.heroId])&&this.setCardSelected(e,!0)},setCardSelected:function(t,e){t.getChildByName("check").opacity=e?255:0},onTouch:function(t,e){var i=this.heroBtnTable[this.heroId];i&&this.setCardSelected(i,!1);var a=t.target;this.setCardSelected(a,!0),this.heroId=e||"";var n=this.args.cb;n&&n(this.heroId)},onMenuClose:function(){this.board.runAction(cc.moveBy(.4,-this.board.width,0)),this.node.runAction(cc.sequence(cc.fadeOut(.2),cc.destroySelf()))},onCheck:function(){var t=this.args.checkCb;t&&t(this.heroId)||this.onClose()}}),cc._RF.pop()},{Menu:"Menu"}],DebugSlider:[function(t,e){"use strict";cc._RF.push(e,"ad83czDpbZFdIP+JG27miXl","DebugSlider"),cc.Class({extends:cc.Component,properties:{value:"DEBUG_GAME_SPEED"},init:function(t){this.args=t},onLoad:function(){this.showValue=this.args&&this.args.value;var t=this.slider=this.getComponent(cc.Slider);t.progress=this.showValue;var e=new cc.Component.EventHandler;e.target=this.node,e.component="DebugSlider",e.handler="onSlider",t.slideEvents.push(e);var i,a=this.editbox=this.node.getChildByName("input").getComponent(cc.EditBox);a.string=this.showValue,a.string0=this.showValue,(i=new cc.Component.EventHandler).target=this.node,i.component="DebugSlider",i.handler="onChanged",a.textChanged.push(i),(i=new cc.Component.EventHandler).target=this.node,i.component="DebugSlider",i.handler="onEdit",a.editingDidEnded.push(i)},onSlider:function(t){var e=Math.round(100*t.progress)/100;this.editbox.string=e,this.setValue(e)},onChanged:function(t,e){isNaN(t)?e.string=e.string0:e.string0=e.string},onEdit:function(t){var e=kit.clamp(1*t.string,0,1);t.string=e,this.slider.progress=this.showValue},setValue:function(t){this.cb&&this.cb(t)}}),cc._RF.pop()},{}],DebugToggle:[function(t,e){"use strict";cc._RF.push(e,"c0c6eqfdHVPjr+uwio0Fe3S","DebugToggle"),cc.Class({extends:cc.Component,properties:{value:"DEBUG_MODE"},onLoad:function(){this.getComponent(cc.Toggle).isChecked=window[this.value],this.node.on("toggle",this.onSwitch,this)},start:function(){},onSwitch:function(t){window[this.value]=t.isChecked,cc.sys.localStorage.setItem(this.value,window[this.value]?1:0)}}),cc._RF.pop()},{}],Debug___:[function(t,e){"use strict";cc._RF.push(e,"4c0cbUTbUNA9KnB5L49fxSX","Debug___"),window.DebugLog={},DebugLog.log=function(){var t;window.DebugLogStr||(window.DebugLogStr="\n");for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];for(var n in i){var s=i[n];window.DebugLogStr+="string"==typeof s||"number"==typeof s?s+" ":JSON.stringify(s)+" "}(t=console).log.apply(t,i),window.DebugLogStr+="\n"},cc.Class({extends:cc.Component,properties:{list:cc.Node,info:cc.Node,infoLab:cc.Label,inputNode:cc.Node,editbox1:cc.EditBox,editbox2:cc.EditBox},showList:function(){this.list.active=!this.list.activeInHierarchy,this.info.active=!1,this.inputNode.active=!1},onLoad:function(){var t={"":this.addGold.bind(this),"":this.addDmd.bind(this),"":this.addLeg.bind(this),"":this.useGold.bind(this),"":this.useDmd.bind(this),"":this.useLeg.bind(this),"":this.delSave.bind(this),"":this.showSave.bind(this),"":this.addSomting.bind(this),"":this.setCapterDot.bind(this),"":this.getAllAttr.bind(this),"debug":this.closeDebug.bind(this),"50":this.addRoleExp.bind(this),"":this.skipGuide.bind(this),"":this.videoSwitch.bind(this),"":this.setSourceTypeAndID.bind(this),"":this.showLog.bind(this),"-":this.testttttttttttttt.bind(this)},e=this.list.getChildren(),i=Object.keys(t);for(var a in i){var n=e[a];cc.find("Background/Label",n).getComponent(cc.Label).string=i[a],n.fun=t[i[a]],nodekit.addButtonEvent(n,a,function(t){this.info.active=!1,this.inputNode.active=!1,t.target.fun()}.bind(this))}},getAllAttr:function(){this.info.active=!0;var t=EquipDefine.getAllAttrs();for(var e in this.infoLab.string="\n"+JSON.stringify(t)+"\n\n",t){var i=t[e],a=EquipDefine.attrList[e];a&&(this.infoLab.string+=a.name+"     "+operutils.formatPercentNum(i.v)+"     "+e+"     "+i.type+"\n")}},addGold:function(){OperBridge.addMoney(OperBridge.MONEY_TYPE.GOLD,3e3,function(t){cc.log("-----3000"+t)})},addDmd:function(){OperBridge.addMoney(OperBridge.MONEY_TYPE.DIAMOND,200,function(t){cc.log("-----200"+t)})},addLeg:function(){OperBridge.addMoney(OperBridge.MONEY_TYPE.LEG,10,function(t){cc.log("-----100"+t)})},useGold:function(){OperBridge.useMoney(OperBridge.MONEY_TYPE.GOLD,3e3,function(t){cc.log("-----1000"+t)})},useDmd:function(){OperBridge.useMoney(OperBridge.MONEY_TYPE.DIAMOND,20,function(t){cc.log("-----20"+t)})},useLeg:function(){OperBridge.useMoney(OperBridge.MONEY_TYPE.LEG,5,function(t){cc.log("-----5"+t)})},addRoleExp:function(){OperBridge.addMoney(OperBridge.MONEY_TYPE.EXP,50,function(t){cc.log("-----50"+t)})},addSomting:function(){this.inputType=1,this.editbox1.placeholder="K",this.editbox2.placeholder="",this.inputNode.active=!0,this.info.active=!0;var t="";for(var e in t+="------------- k ------------\n",OperDefine.equip){var i="\t\t";t=t+e+":"+OperDefine.equip[e].name+i}for(var e in t+="\n\n------------- k ------------\n",OperDefine.material)i="\t\t",t=t+e+":"+OperDefine.material[e].name+i;t+="\n\n\n"+JSON.stringify(operkit.getOwnData("m"))+"\n"+JSON.stringify(operkit.getOwnData("e1"))+"\n"+JSON.stringify(operkit.getOwnData("e0")),this.infoLab.string=t},showSave:function(){this.info.active=!0;var t=JSON.stringify(PROP_DATA);cc.log("\n",t),this.infoLab.string=t},delSave:function(){operkit.clearSaveData()},setCapterDot:function(){this.inputType=2,this.editbox1.placeholder="",this.editbox2.placeholder="",this.inputNode.active=!0},setSourceTypeAndID:function(){this.inputType="sourcetypeandid",this.editbox1.placeholder="SourceType",this.editbox2.placeholder="SourceID",this.inputNode.active=!0},handleInput:function(){var t=this.editbox1.string,e=this.editbox2.string;if(cc.log("-----",t,e),"sourcetypeandid"===this.inputType)return window.QM_SourceType=t,void(window.QM_SourceID=e);if((e=Number(e))||(e=1),t){var i=t.split(/[, ]/),a=[];for(var n in i){var s=Number(i[n]);s&&a.push(s)}if(a.length<1)return OperBridge.toastTip("Input error");if(2==this.inputType)operkit.setWarProgress(t,e),OperBridge.toastTip("Has been set");else for(var n in a)OperBridge.addSomethingByK(a[n],e)}else OperBridge.toastTip("Input error")},closeInfo:function(){this.info.active=!1},closeDebug:function(){var t=cc.find("Canvas/Operate/page/view/content/p3");if(t)var e=t.getComponent("PageWar");e&&(OperDefine.DEBUG=0,e.reSetDebug())},skipGuide:function(){operkit.saveWarData("isInGameGuideFinish",!0,1),operkit.setGuideStep1015(16),operkit.setWarProgress(1,11),window.CUR_MAX_CHAPTER=operkit.getMaxWarChapter(),OperBridge.toastTip("Has been set"),OperBridge.checkNextGuide()},videoSwitch:function(){cc.Platformsdk.videoDebugSwitch=!cc.Platformsdk.videoDebugSwitch,OperBridge.toastTip(cc.Platformsdk.videoDebugSwitch?"Video closed":"Video opened")},showLog:function(){this.info.active=!0,this.infoLab.string=window.DebugLogStr},testttttttttttttt:function(){}}),cc._RF.pop()},{}],DemonPopMenu:[function(t,e){"use strict";cc._RF.push(e,"9f693ssaF5M5bqUVn1kYRqP","DemonPopMenu"),t("TalentDefine"),cc.Class({extends:t("Menu"),properties:{cards:[cc.Node]},onLoad:function(){for(var t in this.cards)this.cards[t].scale=0},shuffle:function(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),a=[t[e],t[i]];t[i]=a[0],t[e]=a[1]}},start:function(){},closeCb:function(){},init:function(t){this.npc=t,this.game=t.game,this.game.pushTimeScale();var e=this.initTalent();for(var i in this.game,this.cards){var a=this.cards[i].getComponent("ChooseBonusCard"),n=e[i];a.init(n,this.game);var s=i;this.cards[i].runAction(cc.sequence(cc.delayTime(.1*s),cc.callFunc(function(){}))),this.cards[i].def=e[i]}},initTalent:function(){var t=Talent.getPool(DemonPool);return cc.log("survivorpool",t),this.shuffle(t),t=t.slice(0,1),this.chooseArray=t,t},onCheck:function(){var t=this.cards[0].getComponent("ChooseBonusCard"),e=this.game.hero;Talent.effect(e,TalentDefine.demon_hp),e.hpBar&&e.hpBar.refresh(),t.onCheck(),this.npc.onClose()},onRemove:function(){this.game.popTimeScale(),menuManager.close(),this.npc.onClose()}}),cc._RF.pop()},{Menu:"Menu",TalentDefine:"TalentDefine"}],Demon:[function(t,e){"use strict";cc._RF.push(e,"611deeqgddIDr2Jt0eLY0RM","Demon");var i=cc.Class({extends:t("Npc"),init:function(t,e,i){this._super(t,e,i),this.game=i,this.effectMgr=this.game.effectMgr,t=this.define,e=this.config,this.isAIEnabled=!1},initAvatar:function(){this.avatarNode=this.effectMgr.createSprite(0,0,"npc/guider"),this.addChild(this.avatarNode)},activateNpc:function(){menuManager.pop("prefab/demonPopMenu",this)}});e.exports=i,cc._RF.pop()},{Npc:"Npc"}],DisableAttackBuff:[function(t,e){"use strict";cc._RF.push(e,"bb3598iUwxEXLcGbjQ+2tx6","DisableAttackBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.setNoAttack(!0)},end:function(){this.obj.setNoAttack(!1)}}),cc._RF.pop()},{Buff:"Buff"}],DragonAI:[function(t,e){"use strict";cc._RF.push(e,"74dc2IgvmxOkocz2cre0+++","DragonAI");var i=cc.Class({extends:t("AI"),init:function(t,e,i){this._super(t,e,i)},initStatusIdle:function(){var t=this.obj;this.seekTimer=0;var e=kit.rnd(1,1.5);this.idleTimer=e,t.callMove({t:e,rad:kit.rnd(0,2*Math.PI),s:1}),t.isDash=!0},updateStatusIdle:function(t){var e=this.obj;if(this.seekTimer-=t,this.seekTimer<=0&&(this.seekTimer=.5+Math.random(),this.seekTarget()),this.target&&this.changeStatus("Seek"),this.idleTimer-=t,this.idleTimer<=0){var i=kit.rnd(1,1.5);this.idleTimer=i,e.callMove({t:i,rad:kit.rnd(0,2*Math.PI),s:1})}},initStatusSeek:function(){this.astarTimer=this.astarTimer||0,this.seekCD=1+Math.random(),this.obj.isDash=!0,this.moveTime=this.define.moveTime||.5,this.moveTime+=Math.random(),this.moveTimer=this.moveTime||0,this.moveTimer+=3*Math.random(),this.bltTime=this.define.bltTime,this.bltTimer=Math.random()*this.bltTime,this.bltSeqIndex=this.define.bltSeqIndex},updateStatusSeek:function(t){var e=this.obj;if(!e.isDead&&!e.isStun){this.bltTime&&(this.bltTimer-=t,this.bltTimer<0&&(this.bltTimer=this.bltTime,e.callAttack({attackSequenceIndex:this.bltSeqIndex}))),this.moveTimer-=t,this.seekCD-=t,(this.seekCD<=0||this.target&&this.target.isDead)&&(this.seekCD=1+Math.random(),this.seekTarget());var i=this.target;if(i){var a=this.define.moveRange,n=(this.define.aimRange,i.x0-e.x0),s=i.y0-e.y0,o=n*n+s*s,r=200*Math.random()-100,c=200*Math.random()-100;if(Math.random(),o>a*a){var h=kit.vector2Radian(s+c,n+r);e.callMove({rad:h-.05+.1*Math.random(),s:.2*Math.random()+.9,t:5}),e.rttSpdMaxScale=1}else this.moveTimer<=0?(this.attackTimer=this.attackInterval,h=kit.vector2Radian(s,n),e.setRotation(kit.radian2Degree(h)),e.callAttack(),e.callMove({rad:h,s:.01,t:5}),this.changeStatus("Fight")):(h=kit.vector2Radian(s,n),e.callMove({rad:h+Math.PI/2,s:1,t:5}),e.rttSpdMaxScale=.2)}else this.changeStatus("Idle")}},initStatusFight:function(){this.astarTimer=0,this.sleepTimer=0,this.tryTimer=5,this.obj.isDash=!0,this.deg=0;var t=this.obj;if(t.isMove&&t.callMove({s:0}),this.attackTime=this.define.attackTime||0,this.attackSeq=this.define.attackSeq,this.attackSeq){var e=this.attackSeq[t.attackSequenceIndex];e&&e.attackTime&&(this.attackTime=e.attackTime)}this.attackTimer=this.attackTime||0,cc.log("fight")},updateStatusFight:function(t){var e=this.obj;if(this.attackTimer-=t,!e.isAttack){if(this.attackTimer>0){var i;if(this.attackSeq){var a=this.attackSeq[e.attackSequenceIndex];i=a&&{attackSequenceIndex:e.attackSequenceIndex,attackIndex:a.repeatIndex}}if(!this.target.isDead){var n=this.target.x0-e.x0,s=this.target.y0-e.y0,o=this.target.radius+e.radius+this.define.sr;if(n*n+s*s<o*o){var r=kit.vector2Radian(s,n);return e.callMove({rad:r}),void e.callAttack(i)}}return}cc.log("updateStatusFight toSeek",e.define.id),this.changeStatus("Seek")}},createAlarmCircleEff:function(){}});e.exports=i,cc._RF.pop()},{AI:"AI"}],DragonDefine:[function(t,e){"use strict";cc._RF.push(e,"d96debOi39ClpPfftwnMNkK","DragonDefine");var i=t("RushSkill"),a=(t("BigDragonAI"),t("DragonAI"));t("Dragon"),t("kit");var n=t("BulletFrost");window.DRAGON_1=941,window.DRAGON_2=942,window.DRAGON_100_1=941.1,window.DRAGON_100_2=942.1,window.WY_BOSS="wuya_boss",window.WY_BOSS_JY="wuya_boss_jy",window.PH_BOSS="penhuo_boss",window.DRAGON_100_1_N="",window.DRAGON_100_2_N="",window.DRAGON_1_N="",window.DRAGON_1_1="941_1",window.DRAGON_1_2="941_2",window.DRAGON_1_3="941_2",window.DRAGON_3=943,window.DRAGON_4=944,window.DRAGON_5=945,t("BulletMei");var s=t("FlyAvatar"),o=t("ChargeDragonAI");a=t("DragonAI"),t("BuffDefine");var r={dragon:{id:DRAGON_1,name:"",shadowR:70,shadowH:120,shadowFlyHeight:50,radius:50,weight:465,avatar:{ctor:s,anime:"crow"},attack:160,speed:0,flySpd:400,hp:800,zFly:1250,scale:1,exp:20,isRange:!1,deathSound:"crow_death",dropGold:2.4,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},deadEff:Effect.CrowDead,drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.1}],power:1,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},skill:[{name:"",ctor:i,t:2,cd:3,cd0:0,r0:150,r1:60,k:.1,dmg:8,kb:100,noPreCastEff:!1,canAttack:1,spd:kit.rndInt(4500,5e3),l:kit.rndInt(750,950),t0:1,t1:.5,scaleWithAttack:1}],ai:{ctor:o,moveRange:500,aimRange:100,sleep:3,try:5}},dragon_elite:{id:DRAGON_100_1,name:DRAGON_100_1_N,shadowR:70,shadowH:120,shadowFlyHeight:50,radius:50/1.05,weight:465,avatar:{ctor:s,anime:"crow",shader:"pm2"},attack:160,speed:0,flySpd:500,hp:1600,zFly:1250,scale:1.15,exp:20,isRange:!1,deathSound:"crow_death",dropGold:2.4,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},deadEff:Effect.CrowDead,drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.1}],power:1,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},skill:[{name:"",ctor:i,t:2,cd:2,cd0:0,r0:150,r1:60,k:.1,dmg:8,kb:100,noPreCastEff:!1,canAttack:1,spd:kit.rndInt(4500,5e3),l:kit.rndInt(750,950),t0:1,t1:.5,scaleWithAttack:1}],ai:{ctor:o,moveRange:500,aimRange:100,sleep:2,try:5,bltOnSkill:!0,bltSeqIndex:1},blt:[{name:"",kb:.8,sx:.3,sy:.5,sx1:1.05,sy1:1.15,st:.05,anchorY:.2,anim:{name:"bullet/enemy/1_3/000",frame:8,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:65,dmg:300,n:1,wd:1,d:.04,spd:1300,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"effect/bullet_smoke"}],attackSequence:[{t:1.2},{t:.33,x:0,y:100,blt:0,deg:45},{t:0,x:0,y:100,blt:0,deg:135},{t:0,x:0,y:100,blt:0,deg:225},{t:0,x:0,y:100,blt:0,deg:315}]},wy_boss:{id:WY_BOSS,name:"BOSS",shadowR:70,shadowH:120,shadowFlyHeight:50,radius:100/1.8,weight:465,avatar:{ctor:s,anime:"crow",shader:"boss-2"},attack:200,speed:0,flySpd:500,hp:35e3,zFly:1250,scale:1.8,exp:50,isRange:!1,deathSound:"crow_death",dropGold:5,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},deadEff:Effect.CrowDead,drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.1}],power:1,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},skill:[{name:"",ctor:i,t:2,cd:2,cd0:0,r0:150,r1:60,k:.1,dmg:8,kb:100,noPreCastEff:!1,canAttack:1,spd:kit.rndInt(4500,5e3),l:kit.rndInt(750,950),t0:1,t1:.5,scaleWithAttack:1}],ai:{ctor:o,moveRange:500,aimRange:100,sleep:2,try:5,bltSeqOnSkill:1},blt:[{name:"",kb:.8,sx:.3,sy:.5,sx1:1.05,sy1:1.15,st:.05,anchorY:.2,anim:{name:"bullet/enemy/1_3/000",frame:8,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:65,dmg:300,n:1,wd:1,d:.04,spd:700,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"effect/bullet_smoke"}],attackSequence:[{t:1.2},{t:.33,x:0,y:100,blt:0,deg:90},{t:0,x:0,y:100,blt:0,deg:270},{t:0,x:0,y:100,blt:0,deg:70},{t:0,x:0,y:100,blt:0,deg:290},{t:0,x:0,y:100,blt:0,deg:110},{t:0,x:0,y:100,blt:0,deg:250}]},wy_boss_jy:{id:WY_BOSS_JY,name:"BOSS()",shadowR:70,shadowH:120,shadowFlyHeight:50,radius:100/1.8,weight:465,avatar:{ctor:s,anime:"crow",shader:"boss-2"},attack:200,speed:0,flySpd:500,hp:5e4,zFly:1250,scale:2,exp:50,isRange:!1,deathSound:"crow_death",dropGold:5,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},deadEff:Effect.CrowDead,drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.1}],power:1,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},skill:[{name:"",ctor:i,t:2,cd:2,cd0:0,r0:150,r1:60,k:.1,dmg:8,kb:100,noPreCastEff:!1,canAttack:1,spd:kit.rndInt(4500,5e3),l:kit.rndInt(750,950),t0:1,t1:.5,scaleWithAttack:1}],ai:{ctor:o,moveRange:500,aimRange:100,sleep:2,try:5,bltSeqOnSkill:1},blt:[{name:"",kb:.8,sx:.3,sy:.5,sx1:1.05,sy1:1.15,st:.05,anchorY:.2,anim:{name:"bullet/enemy/1_3/000",frame:8,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:65,dmg:300,n:1,wd:1,d:.04,spd:1300,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"effect/bullet_smoke"}],attackSequence:[{t:.5},{t:.33,x:0,y:100,blt:0,deg:90},{t:0,x:0,y:100,blt:0,deg:270},{t:0,x:0,y:100,blt:0,deg:80},{t:0,x:0,y:100,blt:0,deg:280},{t:0,x:0,y:100,blt:0,deg:70},{t:0,x:0,y:100,blt:0,deg:290},{t:0,x:0,y:100,blt:0,deg:100},{t:0,x:0,y:100,blt:0,deg:260},{t:0,x:0,y:100,blt:0,deg:110},{t:0,x:0,y:100,blt:0,deg:250},{t:.55},{t:.33,x:0,y:100,blt:0,deg:90},{t:0,x:0,y:100,blt:0,deg:270},{t:0,x:0,y:100,blt:0,deg:80},{t:0,x:0,y:100,blt:0,deg:280},{t:0,x:0,y:100,blt:0,deg:70},{t:0,x:0,y:100,blt:0,deg:290},{t:0,x:0,y:100,blt:0,deg:100},{t:0,x:0,y:100,blt:0,deg:260},{t:0,x:0,y:100,blt:0,deg:110},{t:0,x:0,y:100,blt:0,deg:250}],attackSequence2:[{t:1.2},{t:.33,x:0,y:100,blt:0,deg:30},{t:0,x:0,y:100,blt:0,deg:60},{t:0,x:0,y:100,blt:0,deg:90},{t:0,x:0,y:100,blt:0,deg:120},{t:0,x:0,y:100,blt:0,deg:150},{t:0,x:0,y:100,blt:0,deg:180},{t:0,x:0,y:100,blt:0,deg:210},{t:0,x:0,y:100,blt:0,deg:240},{t:0,x:0,y:100,blt:0,deg:270},{t:0,x:0,y:100,blt:0,deg:300},{t:0,x:0,y:100,blt:0,deg:330},{t:0,x:0,y:100,blt:0,deg:360}]},dragon2:{id:DRAGON_2,name:"",radius:50,shadowR:100,shadowH:150,shadowFlyHeight:50,weight:465,avatar:{ctor:s,anime:"bat",shader:"pm2",attackAnime:"walk"},attack:160,speed:0,flySpd:400,hp:1900,zFly:1250,scale:1.2,dropGold:2.4,exp:20,isRange:!0,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.1}],power:1,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},skill:[],ai:{ctor:a,moveRange:500,aimRange:500,sleep:3,try:5,moveTime:3,sr:800},blt:[{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_1/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},ctor:n,length:80,dmg:1,kb:.001,n:1,wd:1,d:0,spd:9999,rnd:1,l:500,noReflect:1,lifetime:.05,hitEffect:Effect.NoHitEffect,buff:BuffDefine.burningDamage,alwayThrough:1},{name:"",kb:.8,sx:.3,sy:.5,sx1:1.05,sy1:1.15,st:.05,anchorY:.2,anim:{name:"bullet/enemy/1_3/000",frame:8,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:65,dmg:300,n:1,wd:1,d:0,spd:1300,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"effect/bullet_smoke"}],attackSequence:[{t:1,animName:"stand"},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:.7,x:0,y:0}]},dragon2_elite:{id:DRAGON_100_2,name:DRAGON_100_2_N,radius:48,shadowR:100,shadowH:150,shadowFlyHeight:50,weight:465,avatar:{ctor:s,anime:"bat",shader:"fire",attackAnime:"walk"},attack:160,speed:0,flySpd:420,hp:3800,zFly:1250,scale:1.35,dropGold:2.4,exp:20,isRange:!0,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.1}],power:1,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},skill:[],ai:{ctor:a,moveRange:500,aimRange:500,sleep:2,try:5,moveTime:2,sr:500},blt:[{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_1/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},ctor:n,length:80,dmg:1,kb:.001,n:1,wd:1,d:0,spd:9999,rnd:1,l:500,noReflect:1,lifetime:.05,hitEffect:Effect.NoHitEffect,buff:BuffDefine.burningDamage,alwayThrough:1}],attackSequence:[{t:1,animName:"stand"},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:.7,x:0,y:50}]},ph_boss:{id:PH_BOSS,name:"BOSS",radius:62.5,shadowR:100,shadowH:150,shadowFlyHeight:50,weight:465,avatar:{ctor:s,anime:"bat",shader:"boss-5",attackAnime:"walk"},attack:200,speed:0,flySpd:420,hp:35e3,zFly:1250,scale:1.8,dropGold:5,exp:50,isRange:!0,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.1}],power:1,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},skill:[],ai:{ctor:a,moveRange:500,aimRange:500,sleep:2,try:5,moveTime:1,sr:500},blt:[{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_1/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},ctor:n,length:80,dmg:1,kb:.001,n:1,wd:1,d:0,spd:9999,rnd:1,l:500,noReflect:1,lifetime:.05,hitEffect:Effect.NoHitEffect,buff:BuffDefine.burningDamage,alwayThrough:1}],attackSequence:[{t:1,animName:"stand"},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:1/24,x:0,y:0,blt:0},{t:.7,x:0,y:50}]}};window.DragonDefine=r,window.ENTITYS=window.ENTITYS||{},cc._RF.pop()},{BigDragonAI:"BigDragonAI",BuffDefine:"BuffDefine",BulletFrost:"BulletFrost",BulletMei:"BulletMei",ChargeDragonAI:"ChargeDragonAI",Dragon:"Dragon",DragonAI:"DragonAI",FlyAvatar:"FlyAvatar",RushSkill:"RushSkill",kit:"kit"}],DragonSkill:[function(t,e){"use strict";cc._RF.push(e,"1033eUFXZhDeoNRBDSEW5GA","DragonSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.hanzo_Dra),this.isAnim=!0;var t=this.obj;t.setNoAttack(!0),t.setNoSkills(!0),t.setAutoAttack(!0),this.atkAnimTimer=49/30,this.shotTimer=28/30,t.avatar.callAttackAnime(!0),t.avatar.setForcedAnimeSpd(1),t.refreshAvatar(!0),this.bone=this.obj.avatar.upperArmature.getBone("arrow"),this.dragon1=null,this.dragon2=null},excute:function(t){var e=this.obj;if(this.shotTimer>0&&(this.shotTimer-=t,this.bone.changeDisplayWithIndex(2,!1),this.shotTimer<=0)){var i=e.x0,a=e.y0,n=e.deg,s=kit.degree2Radian(n),o=Math.sin(s),r=Math.cos(s),c=i+16*r+100*o,h=a-16*o+100*r;this.dragon1=new DragonSoul(this.define,{obj:e,x:c,y:h,rad:.05,t:this.define.t}),this.dragon2=new DragonSoul(this.define,{obj:e,x:c,y:h,rad:-.05,t:this.define.t})}this.atkAnimTimer>0&&(this.atkAnimTimer-=t,this.atkAnimTimer<=0&&this.animEnd())},animEnd:function(){if(this.isAnim){this.isAnim=!1;var t=this.obj;t.avatar.callAttackAnime(!1),t.avatar.setForcedAnimeSpd(),t.setNoAttack(!1),t.setNoSkills(!1),t.setAutoAttack(!1),t.refreshAvatar(!0),this.bone.changeDisplayWithIndex(0,!1)}},end:function(){this._super(),this.obj.attribute,this.animEnd()}}),cc._RF.pop()},{Skill:"Skill"}],DragonSoul:[function(t,e){"use strict";cc._RF.push(e,"3d8159SPo9JRqvwtzKLbI33","DragonSoul");var i=cc.Class({init:function(t,e){this.x=e.x,this.y=e.y,this.team=e.obj.team,this.lifeTimer=e.t,this.time=0,this.moveRad=kit.degree2Radian(e.obj.getRotation())+e.rad,this.rttSpd=0,this.rttTimer=.2,e.rad>0?this.waveScale=15:this.waveScale=-15,this.obj=e.obj,this.dmg=t.dmg||50,this.radius=t.radius||100,this.ignoreWall=2,this.length=100,this.speed=1e3,this.knockBack=t.kb||.5,this.game.addUpdate(this),g_sharedContactManager.addBullet(this);var i="effect/dragon/zidan_0000";this.head=this.effectMgr.createSprite(0,0,"effect/dragon/head"),this.game.bindScheduler(this.head),this.head.setPosition(this.x,this.y),this.game.camera.addChild(this.head,1e6+1);var a=new cc.MotionStreak(1.3,3,80,cc.color(255,255,255),i+"1");this.game.camera.addChild(a,1e6),this.game.bindScheduler(a),a.setPosition(this.x,this.y);for(var n=0,s=[],o=1;o<=5;o++)s.push(i+o);for(o=4;o>=2;o--)s.push(i+o);a.runAction(cc.sequence(cc.delayTime(.01),cc.callFunc(function(){a.setTexture(cc.textureCache.addImage(s[n%s.length])),n++},this)).repeatForever()),this.streak=a},updateLogic:function(t){if(this.fade){if(this.fadeTimer-=t,this.fadeTimer<0)return this.game.removeUpdate(this),g_sharedContactManager.removeBullet(this),this.streak.destroy(),void this.head.destroy()}else this.lifeTimer-=t,this.lifeTimer<=0&&this.callRemove();this.rttTimer-=t,this.rttTimer<=0&&this.rttSpd<.15&&(this.rttSpd+=.1*t);var e=this.obj.target||this.obj,i=e.x0-this.x,a=e.y0-this.y,n=kit.vector2Radian(a,i),s=this.moveRad,o=n-s;o>Math.PI?o-=2*Math.PI:o<-Math.PI&&(o+=2*Math.PI),o>0?s+=this.rttSpd:s-=this.rttSpd,this.moveRad=s,i=Math.sin(this.moveRad),a=Math.cos(this.moveRad);var r=i*t*this.speed,c=a*t*this.speed;this._isFirstCheck?(this._isNextCheck=!0,i=0,a=0):this._isNextCheck&&(this._isNextCheck=!1,this.x+=r,this.y+=c),this.dx=r,this.dy=c,this.lx=r,this.ly=c,this.hw=Math.abs(.5*this.lx),this.hh=Math.abs(.5*this.ly),this.time+=t;var h=25*Math.sin(this.time*this.waveScale);this.streak.setPosition(this.x-a*h,this.y+i*h),this.streak.update(.031),this.head.angle=-kit.radian2Degree(this.moveRad),this.head.setPosition(this.streak.x,this.streak.y)},callRemove:function(){this.fade=!0,this.streak.runAction(cc.fadeOut(.3)),this.head.runAction(cc.fadeOut(.3)),this.fadeTimer=.3},hit:function(t,e){if(!this.obj.hit(this.dmg,this,t,null,null,e)){var i=this.knockBack/t.weight;t.knockback(this.dx*i,this.dy*i)}},getBlocked:function(){}});e.exports=i,cc._RF.pop()},{}],Dragon:[function(t,e){"use strict";cc._RF.push(e,"93d26pJ8OxJjoHtZDfoRzHT","Dragon"),t("Ammo");var i=cc.Class({extends:t("Hydralisk"),init:function(t,e,i){this._super(t,e,i),this.noBorder=!0,this._isInBorder=!1,this.setFly(!0)},initAttribute:function(t,e){this._super(t,e),this.flySpd=t&&t.flySpd||e.flySpd||330},initAvatar:function(){var t=this.define.avatar,e=new cc.Node;this.addChild(e,0);var i=t.ctor;this.avatar=e.addComponent(i),this.avatar.init(t,{obj:this},this.game)},updateLogic:function(t){return this._super(t)},callMove:function(t){if(this._super(t),t){var e=this.attribute,i=this.define;this.flySpd=e&&e.flySpd||i.flySpd||330,this.flySpd*=t.s}},updateMove:function(t){if(!(this.isStun||this.noMove>0)&&this.isMove){var e=this.attribute.get("moveSpd");if(!this.isMoveByPath&&this.isDash&&this.flySpd>0&&(this.dx+=e*this.flySpd*kit.sin(kit.degree2Radian(this.deg))*t,this.dy+=e*this.flySpd*kit.cos(kit.degree2Radian(this.deg))*t),this.dx+=this.spdX*t,this.dy+=this.spdY*t,this.isMoveByPath){var i=this.moveTargetX-this.x0,a=this.moveTargetY-this.y0;i*i+a*a<400?this.moveNextPath():this.moveTimer&&this.moveTimer>0&&(this.moveTimer-=t*e,this.moveTimer<=0&&(this.movePathIndex--,this.moveNextPath()))}else this.moveTimer&&this.moveTimer>0&&(this.moveTimer-=t*e,this.moveTimer<=0&&this.onMoveEnd())}},startSkill:function(t){this._super(t)}});e.exports=i,cc._RF.pop()},{Ammo:"Ammo",Hydralisk:"Hydralisk"}],DrillSkill:[function(t,e){"use strict";cc._RF.push(e,"62eceRZNklILLMN0A7Y2iaY","DrillSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;var t=this.obj;this.drillIn(),cc.log("DrillSkill cast"),this.drillTimer=1,t.isAIEnabled=!1},excute:function(t){this.drillTimer<=0||(this.drillTimer-=t,this.drillTimer<=0&&cc.log("DrillSkill set active false"))},drillIn:function(){this.drillInAnimation()},drillInAnimation:function(){var t=this;this.obj.playAnim({anim:"leave",speed:1,loop:0,func:function(){t.obj.setActive(!1)}});for(var e=1;e<=6;e++)setTimer(t.game,.3+.1*e,function(){t.obj.isDead||Effect.Shard({x:t.obj.x,y:t.obj.y,v:31+5*Math.random(),radVertical:Math.random()*Math.PI/3+.3,z:4*Math.random()+2,scale:1.2},t.game)});Effect.WormOut(this.obj.x0,this.obj.y0,this.game,this.obj.radius)},drillOut:function(){var t=this.game.contactMgr.getBorder(),e=kit.rnd(t.left,t.right);kit.rnd(t.bottom,t.top),this.obj.x0=e,this.obj.y0=e;var i=this;Effect.PreWormOut(this.obj.x0,this.obj.y0,this.game,this.obj.radius,this.define.drillOutTime||1,function(){i.obj.setActive(!0),i.obj.setNoAttack(!0),i.drillOutAnimation()}),cc.log("DrillSkill out")},drillOutAnimation:function(){var t=this;this.obj.playAnim({anim:"born",speed:2,loop:0,func:function(){t.obj.setNoAttack(!1)}}),Effect.WormOut(this.obj.x0,this.obj.y0,this.game,this.obj.radius)},end:function(){this.drillOut(),this.obj.isAIEnabled=!0}}),cc._RF.pop()},{Skill:"Skill"}],DropBox:[function(t,e){"use strict";cc._RF.push(e,"71cc5IPNX5M4LC+r0Ujp5Za","DropBox"),cc.Class({extends:t("Entity"),initAvatar:function(){},start:function(){this.setActive(!1),this._isActiveContact=!1},plane:function(){var t=this.effectMgr.createSprite(0,0,"effect/dropbox/plane_shadow");t.scale=2,t.opacity=150,this.game.camera.addChild(t,1111);var e=Math.random()*Math.PI*2;t.angle=-kit.radian2Degree(e);var i=this.game.map.size[0]*CELL_W;t.x=-i*Math.sin(e)*1.2+this.x,t.y=-i*Math.cos(e)*1.2+this.y;var a=i*Math.sin(e)*1.2+this.x,n=i*Math.cos(e)*1.2+this.y;t.runAction(cc.sequence(cc.moveTo(1.2,cc.v2(a,n)),cc.callFunc(function(){this.land(this.x,this.y,this)},this),cc.destroySelf())),this.game.effectMgr.play(SoundEffectPath.plane)},land:function(t,e,i){i.stun(1.5,!0);var a=i.avatar||i.armature,n=a.scale;a.scale*=6,i.shadow.scale,i.shadow.opacity=0,a.visible=!1,i.shadow.visible=!0,a.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){a.visible=!0}),cc.scaleTo(.45,.25*(a.scale+n)),cc.spawn(cc.scaleTo(2.4,n)),cc.callFunc(function(){this.setActive(!0),this._isActiveContact=!0},this))),this.game.effectMgr.play(SoundEffectPath.parachute),a.runAction(cc.sequence(cc.delayTime(.6),cc.callFunc(function(){var t;(t=this.effectMgr.createSprite(0,0,"effect/dropbox/parachute")).x=60,t.y=55,t.scale=0,t.runAction(cc.sequence(cc.delayTime(.2),cc.scaleTo(.25,1),cc.moveBy(.5,cc.v2(-90,0)).easing(cc.easeIn(.5)),cc.moveBy(.35,cc.v2(80,0)).easing(cc.easeOut(.5)),cc.moveBy(.35,cc.v2(80,0)).easing(cc.easeIn(.5)),cc.moveBy(.35,cc.v2(-50,0)).easing(cc.easeOut(.5)),cc.moveBy(.35,cc.v2(-50,0)).easing(cc.easeIn(.5)),cc.moveBy(.5,cc.v2(30,0)),cc.spawn(cc.fadeOut(.4)))),this.node.addChild(t),(t=this.effectMgr.createSprite(0,0,"effect/dropbox/shadow")).x=0,t.y=0,t.scale=0,this.node.addChild(t,-1),t.runAction(cc.sequence(cc.delayTime(.45),cc.moveBy(2.4,cc.v2(60,55)))),t.runAction(cc.sequence(cc.delayTime(.2),cc.scaleTo(.25,1.5),cc.moveBy(.5,cc.v2(-90,0)).easing(cc.easeIn(.5)),cc.moveBy(.35,cc.v2(80,0)).easing(cc.easeOut(.5)),cc.moveBy(.35,cc.v2(80,0)).easing(cc.easeIn(.5)),cc.moveBy(.35,cc.v2(-50,0)).easing(cc.easeOut(.5)),cc.moveBy(.35,cc.v2(-50,0)).easing(cc.easeIn(.5)),cc.moveBy(.5,cc.v2(30,0)),cc.spawn(cc.fadeOut(.4))))},a))),i.shadow.runAction(cc.fadeIn(.6))},deathCount:function(){this.game.shake(3,3),this.game.levelMgr.dropBoxCt--},onDead:function(){Effect.DropBoxExplode(this,this.game),Entity.prototype.onDead.apply(this,arguments),this.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(this.remove,this)))}}),window.DropBoxDefine={dropBox:{hp:1,radius:80,spawnEff:"FallFromAbove",z:1200,weight:1200,shadowScale:3.3}},cc._RF.pop()},{Entity:"Entity"}],DropHpBuff:[function(t,e){"use strict";cc._RF.push(e,"83605JrB8BPPZ+CpTJTVtWG","DropHpBuff"),cc.Class({extends:t("Buff"),init:function(t,e){this._super(t,e),this.dt=.3,this.castTimer+=this.dt},begin:function(){this._super(),this.totalTime=this.define.t;var t=this.define.dmg,e=Math.ceil(this.totalTime/.3);this.perDmg=t/e,this.idleTimer=0},excute:function(t){this.idleTimer+=t,this.idleTimer<this.dt||(this.idleTimer=0,this.obj.simpleHurt(this.perDmg))}}),cc._RF.pop()},{Buff:"Buff"}],Drop:[function(t,e){"use strict";cc._RF.push(e,"66aeajcoMlNWpLXiCCKN4RP","Drop");var i={init:function(){this.data=[];try{this.data=kit.getArrFromJson("data/drop")||null}catch(t){}},getDropDefine:function(t){for(var e in this.data)if(t==this.data[e].id)return kit.clone(this.data[e])}};window.DropData=i,i.init();var a={upgradeBonus:{noFly:1,radius:80,pickupRange:80,weight:1,iconScale:3,atlas:"sub#atlas/upgradeBonus",callback:function(t,e,i){menuManager.pop("prefab/upgradeBonus",{game:i})},dropFunc:function(t,e){e=e||0;var i=t;i.active=!1,t.game.schedule(function a(n){e-=n,!i.game.collectAutoLoot||e>0||(this.addUpdate(t),this.bindScheduler(t),i.active=!0,t.available=!0,Effect.Lvlup(i,i.game),t.game.unschedule(a))})}},item:{radius:80,weight:1,callback:function(t,e,i){i.gainItem(e.id,e.num),Effect.PickUpItem(t.x,t.y,i),Effect.ItemGainMsg(i,e.id)}},relic:{radius:80,weight:1,callback:function(t,e,i){Effect.PickUpItem(t.x,t.y,i),i.gameManager.addRelicUnlock(e.id),Effect.ItemGainMsg(i,e.id)}},money:{radius:65,weight:1,difficultyRatio:.1,icon:"uiz/main/money",dropFunc:function(t){var e=.6*Math.random()+.7,i=60+40*Math.random(),a=Math.random()*Math.PI*2,n=i*Math.sin(a),s=i*Math.cos(a);t.x+=(.2*Math.random()+.1)*n,t.y+=(.2*Math.random()+.1)*s,t.angle=360*-Math.random(),t.scale=1.5*e;var o=cc.sequence(cc.rotateBy(.3*e,500*e),cc.callFunc(function(){t.available=!0,t.zIndex=t.define.z||5},t),cc.rotateBy(.4*e,240*e).easing(cc.easeExponentialOut())),r=cc.sequence(cc.scaleTo(.1*e,2.2*e).easing(cc.easeExponentialOut()),cc.scaleTo(.2*e,1)),c=cc.sequence(cc.moveBy(.3*e,cc.v2(n*e,s*e)),cc.moveBy(.2*e,cc.v2(n/4*e,s/4*e)).easing(cc.easeIn(.4)));t.runAction(cc.spawn(o,r)),t.runAction(c),t.moveAction=c},callback:function(t,e,i){var a=(t.attribute.get("moneyBonus")||0)+1;i.moneyGain+=Math.round(e.num*a)}},diamond:{radius:150,weight:1,icon:"drop/zuanshi",callback:function(t,e,i){i.config.modeType!=ModeType.Supply&&MoneyData.add(MoneyData.DIAMOND,1),Effect.DiamondPickUp(e.num,this)}},heal:{radius:70,weight:1,icon:"drop/heal",aura:"atlas/dropAuraRed",callback:function(t){if(!t.isDead){var e=t.attribute.get("addHp")||0,i=t.hpBase||t.hpMax;t.heal(.2*i+e),t.effectMgr.play(SoundEffectPath.use_heal)}}},heal_big:{radius:70,weight:1,icon:"drop/heal_big",aura:"atlas/dropAuraRed",callback:function(t){t.isDead||t.heal(.2*t.hpMax)}},invincible:{radius:70,weight:1,icon:"drop/armor",aura:"atlas/dropAuraBlue",callback:function(t,e,i){var a=BuffDefine.invincibleBuffAuto;t.setBuffFromDrop(a,{t:a.t}),Effect.DropGainMsg("",i)}},attack:{radius:70,weight:1,icon:"drop/attack",aura:"atlas/dropAuraYellow",callback:function(t,e,i){var a=BuffDefine.DropAttackBuff;t.setBuffFromDrop(a,{t:a.t}),a=BuffDefine.BltSizeUp,t.setBuffFromDrop(a,{t:a.t}),i.effectMgr.play(SoundEffectPath.empower),Effect.DropGainMsg("",i)}},atkSpd:{radius:70,weight:1,aura:"atlas/dropAuraOrange",icon:"drop/atkSpd",callback:function(t,e,i){t.reload(!0);var a=BuffDefine.AtkSpdUp85;t.setBuffFromDrop(a,{t:a.t}),a=BuffDefine.InfiniteAmmo,t.setBuffFromDrop(a,{t:a.t}),i.effectMgr.play(SoundEffectPath.empower),Effect.DropGainMsg("",i)}},movSpd:{radius:70,weight:1,aura:"atlas/dropAura",icon:"drop/movSpd",callback:function(t,e,i){var a=BuffDefine.MoveSpdUp65;t.setBuffFromDrop(a,{t:a.t}),i.effectMgr.play(SoundEffectPath.empower),Effect.DropGainMsg("",i)}},bomb:{radius:70,weight:1,unlockLvl:7,icon:"uiz/weapon/c4",callback:function(t,e,i){var a=i.hero,n={name:"",ctor:C4Bomb,explodeTime:.8,noBlend:!0,minradius:20,hurtradius:350,dmg:10*a.weapon.atkDmg,dmgk:20,l:0,accurateDis:1,st:0,frm:"uiz/weapon/c4",anchorY:.5,length:35,kb:15,n:1,wd:0,d:0,spd:600,rnd:.3,eff:Effect.ExplosiveBlt,zOrder:1e3,alert:!0};Ammofactory(a,n,{obj:a,x:t.x,y:t.y,te:a.team})}},weapon:{radius:70,weight:1,icon:function(t){var e=t.itemId;return WeaponDefine[e].colorPic||SUB_DIR+"drop/box"},callback:function(t,e,i){var a=e.itemId,n=(ITEM_CONFIG[a],BuffDefine.SpecialWeapon),s=i.lvl;(new n.ctor).init(n,{obj:t,weapon:e.itemId,lvl:s+5,icon:WeaponDefine[e.itemId].colorPic,iconScale:.7,name:WeaponDefine[e.itemId].name},i),i.effectMgr.play(SoundEffectPath.pickup_weapon),Effect.DropGainMsgDemo("-"+WeaponDefine[e.itemId].name,i)}}};window.DropDefine=a,window.DropItemById=function(t,e,i,o,r){var c=r&&r.range||0,h=0,d=0;if(c){var l=Math.random()*Math.PI*2;h=c*Math.sin(l),d=c*Math.cos(l)}var u={x:e.x,y:e.y,num:e.num,id:e.id,lifeTime:o},f=new(("item"==t||"relic"==t)&&s||n);f.init(a[t],u,i),f.drop(h,d,e&&e.showTime)},window.DropMoney=function(t,e,i,n,s,r){for(var c={x:t,y:e,num:i/n,lifeTimer:9999,autoLoot:!0},h=1;h<=n;h++){c.flyDirection=r||Math.random()*Math.PI*2;var d=new o;d.init(a.money,c,s);var l=.1*h;l>2.4&&(l=2.4),d.drop(l)}},window.DropFactory=function(t,e){if(e.gameManager&&e.gameManager.canDropItem()){var i=e.gameManager.getChapter(),s=LevelPoolDefine[i].dropChance||0;if(s*=e.gameManager.getGlobalAttr("itemDropRate")||1,Math.random()<s){var r=(operkit.isJYChapter()?"JY":"")+operkit.getCurWarChapter(),c=operutils.getTargetKeysByWeight(OperDefine.propInWar,r),h=OperDefine.propInWar[c].k;r=OperDefine.getFinalKey(h),DropItemById("item",{x:t.x,y:t.y,id:r},e)}}var d=e,l=(d.levelMgr,e.gameManager&&e.gameManager.getCoinValue()||1),u=e.gameManager&&e.gameManager.getGlobalAttr("moneyDropRate")||1;if(t.isBoss){var f={x:t.x,y:t.y,num:l,lifeTimer:9999,autoLoot:!0};(y=(_=30*u)-Math.floor(_))>0&&(_+=Math.random()<y?1:0);for(var m=_/300,p=1;p<=_;p++){f.flyDirection=Math.random()*Math.PI*2,(w=new o).init(a.money,f,d);var g=p*m;g>2.4&&(g=2.4),w.drop(g)}var v=e.gameManager&&e.gameManager.getLevelType();if(Talent.checkCanUpgradeBonus()&&"boss"==v&&(DropItemById("upgradeBonus",{x:t.x,y:t.y,showTime:2.4},e),e.gameManager.diagueOnce(6,null,3)),f={x:t.x,y:t.y,num:11,lifeTime:10},(w=new n).init(a.heal,f,d),w.drop(),e.gameManager){if("finalboss"==e.gameManager.getCurrentLevelType()){i=operkit.getCurWarChapter();var b=LevelPoolDefine[i].dropRelicItem;if(b){var k=operkit.getRelicsStatus(b);1!=k&&2!=k&&DropItemById("relic",{x:t.x,y:t.y,id:b},e)}}0!=operkit.getCurWarChapter()||0!=operkit.getMaxWarChapter()||"finalboss"!=e.gameManager.getCurrentLevelType()||operkit.getOperData("guide","drop1")||(DropItemById("item",{x:t.x,y:t.y,id:2011},e),operkit.setOperData("guide","drop1",!0,1)),1!=operkit.getCurWarChapter()||1!=operkit.getMaxWarChapter()||operkit.getOperData("guide","drop2")||(DropItemById("item",{x:t.x,y:t.y,id:2012},e),operkit.setOperData("guide","drop2",!0,1))}}else{var y,S=t.define.dropGold,_=S?Math.floor(S)+(Math.random()<S-Math.floor(S)?1:0):1;if((y=(_*=u)-Math.floor(_))>0&&(_+=Math.random()<y?1:0),_>0)for(p=1;p<=_;p++)f={x:t.x,y:t.y,num:l,lifeTimer:9999,type:"money",autoLoot:!0},cc.log("kbx,kby",t.kbx,t.kby),(t.kby||t.kbx)&&(f.flyDirection=kit.vector2Radian(t.kby,t.kbx)-.1+.2*Math.random()),(w=new o).init(a.money,f,d),w.drop();e.gameManager&&e.gameManager.checkDropHeal()&&(f={x:t.x,y:t.y,num:11,lifeTime:10},(w=new n).init(a.heal,f,d),w.drop())}if(cc.log("DropGold"),t.config.drop&&"object"==typeof t.config.drop)for(p=0;p<=t.config.drop.length-1;p++){var x=t.config.drop[p];f={x:t.x,y:t.y},(w=new n).init(a[x],f,e),w.drop()}else if(a[t.config.drop]){var w;return f={x:t.x,y:t.y},(w=new n).init(a[t.config.drop],f,e),void w.drop()}},window.DropFactory2=function(t){var e={x:t.x,y:t.y,itemId:t.id,num:t.n,type:t.type,s:1};if("money"==e.type)return dropMoney(e);var i=a[t.type],s=new n;s.init(i,e),s.drop()};var n=cc.Class({extends:cc.Node,init:function(t,e,i){this.define=t,this.config=e,this.game=i,this.effectMgr=i.effectMgr,this.radius=t.radius||80,this.pickupRange=t.pickupRange||200,this.x=e.x,this.y=e.y,this.autoLoot=e.autoLoot,this.target=this.game.hero,this.game.addEntity(this,t.z||5),this.lifeTimer=e.lifeTime||this.autoLoot&&9999,this.available=!1,this.flySpd=0,this.game.dropCt||(this.game.dropCt=0),this.define!=a.money&&this.game.dropCt++,this.flyDirection=e.flyDirection,this.initSprite()},drop:function(t,e,i){if(this.define.dropFunc)this.define.dropFunc(this,i);else{this.game.addUpdate(this),this.game.bindScheduler(this),this.zIndex=1300;var a=this.game.dropCt,n=kit.rnd(0,2*Math.PI);t=(t||30*a)*Math.sin(n),e=(e||30*a)*Math.cos(n),this.x0=this.x,this.y0=this.y,this.game.contactMgr.objectCheckWall(this,{dx:t,dy:e,flyHeight:0})||this.runAction(cc.moveBy(.4,cc.v2(t,e))),this.runAction(cc.rotateBy(.4,360));var s=cc.sequence(cc.scaleTo(.2,5).easing(cc.easeExponentialOut()),cc.scaleTo(.2,1));this.runAction(cc.sequence(s,cc.callFunc(function(){this.available=!0,this.zIndex=this.define.z||20,this.spawnAura()},this)))}},updateLogic:function(t){if(this.target&&this.available){var e=this.target.x-this.x,i=this.target.y-this.y;if(e*e+i*i<this.pickupRange*this.pickupRange||this.flySpd>0){this.isFlyToTarget=!0,this.aura&&(this.aura.destroy(),this.aura=null);var a=this.flySpd;this.flySpd+=4e3*t;var n=kit.vector2Radian(this.target.y-this.y,this.target.x-this.x);return this.x+=Math.sin(n)*a*t,this.y+=Math.cos(n)*a*t,this.timer-=t,void((this.timer<=0||e*e+i*i<this.radius*this.radius)&&this.activeFunc())}}if(!this.available&&this.moveAction){var s=g_sharedContactManager.getCXY(this.x,this.y);g_sharedContactManager.canPlace(s.x,s.y)||this.stopAction(this.moveAction)}this.lifeTimer&&(this.lifeTimer-=t),this.available&&(this.game.collectAutoLoot||this.target.autoLoot)&&this.flyToTarget(),this.lifeTimer<=0?this.fade():!this.noBlink&&this.lifeTimer<2.5&&!this.blinkActon&&(this.blinkActon=this.runAction(cc.blink(2.5,8)))},remove:function(){this.isRemoved||(this.isRemoved=!0,this.onRemove())},onRemove:function(){this.game.removeUpdate(this),this.destroy(),this.define!=a.money&&this.game.dropCt--},fade:function(){this.game.removeUpdate(this),this.autoLoot?(this.define.callback.call(this,this.target,this.config,this.game),this.remove()):this.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(this.remove,this)))},flyToTarget:function(){this.isFlyToTarget||this.define.noFly||(this.pickupRange=5e3,this.timer=2,this.isFlyToTarget=!0,this.aura&&(this.aura.destroy(),this.aura=null))},activeFunc:function(){this.define.callback.call(this,this.target,this.config,this.game),this.game.removeUpdate(this),this.remove()},fly:function(t,e,i){i=i||{w:50,h:50},this.runAction(cc.sequence(cc.spawn(cc.moveBy(.4,cc.v2(kit.rnd(-i.w,i.w),kit.rnd(-i.h,i.h))),cc.sequence(cc.scaleTo(.2,2),cc.scaleTo(.2,1))),cc.callFunc(this.drop,this))),t&&(this.lifeTimer=t,this.noBlink=!0,this.autoLoot=!0),e&&(this.target=null)},spawnAura:function(){if(this.icon.runAction(cc.sequence(cc.moveBy(1,cc.v2(0,10)),cc.moveBy(1,cc.v2(0,-10))).repeatForever()),this.define.aura){var t=this.define.aura,e=this.effectMgr.createAnimation(t,{speed:1,repeat:-1});e.y=60,e.scale=0,e.runAction(cc.scaleTo(.1,3)),this.addChild(e,-1),this.aura=e}},initSprite:function(){if(this.define.base){if("function"==typeof this.define.base)var t=this.define.base(this.config);else t=this.define.base;(e=this.effectMgr.createSprite(0,0,t)).runAction(cc.sequence(cc.scaleTo(.15,2),cc.scaleTo(.15,1.2)).repeatForever()),this.addChild(e,-1)}if(this.define.atlas)t=this.define.atlas,e=this.effectMgr.createAnimation(t,{speed:1,repeat:-1});else{t="function"==typeof this.define.icon?this.define.icon(this.config):this.define.icon;var e=this.effectMgr.createSprite(0,0,t)}if(e.setScale((this.define.iconScale||1)*(this.config.s||1)),this.addChild(e,0),this.icon=e,"weapon"==this.config.type){var i=this.effectMgr.createSprite(0,0,"uiz/weapon/light");i.scale=0,this.addChild(i,-1),i.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.1,.7),cc.scaleTo(.1,.5))),i.runAction(cc.rotateBy(3,360).repeatForever())}}});window.Drop=n;var s=cc.Class({extends:n,initSprite:function(){var t=OperDefine.getBaseInfoByKey(this.config.id).img,e=this.effectMgr.createSprite(0,0,t);this.addChild(e,1),this.icon=e},spawnAura:function(){var t;(t=this.effectMgr.createSprite(0,0,"drop/item_bg")).runAction(cc.rotateBy(3,360).repeatForever()),t.runAction(cc.sequence(cc.scaleTo(.3,1.1),cc.scaleTo(.3,1)).repeatForever()),this.addChild(t,-1),(t=this.effectMgr.createSprite(0,0,"drop/item_laser")).anchorY=0,t.y=-110,t.runAction(cc.sequence(cc.scaleTo(.3,1,1),cc.scaleTo(.3,1.1,1)).repeatForever()),this.addChild(t,0),this.aura=t},flyToTarget:function(){this.isFlyToTarget||(this.pickupRange=5e3,this.timer=2,this.isFlyToTarget=!0,this.aura&&(this.aura.destroy(),this.aura=null))}}),o=cc.Class({extends:n,updateLogic:function(t){if(!this.isActivated){var e=this.sprite;if(e.v){var i=e.v*kit.sin(e.rad)*t/.03*e.scale,a=e.v*kit.cos(e.rad)*t/.03*e.scale;this.x0=this.x,this.y0=this.y,this._isInBorder=!0;var n=!this.isFlyToTarget&&this.game.contactMgr.objectCheckWall(this,{dx:i,dy:a,flyHeight:1});if(n){this.x=n.x,this.y=n.y;var s=kit.sin(e.rad),o=kit.cos(e.rad);n.xChanged&&(s=-s,e.rotateDirection=-e.rotateDirection,e.rotateSpd+=e.v-e.rotateSpd/2,e.v*=2/3),n.yChanged&&(o=-o,e.rotateDirection=-e.rotateDirection,e.rotateSpd+=e.v-e.rotateSpd/2,e.v*=.75),e.rad,kit.vector2Radian(o,s),e.rad=kit.vector2Radian(o,s)}else this.x+=i,this.y+=a}if(this.sprite.angle-=e.rotateSpd*e.rotateDirection*t/.03,e.z>0||0!=e.vz||0!=e.v||0!=e.rotateSpd){var r=!1;e.z+=e.vz*t/.03,e.z<=0&&e.vz<=0&&(r=!0,this.vzMin=e.vz,e.vz=.6*-e.vz,e.vz>10&&this.game.effectMgr.play(SoundEffectPath.money_bounce),this.available=!0,e.z=0,e.v*=.05*Math.random()+.9,e.v<=2&&(e.v=0),e.rotateSpd*=.9,e.rotateSpd+=e.vz+e.v-e.rotateSpd/2,e.rotateSpd<=2&&(e.rotateSpd=0)),e.vz-=7*t/.03,r&&e.vz<0&&(e.vz=0,e.v-=1*t/.03,e.rotateSpd-=.1*t/.03,e.v<=0&&(e.v=0),e.rotateSpd<=0&&(e.rotateSpd=0));var c=280/(280-18*Math.sqrt(e.z))*e.baseScale*.33;c=kit.clamp(c,0,3),e.setScale(c),e.scale=c,e.scale>.6?this.zIndex=2e3:this.zIndex=2}this._super(t),this.updateShadow(t)}},initSprite:function(){var t={scale:1.4,v:42+10*Math.random(),radVertical:Math.PI/2-Math.random()*Math.PI/2,z:30+5*Math.random()},e=this.game.effectMgr.createSprite(0,0,"drop/gold");if(e.z=t.z||0,null!=this.flyDirection?e.rad=this.flyDirection:(e.rad=Math.random()*Math.PI*2,t.radVertical=Math.PI/2-Math.random()*Math.PI/18),e.angle=-t.angle||360*Math.random(),null!=t.radVertical){var i=t.radVertical;e.vz=t.v*Math.sin(i),e.v=t.v*Math.cos(i)}else e.vz=t.vz,e.v=t.v;e.rotateSpd=30*Math.random()+25+4*i,e.rotateDirection=t.rotateDirection||2*kit.rndInt(0,1)-1,e.baseScale=t.scale||1,e.scale=.5*e.baseScale;var a=this.game.effectMgr.createSprite(0,0,"drop/gold_light");a.x=10,a.y=6,a.scale=1,e.addChild(a,2e3),this.goldLight=a,a.runAction(cc.sequence(cc.fadeOut(.3),cc.fadeIn(.3)).repeatForever());var n=(this.define.iconScale||1)*(this.config.s||1);return n=kit.clamp(n,0,3),e.setScale(n),this.addChild(e,0),this.sprite=e,this.active=!1,this.initShadow(),e},initShadow:function(){var t=this.effectMgr.createSprite(0,0,"shadow");t.scale=.7,this.addChild(t,-2),this.shadow=t},updateShadow:function(){var t=2*this.sprite.z+6,e=this.shadow;t&&(e.x=Math.sin(2*Math.PI/3)*t,e.y=Math.cos(2*Math.PI/3)*t,e.opacity=1e3/t+100)},activeFunc:function(){this._super();var t=Effect.createFireLight(this.x,this.y,.6,null,2,this.game);this.game.camera.addChild(t,1111);for(var e=0;e<=5;e++){var i=Math.random()*Math.PI*2,a=kit.rnd(10,40),n=a*Math.sin(i),s=a*Math.cos(i),o=(t=this.game.effectMgr.createSprite(this.x+n,this.y+s,"drop/pickup"),kit.rnd(1,4));t.scale=o;var r=kit.rnd(0,150),c=kit.rnd(.1,.15)*o-r/1500,h=r*Math.sin(i),d=r*Math.cos(i),l=kit.rnd(.05,.1)*o;t.opacity=0,t.runAction(cc.sequence(cc.delayTime(.02*e),cc.fadeIn(.01),cc.spawn(cc.moveBy(c+l/2,cc.v2(h,d)),cc.sequence(cc.delayTime(l),cc.scaleTo(c,0))),cc.destroySelf()).easing(cc.easeOut(kit.rnd(2,3)))),t.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,t.dstBlendFactor=cc.macro.BlendFactor.ONE,this.game.camera.addChild(t,1e3)}},drop:function(t){t=t||0;var e=this;this.game.scheduleOnce(function(){this.addUpdate(e),this.bindScheduler(e),e.active=!0},t)}});cc._RF.pop()},{GuidedMissileDirect:"GuidedMissileDirect"}],DunHpBar:[function(t,e){"use strict";cc._RF.push(e,"a127fDUdWpHi704vyIQVAg3","DunHpBar"),cc.Class({extends:cc.Node,init:function(t){this.game=t,this.effectMgr=this.game.effectMgr;var e=this.effectMgr.createSprite(0,0,"uiz/ingame/hp_bar");e.setAnchorPoint(0,.5),this.hpBar=e,this.addChild(e,2);var i=this.effectMgr.createSprite(0,0,"uiz/ingame/hp_bg",[0,0,51,9]);this.hpBg=i,this.addChild(i);var a=this.effectMgr.createSprite(0,e.height/2,"uiz/ingame/ep_bar");a.setAnchorPoint(0,.5),this.dunBar=a,this.addChild(a,2);var n=this.effectMgr.createSprite(0,0,"uiz/ingame/ep_bg",[0,0,51,9]);n.y=a.y,this.dunBg=n,this.addChild(n);var s=this.effectMgr.createSprite(0,n.y+n.height/2+1,"effect/CD1");s.setAnchorPoint(0,0),this.addChild(s),s.setScale(.6),this.cd=s;var o=this.effectMgr.createLabel(0,"effect/heal_number","0");o.setAnchorPoint(0,0),o.y=s.y,this.addChild(o),this.cdNum=o,o.setScale(.8);var r=this.effectMgr.createLabel(0,"effect/heal_number3","0");r.setAnchorPoint(1,0),r.y=s.y,r.setScale(.6),this.addChild(r),this.dunMax=r;var c=this.effectMgr.createSprite(0,s.y,"effect/gang");c.setAnchorPoint(1,0),c.setScale(.6),this.addChild(c),this.gang=c;var h=this.effectMgr.createLabel(0,"effect/heal_number","0");h.setAnchorPoint(1,0),h.y=s.y,h.setScale(.8),this.addChild(h),this.dun=h,this.scheduleUpdate()},reset:function(t,e){this.obj=t,e||(e=10+t.hpMax/10),this.sx=2*e/51,this.sy=1,this.hpBar.setScale(this.sx,this.sy),this.hpBar.setPosition(-e,0),this.hpBg.setContentSize(2*e,7),this.dsx=2*e/51,this.dunBar.setScale(this.dsx,this.sy),this.dunBar.setPosition(2-e,this.hpBar.height/2),this.dunBg.setContentSize(2*e-4,4),this.dunRect=this.dunBar.getTextureRect(),this.cd.x=-e,this.cdNum.x=19-e,this.dunMax.x=e,this.dunMax.string=t.dunMax,this.gang.x=e-this.dunMax.width*this.dunMax.getScale(),this.dun.x=this.gang.x-this.gang.width*this.gang.getScale()},onRefresh:function(){this.refreshAction=null},refresh:function(){var t=this.obj;if(!(t.hp<=0)){this.refreshAction&&(this.hpBar.stopAction(this.refreshAction),this.hpBar.setScaleX(this.next_sx));var e=t.hp/t.hpMax*this.sx;this.opacity=255,this.next_sx=e,this.refreshAction=this.hpBar.runAction(cc.sequence(cc.scaleTo(.5,e,this.sy),cc.callFunc(this.onRefresh,this)))}},update:function(){this.setPosition(this.obj.x0,this.obj.y0+30);var t,e=this.obj,i=e.dun,a=e.dunMax,n=kit.clone(this.dunRect);n.width=n.width*i/a,n.width<0&&(n.width=0),this.dunBar.getComponent(cc.Sprite).size=n,(t=Math.floor(e.dunTimer))<0&&(t=0),this.cdNum.string=t,(t=e.dun)<0&&(t=0),this.dun.string=t}}),cc._RF.pop()},{}],DvaBoomSkill:[function(t,e){"use strict";cc._RF.push(e,"bd45fc+jblDSq5c7KdqFI1v","DvaBoomSkill"),cc.Class({extends:t("Skill"),resetCD:function(t){this.isCast||(this.castTimer=this.define.t,"number"==typeof t?(0==t&&(t=.1),this.cdTimer=t):this.formSwitch?this.cdTimer=this.define.summonCD:this.cdTimer=this.define.cd,this.maxTimer=this.cdTimer,this.isInCD=!0,this.isPrepare=!1)},cast:function(){if(this._super())return!0;var t=this.obj;if(t.attribute,!this.game.fastMode){var e=this.effectMgr.createSprite(0,0,"effect/tracer/light2"),i=e.getComponent(cc.Sprite);i.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,i.dstBlendFactor=cc.macro.BlendFactor.ONE,e.scale=0,this.obj.addChild(e,1e5);var a=cc.Sequence(cc.Spawn(cc.ScaleTo(.2,8),cc.FadeOut(.4)),cc.CallFunc(function(){e.destroy()}));e.runAction(a),this.circle=e}this.formSwitch=!this.formSwitch,this.formSwitch?(this.isOnCar=!0,this.initAvatar(),this.define.name="",this.cdTimer=this.define.summonCD,this.maxTimer=this.cdTimer,this.boom(),this.game.effectMgr.play(SoundEffectPath.dva_DvaBoom)):(t.isInvincible++,this.buff=kit.clone(this.define.buff),this.buff.t=this.define.stunTime,this.define.name="",this.summon(),this.game.effectMgr.play(SoundEffectPath.dva_DvaOn))},initAvatar:function(){var t=this.obj;if(!this.avatar){var e=t.define.pilot.avatar,i=e.ctor||Avatar;this.avatar=new i(e,{obj:t}),this.avatar.enabled=!1,t.addChild(this.avatar,-1)}},replaceAvatar:function(){var t=this.obj,e=t.avatar;e.enabled=!1,this.backupAvatar=e,t.avatar=this.avatar,t.avatar.enabled=!0,t.avatar.setShader(e.getShader()),t.attribute.mutScale("atkDmg",.6),t.attackSound=SoundEffectPath[EntityCN2EN[this.toString()]+"_weapon2"],this.resetObj(t.define.pilot)},restoreAvatar:function(){var t=this.obj;t.avatar=this.backupAvatar,t.avatar.setShader(this.avatar.getShader()),t.attribute.mutScale("atkDmg",1/.6),t.attackSound=null,this.resetObj(t.define)},resetObj:function(t){var e=this.obj;e.attackIndex=0,e.bltReload=0,e.bltCt=e.bltMaxCt,e.attribute.set("rttSpd",t.rttSpd),e.radius=t.radius,e.weight=t.weight,e.speed=t.speed,e.blt=t.blt,e.attackSequence=t.attackSequence,e.aimOffsetX=t.aimOffsetX,e.aura.setScale(t.auraScale||.5),e.shadow.setScale(t.shadowScale||1)},excute:function(t){var e=this.actionList;if(e){var i=e[this.actionIndex];i&&(cc.isFunction(i)?(i.call(this),this.actionIndex++):(i-=t)-t<=0?this.actionIndex++:e[this.actionIndex]=i)}},summon:function(){var t=this.obj;t.setNoMove(!0),t.setNoRotate(!0),t.setNoAttack(!0),t.setForcedAnime("skill_3"),t.refreshAvatar(),this.actionList=[20/30,function(){this.restoreAvatar(),t.avatar.enabled=!0,t.setForcedAnime("skill_3_in"),t.refreshAvatar(),t.zIndex=1250},11/30,this.land],this.actionIndex=0},onCover:function(t,e){var i=this.define,a=Math.sqrt(e),n=i.r0+t.radius,s=i.k,o=i.stunDmg,r=this.buff;if(a<n)t.hurt(o,this,DMG_TYPE.explo);else{var c=o-s*(a-n);c<0&&(c=0),t.hurt(c,this,DMG_TYPE.explo)}r&&new r.ctor(r,{obj:t})},land:function(){var t=this.obj,e=this.define;t.healEp(t.epMax*this.define.epReg2),this.define.hpReg&&t.heal(t.hpMax*this.define.hpReg);var i=t.x,a=t.y,n=e.stunR;g_sharedContactManager.checkAliveEnemy(this,i,a,n,t.team,this.onCover),this.game.fastMode||(this.game.shake(5,5),t.zIndex=t.z,Effect.EarthShock2(i,a,n,null,5),this.game.effectMgr.play(SoundEffectPath.winston_Jump_fall))},escape:function(){if(this.isOnCar){this.isOnCar=!1,this.meka=new ExplosiveMeka(this);var t=this.obj;t.skills[0].callEnd(),t.skills[1].callEnd(),this.replaceAvatar(),t.setNoSkill(!0,0),t.setNoSkill(!0,1),t.refreshAvatar(),t.healEp(t.epMax*this.define.epReg1);var e=kit.degree2Radian(t.deg),i=Math.sin(e),a=Math.cos(e);t.knockback(-100*i,-100*a)}},boom:function(){var t=this.obj;t.attribute.mutScale("epRecover",this.define.epRate),this.game.effectMgr.play(SoundEffectPath.tracer_StreakSpeedU);var e=function(){Effect.DvaBlink(t)};this.actionList=[e,.25,e,.5,this.escape],this.actionIndex=0},end:function(){this._super();var t=this.obj,e=t.attribute;this.formSwitch?(this.game.controller&&this.game.hero,e.mutScale("epRecover",1/this.define.epRate),this.escape()):(this.game.controller&&this.game.hero,t.setNoSkill(!1,0),t.setNoSkill(!1,1),t.setNoAttack(!1),t.setNoMove(!1),t.setNoRotate(!1),t.setForcedAnime(null),t.refreshAvatar(),t.isInvincible--,this.avatar.setForcedAnime(null),this.avatar.enabled=!1)}}),cc._RF.pop()},{Skill:"Skill"}],DvaUpSkill:[function(t,e){"use strict";cc._RF.push(e,"7c7a5swSv9B4bmDXuJuOCjm","DvaUpSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.dva_DvaUp),this.speedScale=this.define.spdScale||.5;var t=this.obj,e=t.attribute;e.mutScale("moveSpd",this.speedScale),e.add("bltMaxCt",1e5),e.cover("atkDmg",this.define.dmg),t.bltCt=t.bltMaxCt,this.define.blt.dmg=this.dmg,this.define.hurtReduction&&e.add("hurtScale",-this.define.hurtReduction);var i=this;if(this.noAttack=!0,t.setNoAttack(!0),t.playAnim({anim:"skill_1",loop:!1,func:function(){i.noAttack&&(i.noAttack=!1,t.setNoAttack(!1)),i.autoAttack=!0,t.setAutoAttack(!0)},speed:1.3}),this.replaceBlt(),!this.game.fastMode){var a=this.effectMgr.createSprite(0,0,"effect/tracer/light2"),n=a.getComponent(cc.Sprite);n.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,n.dstBlendFactor=cc.macro.BlendFactor.ONE,a.scale=0,t.addChild(a,1e5);var s=cc.Sequence(cc.Spawn(cc.ScaleTo(.2,8),cc.FadeOut(.4)),cc.CallFunc(function(){a.destroy()}));a.runAction(s),this.circle=a}this.replaceAnim()},replaceAnim:function(){this.obj.avatar.setAttackAnimeName("skill_1_attack"),this.obj.avatar.setWalkAnimeName("skill_1_walk"),this.obj.avatar.setStandAnimeName("skill_1_stand"),this.obj.avatar.setWalkAnimeNameLower("walk_lower")},restoreAnim:function(){this.obj.avatar.setAttackAnimeName(null),this.obj.avatar.setWalkAnimeName(null),this.obj.avatar.setStandAnimeName(null),this.obj.refreshAvatar()},replaceBlt:function(){var t=this.obj;this.backupBlt=t.blt,this.backupSeq=t.attackSequence,t.attackIndex=0,t.bltReload=0;var e=[this.define.blt];t.blt=e,t.attackSequence=this.define.seq},restoreBlt:function(){var t=this.obj;t.onAttackEnd(),t.blt=this.backupBlt,t.attackSequence=this.backupSeq},excute:function(){},end:function(){this._super();var t=this.obj,e=t.attribute;if(e.mutScale("moveSpd",1/this.speedScale),e.cover("atkDmg"),e.add("bltMaxCt",-1e5),t.bltCt=t.bltMaxCt,this.autoAttack&&(this.autoAttack=!1,t.setAutoAttack(!1)),this.noAttack&&(this.noAttack=!1,t.setNoAttack(!1)),this.restoreBlt(),this.define.hurtReduction&&e.add("hurtScale",this.define.hurtReduction),this.define.hp&&t.heal(t.hpMax*this.define.hp),!this.game.fastMode){var i=this.effectMgr.createSprite(0,0,"effect/tracer/light2");i.scale=0,this.obj.addChild(i,1e5);var a=cc.Sequence(cc.Spawn(cc.ScaleTo(.2,8),cc.FadeOut(.4)),cc.CallFunc(function(){i.destroy()}));i.runAction(a);var n=i.getComponent(cc.Sprite);n.srcBlendFactor=cc.macro.BlendFactor.ONE,n.dstBlendFactor=cc.macro.BlendFactor.ONE}this.restoreAnim()}}),cc._RF.pop()},{Skill:"Skill"}],EditorListMenu:[function(t,e){"use strict";var i,a;cc._RF.push(e,"9790fqCjndKHJZ94it//mnr","EditorListMenu"),cc.Class({extends:t("Menu"),properties:{layout:cc.Node,button:cc.Node,editbox:cc.EditBox},init:function(t){var e=this,n=t.pageIndex||i||1;i=n;for(var s=function(){var t=cc.instantiate(e.button);e.layout.addChild(t),t.on("click",e.onClick,e);var i="map_"+o;t.index=o,t.mapIndex=i;var a=i;e.checkExist(i,function(e){a=e&&e.config.name||a,e||(t.color=cc.color(155,155,155)),t.getChildByName("label").getComponent(cc.Label).string=t.index+"."+a})},o=1+100*--n;o<101+100*n;o++)s();this.button.active=!1,menuManager.play(""),cc.debug.setDisplayStats(!1),this.initTouch(),a&&this.scheduleOnce(function(){this.layout.y=a},.1)},start:function(){},initTouch:function(){if(!this.haveInit){var t=this;this.haveInit=!0,this.node.on(cc.Node.EventType.TOUCH_START,function(e){var i=e.getLocation(),a=e.getID();return t.onTouchBegan&&t.onTouchBegan(i,a)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var i=e.getLocation(),a=e.getID();t.onTouchMoved&&t.onTouchMoved(i,a)}),this.node.on(cc.Node.EventType.TOUCH_END,function(e){var i=e.getLocation(),a=e.getID();t.onTouchEnded&&t.onTouchEnded(i,a)}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(e){var i=e.getLocation(),a=e.getID();t.onTouchEnded&&t.onTouchEnded(i,a)}),this.touch=[],this.noTouch=0}},loadRes:function(t,e,i){if(t.indexOf("#")>0){var a=t.split("#");cc.log("loadRes bundle",a[0],t);var n=cc.assetManager.getBundle(a[0]);t=a[1],n&&n.load(t,e,i)}else cc.loader.loadRes(t,e,i)},checkExist:function(t,e){var i="sub#json/"+t;this.loadRes(i,function(i,a){var n;if(a&&a.json)n=a.json;else{var s=cc.sys.localStorage.getItem(t);s&&(n=JSON.parse(s))}return e&&e(n),n})},onClick:function(e){var i=e.node;window.wx?(new(t("GameEntrance"))).start("test",{lvl:i.index}):menuManager.run("editor/editor",{mapIndex:i.mapIndex})},onTouchBegan:function(t){this.touchY=t.y},onTouchMoved:function(t){this.layout.y+=t.y-this.touchY,a=this.layout.y,this.touchY=t.y},turnPage:function(){var t=this.editbox.string||1;menuManager.run("editor/editorList",{pageIndex:t})},exportAll:function(){for(var t=i,e=function(){var t="map_"+a;editor.post("readMap",{game:"zombie",file:t},function(e,i){if(cc.log(e,i),e)kit.info("["+t+"]");else if(i){var a=JSON.stringify(i),n="json/"+t+".json",s="";if(cc.sys.isNative){var o=jsb.fileUtils.getWritablePath();jsb.fileUtils.isDirectoryExist(o+"json/")||jsb.fileUtils.createDirectory(o+"json/"),s=o+n,cc.log(""+t+"",s),jsb.fileUtils.writeStringToFile(a,s)}else cc.log(""+t+"",s)}})},a=1+100*--t;a<101+100*t;a++)e()}}),cc._RF.pop()},{GameEntrance:"GameEntrance",Menu:"Menu"}],EditorMenu:[function(t,e){"use strict";cc._RF.push(e,"226e9Qmz/xCVrZu+TFJzM7J","EditorMenu");var i=t("LevelLayer"),a=t("EffectManager");window.AURA_SCALE=2.4,cc.Class({extends:t("Menu"),properties:{gamenode:cc.Node,gameCamera:cc.Node,debug:cc.Node,map:{default:null,type:cc.JsonAsset},editUI:cc.Node,eventUI:cc.Node,eventBoards:[cc.Node],mapUI:cc.Node,mapBoards:[cc.Node],unitUI:cc.Node,unitBoards:[cc.Node],mapNode:cc.Node,coverNode:cc.Node,topCoverNode:cc.Node,cancelButton:cc.Node,pauseButton:cc.Node,infoBoard:cc.Node,posLabel:cc.Label,event:cc.Node,unit:cc.Node,inputItem:cc.Node,buttonItem:cc.Node,netName:cc.EditBox,res:{type:cc.Texture2D,default:[]}},getTexture2D:function(t){return this.res[this.resMap[t]]},onLoad:function(){this.resMap={"ui/select":0},this.mgr=new a,this.mgr.bindScheduler=function(){},this.mapBoards[0].active=!0,this.mapBoards[1].active=!1,this.mapBoards[2].active=!1,this.mapBoards[3].active=!1,this.preBoard=this.mapBoards[0],this.unitBoards[0].active=!1,this.cancelButton.active=!1,this.infoBoard.list=[],this.infoBoard.active=!1,this.eventBoards[0].active=!1,this.eventBoards[1].active=!1,this.eventBoards[1].condList=[],this.eventBoards[1].actList=[],this.event.active=!1,this.tempList=[],this.linkList=[],cc.sys.isMobile?window.addEventListener("resize",this.onResized.bind(this)):cc.view.on("canvas-resize",this.onResized,this),this.onResized(),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),menuManager.play("")},onResized:function(){},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},saveTempMap:function(){var t=this.tempList,e=kit.clone(this.mapData);t.push({mapData:e}),t.length>100&&t.shift()},restoreTempMap:function(){var t=this.tempList;if(!(t.length<2)){t.pop();var e=t[t.length-1],i=kit.clone(e.mapData);for(var a in this.onHideEventUI(),this.onHideUnitUI(),this.canSelectList)this.canSelectList[a].destroy();this.canSelectList=[],delete this.selectOne,this.mapData=i,this.initMapConfig(i);var n=THEME_DEFINE[i.config.theme||"city"];this.themeDefine=n;var s=i.config.width,o=i.config.height;this.width=s,this.height=o,this.map={};var r=i.block;if(r)for(a=0;a<r.length;a++)for(var c=r[a],h=c.w||1,d=c.h||1,l=0;l<h;l++)for(var u=0;u<d;u++){var f=c.x+l,m=c.y+u;this.map[f+","+m]=c.i}this.themeMap=i.config.themeMap,this.updateBlock(),this.updateBlockTheme(),i.event||(i.event=[]);var p=i.event;for(var a in p){var g=p[a];this.createEvent(g)}this.initMapEntity(i),this.updateMapLink()}},loadMap:function(t){var e="sub#json/"+this.mapIndex,i=this.mapIndex;this.loadRes(e,function(e,a){var n;if(a&&a.json)n=a.json;else{var s=cc.sys.localStorage.getItem(i);n=s?JSON.parse(s):JSON.parse(JSON.stringify(DEFAULT_MAP))}return t&&t(n),n})},loadRes:function(t,e,i){if(t.indexOf("#")>0){var a=t.split("#");cc.log("loadRes bundle",a[0],t);var n=cc.assetManager.getBundle(a[0]);t=a[1],n&&n.load(t,e,i)}else cc.loader.loadRes(t,e,i)},saveForBrowser:function(t,e){if(cc.sys.isBrowser){console.log("");var i=new Blob([t],{type:"application/json"}),a=document.createElement("a");a.download=e,a.innerHTML="Download File",null!=window.webkitURL?a.href=window.webkitURL.createObjectURL(i):(a.href=window.URL.createObjectURL(i),a.onclick=destroyClickedElement,a.style.display="none",document.body.appendChild(a)),a.click()}},saveMap:function(){try{try{var t=JSON.stringify(this.mapData),e="json/"+this.mapIndex+".json";if(cc.sys.isNative){var i=jsb.fileUtils.getWritablePath();jsb.fileUtils.isDirectoryExist(i+"json/")||jsb.fileUtils.createDirectory(i+"json/");var a=i+e;jsb.fileUtils.writeStringToFile(t,a)}cc.sys.localStorage.setItem(this.mapIndex,t),cc.log("saveMap",t)}catch(t){cc.log(t)}}catch(t){cc.error(t)}},init:function(t){this.args=t,this.mapIndex=t.mapIndex||"map_1";var e=this,i=function(t){e.mapScale=.5,e.mapNode.x=0-(0-e.mapNode.x)*e.mapScale/e.mapNode.scale,e.mapNode.y=0-(0-e.mapNode.y)*e.mapScale/e.mapNode.scale,e.mapNode.scale=e.mapScale,e.initMap(t),e.saveTempMap(),cc.sys.isMobile?e.initMobileCover():e.initDesktopCover(),e.initEntityList()};cc.log("EditorMenu init"),t.mapData?i(t.mapData):this.loadMap(i)},start:function(){},initMap:function(t){this.canSelectList=[],this.mapData=t,this.initMapConfig(t),this.initMapBlock(t),this.initMapTheme(t),this.initMapEntity(t),this.initMapEvent(t);var e=t.config.width,i=t.config.height,a=-e*CELL_W*.5*this.mapScale-100,n=-i*CELL_H*.5*this.mapScale;this.mapNode.setPosition(a,n),this.updateMapLink(),this.netName.string=t.netName||""},updateMapLink:function(){var t=this;this.eventList=[],this.entityList=[];for(var e=this.mapBoards[3],i=e.getChildByName("item"),a=cc.find("scroll/view/layout",e),n=this.linkList,s=0,o=function(){var e=t.canSelectList[r],o=n[s];s++,o||(o=cc.instantiate(i),a.addChild(o),o.on("click",function(){o.onClick&&o.onClick.call(this)},t),n.push(o));var h=e.cfgData;o.active=!0;var d=o.getChildByName("label"),l=h.id;"event"==e.editType?(c="",d.color=cc.color(155,150,255),l&&(c=c+"\n"+h.id,t.eventList.push({n:c,s:l}))):(c=e.define.name,d.color=cc.color(150,255,150),l&&(c=c+"\n"+h.id,t.entityList.push({n:c,s:l}))),d.getComponent(cc.Label).string=c,o.onClick=function(){this.mapNode.x=-e.x*this.mapScale,this.mapNode.y=-e.y*this.mapScale,this.onShowUI(e)}},r=0;r<this.canSelectList.length;r++){var c;o()}for(;s<n.length;s++)n[s].active=!1;i.active=!1},onPrepareBlock:function(t){var e=t.node.define,i=cc.instantiate(t.node);if(this.node.addChild(i,1001),i.scale=this.mapScale,i.active=!0,i.define=e,i.editType="block",i.getComponent(cc.Button).enabled=!1,e.i){var a=this.themeDefine[e.i];a&&(i.width=CELL_W*a.w,i.height=CELL_H*a.h,i.setAnchorPoint(.5/a.w,.5/a.h))}this.prepareBrush=i,this.editUI.active=!1,this.eventUI.active=!1,this.cancelButton.active=!0,this.onHideUI()},initMapBlock:function(t){var e=[{n:"",color:cc.color(0,255,255),depth:-1},{n:"",color:cc.color(255,255,255),depth:0},{n:"",color:cc.color(255,255,0),depth:1},{n:"",color:cc.color(255,0,0),depth:2},{n:"\n2x1",color:cc.color(255,255,0),depth:1,i:"1",blockSize:cc.size(2,1),theme:"block2x1"},{n:"\n1x2",color:cc.color(255,255,0),depth:1,i:"box_2x1",blockSize:cc.size(1,2),theme:"block1x2"},{n:"\n2x2",color:cc.color(255,255,0),depth:1,i:"box_2x1",blockSize:cc.size(2,2),theme:"block2x2"},{n:"",color:cc.color(0,255,255),depth:0,terrain:"spike"}],i=this.mapBoards[2],a=i.getChildByName("item"),n=i.getChildByName("layout");for(var s in e){var o=e[s],r=cc.instantiate(a);n.addChild(r),r.getChildByName("label").getComponent(cc.Label).string=o.n,r.color=o.color,r.define=o,r.on("click",this.onPrepareBlock,this)}a.active=!1;var c=t.config.width,h=t.config.height;this.width=c,this.height=h,this.map={},this.terrain={};var d=t.block;if(d)for(s=0;s<d.length;s++)for(var l=d[s],u=l.w||1,f=l.h||1,m=0;m<u;m++)for(var p=0;p<f;p++){var g=l.x+m,v=l.y+p;this.map[g+","+v]=l.i,this.terrain[g+","+v]=l.terrain}var b=new cc.Node;this.mapNode.addChild(b,1e3);var k=this.debugDraw=b.addComponent(cc.Graphics);this.updateBlock(),k.node.active=!1},updateBlock:function(){var t=this.debugDraw;t.clear();var e=this.width,i=this.height;t.lineWidth=2;for(var a={},n=this.mapData.block=[],s=function(t,e,i,n){for(var s=0;s<i;s++)for(var o=0;o<n;o++)a[t+s+"_"+(e+o)]=!0},o=function(t,e,i,o){if(void 0===i&&(i=0),(0!=i||o)&&!a[t+"_"+e]){var r=0,c=0;if(i){for(var h=0;this.getCol(t+h,e)==i;h++)r+=a[t+h+"_"+e]?1:3;for(var d=0;this.getCol(t,e+d)==i;d++)c+=a[t+"_"+(e+d)]?1:3}r>c?(n.push({x:t,y:e,w:h,h:1,i:i,terrain:o}),s.call(this,t,e,h,1)):(n.push({x:t,y:e,w:1,h:d,i:i,terrain:o}),s.call(this,t,e,1,d))}},r=0;r<e;r++)for(var c=0;c<i;c++){var h=this.getCol(r,c),d=this.getTerrain(r,c);o.call(this,r,c,h,d),h<0?(t.strokeColor=cc.color(255,255,5,30),t.fillColor=cc.color(0,155,155,70)):2==h?(t.strokeColor=cc.color(255,5,50,30),t.fillColor=cc.color(250,20,0,70)):1==h?(t.strokeColor=cc.color(255,50,50,30),t.fillColor=cc.color(250,255,20,70)):0==r||r==e-1||0==c||c==i-1?(t.strokeColor=cc.color(50,250,50,100),t.fillColor=cc.color(255,255,255,0)):(t.strokeColor=cc.color(255,255,255,30),t.fillColor=cc.color(255,255,255,0)),t.rect(r*CELL_W+2,c*CELL_H+2,CELL_W-4,CELL_H-4),t.fill(),t.stroke()}},initMapConfig:function(t){t.config||(t.config={});var e=t.config,i=this.mapBoards[0].getChildByName("layout"),a=i.inputList=i.inputList||[];for(var n in CONFIG_DESCRIBE){var s=CONFIG_DESCRIBE[n],o=e[s.v],r=a[n];r||(r=cc.instantiate(this.inputItem),i.addChild(r),r.getChildByName("name").getComponent(cc.Label).string=s.n,a[n]=r);var c=r.getChildByName("input");this.initEdit(c.getComponent(cc.EditBox),o,s,e,s.func)}},initMapTheme:function(t){var e=THEME_DEFINE[t.config.theme||"city"],i=new cc.Node;this.mapNode.addChild(i,1),this.themeNode=i,this.themeDefine=e,t.config.themeMap=t.config.themeMap||[],this.themeMap=t.config.themeMap,this.updateBlockTheme()},initMapEvent:function(t){t.event||(t.event=[]);var e=t.event;for(var i in e){var a=e[i];this.createEvent(a)}var n=this.eventBoards[0].getChildByName("layout");for(var i in EVENT_DESCRIBE){var s=EVENT_DESCRIBE[i],o=cc.instantiate(this.inputItem);n.addChild(o),o.getChildByName("name").getComponent(cc.Label).string=s.n,o.define=s,o.name=i}for(var i in(n=cc.find("scroll/view/layout/cond/more",this.eventBoards[1])).zIndex=cc.macro.MAX_ZINDEX,COND_LIST)s=COND_DESCRIBE[COND_LIST[i]],o=cc.instantiate(this.buttonItem),n.addChild(o),o.getChildByName("name").getComponent(cc.Label).string=s.n,o.define=s,o.on("click",this.addEventCond,this);for(var i in(n=cc.find("scroll/view/layout/act/more",this.eventBoards[1])).zIndex=cc.macro.MAX_ZINDEX,ACT_LIST)s=ACT_DESCRIBE[ACT_LIST[i]],o=cc.instantiate(this.buttonItem),n.addChild(o),o.getChildByName("name").getComponent(cc.Label).string=s.n,o.define=s,o.on("click",this.addEventAct,this);var r=new cc.Node;this.mapNode.addChild(r,1),(this.eventDraw=r.addComponent(cc.Graphics)).node.active=!1},initMapEntity:function(t){t.entity||(t.entity=[]);var e=t.entity;for(var i in cc.log("initMapEntity",e),e){var a=e[i];a&&(delete a.timer,this.createEntity(a))}},initEntityList:function(){var t=this.unitBoards[0].getChildByName("layout");for(var e in ATTRIBUTE_DESCRIBE){var i=ATTRIBUTE_DESCRIBE[e],a=cc.instantiate(this.inputItem);t.addChild(a),a.getChildByName("name").getComponent(cc.Label).string=i.n,a.define=i,a.name=e}var n,s=SORT_LIST,o=(n=this.mapBoards[1]).getChildByName("item");for(var e in t=cc.find("scroll/view/layout",n),s){var r=ENTITYS[s[e]];if(r){var c=cc.instantiate(o);t.addChild(c);var h=r.avatar,d=this.createAvatar(h,h.standAnime||"stand",1,h.shader);c.addChild(d);var l=h.iconScale||h.s||1;d.scale=1*l/kit.clamp(2*(h.auraScale||.3),1.4,10),d.angle=45,c.define=r,c.on("click",this.onPrepareUnit,this)}}o.active=!1,this.cancelButton.on("click",this.onCancel,this)},onJumpTo:function(t,e){var i=+e-1,a=this.mapBoards[1].getChildByName("scroll").getComponent(cc.ScrollView),n=[.95,.35,.05][i]||0;a.scrollToPercentVertical(n,.1)},onCancel:function(){this.testing||(this.prepareBrush&&(this.prepareBrush.destroy(),this.prepareBrush=null),this.prepareOne&&(this.prepareOne.destroy(),this.prepareOne=null),this.editUI.active=!0,this.eventUI.active=!0,this.cancelButton.active=!1)},onPrepareUnit:function(t){var e=t.node.define,i=e.avatar,a=this.createAvatar(i,i.walkAnime||"walk",0,i.shader);this.node.addChild(a,1e3),a.scale0=i.s||1,a.scale=a.scale0*this.mapScale,a.define=e,this.prepareOne=a,this.editUI.active=!1,this.eventUI.active=!1,this.cancelButton.active=!0,this.onHideUI()},onPrepareEvent:function(){var t=cc.instantiate(this.event);this.node.addChild(t,1001),t.active=!0,t.editType="event",this.prepareOne=t,this.editUI.active=!1,this.eventUI.active=!1,this.cancelButton.active=!0,this.onHideUI()},onShowEventUI:function(t){this.onHideUnitUI(),(r=this.eventBoards[0]).active=!0;var e=t.cfgData,i=r.getChildByName("layout");for(var a in EVENT_DESCRIBE){var n=EVENT_DESCRIBE[a],s=e[n.v],o=i.getChildByName(a).getChildByName("input");this.initEdit(o.getComponent(cc.EditBox),s,n,e,n.func)}var r,c=r.getChildByName("delete");c.on("click",this.onRemove,this),c.unit=t,(r=this.eventBoards[1]).active=!0,this.showEventCell(t,r.getChildByName("condItem"),cc.find("scroll/view/layout/cond",r),r.condList,e.cond,COND_DESCRIBE),this.showEventCell(t,r.getChildByName("actItem"),cc.find("scroll/view/layout/act",r),r.actList,e.act,ACT_DESCRIBE),this.eventDraw.node.active=!0,this.updateEventArea(t)},onRemoveEventCell:function(t){var e=t.cfgData,i=t.list,a=i.indexOf(e);a>=0&&(i.splice(a,1),this.saveTempMap(),t.updateEventCell.call(this))},showEventCell:function(t,e,i,a,n,s){for(var o=0,r=function(){var t=a[o];if(o++,!t){t=cc.instantiate(e),i.addChild(t,-100),a.push(t),cc.find("label/expand",t).on("click",function(){t.onClick&&t.onClick.call(this,t)},this),t.cacheList=[];var n=t.getChildByName("delete");n.on("click",function(){t.onDelete&&t.onDelete.call(this,t)},this),t.deleteBtn=n;var s=t.getChildByName("up");if(s){var r=i.getParent().getParent().getParent().getComponent(cc.ScrollView);t.scroll=r,s.on(cc.Node.EventType.TOUCH_START,function(e){this.onDragStart(t,e)},this),s.on(cc.Node.EventType.TOUCH_MOVE,function(e){this.onDragMove(t,e)},this),s.on(cc.Node.EventType.TOUCH_END,function(e){this.onDragEnd(t,e)},this),s.on(cc.Node.EventType.TOUCH_CANCEL,function(e){this.onDragEnd(t,e)},this),t.dragBtn=s}}return t.color=e.color,t.active=!0,t}.bind(this),c=0,h=0,d=[],l=0;l<n.length;l++){var u=r();u.zIndex=l,d[l]=u,u.uiList=d;var f=n[l],m=s[f.type||0],p=u.getChildByName("label"),g=p.getComponent(cc.Label);g.string="["+m.n+"]"+m.func(f),u.define=m,u.cfgData=f,u.list=n,u.event=t,u.onClick=this.onEventCell,this.closeEventCell(u),p.color=cc.color(255,255,255),m.virtual?m.i==ACT.CHOSE?(c=f.n||0,u.color=cc.color(40,70,150)):m.i==ACT.DELAY&&(h=f.t||0,p.color=cc.color(100,255,100)):(c>0&&(u.color=cc.color(40,70,110),g.string=(c>1?"":"")+g.string,c--),h>0&&(p.color=cc.color(200,255,200),g.string=""+h+""+g.string)),u.onDelete=this.onRemoveEventCell,u.updateEventCell=function(){this.updateEvent(t,t.cfgData),this.showEventCell(t,e,i,a,n,s)}}for(;o<a.length;o++)a[o].active=!1;e.active=!1},onDragStart:function(t){t.scroll.enabled=!1,t.dragBtn.color=cc.color(0,255,0);var e=t.uiList;for(var i in e)e[i]!=t&&(e[i].opacity=50);t.dragY=0},onDragMove:function(t,e){var i=t.uiList,a=0;if(t.dragY+=e.getDeltaY(),t.dragY>30&&t.zIndex>0){a=-1;var n=(o=i[s=t.zIndex+a]).height;t.dragY>n?t.dragY-=n:a=0}else if(t.dragY<-30&&t.zIndex<i.length-1){var s,o;a=1,n=(o=i[s=t.zIndex+a]).height,t.dragY<-n?t.dragY+=n:a=0}if(a){var r=t.list,c=t.cfgData,h=r.indexOf(c);h>=0&&(r[h]=r.splice(h+a,1,r[h])[0],o.zIndex=t.zIndex,t.zIndex=s,i[s]=t,i[o.zIndex]=o,t.dragChanged=!0)}},onDragEnd:function(t){t.scroll.enabled=!0,t.dragBtn.color=cc.color(255,255,255);var e=t.uiList;for(var i in e)e[i].opacity=255;t.updateEventCell.call(this),t.dragChanged&&(t.dragChanged=!1,this.saveTempMap())},addEventCond:function(t){var e=this.selectOne;if(e&&"event"==e.editType){var i=t.node.define,a=e.cfgData;a.cond.push({type:i.i}),this.saveTempMap();var n=this.eventBoards[1];n.active=!0,this.showEventCell(e,n.getChildByName("condItem"),cc.find("scroll/view/layout/cond",n),n.condList,a.cond,COND_DESCRIBE),this.updateEvent(e,e.cfgData)}},addEventAct:function(t){var e=this.selectOne;if(e&&"event"==e.editType){var i=t.node.define,a=e.cfgData;a.act.push({type:i.i}),this.saveTempMap();var n=this.eventBoards[1];n.active=!0,this.showEventCell(e,n.getChildByName("actItem"),cc.find("scroll/view/layout/act",n),n.actList,a.act,ACT_DESCRIBE),this.updateEvent(e,e.cfgData)}},onEventCell:function(t){t.editExpand?this.closeEventCell(t):this.expandEventCell(t)},closeEventCell:function(t){t.editExpand=!1;for(var e=t.cacheList,i=0;i<e.length;i++)e[i].active=!1;t.getComponent(cc.Layout).updateLayout(),t.getParent().getComponent(cc.Layout).updateLayout()},expandEventCell:function(t){t.editExpand=!0;for(var e=t.cfgData,i=t.cacheList,a=0,n=t.define.v,s=0;s<n.length;s++){var o=i[a];a++,o||((o=cc.instantiate(this.inputItem)).on("click",function(t){var e=t.node;e.onClick&&e.onClick.call(this,e)},this),t.addChild(o),i.push(o),o.list=[]),o.zIndex=s,o.active=!0;var r=n[s],c=e[r.v];o.getChildByName("name").getComponent(cc.Label).string=r.n||r.v;var h=o.getChildByName("input").getComponent(cc.EditBox);this.initEdit(h,c,r,e,function(a,n,s){this.updateEvent(a,a.cfgData),t.getChildByName("label").getComponent(cc.Label).string="["+t.define.n+"]"+t.define.func(e),s.define.func&&s.define.func.call(this,a,n,s,i)})}for(;a<i.length;a++)i[a].active=!1;for(s=0;s<n.length;s++){var d=i[s],l=n[s],u=e[l.v],f=d.getChildByName("input").getComponent(cc.EditBox);l.initFunc&&l.initFunc.call(this,t.event,u,f,i)}t.getComponent(cc.Layout).updateLayout(),t.getParent().getComponent(cc.Layout).updateLayout()},onHideEventUI:function(){this.eventBoards[0].active=!1,this.eventBoards[1].active=!1,this.eventDraw.node.active=!1},updateEventUI:function(t){var e=t.cfgData,i=this.eventBoards[0].getChildByName("layout");for(var a in EVENT_DESCRIBE){var n=e[EVENT_DESCRIBE[a].v];i.getChildByName(a).getChildByName("input").getComponent(cc.EditBox).string=void 0===n?"":n}},updateEventArea:function(t){this.eventDraw.clear();var e=[cc.color(255,0,0,40),cc.color(255,255,0,40),cc.color(0,255,0,40),cc.color(0,255,255,40),cc.color(0,0,255,40),cc.color(255,0,255,40)],i=0,a=t.cfgData,n=a.cond;for(var s in n){var o=n[s];COND_DESCRIBE[o.type||0].area&&(this.showArea(o[1],o[2],o[3],o[4],e[i]),i++)}var r=a.act;for(var s in r){var c=r[s];ACT_DESCRIBE[c.type||0].area&&(this.showArea(c[1],c[2],c[3],c[4],e[i]),i++)}},showArea:function(t,e,i,a,n){var s=this.width*CELL_W,o=this.height*CELL_H,r=this.eventDraw;r.lineWidth=5,r.strokeColor=n,void 0===t&&void 0===e&&void 0===i&&void 0===a||(void 0===t&&(t=0),void 0===e&&(e=s),void 0===i&&(i=o),void 0===a&&(a=0),r.rect(+t,+a,e-t,i-a),r.stroke(),r.fillColor=n,r.fill())},updateUnitUI:function(t){var e=t.cfgData,i=this.unitBoards[0].getChildByName("layout");for(var a in ATTRIBUTE_DESCRIBE){if(ATTRIBUTE_DESCRIBE[a].special&&ATTRIBUTE_DESCRIBE_SPECIAL[e.i])var n=ATTRIBUTE_DESCRIBE_SPECIAL[e.i];else n=ATTRIBUTE_DESCRIBE[a];var s=e[n.v],o=i.getChildByName(a);o.define=n,o.getChildByName("name").getComponent(cc.Label).string=n.n,o.getChildByName("input").getComponent(cc.EditBox).string=void 0===s?"":s}},onShowUnitUI:function(t){this.onHideEventUI();var e=this.unitBoards[0];e.active=!0;var i=t.cfgData,a=e.getChildByName("layout");for(var n in ATTRIBUTE_DESCRIBE){if(ATTRIBUTE_DESCRIBE[n].special&&ATTRIBUTE_DESCRIBE_SPECIAL[i.i])var s=ATTRIBUTE_DESCRIBE_SPECIAL[i.i];else s=ATTRIBUTE_DESCRIBE[n];var o=i[s.v],r=a.getChildByName(n);r.define=s,r.getChildByName("name").getComponent(cc.Label).string=s.n;var c=r.getChildByName("input");this.initEdit(c.getComponent(cc.EditBox),o,s,i,s.func)}var h=e.getChildByName("delete");h.on("click",this.onRemove,this),h.unit=t,e.getChildByName("name").getComponent(cc.Label).string=t.define.name+"["+t.define.id+"]"},onHideUnitUI:function(){this.unitBoards[0].active=!1},onShowUI:function(t){if(this.selectOne){if(this.selectOne==t)return void(this.unitDrag=t);this.selectOne.zIndex-=1e3,this.selectOne.selectNode.destroy()}this.selectOne=t,"event"==t.editType?this.onShowEventUI(t):this.onShowUnitUI(t);var e=this.mgr.createSpriteWithTexture2D(this.getTexture2D("ui/select"),[37,37,37,37]);t.addChild(e,1e3),e.width=200*t.auraScale,e.height=200*t.auraScale,t.selectNode=e,t.zIndex+=1e3},onHideUI:function(){var t=this.selectOne;this.selectOne&&("event"==t.editType?this.onHideEventUI(t):this.onHideUnitUI(t),this.selectOne.zIndex-=1e3,this.selectOne.selectNode.destroy(),this.selectOne=null)},onSelect:function(t,e){var i,a=1/0;for(var n in this.canSelectList){var s=this.canSelectList[n],o=kit.sumOfSquares(s.x-t,s.y-e),r=125*s.auraScale+25;if(o<a&&o<r*r&&(a=o,(i=s)==this.selectOne))break}if(i)return this.onShowUI(i),i;this.onHideUI()},updateUI:function(t){this.selectOne==t&&("event"==t.editType?this.updateEventUI(t):this.updateUnitUI(t))},onEditBegan:function(t){var e=this,i=t.define,a=t.cfgData,n=this.infoBoard;if(i.info){n.active=!0;var s=n.getChildByName("layout"),o=s.getChildByName("label").getComponent(cc.Label),r=n.list,c=i.list;i.listFunc&&(c=i.listFunc.call(this,a)||c);var h=t.node.convertToWorldSpaceAR(cc.v2(0,-10));h=this.node.convertToNodeSpaceAR(h),o.string=i.info;var d=0;if(c)for(var l=function(){var i=c[u],a=r[d];d++,a||((a=cc.instantiate(e.buttonItem)).on("click",function(){a.onClick&&a.onClick.call(this)},e),s.addChild(a),r.push(a)),a.active=!0,a.onClick=function(){t.string=void 0===i.s?"":i.s,this.onEditEnded(t)},a.getChildByName("name").getComponent(cc.Label).string=i.n},u=0;u<c.length;u++)l();for(;d<r.length;d++)r[d].active=!1;s.getComponent(cc.Layout).updateLayout(),h.x>0&&(h.x-=s.width*n.scale),h.y-s.height*n.scale<-cc.winSize.height/2&&(h.y+=s.height*n.scale+20),n.setPosition(h)}},onEditEnded:function(t){var e=this.selectOne,i=t.string,a=t.define,n=t.cfgData;if(i=this.checkValue(n,a,i),t.string=void 0===i?"":i,i!=n[a.v]){n[a.v]=i,this.saveTempMap();var s=t.func;s&&s.call(this,e,i,t),cc.js.isString(i)?t.fontColor=cc.color(155,255,155):t.fontColor=cc.color(155,205,255)}},initEdit:function(t,e,i,a,n){t.string=void 0===e?"":e,t.define=i,t.cfgData=a,t.func=n,cc.js.isString(e)?t.fontColor=cc.color(155,255,155):t.fontColor=cc.color(155,205,255)},checkValue:function(t,e,i){if(e.lock)return t[e.v];if(""===i)return e.default||void 0;if("int"==e.t){if(i=Math.round(i),e.step){var a=e.min||0;i=Math.round((i-a)/e.step)*e.step+a}if(isNaN(i))return t[e.v]}else if("num"==e.t){if(i=Math.round(100*i)/100,isNaN(i))return t[e.v]}else if("mapCell"==e.t&&(i=Math.round(i/e.step)*e.step,isNaN(i)))return t[e.v];var n=e.max,s=e.min;return void 0===s&&void 0===n||(i=kit.clamp(i,void 0===s?-1/0:s,void 0===n?1/0:n)),i},onCreate:function(t,e,i){var a;if(e=Math.floor(100*e)/100,i=Math.floor(100*i)/100,"event"==t.editType){if(t.cfgData)var n=kit.clone(t.cfgData);else n={cond:[],act:[]};n.x=e,n.y=i,this.mapData.event.push(n),this.saveTempMap(),a=this.createEvent(n)}else(n=t.cfgData?kit.clone(t.cfgData):t.define.junk?{i:t.define.id}:{i:t.define.id,ai:1,team:1}).x=e,n.y=i,this.mapData.entity.push(n),this.saveTempMap(),a=this.createEntity(n);this.onShowUI(a),this.onCancel(),this.updateMapLink()},onPrepareFadeIn:function(t){t.opacity=100,"event"==t.editType?t.getChildByName("bg").color=cc.color(255,0,0):t.animeNode.color=cc.color(255,0,0)},onPrepareFadeOut:function(t){t.opacity=255,"event"==t.editType?t.getChildByName("bg").color=cc.color(255,255,255):t.animeNode.color=cc.color(255,255,255)},updateEvent:function(t,e){var i=t.getChildByName("name");e.off&&(i.color=cc.color(205,100,100)),i.getComponent(cc.Label).string=""+(e.id?" - "+e.id:"");var a=t.getChildByName("label").getComponent(cc.Label),n="";for(var s in e.cond){var o=e.cond[s];n+=COND_DESCRIBE[o.type||0].func(o)+","}for(var s in s&&(n+="\n"),e.act){var r=e.act[s];n+=ACT_DESCRIBE[r.type||0].func(r)+","}a.string=n},createEvent:function(t){var e=cc.instantiate(this.event);return this.mapNode.addChild(e,1001),e.active=!0,e.setPosition(t.x||0,t.y||0),e.cfgData=t,e.editType="event",e.auraScale=.7,this.updateEvent(e,t),this.canSelectList.push(e),e},createEntity:function(t){if(t.i){var e=ENTITYS[t.i];if(e){this.mgr;var i=e.avatar,a=(i.auraScale||.6)*(i.s||1),n=cc.instantiate(this.unit);this.mapNode.addChild(n,10+500*kit.clamp(1-a,0,1)),n.setPosition(t.x||0,t.y||0),n.define=e,n.cfgData=t;var s=t.shader||i.shader,o=this.createAvatar(i,i.standAnime||"stand",0,s);n.addChild(o,-1),o.scale=i.s||1,o.angle=t.deg||0;var r=n.getChildByName("name");return r.y=100*a,r.getComponent(cc.Label).string=e.name+(t.id?" - "+t.id:""),n.auraScale=a,n.avatar=o,this.updateAura(n),this.canSelectList.push(n),n}}},updateAura:function(){},bindShader:function(t,e){this.mgr.bindShader(t,e)},removeShaderBars:function(){this.shaderBarsNode&&(this.shaderBarsNode.destroy(),this.shaderBarsNode=null)},showShaderBars:function(t){var e=this;this.shaderBarsNode&&(this.shaderBarsNode.destroy(),this.shaderBarsNode=null),this.shaderBarsNode=new cc.Node,this.mapNode.addChild(this.shaderBarsNode,3333),this.shaderBarsArray=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];for(var i=this,a=function(){var a=n-1;cc.loader.loadRes("prefab/debugSlider",cc.Prefab,function(n,s){var o=cc.instantiate(s);o.getComponent("DebugSlider").init({value:i.shaderBarsArray[a]}),o.x=a%4*280-320,o.y=333-60*Math.floor(a/4),o.getComponent("DebugSlider").setValue(i.shaderBarsArray[a]),o.getComponent("DebugSlider").cb=function(e){i.shaderBarsArray[a]=e;var n=i.shaderBarsArray;SHADER_DEFINE.debug.value={u_mat4:cc.mat4(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15])},i.bindShader(t,"debug")},e.shaderBarsNode.addChild(o,3333)})},n=1;n<=16;n++)a()},createAvatar:function(t,e,i,a){var n=this,s=this.mgr,o=new cc.Node;if(t.frame){var r=t.frame.walk,c=!(i=i?0:-1)&&1,h=s.createAnimation(r.name,{speed:1,delay:r.delayTime,repeat:i,persist:c});o.addChild(h),o.animeNode=h;var d=h.armatureDisplay}else if(t.anime){cc.log("createAvatar",t.anime);var l=s.createArmature(t.anime,function(a,s){n.loadArmature(t,s,e,i)});o.addChild(l),o.animeNode=l,d=l.armatureDisplay}else if(t.frm){var u=s.createSprite(0,0,t.frm);o.addChild(u),o.animeNode=u,d=u.sprite}a&&d&&(this.bindShader(d,a),cc.log("create bindShader",a));var f=t.base;if(f){var m=s.createSprite(0,0,f.res);o.addChild(m,-10),m.scale=f.s||1,m.setAnchorPoint(f.ax||.5,f.ay||.5),a&&this.bindShader(m.sprite,a),o.base=m}return o},loadArmature:function(t,e,i,a){void 0===a&&(a=0);var n=e.armature();if(n){cc.sys.isNative||n.animation.play(i||"stand",a);var s=t.skin;if(s)for(var o in s){var r=n.getSlot(o);r&&r.setDisplayByName(s[o])}}},onCopy:function(){var t=this.selectOne;t&&(this.copyUnit=t)},onPaste:function(){var t=this.copyUnit;t&&this.onCreate(t,this.mouseX,this.mouseY)},onRemove:function(){var t=this.selectOne;if(t){var e;if((e=this.canSelectList.indexOf(t))>=0&&(this.onHideUI(),this.canSelectList.splice(e,1),t.destroy()),"event"==t.editType)var i=this.mapData.event;else i=this.mapData.entity;(e=i.indexOf(t.cfgData))>=0&&(i.splice(e,1),this.saveTempMap()),this.updateMapLink()}},onSwitchBoard:function(t,e){var i=this.mapBoards[e-1];this.preBoard!=i&&(this.preBoard.active=!1,this.preBoard=i),i.active=t.isChecked,this.debugDraw.node.active=this.mapBoards[2].active},initMobileCover:function(){var t=this.topCoverNode,e=this.coverNode,i=this.mapNode;t.on(cc.Node.EventType.TOUCH_START,function(){this.infoBoard.active=!1},this),t.on(cc.Node.EventType.TOUCH_END,function(t){if(this.unitDrag=!1,this.mapDrag=!1,this.unitDragChanged&&(this.saveTempMap(),this.unitDragChanged=!1),this.unitTouchDrag){this.unitTouchDrag=!1;var e=this.prepareOne,i=t.getLocation(),a=(i.x-.5*cc.winSize.width-this.mapNode.x)/this.mapScale,n=(i.y+100-.5*cc.winSize.height-this.mapNode.y)/this.mapScale;i.x>cc.winSize.width-300&&i.y>cc.winSize.height-300||this.onCreate(e,a,n)}},this),t.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(this.mapDrag&&(i.x=i.x+t.getDeltaX(),i.y=i.y+t.getDeltaY(),t.stopPropagation()),n=this.unitDrag){var e=Math.floor(100*(n.x+t.getDeltaX()/this.mapScale))/100,a=Math.floor(100*(n.y+t.getDeltaY()/this.mapScale))/100;n.x=e,n.y=a,n.cfgData.x=e,n.cfgData.y=a,this.unitDragChanged=!0,this.updateUI(n),t.stopPropagation()}var n=this.prepareOne,s=t.getLocation();n&&(e=s.x-.5*cc.winSize.width,a=s.y+100-.5*cc.winSize.height,n.setPosition(e,a),s.x>cc.winSize.width-300&&s.y>cc.winSize.height-300?this.onPrepareFadeIn(n):this.onPrepareFadeOut(n),t.stopPropagation())},this),t._touchListener.setSwallowTouches(!1),e.on(cc.Node.EventType.TOUCH_START,function(t){var e=this.prepareOne,a=t.getLocation(),n=(a.x-.5*cc.winSize.width-i.x)/this.mapScale,s=(a.y-.5*cc.winSize.height-i.y)/this.mapScale;if(e){if(a.x>cc.winSize.width-300&&a.y>cc.winSize.height-300)return;this.unitTouchDrag=!0}else this.onSelect(n,s)||(this.mapDrag=!0)},this)},onKeyUp:function(t){t.keyCode==cc.macro.KEY.ctrl&&(this.ctrlKey=!1)},onKeyDown:function(t){t.keyCode==cc.macro.KEY.escape?this.onCancel():t.keyCode==cc.macro.KEY.Delete?this.onRemove():t.keyCode==cc.macro.KEY.ctrl&&(this.ctrlKey=!0),this.ctrlKey&&(t.keyCode==cc.macro.KEY.z?this.restoreTempMap():t.keyCode==cc.macro.KEY.c?this.onCopy():t.keyCode==cc.macro.KEY.v&&this.onPaste())},initDesktopCover:function(){var t=this.topCoverNode,e=this.coverNode,i=this.mapNode;t.on(cc.Node.EventType.MOUSE_WHEEL,function(t){var e=t.getScrollY();this.mapScale=kit.clamp(this.mapScale+3e-4*e,.2,2);var a,n=t.getLocation(),s=n.x-.5*cc.winSize.width,o=n.y-.5*cc.winSize.height;i.x=s-(s-i.x)*this.mapScale/i.scale,i.y=o-(o-i.y)*this.mapScale/i.scale,i.scale=this.mapScale,(a=this.prepareOne)&&(a.scale=a.scale0*this.mapScale),(a=this.prepareBrush)&&(a.scale=this.mapScale),t.stopPropagation()},this),t.on(cc.Node.EventType.MOUSE_DOWN,function(t){this.infoBoard.active=!1,t.getButton()==cc.Event.EventMouse.BUTTON_RIGHT&&(this.mapDrag=!0,t.stopPropagation())},this),t.on(cc.Node.EventType.MOUSE_UP,function(t){t.getButton()==cc.Event.EventMouse.BUTTON_RIGHT?(this.mapDrag=!1,t.stopPropagation()):t.getButton()==cc.Event.EventMouse.BUTTON_LEFT&&(this.unitDrag=!1,this.mapDrag=!1,this.unitDragChanged&&(this.saveTempMap(),this.unitDragChanged=!1))},this),t.on(cc.Node.EventType.MOUSE_MOVE,function(t){if(this.mapDrag&&(i.x=i.x+t.getDeltaX(),i.y=i.y+t.getDeltaY(),t.stopPropagation()),n=this.unitDrag){var e=Math.floor(100*(n.x+t.getDeltaX()/this.mapScale))/100,a=Math.floor(100*(n.y+t.getDeltaY()/this.mapScale))/100;n.x=e,n.y=a,n.cfgData.x=e,n.cfgData.y=a,this.unitDragChanged=!0,this.updateUI(n),t.stopPropagation()}var n=this.prepareOne,s=t.getLocation();n&&(e=s.x-.5*cc.winSize.width,a=s.y-.5*cc.winSize.height,n.setPosition(e,a),s.x>cc.winSize.width-300&&s.y>cc.winSize.height-300?this.onPrepareFadeIn(n):this.onPrepareFadeOut(n),t.stopPropagation()),e=(s.x-.5*cc.winSize.width-i.x)/this.mapScale,a=(s.y-.5*cc.winSize.height-i.y)/this.mapScale,(n=this.prepareBrush)&&(n.scale=this.mapScale,n.setPosition((Math.floor(e/CELL_W)+.5)*CELL_W*this.mapScale+i.x,(Math.floor(a/CELL_H)+.5)*CELL_H*this.mapScale+i.y)),this.mouseX=Math.floor(100*e)/100,this.mouseY=Math.floor(100*a)/100,this.posLabel.string="("+Math.round(e)+","+Math.round(a)+")"},this),e.on(cc.Node.EventType.MOUSE_DOWN,function(t){if(t.getButton()==cc.Event.EventMouse.BUTTON_LEFT){var e,a=t.getLocation(),n=(a.x-.5*cc.winSize.width-i.x)/this.mapScale,s=(a.y-.5*cc.winSize.height-i.y)/this.mapScale;if(e=this.prepareBrush){if(cc.log("MOUSE_DOWN unit define",e.define),a.x>cc.winSize.width-300&&a.y>cc.winSize.height-300);else{var o=Math.floor(n/CELL_W),r=Math.floor(s/CELL_H);if(e.define.theme&&this.themeDefine[e.define.theme]){var c=e.define.blockSize&&e.define.blockSize.height||1;this.themeMap.push({x:o*CELL_W,y:(r+c)*CELL_H,id:e.define.theme,blockPos:{x:o,y:r},blockSize:e.define.blockSize})}else{var h=this.getBlockTheme(o,r);h>=0&&this.themeMap.splice(h,1)}if(e.define.blockSize)for(var d=e.define.blockSize.width,l=e.define.blockSize.height,u=0;u<=d-1;u++)for(var f=0;f<=l-1;f++)this.setCol(Math.floor(n/CELL_W+u),Math.floor(s/CELL_H+f),e.define.depth,e.define.terrain);else this.setCol(Math.floor(n/CELL_W),Math.floor(s/CELL_H),e.define.depth,e.define.terrain)}return}(e=this.prepareOne)?a.x>cc.winSize.width-300&&a.y>cc.winSize.height-300||this.onCreate(e,n,s):this.onSelect(n,s)||(this.mapDrag=!0)}},this)},getTerrain:function(t,e){return this.terrain[t+","+e]},getThemeMapUnit:function(){},setThemeMapUnit:function(){},getCol:function(t,e){var i=this.width,a=this.height;return t<0||t>=i||e<0||e>=a?0:this.map[t+","+e]||0},setCol:function(t,e,i,a){var n=this.width,s=this.height;t<0||t>=n||e<0||e>=s||this.map[t+","+e]==i&&this.terrain[t+","+e]==a||(this.map[t+","+e]=i,this.terrain[t+","+e]!=a&&(this.terrain[t+","+e]=a),this.updateBlock(),this.saveTempMap(),this.updateBlockTheme())},testPit:function(t,e){return this.getCol(t,e)<0?0:1},testWall:function(t,e){var i=this.width,a=this.height;return t<0||t>=i||e<0||e>=a?1:this.getCol(t,e)>1?1:0},getBlockTheme:function(t,e){for(var i in this.themeMap){var a=this.themeMap[i];if(a.blockPos){var n=a.blockSize||{width:1,height:1};if(t>=a.blockPos.x&&t<=a.blockPos.x+n.width&&e>=a.blockPos.y&&e<=a.blockPos.y+n.height)return i}}},updateBlockTheme:function(){var t=this.mgr;this.themeNode.removeAllChildren();var e=this.themeDefine,i=this.width,a=this.height,n=(S=e.ground).s||1,s=i*CELL_W/n+40,o=a*CELL_H/n,r=this,c=t.createSpriteFromAtlas(0,0,S.atlas,S.res,function(t,e){r.themeNode.addChild(e.node,0),e.node.width=s,e.node.height=o,e.node.scale=n,cc.log("updateBLockTheme",e.node.height),e.type=cc.Sprite.Type.TILED,e.node.x=s*n/2-20,e.node.y=o*n/2});c.setAnchorPoint(.5,.5),this.ground=c;for(var h=a;h>=0;h--)for(var d=0;d<=i;d++){var l=(d+.5)*CELL_W,u=(h+.5)*CELL_H;if(!this.getBlockTheme(d,h)){if(1==this.getCol(d,h)&&this.addSprite(t,l,u,e.box),this.getCol(d,h)>1)this.addSprite(t,l,u,e.wall_c);else if(d<i&&h<a){if(d>0&&this.testWall(d-1,h)){var f=this.testWall(d-1,h-1)||this.testWall(d,h-1),m=this.testWall(d-1,h+1)||this.testWall(d,h+1);this.addSprite(t,l,u,e["wall_r"+f+m])}d<i-1&&this.testWall(d+1,h)&&(f=this.testWall(d+1,h-1)||this.testWall(d,h-1),m=this.testWall(d+1,h+1)||this.testWall(d,h+1),this.addSprite(t,l,u,e["wall_l"+f+m])),h>0&&this.testWall(d,h-1)&&(f=this.testWall(d-1,h-1)||this.testWall(d-1,h),m=this.testWall(d+1,h-1)||this.testWall(d+1,h),this.addSprite(t,l,u,e["wall_t"+f+m])),h<a-1&&this.testWall(d,h+1)&&(f=this.testWall(d-1,h+1)||this.testWall(d-1,h),m=this.testWall(d+1,h+1)||this.testWall(d+1,h),this.addSprite(t,l,u,e["wall_b"+f+m]))}this.getTerrain(d,h)&&this.addSprite(t,l,u,e[this.getTerrain(d,h)]);var p=this.testPit(d-1,h),g=this.testPit(d,h),v=this.testPit(d-1,h-1),b=this.testPit(d,h-1),k=AUTO_CAVE_DEFINE[""+p+g+v+b];if(k)if(l=d*CELL_W,u=h*CELL_H,Array.isArray(k))for(var y in k)this.addSprite(t,l,u,e["cave_"+k[y]]);else this.addSprite(t,l,u,e["cave_"+k])}}for(var d in this.themeMap){var S=this.themeMap[d];this.addSprite(t,S.x,S.y,e[S.id])}},addSprite:function(t,e,i,a,n){if(a){if(a.bg){var s=this.themeDefine;this.addSprite(t,e,i,s[a.bg])}if(Array.isArray(a)&&(a=a[kit.rndInt(0,a.length-1)]),e+=a.dx||0,i+=a.dy||0,a.res){if(a.atlas)var o=t.createSpriteFromAtlas(e,i,a.atlas,a.res);else o=t.createSprite(e,i,a.res);this.themeNode.addChild(o,a.z||0),o.setAnchorPoint(a.ax||(0===a.ax?0:.5),a.ay||(0===a.ay?0:.5)),o.setScale(a.sx||a.s||1,a.sy||a.s||1),o.angle=a.deg||0;var r=o.sprite;n&&(r.srcBlendFactor=cc.macro.BlendFactor.ONE)}}},onSaveMap:function(){this.saveMap()},onDownloadMap:function(){var t=this,e=this.netName.string||this.mapIndex;e&&(e.indexOf("map/")>=0?cc.loader.loadRes(e,function(i,a){if(!i){var n=a.json;cc.log(JSON.stringify(n)),n.netName=e,t.args.mapData=n,menuManager.refresh()}}):editor.post("readMap",{game:"zombie",file:e},function(i,a){if(cc.log(i,a),i)kit.info("["+e+"]");else{var n=a;n.netName=e,t.args.mapData=n,kit.info("["+e+"]",function(){menuManager.refresh()})}}))},onUploadMap:function(){var t=this.netName.string||this.mapIndex;t&&(t.indexOf("map/")>=0?cc.log("save to local",this.mapData):(this.mapData.netName=t,editor.post("writeMap",{game:"zombie",file:t,json:this.mapData},function(e,i){e?kit.info("["+t+"]"):(kit.info("["+t+"]"),cc.log(i))})))},onQuit:function(){menuManager.back()},onOption:function(){menuManager.pop("prefab/debug")},onMapTest:function(){if(!this.testing){this.testing=!0,this.editUI.active=!1,this.eventUI.active=!1,this.mapNode.active=!1,this.coverNode.active=!1;var t=cc.instantiate(this.gamenode);this.gamenode.parent.addChild(t,-1);var e=t.addComponent(i);e.gameCamera=this.gameCamera;var a={lvl:1,map:this.mapData};e.init(a),t.active=!0,t.layer=e,this.runningGameNode=t,this.pauseButton.active=!0,menuManager.play("sound/bgm/fight1")}},setGameSpeed:function(t){this.testing&&this.game.setSpeed(t)},onExitMapTest:function(){this.testing&&(this.testing=!1,this.editUI.active=!0,this.eventUI.active=!0,this.mapNode.active=!0,this.coverNode.active=!0,this.debugSlider&&(this.debugSlider.active=!1),this.runningGameNode.destroy(),this.pauseButton.active=!1,menuManager.play(""),this.updateBlockTheme())}}),cc._RF.pop()},{EffectManager:"EffectManager",LevelLayer:"LevelLayer",Menu:"Menu"}],EffectManager:[function(t,e){"use strict";cc._RF.push(e,"6c2144BnqRCX7IANhmAikyt","EffectManager"),window.EFFECT={},window.isSoundOpened=!0,window.isBGMOpened=!0,window.ENABLE_CACHE=!0,EFFECT.null=function(){};var i=[cc.color(80,216,255),cc.color(255,105,84),cc.color(245,245,34),cc.color(246,84,255),cc.color(0,255,255),cc.color(0,0,255),cc.color(84,255,63)];cc.color(0,255,0),cc.color(255,0,0),cc.color(255,255,0),cc.color(255,0,255),cc.color(0,255,255),cc.color(0,0,255),cc.color(0,255,0),EFFECT.teamColor=function(t){return i[t]||cc.color(0,0,0)},window.RES={},window.SOUND={},window.AnimationWrap={Reserve:"r"},window.Cache={};var a,n=0;window.LoadBundleRes=function(t,e,i){if(t.indexOf("#")>0){var a=t.split("#"),n=cc.assetManager.getBundle(a[0]);t=a[1],n&&n.load(t,e,i)}else cc.loader.loadRes(t,e,i)},window.resDefaultPathName={ef:"sub",at:"sub",so:"sub",pa:"sub",op:"sub2",ui:"sub",th:"sub"},window.resDefaultPathNameCheckNum=2,cc.Class({initRes:function(t,e,i,a){this.progressCb=i,this.successCb=a,this.mask={},this.loadList=[];var n=[RESOURCES.healNumber,RESOURCES.HurtNum,RESOURCES.DropShell,RESOURCES.BossHpFrame,RESOURCES.Blood,{anime:"xingshi"},{anime:"crow"},{anime:"wolf"}];for(var s in this.pushResource({anime:"nanzhu"}),this.pushResource({anime:"zengwu"}),this.pushResource(n),this.loadCt=0,this.loadList=[],IMAGE_CACHES)-1!=IMAGE_CACHES[s]&&this.loadList.push({image:s});for(var s in FRAME_CACHES)-1!=FRAME_CACHES[s]&&this.loadList.push({plist:s});for(var s in ANIME_CACHES)-1!=ANIME_CACHES[s]&&this.loadList.push({anime:s,n:ANIME_CACHES[s]});this.preloaded=!0},loadRes:function(t,e,i){if(t.indexOf("#")>0){var a=t.split("#"),n=cc.assetManager.getBundle(a[0]);t=a[1],n&&n.load(t,e,i)}else cc.loader.loadRes(t,e,i)},getDefaultName:function(t){if(t){if(t.indexOf("#")<=0){var e=resDefaultPathNameCheckNum,i=t.substr(0,e);resDefaultPathName[i]&&(t=resDefaultPathName[i]+"#"+t)}return t}},initNodePool:function(){window.NODEPOOL_ACTIVATE&&(this.nodePool={},this.createNodePool("sprite","effect/fire_light",5),this.createNodePool("sprite","effect/afterburn",5),this.createNodePool("sprite","drop/gold",5),this.createNodePool("sprite","drop/gold_light",5),this.createNodePool("animation","effect/gunfire/fire_attack",5,{speed:3.5}),this.createNodePool("animation","atlas/dead",5,{speed:1.5}),this.createNodePool("animation","atlas/hit1",5,{speed:3.5}),this.createNodePool("animation","atlas/hit3",5,{speed:3.5}))},createNodePool:function(t,e,i,a){for(var n={pool:new cc.NodePool,size:i,type:t},s=i,o=0;o<s;++o){if("animation"==t)var r=this.createAnimation(e,a);else r=this.createSprite(0,0,e);n.pool.put(r)}this.nodePool[e]=n,cc.log("createNodePool success!",e,this.nodePool[e].pool.size())},getFromNodePool:function(t){if(window.NODEPOOL_ACTIVATE&&this.nodePool&&this.nodePool[t]&&this.nodePool[t].pool.size()>0){var e=this.nodePool[t].pool.get(),i=this;return e.removedFromPool?"animation"==this.nodePool[t].type&&e.animation.play("1"):e.destroy=function(){this.removedFromPool=!0,i.removeFromPool(this,t)},cc.log("Pool size0size",this.nodePool[t].pool.size()),e}},removeFromPool:function(t,e){cc.log("removeFromPool size",this.nodePool[e].pool.size(),this.nodePool[e].size,e),this.nodePool[e]&&this.nodePool[e].pool.size()<this.nodePool[e].size?(this.nodePool[e].pool.put(t),cc.log("Pool sizesizesize",this.nodePool[e].pool)):cc.Node.prototype.destroy.call(t)},pushResource:function(t,e){if(void 0===e&&(e=1),t)if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&this.pushResource(t[i],e);else if(cc.js.isString(t)){var a=t.indexOf("sound/");this.mask[t]=a<0?{path:t,type:cc.Texture2D}:{path:t,type:cc.AudioClip}}else if(t.path)this.mask[t.path]=t;else if(t.anime){var n=t.anime,s="anime/"+n.split("_")[0]+"/",o=s+n+"_ske",r=s+n+"_tex";this.mask[o]={path:o,type:dragonBones.DragonBonesAsset},this.mask[r]={path:r,type:dragonBones.DragonBonesAtlasAsset}}else if(t.particle){var c="particle/"+t.particle;this.mask[c]={path:c,type:cc.ParticleAsset}}else t.atlas&&(c=t.atlas,this.mask[c]={path:c,type:cc.SpriteAtlas})},loadResource:function(t,e){if(t.path)var i=t.path,a=t.type;else i=t,a=cc.Texture2D;window.Cache[i]?e&&e(null):this.loadRes(i,a,function(t,a){ENABLE_CACHE&&(window.Cache[i]=a),t&&cc.log(i,t,a),e&&e(t,a)})},updateProgress:function(){var t=1-(this.stepIndex+this.loadCt)/2/this.loadList.length;this.progressCb(t)},loadResStep:function(){var t=this;this.stepIndex>0&&(this.loadResource(this.loadList[this.stepIndex-1],function(){t.loadCt--,t.updateProgress(),0==t.loadCt&&t.successCb()}),this.stepIndex--,this.updateProgress())},initMap:function(t){this.game=t,this.layer=t.layer},bindScheduler:function(t){this.game&&this.game.bindScheduler(t)},instantiate:function(t){if(window.Cache[t])return cc.instantiate(window.Cache[t])},createArmature:function(t,e,i){var a=this;if(t.indexOf("#")>0){var n=t.split("#"),s=n[0]+"#anime/";t=n[1]}else s="sub#anime/";var o=s+t+"_ske",r=s+t+"_tex",c=new cc.Node;this.bindScheduler(c);var h=c.addComponent(dragonBones.ArmatureDisplay);return h.connects={},window.Cache[o]&&window.Cache[r]?(h.dragonAsset=window.Cache[o],h.dragonAtlasAsset=window.Cache[r],h.armatureName=i||t,h.dragonBoneName=o,h._objFlags|=cc.Object.Flags.IsOnLoadCalled,e&&e(null,h,c)):(this.preloaded&&cc.log("loadArmature",t),this.loadRes(o,dragonBones.DragonBonesAsset,function(n,s){n?cc.log("load DragonBonesAsset err",n):(ENABLE_CACHE&&(window.Cache[o]=s),a.loadRes(r,dragonBones.DragonBonesAtlasAsset,function(a,n){a?cc.log("load DragonBonesAtlasAsset err",a):(ENABLE_CACHE&&(window.Cache[r]=n),h.dragonAsset=s,h.dragonAtlasAsset=n,h.armatureName=i||t,h._objFlags|=cc.Object.Flags.IsOnLoadCalled,e&&e(a,h,c))}))})),c.armatureDisplay=h,c},createParticle:function(t,e,i,a){var n=new cc.Node;this.bindScheduler(n),n.x=t,n.y=e;var s=n.addComponent(cc.ParticleSystem),o="sub#particle/"+i;return n.sp=s,window.Cache[o]?(s.file=window.Cache[o],a&&a(s)):(this.preloaded&&cc.log("loadParticle",i),this.loadRes(o,cc.ParticleAsset,function(t,e){t?cc.log("load ParticleAsset err",t):(ENABLE_CACHE&&(window.Cache[o]=e),s.file=e,a&&a(s))})),n},createSpriteFromAtlas:function(t,e,i,a,n){var s=new cc.Node;this.bindScheduler(s),s.x=t,s.y=e;var o=s.addComponent(cc.Sprite);return o.trim=!1,o.sizeMode=cc.Sprite.SizeMode.RAW,i?this.loadSpriteFromAtlas(o,i,a,n):this.loadSprite(o,a,null,n),s.sprite=o,s},loadSpriteFromAtlas:function(t,e,i,a){e=this.getDefaultName(e);var n=window.Cache[e];if(n){var s=n.getSpriteFrame(i);t.spriteFrame=s,a&&a(null,t)}else this.preloaded&&cc.log("loadSpriteFromAtlas",e),this.loadRes(e,cc.SpriteAtlas,function(e,n){if(e)cc.log("load SpriteAtlas err",e);else if(ENABLE_CACHE&&(window.Cache[i]=n),t.node){var s=n.getSpriteFrame(i);t.spriteFrame=s,a&&a(e,t)}})},createSprite:function(t,e,i,a,n){(isNaN(t)||isNaN(e))&&cc.error("createSprite isNaN ",t,e);var s=new cc.Node;this.bindScheduler(s),s.x=t,s.y=e;var o=s.addComponent(cc.Sprite);return this.loadSprite(o,i,a,n),s.sprite=o,s},createSpriteSimple:function(t){var e=new cc.Node;this.bindScheduler(e);var i=e.addComponent(cc.Sprite);return this.loadSprite(i,t),e.sprite=i,e},createSpriteNotBind:function(t,e,i,a){var n=new cc.Node;n.x=t,n.y=e;var s=n.addComponent(cc.Sprite);return this.loadSprite(s,i,a),n.sprite=s,n},createSpriteWithTexture2D:function(t){var e=new cc.Node;this.bindScheduler(e);var i=e.addComponent(cc.Sprite);return this.loadSpriteWithTexture2D(i,t),e.sprite=i,e},loadSpriteWithTexture2D:function(t,e,i,a){var n=e,s=new cc.SpriteFrame;i&&(s.insetLeft=i[0],s.insetTop=i[1],s.insetRight=i[2],s.insetBottom=i[3],t.type=i[4]||cc.Sprite.Type.SLICED),s.setTexture(n),t.spriteFrame=s,a&&a(null,t)},loadSprite:function(t,e,i,a){if(e=this.getDefaultName(e)){var n=window.Cache[e];if(n){var s=new cc.SpriteFrame;i&&(s.insetLeft=i[0],s.insetTop=i[1],s.insetRight=i[2],s.insetBottom=i[3],t.type=i[4]||cc.Sprite.Type.SLICED),s.setTexture(n),t.spriteFrame=s,a&&a(null,t)}else this.loadRes(e,cc.Texture2D,function(n,s){if(n)cc.warn("load Texture2D err",n);else if(ENABLE_CACHE&&(window.Cache[e]=s),t.node){var o=new cc.SpriteFrame;i&&(o.insetLeft=i[0],o.insetTop=i[1],o.insetRight=i[2],o.insetBottom=i[3],t.type=i[4]||cc.Sprite.Type.SLICED),o.setTexture(s),t.spriteFrame=o,a&&a(null,t)}})}},createFilledSprite:function(t,e,i,a,n){var s=new cc.Node;s.x=t,s.y=e;var o=s.addComponent(cc.Sprite);return this.loadFilledSprite(o,i,a,n),s.sprite=o,s},loadFilledSprite:function(t,e,i,a){if(e=this.getDefaultName(e)){var n=window.Cache[e];if(n){var s=new cc.SpriteFrame;t.type=cc.Sprite.Type.FILLED,i&&(t.fillType=i),s.setTexture(n),t.spriteFrame=s,a&&a(null,t)}else this.preloaded&&cc.log("loadSprite",e),this.loadRes(e,cc.Texture2D,function(n,s){if(n)cc.log("load Texture2D err",n);else if(ENABLE_CACHE&&(window.Cache[e]=s),t.node){var o=new cc.SpriteFrame;t.type=cc.Sprite.Type.FILLED,i&&(t.fillType=i),o.setTexture(s),t.spriteFrame=o,a&&a(null,t)}})}},createAnimation:function(t,e){var i=new cc.Node;this.bindScheduler(i);var a=i.addComponent(cc.Sprite),n=i.addComponent(cc.Animation);return this.loadAnimation(a,n,t,e),i.sprite=a,i.animation=n,i},loadAnimation:function(t,e,i,a){var n=this;i=this.getDefaultName(i),window.Cache[i]?this.bindAnimation(t,e,window.Cache[i],a,i):(this.preloaded&&cc.log("loadAnimation",i),this.loadRes(i,cc.SpriteAtlas,function(s,o){s?cc.log("load  Animation SpriteAtlas err",s):(ENABLE_CACHE&&(window.Cache[i]=o),t.node&&n.bindAnimation(t,e,o,a,i))}))},bindAnimation:function(t,e,i,a){var n=a.speed,s=a.repeat,o=a.delay,r=(a.alive,a.fadeTime),c=(a.fromPool,i.getSpriteFrames());if(a.rand){for(var h=[],d=0,l=c.length;d<l;d++)h.push(c.splice(kit.rndInt(0,c.length-1),1)[0]);c=h}t.trim=!1,t.sizeMode=cc.Sprite.SizeMode.RAW;var u=cc.AnimationClip.createWithSpriteFrames(c,c.length);if(u.name="1",u.speed=n||1,s==AnimationWrap.Reserve?u.wrapMode=cc.WrapMode.Reverse:s<0?u.wrapMode=cc.WrapMode.Loop:(u.wrapMode=cc.WrapMode.Normal,u.repeatCount=s||1),e.addClip(u),e.play("1"),s<0){if(r||o){var f=cc.destroySelf();e.node.runAction(cc.sequence(cc.delayTime(o||.01),cc.fadeOut(r||.01),f))}}else e.on("finished",function(){var t=cc.destroySelf();r||o?e.node.runAction(cc.sequence(cc.delayTime(o||.01),cc.fadeOut(r||.01),t)):a.persist||this.node.destroy()},e)},createLabel:function(t,e,i,a){i=this.getDefaultName(i);var n=new cc.Node;this.bindScheduler(n),n.x=t,n.y=e;var s=n.addComponent(cc.Label);return window.Cache[i]?(s.font=window.Cache[i],s.string=a):(this.preloaded&&cc.log("loadLabelAtlas",i),this.loadRes(i,cc.LabelAtlas,function(t,e){t?cc.log("load LabelAtlas err",t):(ENABLE_CACHE&&(window.Cache[i]=e),s.font=e,s.string=a)})),n.label=s,n},createLabel2:function(t,e,i,a){var n=new cc.Node;this.bindScheduler(n),n.x=t,n.y=e;var s=n.addComponent(cc.Label);return s.string=i,a&&(s.fontSize=a),n.label=s,n},createMotionStreak:function(t,e,i,a){t=this.getDefaultName(t);var n=new cc.Node;this.bindScheduler(n);var s=n.addComponent(cc.MotionStreak);s.update=null;var o=window.Cache[t];return o?(s.texture=o,s.fadeTime=e,s.minSeg=i,s.stroke=a):(this.preloaded&&cc.log("loadMotionStreak",t),this.loadRes(t,cc.Texture2D,function(n,o){n?cc.log("load Motion Texture2D err",n):(ENABLE_CACHE&&(window.Cache[t]=o),s.texture=o,s.fadeTime=e,s.minSeg=i,s.stroke=a)})),n.motionStreak=s,n},bindShader:function(t,e){if("normal"!=e){var i=SHADER_DEFINE[e];if("random"==e){for(var a=[],n=1;n<=16;n++)0!=n&&5!=n&&10!=n&&15!=n?a.push(.5*Math.random()):a.push(1);cc.log("shader",a),i.value={u_mat4:cc.mat4(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])}}i&&this.bindMaterial(t,i.name,i.value)}else{var s=cc.MaterialVariant.createWithBuiltin("2d-sprite",t);t.setMaterial(0,s)}},bindMaterial:function(t,e,i){var a="material/"+e,n=window.Cache[a];if(n){var s=cc.MaterialVariant.create(n,t);for(var o in i)s.setProperty(o,i[o]);t.setMaterial(0,s)}else this.loadRes(a,cc.Material,function(e,n){if(e)console.log("loadMaterial err",e);else if(ENABLE_CACHE&&(window.Cache[a]=n),t.node){var s=cc.MaterialVariant.create(n,t);for(var o in i)s.setProperty(o,i[o]);t.setMaterial(0,s)}})},play:function(t,e){if(isSoundOpened&&t){t.constructor==Array&&(t=t[kit.rndInt(0,t.length-1)]),cc.log("playSound",t);var i=t=this.getDefaultName(t),a=window.Cache[i];if(a)return cc.audioEngine.play(a,e,1);this.preloaded&&cc.log("loadSound",i),this.loadRes(i,cc.AudioClip,function(t,a){t?cc.log("load AudioClip err",t):(ENABLE_CACHE&&(window.Cache[i]=a),cc.audioEngine.play(a,e,1))})}},setVolume:function(t,e){cc.audioEngine.setVolume(t,e)},playMusic:function(t,e,i){var s=this;if(isBGMOpened&&t){var o=t;if(o=this.getDefaultName(o),null!=i&&n&&this.setVolume(n,i),a!=o||e){var r=window.Cache[o];if(cc.log("playMusic",o),this.stopBGM(),a=o,r)return n=cc.audioEngine.playMusic(r,!0),null!=i&&this.setVolume(n,i),n;this.preloaded&&cc.log("loadSound",o),this.loadRes(o,cc.AudioClip,function(t,e){t?cc.log("load AudioClip err",t):(ENABLE_CACHE&&(window.Cache[o]=e),n=cc.audioEngine.playMusic(e,!0),null!=i&&s.setVolume(n,i))})}}},stopBGM:function(){cc.log("stopBGM"),n&&(cc.audioEngine.stopMusic(),a=!1)},pauseBGM:function(){cc.log("pauseBGM"),n&&cc.audioEngine.pauseMusic()},resumeBGM:function(){cc.log("resumeBGM"),n&&cc.audioEngine.resumeMusic(n)},loadPrefab:function(t,e){var i=this.getDefaultName(t);window.Cache[i]?e&&e(window.Cache[i]):this.loadRes(i,cc.Prefab,function(t,a){t&&console.log("--Error:",t),ENABLE_CACHE&&(window.Cache[i]=a),e&&e(a)})}}),cc._RF.pop()},{}],Effect_Focus2:[function(t,e){"use strict";cc._RF.push(e,"0461ae2oI9IP5+PHCFNp2mD","Effect_Focus2"),cc.Class({extends:cc.Component,init:function(t,e){this.owner=t,this.game=e;var i=this.game.effectMgr.createSprite(0,0,"aura/3");i.scale=1.2,i.runAction(cc.rotateBy(1.5,180).easing(cc.easeInOut(1)).repeatForever()),this.node.addChild(i),this.dot=i},getWidth:function(){return this.dot.width},setHw:function(t){this.sp1.y=t,this.sp2.x=t,this.sp3.y=-t,this.sp4.x=-t},update:function(){},runAutoAction:function(t){1==this.actionType&&this.obj==t||(this.obj=t,this.actionType=1)},runMaualAction:function(t){2==this.actionType&&this.obj==t||(this.obj=t,this.actionType=2)}}),cc._RF.pop()},{}],Effect_Focus:[function(t,e){"use strict";cc._RF.push(e,"cc433/67KZGg5nwEZvOgKXc","Effect_Focus"),cc.Class({extends:cc.Component,init:function(t,e){this.owner=t,this.game=e;var i,a=this.game.effectMgr.createSprite(0,0,"effect/aim/dot");this.node.addChild(a),this.dot=a,(i=this.game.effectMgr.createSprite(0,0,"effect/aim/line")).anchorX=.5,i.anchorY=0,this.node.addChild(i),this.sp1=i,(i=this.game.effectMgr.createSprite(0,0,"effect/aim/line")).anchorX=.5,i.anchorY=0,this.node.addChild(i),this.sp2=i,i.angle=-90,(i=this.game.effectMgr.createSprite(0,0,"effect/aim/line")).anchorX=.5,i.anchorY=0,this.node.addChild(i),this.sp3=i,i.angle=-180,(i=this.game.effectMgr.createSprite(0,0,"effect/aim/line")).anchorX=.5,i.anchorY=0,this.node.addChild(i),this.sp4=i,i.angle=-270},setHw:function(t){this.sp1.y=t,this.sp2.x=t,this.sp3.y=-t,this.sp4.x=-t},update:function(){if(this.game.hero&&this.owner&&this.owner.weapon){var t=this.owner.getRecoil(),e=kit.norm(this.owner.x-this.obj.x,this.owner.y-this.obj.y)-80;e<0&&(e=0);var i=e*Math.tan(t/2);if(i&&(this.setHw(i),this.sp1.enabled=!0,this.dot.enabled=!0),this.owner.recoilReduced&&!this.colorChanged){var a=cc.color(255,0,0);this.sp1.color=a,this.sp2.color=a,this.sp3.color=a,this.sp4.color=a,this.dot.color=a,this.colorChanged=!0}}},runAutoAction:function(t){1==this.actionType&&this.obj==t||(this.obj=t,this.actionType=1)},runMaualAction:function(t){2==this.actionType&&this.obj==t||(this.obj=t,this.actionType=2)}}),cc._RF.pop()},{}],Effect:[function(t,e){"use strict";cc._RF.push(e,"ebf90TGi1dNmYDn1M/FReGf","Effect"),t("EffectManager");var i=cc.color(0,0,0),a=cc.Class({extends:cc.Node,init:function(t,e){t=t||1,this.game=e,this.effectMgr=this.game.effectMgr,this.moveNode=new cc.Node,this.addChild(this.moveNode);var i=this.createSingle(VIEW_SIZE.width);i.scaleX=t;var a=437*i.num;this.moveNode.addChild(i);var n=this.createSingle(VIEW_SIZE.width);n.scaleX=t,n.x=-a*t,this.moveNode.addChild(n),this.moveNode.runAction(cc.sequence(cc.moveBy(6,cc.v2(a*t,0)),cc.callFunc(function(){this.moveNode.x=0},this)).repeatForever())},createSingle:function(t){for(var e=Math.ceil(t/437),i=new cc.Node,a=1;a<=e;a++){var n=this.effectMgr.createSprite(-437*((e-1)/2-(a-1)),0,"uiz/ingame/boss/strip");i.addChild(n)}return i.num=e,i}});window.Effect={},Effect.PickUpItem=function(t,e,i){var a=Effect.createFireLight(t,e,.6,null,2,i);i.camera.addChild(a,1111);for(var n=0;n<=5;n++){var s=Math.random()*Math.PI*2,o=kit.rnd(10,40),r=o*Math.sin(s),c=o*Math.cos(s),h=(a=i.effectMgr.createSprite(t+r,e+c,"drop/pickup"),kit.rnd(1,4));a.scale=h;var d=kit.rnd(0,150),l=kit.rnd(.1,.15)*h-d/1500,u=d*Math.sin(s),f=d*Math.cos(s),m=kit.rnd(.05,.1)*h;a.opacity=0,a.runAction(cc.sequence(cc.delayTime(.02*n),cc.fadeIn(.01),cc.spawn(cc.moveBy(l+m/2,cc.v2(u,f)),cc.sequence(cc.delayTime(m),cc.scaleTo(l,0))),cc.destroySelf()).easing(cc.easeOut(kit.rnd(2,3)))),a.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,a.dstBlendFactor=cc.macro.BlendFactor.ONE,i.camera.addChild(a,1e3)}},Effect.init=function(){for(var t,e=[],i=0;i<5;i++)t=cc.spriteFrameCache.getSpriteFrame("hit_"+i),e.push(t);this.spoutFrames=e},Effect.Bleed=function(t,e){if(2!=HEXIE){var a=game.effectMgr.createSprite(t,e,"effect/B");a.setPosition(t,e),a.opacity=255,HEXIE&&a.setColor(i);var n=Math.random()>.5?1:-1;a.setScale((.15+.25*Math.random())*n,.15+.25*Math.random()),a.angle=360*-Math.random(),a.runAction(cc.sequence(cc.fadeTo(.05,150),cc.fadeOut(5),cc.destroySelf())),game.camera.addChild(a,111)}},Effect.Bleed2=function(t,e,a,n,s){if(2!=HEXIE){n=n||1;var o=s.effectMgr.createSprite(t,e,"effect/A");o.opacity=0,HEXIE&&(o.color=i),o.setAnchorPoint(.5,.8);var r=Math.random()>.5?1:-1;o.setScale(r*n*(.7+.7*Math.random()),n*(.7+.7*Math.random())),o.angle=-(a+180),o.runAction(cc.sequence(cc.fadeTo(.05,n*(50*Math.random()+125)),cc.fadeOut(1.5),cc.destroySelf())),s.camera.addChild(o,0)}},Effect.Nova=function(t,e,i,a){var n=a.effectMgr.createSprite(t,e,"effect/nova"),s=2*i/n.getContentSize().width;return n.scale=.9*s,a.camera.addChild(n,10),n.runAction(cc.sequence(cc.spawn(cc.fadeOut(.4),cc.scaleTo(.4,2*s).easing(cc.easeIn(.4))),cc.destroySelf())),n},Effect.AllyNova=function(t,e){var i=game.effectMgr.createSprite(x,y,"effect/ally_ring"),a=e/i.getContentSize().width;return i.scale=.9*a,game.camera.addChild(i,10),i.runAction(cc.sequence(cc.spawn(cc.fadeOut(1),cc.scaleTo(1,1.3*a).easing(cc.easeIn(1))),cc.destroySelf())),i.runAction(cc.rotateBy(1,360)),i},Effect.ProtectAura=function(t,e,i,a){var n=game.effectMgr.createSprite(t,e,"effect/protect");n.opacity=0;var s=2*i/n.getContentSize().width;return n.scale=.9*s,game.camera.addChild(n,10),n.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(1),cc.fadeOut(1)))),n.runAction(cc.repeatForever(cc.rotateBy(1,360))),n.update=function(){a&&(n.x=a.x,n.y=a.y)},a&&n.scheduleUpdate(),n.remove=function(){this.runAction(cc.sequence(cc.fadeOut(1),cc.destroySelf()))},n},Effect.AllyAura=function(t,e,i,a){var n=game.effectMgr.createSprite(t,e,"effect/ally_ring");n.opacity=0;var s=2*i/n.getContentSize().width;return n.scale=.9*s,game.camera.addChild(n,10),n.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(1),cc.fadeOut(1)))),n.runAction(cc.repeatForever(cc.rotateBy(1,360))),n.update=function(){a&&(n.x=a.x,n.y=a.y)},a&&n.scheduleUpdate(),n.remove=function(){this.runAction(cc.sequence(cc.fadeOut(1),cc.destroySelf()))},n},Effect.HurtNum=function(t,e,i,a,n,s,o){if(Math.floor(t)){if(e.HurtNumCt||(e.HurtNumCt=0),e.HurtNumCt<10&&e.HurtNumCt++,a)return Effect.CritNum(t,e,i,n);var r=e==n.hero?"effect/heal_number2":"effect/numbar_light";s&&DMG_NUM[s]&&(r=DMG_NUM[s],cc.log("dmg_num",r));var c=n.effectMgr.createLabel(0,0,r,Math.floor(t));if(n.camera.addChild(c,1400),o=o||1,i&&i.speed0){var h=(i.speed0/3475-1)/2+1;o*=h=h<1?1:h}if(c.setAnchorPoint(.5,.5),i&&i.spdX)var d=kit.vector2Radian(i.spdY,i.spdX)+Math.random()*Math.PI/3-Math.PI/6;else d=Math.random()*Math.PI/3-Math.PI/6;var l=o;i&&i.isDot&&(l*=.7),c.setScale(1.5*l);var u=Math.sin(d),f=Math.cos(d);u=(1*Math.random()+.1*(e.HurtNumCt+.5)+1.5)*u*45*o,f=(1*Math.random()+.1*(e.HurtNumCt+.5)+1.5)*f*45*o,(e.x+3*u/2>n.contactMgr.right||e.x+3*u/2<n.contactMgr.left)&&(u=-u),c.x=e.x+u/2,c.y=e.y+f/2,c.angle=44*Math.random()-22,c.runAction(cc.sequence(cc.spawn(cc.spawn(cc.scaleTo(.05,1*l),cc.moveBy(.07,cc.v2(u,f))).easing(cc.easeOut(2)),cc.sequence(cc.delayTime(.07),cc.rotateTo(.04,0).easing(cc.easeBounceInOut())),cc.moveBy(.5,cc.v2(u/2,f/2))),cc.spawn(cc.fadeOut(.2),cc.scaleTo(.2,0)),cc.destroySelf())),c.onExit=function(){cc.LabelAtlas.prototype.onExit.call(this),e&&e.HurtNumCt--}}},Effect.CritNum=function(t,e,i,a,n){if(Math.floor(t)){if(n=n||1,i&&i.speed0){var s=(i.speed0/3475-1)/2+1;n*=s=s<1?1:s}var o=n||1;if((t=a.effectMgr.createLabel(0,0,"effect/crit_number",Math.floor(t))).setScale(6*o),t.opacity=180,t.setAnchorPoint(.5,.5),i&&i.spdX)var r=kit.vector2Radian(i.spdY,i.spdX)+Math.random()*Math.PI/3-Math.PI/6;else r=Math.random()*Math.PI/3-Math.PI/6;var c=Math.sin(r),h=Math.cos(r);c=(1*Math.random()+.1*(e.HurtNumCt+.5)+1.5)*c*30*n,h=(1*Math.random()+.1*(e.HurtNumCt+.5)+1.5)*h*30*n,(e.x+4*c/3>a.contactMgr.right||e.x+4*c/3<a.contactMgr.left)&&(c=-c),t.x=e.x0+c/3,t.y=e.y0+c/3,t.angle=50*Math.random()-25,t.runAction(cc.shake(.2,8,8)),t.runAction(cc.sequence(cc.spawn(cc.fadeIn(.06),cc.scaleTo(.06,1.6*o),cc.moveBy(.06,cc.v2(c,h))),cc.rotateTo(.03,0).easing(cc.easeBounceInOut()),cc.sequence(cc.delayTime(.5),cc.spawn(cc.fadeOut(.2),cc.scaleTo(.3,0))),cc.destroySelf())),a.camera.addChild(t,1501),t.onExit=function(){cc.LabelAtlas.prototype.onExit.call(this),e&&e.HurtNumCt--}}},Effect.absorbNum=function(t,e,i){if(Math.floor(t)){var a=game.effectMgr.createSprite(0,0,"effect/xishou"),n=cc.LabelAtlas.create("(","effect/xishoukuohao",14.5,24,"(");a.addChild(n),n.setAnchorPoint(0,0),n.x=a.width+2;var s=cc.LabelAtlas.create(Math.floor(t),"effect/xishoushuzi",18,26,"0");n.addChild(s),s.setAnchorPoint(0,0),s.x=n.width;var o=cc.LabelAtlas.create(")","effect/xishoukuohao",14.5,24,"(");if(s.addChild(o),o.setAnchorPoint(0,0),o.x=s.width,i&&i.spdX)var r=kit.vector2Radian(i.spdY,i.spdX);else r=Math.random()*Math.PI/3-Math.PI/6;var c=Math.sin(r),h=Math.cos(r);a.runAction(cc.sequence(cc.moveBy(.5,cc.v2(35*c+(30*Math.random()-15),35*h+(30*Math.random()-15))).easing(cc.easeElasticOut(.1)),cc.fadeOut(.2),cc.destroySelf())),a.setPosition(e.x-10+20*Math.random(),e.y-10+20*Math.random()),game.camera.addChild(a,1200)}},Effect.Bomb=function(t){for(var e=new cc.Animation,i=1;i<5;i++){var a="bomb_"+i;e.addSpriteFrame(cc.spriteFrameCache.getSpriteFrame(a))}e.setDelayPerUnit(.1),e.setRestoreOriginalFrame(!0);var n=game.effectMgr.createSprite(t.x,t.y,"#bomb_1");n.runAction(cc.sequence(cc.animate(e),cc.destroySelf())),game.camera.addChild(n,399)},Effect.BossDeath=function(t,e){cc.Canvas.instance.node,t.playAnim({anim:"stand",loop:0}),(t.avatar||t.anim)&&((t.avatar||t.anim).node.color=cc.color(80,0,0));var i=function(i,a){var n=(t.radius-27)/3;if((n=n>5?5:n)>0&&e.shake(n,n),a){for(var s=1;s<=8;s++)Effect.Shard({scale:.4*Math.random()+.6,x:t.x+Math.random()*t.radius*1.2,y:t.y+Math.random()*t.radius*1.2,v:33+5*Math.random(),radVertical:Math.random()*Math.PI/3,z:4*Math.random()},e);t.avatar&&t.avatar.deadDissolve()}else for(s=1;s<=4;s++)Effect.Shard({scale:.4*Math.random()+.6,x:t.x+Math.random()*t.radius*1.2,y:t.y+Math.random()*t.radius*1.2,v:25+5*Math.random(),radVertical:Math.random()*Math.PI/3,z:4*Math.random()},e);Effect.Death(t,a?1.1:.5,(2*Math.random()-1)*t.radius,(2*Math.random()-1)*t.radius,e),e.effectMgr.play(SoundEffectPath.boss_death)};return i(),e.schedule(i,.15,8),e.scheduleOnce(function(){i(0,1),e.shake(20,20)},1.2),2.4},Effect.Laser=function(t,e,i,a){kit.norm(t,e);var n=kit.vector2Radian(e,t),s=function(t){o.sprite;var e=n;o.lifetime||(e=o.radTotal),o.scaleX=o.lifetime/o.oLifetime,o.lifetime-=t,o.lifetime<0&&(o.lifetime=null,o.radTotal=e,o.opacity=0,o.bltLength=!1)},o=a.effectMgr.createSprite(0,0,"effect/aimBlue",null,function(t,e){e.schedule(s,.016)});return o.anchorY=0,o.updateFunc=s,o.start=function(t){o.lifetime=o.oLifetime=t,o.opacity=255},a.camera.addChild(o,1200),o.updateLength=function(t,e){o.bltLength=t,o.height=t,e&&(o.angle=-e)},o},Effect.Frost=function(t,e,i,a){kit.norm(t,e);var n=kit.vector2Radian(e,t),s=function(t){o.sp;var e=n;o.lifetime||(e=o.radTotal),o.angle=i.getAvatarAngle(),o.lifetime-=t,o.lifetime<0&&(o.sp.stopSystem(),o.lifetime=null,o.radTotal=e,cc.log("Effect frost stop"))},o=a.effectMgr.createParticle(0,0,"firethrower",function(t){t.schedule(s,.016),t.positionType=cc.ParticleSystem.PositionType.FREE});return o.updateFunc=s,o.setScale(2),o.start=function(t){o.lifetime||o.sp.resetSystem(),o.lifetime=t},i.addChild(o,-1),o.updateLength=function(t){var e=t&&t/999||1;o.length=t,o.bltLength=999,o.sp.speed=1658.34*e},o},Effect.PoisonBreath=function(t,e){var i=e.effectMgr.createParticle(0,0,"poison_breath");return i.schedule(function(e){this.lifetime&&(this.lifetime-=e,this.lifetime<0&&(i.stopSystem(),i.autoRemoveOnFinish=!0,t.Electric=!1))}),i},Effect.focus=function(t,e){return new Effect_Focus(t,e)},Effect.RockTarget=function(t,e,i,a,n){var s=n.effectMgr.createAnimation("effect/rock/rock",{speed:2,repeat:0});a=a||1,s.setScale(a),s.setAnchorPoint(cc.v2(.5,.7)),s.setPosition(t+40,e),s.angle=-(i+180),n.camera.addChild(s,1299)},Effect.RockTarget2=function(t,e){return Effect.RockTarget(t.x-20,t.y-60,0,1,e)},Effect.DeadBody=function(t,e,i,a){var n=a.effectMgr.createSprite(t,e,"body");n.scale=1.5,n.angle=180-i;var s=kit.degree2Radian(i+180),o=99*Math.sin(s),r=99*Math.cos(s);n.runAction(cc.moveBy(.3,cc.v2(o,r)).easing(cc.easeSineOut())),n.runAction(cc.sequence(cc.delayTime(3),cc.fadeOut(.5),cc.destroySelf())),a.addEntity(n,5)},Effect.Death=function(t,e,a,n,s){if(2==HEXIE)return a=a||0,n=n||0,void Effect.Blood(t.x+a,t.y+n,t.radius/30*(e||1),s);var o=s.effectMgr.createSprite(0,0,"effect/afterburn");o.runAction(cc.sequence(cc.delayTime(1),cc.fadeOut(1),cc.destroySelf()));var r=Math.random()>.5?-1:1,c=t.radius/35*(e||1)*2.4;e=kit.clamp(c,0,4),o.setScale(e*r,e),o.angle=360*Math.random(),cc.log("death:",e),o.opacity=50*Math.random()+150,HEXIE&&(o.color=i),o.setPosition(t.x,t.y),o.angle=360*-Math.random(),s.camera.addChild(o,0),a=a||0,n=n||0,c=1.8*(e||1),e=kit.clamp(c,0,5),Effect.Blood(t.x+a,t.y+n,e,s)},Effect.Particle=function(t,e,i,a,n){var s=n.effectMgr.createParticle(t,e,i),o=s.getComponent(cc.ParticleSystem);return o.positionType=cc.ParticleSystem.PositionType.RELATIVE,o.autoRemoveOnFinish=!0,n.camera.addChild(s,a||1),o},Effect.Shard=function(t,e){t.num&&(t.num--,t.num>0&&Effect.Shard(t,e));var i=.03,a=e.effectMgr.createSprite(t.x,t.y,t.res||"effect/shard/shard"+kit.rndInt(1,3));if(a.z=t.z||0,a.rad=t.rad||360*Math.random(),a.angle=t.angle||360*Math.random(),t.radVertical){var n=t.radVertical;a.vz=t.v*Math.sin(n),a.v=t.v*Math.cos(n)}else a.vz=t.vz,a.v=t.v;a.rotateSpd=t.rotateSpd||20*Math.random()+35,a.rotateDirection=t.rotateDirection||2*kit.rndInt(0,1)-1,a.baseScale=t.scale||1,a.scale=.5*a.baseScale,a.getComponent(cc.Sprite).schedule(function(t){a.x+=a.v*kit.sin(a.rad)*t/i*a.scale,a.y+=a.v*kit.cos(a.rad)*t/i*a.scale,a.angle-=a.rotateSpd*a.rotateDirection*t/i,a.z<=0&&a.vz<=0?(a.vz=.7*-a.vz,a.z=0,a.v-=1*t/i,a.rotateSpd*=1-.1*t/i,a.v<=0&&(a.v=0),a.rotateSpd<=0?a.rotateSpd=0:a.rotateSpd*=1-.05*t/i):(a.vz-=3.5*t/i,a.z+=a.vz*t/i);var e=a.z;e>160&&(e=144+e/10),a.scaleY=80/(235-1.25*e)*a.baseScale,a.scaleX=80/(235-1.25*e)*a.baseScale,a.scale>.6?a.zIndex=1500:a.zIndex=3},.016),e.camera.addChild(a,3),a.runAction(cc.sequence(cc.delayTime(1),cc.fadeOut(.5),cc.destroySelf()))},Effect.AimWithRedDot=function(t,e){var i=e.x||0,a=e.y||0;t.RedDotEffect||(t.RedDotEffect=new Effect.RedDot(t),t.RedDotEffect.x=i,t.RedDotEffect.y=a),t.RedDotEffect.activate(3)},Effect.healNumber=function(t,e,i){if(Math.floor(t)){t=i.effectMgr.createLabel(0,0,"effect/heal_number",Math.floor(t));var a=Math.random()*Math.PI/3-Math.PI/6,n=Math.sin(a),s=Math.cos(a);t.setScale(1),t.runAction(cc.sequence(cc.moveBy(.5,cc.v2(20*n+(20*Math.random()-10),50*s+(20*Math.random()-10))).easing(cc.easeElasticOut()),cc.fadeOut(.2),cc.destroySelf())),t.setPosition(e.x,e.y+70),i.camera.addChild(t,1743)}},Effect.MoneyNumber=function(t,e,i){return Effect.FlyMoney(t,e,null,null,null,i)},Effect.explodeMoney=function(t,e,i,a){for(var n=1;n<=6;n++)i.scheduleOnce(function(){a.effectMgr.play(SoundEffectPath.pickup_money);var n=Effect.FlyMoney(null,{x:t.x-25+50*Math.random(),y:t.y-25+50*Math.random()},e,i,!0,a),s=60+40*Math.random(),o=Math.random()*Math.PI*2,r=s*Math.sin(o),c=s*Math.cos(o);n.angle=360*-Math.random();var h=cc.sequence(cc.rotateBy(.4,360),cc.callFunc(function(){n.available=!0},n),cc.rotateBy(.3,240).easing(cc.easeExponentialOut())),d=cc.sequence(cc.scaleTo(.2,1.5).easing(cc.easeExponentialOut()),cc.scaleTo(.2,.75)),l=cc.sequence(cc.moveBy(.4,cc.v2(r,c)));n.runAction(cc.spawn(h,d)),n.runAction(l)},.05*n)},Effect.FlyMoney=function(t,e,i,a,n,s){var o=s.effectMgr.createSprite(0,0,"uiz/main/money");if(e.convertToWorldSpaceAR){var r=e.convertToWorldSpaceAR(cc.v2(0,0));o.x=r.x,o.y=r.y}else o.x=e.x,o.y=e.y;o.scale=.5;var c=(i=i||s.inGameUi.moneyLabel).convertToWorldSpaceAR(cc.v2(0,0)),h=c.x,d=c.y;return o.runAction(cc.sequence(cc.delayTime(n?.25:.01),cc.scaleTo(.1,1.5),cc.scaleTo(.05,1),cc.delayTime(.3),cc.moveTo(.25,cc.v2(h,d)),cc.callFunc(function(){}),cc.destroySelf())),s.node.addChild(o,888),o},Effect.DropShell=function(t,e,i,a,n,s,o){var r=o.effectMgr.createSprite(0,0,"shell");o.camera.addChild(r,399);var c=i.deg+70+40*Math.random();r.angle=90-c;var h=kit.degree2Radian(c),d=80+85*Math.random();s&&(d*=s);var l=d*Math.sin(h),u=d*Math.cos(h);l=l||0,u=u||0;var f=kit.degree2Radian(i.deg),m=Math.sin(f),p=Math.cos(f),g=p*a+m*n,v=-m*a+p*n;r.x=t+(g||0)+l/10,r.y=e+(v||0)+u/10;var b=.75+.35*Math.random();r.scale=.68;var k=cc.sequence(cc.scaleTo(.1*b,r.scale*b*1.7),cc.scaleTo(.19*b,.323),cc.moveBy(.3*b,.45*l,.45*u).easing(cc.easeIn(.3))),y=cc.sequence(cc.delayTime(.2*b),cc.callFunc(function(){r.zIndex=1}),cc.delayTime(1),cc.destroySelf()),S=cc.rotateBy(.4*b,(2*kit.rndInt(0,1)-1)*(1100*Math.random()+250));k=cc.spawn(y,k,cc.moveBy(.2*b,.5*l,.5*u),S),r.runAction(k)},Effect.DropShellBastion=function(t,e,i){var a=kit.degree2Radian(i.deg);return t-=35*Math.sin(a),e-=35*Math.cos(a),Effect.DropShell(t,e,i)},Effect.DropMagazine=function(t,e,i,a,n,s,o){var r=o.effectMgr.createSprite(0,0,"weapon/magazine");o.camera.addChild(r,5);var c=i.deg-35-10*Math.random();r.angle=90-c;var h=kit.degree2Radian(c),d=100+3.5*Math.random();s&&(d*=s);var l=d*Math.sin(h),u=d*Math.cos(h);l=l||0,u=u||0;var f=kit.degree2Radian(i.deg),m=Math.sin(f),p=Math.cos(f),g=p*a+m*n,v=-m*a+p*n;r.x=t+(g||0)+l/10,r.y=e+(v||0)+u/10;var b=.95+.35*Math.random();r.scale=.175;var k=cc.sequence(cc.scaleTo(.2*b,.35*.35),cc.moveBy(.3*b,.45*l,.45*u).easing(cc.easeIn(.3))),y=cc.rotateBy(.3*b+.1,(2*kit.rndInt(0,1)-1)*(100*Math.random()+310));k=cc.sequence(cc.spawn(k,cc.moveBy(.2*b,.5*l,.5*u),y),cc.delayTime(2),cc.destroySelf()),r.runAction(k),o.effectMgr.play(SoundEffectPath.clipout)},Effect.Explosive=function(t,e,i,a){var n=t.x,s=t.y,o=new cc.Node;i=i||1,o.scale=i,o.x=n,o.y=s;var r="explosive_smoke2",c=a.effectMgr.createParticle(0,0,r),h=c.getComponent(cc.ParticleSystem);h.positionType=cc.ParticleSystem.PositionType.RELATIVE,o.particle=h,h.autoRemoveOnFinish=!0,o.addChild(c,390),f=cc.sequence(cc.delayTime(.2),cc.callFunc(function(){o.particle&&(o.particle.endColor=cc.color(0,0,0,.01),o.particle2&&(o.particle2.endColor=cc.color(0,0,0,.01)),o.particle3&&(o.particle3.endColor=cc.color(0,0,0,.01)))}),cc.delayTime(2),cc.destroySelf()),o.runAction(f);var d=a.effectMgr.createSprite(0,0,"effect/explosive/C6");d.scale=.1,o.addChild(d,394);var l=d.getComponent(cc.Sprite);l.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,l.dstBlendFactor=cc.macro.BlendFactor.ONE;var u=a.effectMgr.createSprite(0,0,"effect/explosive/A");u.scale=.1,o.addChild(u,392),a.bindScheduler(u),a.camera.addChild(o,1201);var f=cc.sequence(cc.scaleTo(.05,5*u.scale),cc.callFunc(function(){var t=a.effectMgr.createSprite(0,0,"effect/explosive/A");t.scale=.07,o.addChild(t,393);var e=cc.sequence(cc.scaleTo(.05,5*t.scale),cc.callFunc(function(){var t=a.effectMgr.createParticle(0,0,r);t.setScale(.6);var e=t.getComponent(cc.ParticleSystem);e.autoRemoveOnFinish=!0,e.positionType=cc.ParticleSystem.PositionType.RELATIVE,o.particle3=e,o.addChild(t,393.5)}),cc.spawn(cc.scaleTo(.5,7*t.scale),cc.fadeOut(.5)),cc.destroySelf());t.runAction(e);var i=a.effectMgr.createParticle(0,0,r);i.setScale(.8);var n=i.getComponent(cc.ParticleSystem);n.autoRemoveOnFinish=!0,n.positionType=cc.ParticleSystem.PositionType.RELATIVE,o.particle2=n,o.addChild(i,393.5)}),cc.spawn(cc.scaleTo(.5,7*u.scale),cc.fadeOut(.5)),cc.destroySelf());u.runAction(f);var m=function(){var t=Math.random()*Math.PI*.5;a.shake(2*Math.sin(t)*i,2*Math.cos(t)*i)};f=cc.sequence(cc.delayTime(.05/1.5),cc.callFunc(m),cc.scaleTo(.05,1),cc.callFunc(m),cc.spawn(cc.scaleTo(.1,.7),cc.fadeOut(.7)),cc.destroySelf()),d.runAction(f);var p=a.effectMgr.createSprite(t.x,t.y,"effect/explosive/afterburn");return a.camera.addChild(p,1),p.scale=0,p.runAction(cc.sequence(cc.scaleTo(.05,.6*i),cc.delayTime(1.5),cc.fadeOut(.5),cc.destroySelf())),a.effectMgr.play(SoundEffectPath.explosive),o},Effect.Explosive=function(t,e,i,a){var n=t.x,s=t.y,o=new cc.Node;i=i||1,o.scale=i,o.x=n,o.y=s,a.camera.addChild(o,1201);var r=a.effectMgr.createAnimation("atlas/explosion",{speed:1.2});r.angle=360*Math.random(),o.addChild(r,299);var c=Effect.createFireLight(0,0,.7,255,4,a);o.addChild(c,399),a.shake(3*i,3*i);var h=a.effectMgr.createSprite(t.x,t.y,"effect/explosive/afterburn");return a.camera.addChild(h,1),h.scale=0,h.runAction(cc.sequence(cc.scaleTo(.05,.6*i),cc.delayTime(1.5),cc.fadeOut(.5),cc.destroySelf())),a.effectMgr.play(SoundEffectPath.explosive),o},Effect.ExplosiveDeath=function(t,e,i,a,n){Effect.Explosive(t,!1,2,n)},Effect.ExplosiveBlt=function(t,e){var i=t.define&&t.define.hurtradius/80;return Effect.Shard({x:t.x,y:t.y,v:2+5*Math.random(),radVertical:Math.random()*Math.PI/3+.3,z:4*Math.random()+2,scale:1.2},e),Effect.Shard({x:t.x,y:t.y,v:2+5*Math.random(),radVertical:Math.random()*Math.PI/3+.3,z:4*Math.random()+2,scale:1.2},e),Effect.Shard({x:t.x,y:t.y,v:2+5*Math.random(),radVertical:Math.random()*Math.PI/3+.3,z:4*Math.random(),scale:1.2},e),Effect.Shard({x:t.x,y:t.y,v:2+5*Math.random(),radVertical:Math.random()*Math.PI/3+.3,z:4*Math.random(),scale:1.2},e),Effect.Explosive(t,null,i,e)},Effect.ExplosiveBltHit=function(t,e,i,a,n){return Effect.Shard({x:t,y:e,v:2+5*Math.random(),radVertical:Math.random()*Math.PI/3+.3,z:4*Math.random()+2,scale:1.2},n),Effect.Shard({x:t,y:e,v:2+5*Math.random(),radVertical:Math.random()*Math.PI/3+.3,z:4*Math.random()+2,scale:1.2},n),Effect.Shard({x:t,y:e,v:2+5*Math.random(),radVertical:Math.random()*Math.PI/3+.3,z:4*Math.random(),scale:1.2},n),Effect.Shard({x:t,y:e,v:2+5*Math.random(),radVertical:Math.random()*Math.PI/3+.3,z:4*Math.random(),scale:1.2},n),Effect.Explosive({x:t,y:e},null,1,n)},Effect.EletricHit=function(t,e){var i=e.effectMgr.createAnimation("atlas/eletric_hit",{speed:1});i.scale=4,i.x=t.x,i.y=t.y,e.shake(5,5),e.addEntity(i,500)},Effect.EletricBltHit=function(t,e,i,a,n){var s=n.effectMgr.createAnimation("atlas/eletric_hit",{speed:1});s.scale=2,s.x=t,s.y=e,n.shake(5,5),n.addEntity(s,500)},Effect.EletricExplosive=function(t,e){(i=e.effectMgr.createAnimation("atlas/eletric_bomb",{speed:1})).scale=4,i.x=t.x,i.y=t.y,e.shake(5,5),e.addEntity(i,1e3);var i,a=t;(i=e.effectMgr.createSprite(a.x,a.y,"effect/nova_eletric.png")).runAction(cc.sequence(cc.spawn(cc.scaleTo(.5,10),cc.sequence(cc.delayTime(.25),cc.fadeOut(.25))),cc.destroySelf())),e.camera.addChild(i,555)},Effect.EletricLine=function(t,e){var i=e.effectMgr.createAnimation("atlas/lightning",{speed:4,repeat:-1,delay:2});return i.anchorY=0,i.angle=t||0,i.scaleX=2,i.scaleY=5,i},Effect.FrostExplosive=function(t,e){var i=new cc.Node;i.scale=3,i.x=t.x,i.y=t.y,(a=e.effectMgr.createAnimation("atlas/frost",{speed:1,repeat:-1,fadeTime:1})).scale=3,i.addChild(a),e.shake(10,10),e.addEntity(i,500);var a,n=t;(a=e.effectMgr.createSprite(n.x,n.y,"effect/nova_frost.png")).runAction(cc.sequence(cc.spawn(cc.scaleTo(.5,10),cc.sequence(cc.delayTime(.25),cc.fadeOut(.25))),cc.destroySelf())),e.camera.addChild(a,555)},Effect.AfterBurn=function(t,e,i,a){var n=game.effectMgr.createSprite(t,e,"effect/explosive/afterburn");return game.camera.addChild(n,0),n.scale=i||1,n.runAction(cc.sequence(cc.delayTime(a||1),cc.fadeOut(.5),cc.destroySelf())),n},Effect.MissleExplosive=function(t,e){return Effect.Explosive(t,0,2.5,e)},Effect.DropBoxExplode=function(t,e){return Effect.Explosive(t,0,1.7,e)},Effect.ExplosiveBlue=function(t,e){var i=t.x,a=t.y,n=new cc.Node;n.scale=1.4,n.x=i,n.y=a;var s="explosive_smoke2",o=e.effectMgr.createParticle(0,0,s);o.setScale(.8);var r=o.getComponent(cc.ParticleSystem);r.autoRemoveOnFinish=!0,r.positionType=cc.ParticleSystem.PositionType.RELATIVE,n.particle=r,n.addChild(o,390),l=cc.sequence(cc.delayTime(.2),cc.callFunc(function(){n.particle&&(n.particle.endColor=cc.color(0,0,0,.01),n.particle2&&(n.particle2.endColor=cc.color(0,0,0,.01)),n.particle3&&(n.particle3.endColor=cc.color(0,0,0,.01)))}),cc.delayTime(2),cc.destroySelf()),n.runAction(l);var c=e.effectMgr.createSprite(0,0,"effect/explosive_blue/C6");c.scale=.1,n.addChild(c,394);var h=sprite.getComponent(cc.Sprite);h.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,h.dstBlendFactor=cc.macro.BlendFactor.ONE;var d=e.effectMgr.createSprite(0,0,"effect/explosive_blue/A");d.scale=.1,n.addChild(d,392),e.bindScheduler(d),e.camera.addChild(n,399);var l=cc.sequence(cc.scaleTo(.05,5*d.scale),cc.callFunc(function(){var t=e.effectMgr.createSprite(0,0,"effect/explosive_blue/A");t.scale=.07,n.addChild(t,393);var i=cc.sequence(cc.scaleTo(.05,5*t.scale),cc.callFunc(function(){var t=e.effectMgr.createParticle(0,0,s);t.setScale(.6);var i=t.getComponent(cc.ParticleSystem);i.autoRemoveOnFinish=!0,i.positionType=cc.ParticleSystem.PositionType.RELATIVE,n.particle3=i,n.addChild(t,393)}),cc.spawn(cc.scaleTo(.5,7*t.scale),cc.fadeOut(.5)),cc.destroySelf());t.runAction(i);var a=e.effectMgr.createParticle(0,0,s);a.setScale(.8);var o=a.getComponent(cc.ParticleSystem);o.autoRemoveOnFinish=!0,o.positionType=cc.ParticleSystem.PositionType.RELATIVE,n.particle2=o,n.addChild(a,390)}),cc.spawn(cc.scaleTo(.5,7*d.scale),cc.fadeOut(.5)),cc.destroySelf());d.runAction(l);var u=function(){var t=Math.random()*Math.PI*.5;this.shake(2*Math.sin(t)*(scale||1.4),2*Math.cos(t)*(scale||1.4))};l=cc.sequence(cc.delayTime(.05/1.5),cc.callFunc(u),cc.scaleTo(.05,.7),cc.callFunc(u),cc.spawn(cc.scaleTo(.7,.5),cc.fadeOut(.7)),cc.destroySelf()),c.runAction(l);var f=e.effectMgr.createSprite(t.x,t.y,"effect/explosive/afterburn");e.camera.addChild(f,1),f.x=t.x,f.y=t.y,f.scale=0,f.runAction(cc.sequence(cc.scaleTo(.05,.5),cc.delayTime(1.5),cc.fadeOut(.5),cc.destroySelf())),e.effectMgr.play(SoundEffectPath.explosive)},Effect.SmallExplosive=function(t,e){var i=t.x,a=t.y,n=new cc.Node;n.scale=.8,n.x=i,n.y=a;var s="particle/explosive_smoke2.plist",o=this.game.effectMgr.createParticle(0,0,s);o.setScale(.8);var r=o.getComponent(cc.ParticleSystem);r.autoRemoveOnFinish=!0,r.positionType=cc.ParticleSystem.PositionType.RELATIVE,n.particle=r,n.addChild(o,390),l=cc.sequence(cc.delayTime(.2),cc.callFunc(function(){n.particle.endColor=cc.color(0,0,0,.01),n.particle2&&(n.particle2.endColor=cc.color(0,0,0,.01))}),cc.delayTime(2),cc.destroySelf()),n.runAction(l);var c=e.effectMgr.createSprite(0,0,"effect/explosive/C6");c.scale=.1,n.addChild(c,394);var h=sprite.getComponent(cc.Sprite);h.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,h.dstBlendFactor=cc.macro.BlendFactor.DST_ALPHA;var d=e.effectMgr.createSprite(0,0,"effect/explosive/A");d.scale=.1,n.addChild(d,392),r.emissionRate=25,this.bindScheduler(d),e.camera.addChild(n,399);var l=cc.sequence(cc.scaleTo(.05,5*d.scale),cc.callFunc(function(){var t=this.game.effectMgr.createParticle(0,0,s);t.setScale(.8);var e=t.getComponent(cc.ParticleSystem);e.autoRemoveOnFinish=!0,e.emissionRate=25,e.positionType=cc.ParticleSystem.PositionType.RELATIVE,n.particle2=e,n.addChild(t,392.5)}),cc.spawn(cc.scaleTo(.5,7*d.scale),cc.fadeOut(.5)),cc.destroySelf());d.runAction(l);var u=function(){var t=Math.random()*Math.PI*.5;this.shake(1*Math.sin(t),1*Math.cos(t))};l=cc.sequence(cc.delayTime(.05),cc.callFunc(u),cc.scaleTo(.05,.7),cc.callFunc(u),cc.spawn(cc.scaleTo(.5,.5),cc.fadeOut(.5)),cc.destroySelf()),c.runAction(l);var f=e.effectMgr.createSprite(t.x,t.y,"effect/explosive/afterburn");e.camera.addChild(f,1),f.scale=0,f.runAction(cc.sequence(cc.scaleTo(.05,.4),cc.delayTime(1.5),cc.fadeOut(.5),cc.destroySelf())),e.effectMgr.play(SoundEffectPath.explosive)},Effect.Pulse=function(t){var e=new cc.Node;e.x=t.x,e.y=t.y,this.bindScheduler(e),game.camera.addChild(e,399),(a=game.effectMgr.createSprite(0,0,"effect/pulse/D1")).scale=0,e.addChild(a),a.runAction(cc.sequence(cc.spawn(cc.scaleTo(.25,3),cc.fadeOut(.25)))),(a=game.effectMgr.createSprite(0,0,"effect/pulse/D2")).scale=0,e.addChild(a),a.runAction(cc.sequence(cc.spawn(cc.scaleTo(.25,3),cc.fadeOut(.25))));for(var i=0;i<=10;i++){var a;(a=game.effectMgr.createSprite(0,0,"effect/pulse/D3")).setAnchorPoint(cc.v2(.5,0)),a.scale=.5*Math.random()+.5;var n=360*Math.random();a.angle=-n;var s=kit.degree2Radian(n),o=200*Math.random()+150,r=Math.sin(s)*o,c=Math.cos(s)*o;e.addChild(a),a.runAction(cc.sequence(cc.spawn(cc.moveTo(.25,cc.v2(r,c)),cc.fadeOut(.25))))}e.runAction(cc.sequence(cc.delayTime(2),cc.destroySelf()))},Effect.healBall=function(t,e){var i=t.x,a=t.y,n=(e=e,game.effectMgr.createSprite(i,a,"r3")),s=n.getComponent(cc.Sprite);s.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,s.dstBlendFactor=cc.macro.BlendFactor.ONE,n.opacity=100,game.camera.addChild(n);var o=e/n.width;n.setScale(0),n.runAction(cc.sequence(cc.scaleTo(.2,o,o).easing(cc.easeSineInOut()),cc.fadeOut(.2),cc.destroySelf()))},Effect.PharahGrenade=function(t,e){var i=t.width,a=t.height,n=t.getAnchorPoint().x,s=t.getAnchorPoint().y,o=e.effectMgr.createParticle(0,0,"pharah_rocket_smoke"),r=o.getComponent(cc.ParticleSystem);r.autoRemoveOnFinish=!0,r.positionType=cc.ParticleSystem.PositionType.RELATIVE,e.camera.addChild(o,-1);var c=t.angle,h=function(){t?(this.x=t.x,this.y=t.y,this.angle=c):r.stopSystem()};h(),r.schedule(h);var d=e.effectMgr.createSprite(i*n,a*s-20,"effect/explosive/C"),l=d.getComponent(cc.Sprite);l.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,l.dstBlendFactor=cc.macro.BlendFactor.ONE,d.scale=.7,d.opacity=150,t.addChild(d),d.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.05,.5),cc.scaleTo(.05,.7))))},Effect.Rocket=function(t){var e=t.width,i=t.height,a=t.getAnchorPoint().x,n=t.getAnchorPoint().y,s=this.game.effectMgr.createParticle(e*a,i*n-20,"pharah_rocket_smoke");s.getComponent(cc.ParticleSystem).positionType=cc.ParticleSystem.PositionType.FREE,t.addChild(s,-1);var o=game.effectMgr.createSprite(e*a,i*n-20,"effect/explosive/C"),r=o.getComponent(cc.Sprite);r.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,r.dstBlendFactor=cc.macro.BlendFactor.ONE,o.scale=.5,o.opacity=80,t.addChild(o),o.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.05,.3),cc.scaleTo(.05,.5))))},Effect.WidowBombSBlt=function(t,e,i,a,n){var s=n.effectMgr.createSprite(t,e,"effect/poison_glow");s.scale=3,s.opacity=0,n.camera.addChild(s,590);var o=cc.sequence(cc.fadeTo(.1,200),cc.fadeOut(1),cc.destroySelf());s.runAction(o),n.effectMgr.play(SoundEffectPath.widow_SpiderPoisonBomb),n.shake(5,5)},Effect.WidowBombS=function(t,e){var i=e.effectMgr.createSprite(t.x,t.y,"effect/poison_glow");i.scale=3,i.opacity=0,e.camera.addChild(i,590);var a=cc.sequence(cc.fadeTo(.1,200),cc.fadeOut(1),cc.destroySelf());i.runAction(a),e.effectMgr.play(SoundEffectPath.widow_SpiderPoisonBomb),e.shake(5,5)},Effect.WidowBomb=function(t,e){var i=e.effectMgr.createSprite(t.x,t.y,"effect/poison_glow");i.scale=0,i.opacity=255,e.camera.addChild(i,590);var a=cc.sequence(cc.spawn(cc.scaleTo(.1,6),cc.fadeOut(1)),cc.destroySelf());i.runAction(a),e.effectMgr.play(SoundEffectPath.widow_SpiderPoisonBomb),e.shake(5,5)},Effect.SpawnHero=function(t,e,i){i.active=!1,i.aura.active=!1,i.setStun(.8,!0),i.setActive(!1);var a=game.effectMgr.createSprite(t,e,"effect/hero_spawn/chuchuang_00001");a.opacity=0,a.scale=0,game.camera.addChild(a,1499),a.runAction(cc.sequence(cc.spawn(cc.rotateBy(.8,1720),cc.fadeTo(.8,200),cc.scaleTo(.8,.8)),cc.callFunc(function(){Effect.SpawnUnit(t,e,i),i.setActive(!0),i.active=!0,i.aura.active=!0}),cc.destroySelf()));var n=a.getComponent(cc.Sprite);return n.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,n.dstBlendFactor=cc.macro.BlendFactor.ONE,a},Effect.Blink=function(t,e){var i=game.effectMgr.createSprite(t,e,"effect/tracer/light");i.scale=2,i.opacity=0,i.angle=0,this.circle=i,game.camera.addChild(i,1200);var a=cc.Sequence(cc.Spawn(cc.ScaleTo(.3,2,0),cc.FadeIn(.3)),cc.CallFunc(function(){i.destroy()}));this.bindScheduler(i),i.runAction(a)},Effect.smallToBig=function(t,e,i){var a=i.getScale(),n=i.zIndex,s=i.config.delay,o=kit.rnd(0,2*Math.PI),r=Math.sin(o),c=Math.cos(o);i.setScale(.2),i.zIndex=1,i.setNoAttack(!0),i.setNoRotate(!0),i.setNoMove(!0),i.refreshAvatar(),g_sharedContactManager.setEntityEnabled(i,!1),i.x+=10*r,i.y+=10*c,i.angle=-kit.radian2Degree(o),i.deg=kit.radian2Degree(o),i.opacity=0,i.runAction(cc.sequence(cc.spawn(cc.sequence(cc.moveBy(s/4,cc.v2(3*r,3*c)),cc.moveBy(s/4,cc.v2(3*-r,3*-c))).repeat(2),cc.scaleTo(s,a),cc.fadeTo(s,150)),cc.callFunc(function(){i.config.casern=null,i.zIndex=n},this),cc.spawn(cc.sequence(cc.scaleTo(.2,1.5*a),cc.scaleTo(.2,a)),cc.fadeIn(.2),cc.moveBy(.4,cc.v2(80*r,80*c))),cc.callFunc(function(){i.setScale(a),i.setNoAttack(!1),i.setNoRotate(!1),i.setNoMove(!1),i.refreshAvatar(),g_sharedContactManager.setEntityEnabled(i,!0)},this)))},Effect.BulletSmoke=function(t,e){var i=e.effectMgr.createSprite(t.x,t.y,"effect/bullet_smoke"),a=i.getComponent(cc.Sprite);i.target=t,i.ox=t.x,i.oy=t.y;var n=Math.random()>.5?1:-1;i.scaleX*=-n,i.rdSX=.04*Math.random()+.05,i.setAnchorPoint(.5,1),i.getContentSize();var s=i.getContentSize().height;e.camera.addChild(i,999);var o=function(t,e,a){e&&a&&(i.x=e,i.y=a,i.angle=-kit.radian2Degree(kit.vector2Radian(a-i.oy,e-i.ox)));var n=kit.degree2Radian(i.angle);i.x+=1*Math.sin(n),i.y+=1*Math.cos(n),i.scaleX+=i.rdSX;var o=kit.norm(i.x-i.ox,i.y-i.oy);i.scaleY=o/s},r=function(){i.angle=i.target.angle,i.x=i.target.x,i.y=i.target.y;var t=kit.norm(i.x-i.ox,i.y-i.oy);i.scaleY=t/s};return a.schedule(r,.01),r(),i.updateSmoke=r,i.remove=function(){this.isEnd||(this.isEnd=!0,i.updateSmoke(),a.schedule(o,.01),i.runAction(cc.sequence(cc.fadeOut(.5),cc.destroySelf())),a.unschedule(r))},i},Effect.GoldPickUp=function(t,e){var i=game.effectMgr.createSprite(e.x,e.y,"drop/money");i.scale=e.config.s;var a=cc.LabelAtlas.create(Math.floor(t),"effect/heal_number2",18,26,"0");a.scale=1,a.x=30,a.y=5,i.addChild(a),game.camera.addChild(i,399),i.runAction(cc.spawn(cc.moveBy(.8,cc.v2(0,50)),cc.scaleTo(.8,i.scale+.5),cc.sequence(cc.delayTime(.3),cc.fadeOut(.5),cc.destroySelf())).easing(cc.easeIn(3)))},Effect.DiamondPickUp=function(t,e){var i=game.effectMgr.createSprite(e.x,e.y,"drop/zuanshi");i.scale=e.config.s;var a=cc.LabelAtlas.create(Math.floor(t),"effect/heal_number2",18,26,"0");a.scale=1,a.x=30,a.y=5,i.addChild(a),game.camera.addChild(i,399),i.runAction(cc.spawn(cc.moveBy(.8,cc.v2(0,50)),cc.scaleTo(.8,i.scale+.5),cc.sequence(cc.delayTime(.3),cc.fadeOut(.5),cc.destroySelf())).easing(cc.easeIn(3)))},Effect.ExplosiveWithFire=function(t,e,i){Effect.Explosive(t),e=e||1,this.shake(3*e,3*e),Effect.Shard({x:t.x,y:t.y,v:4+4*Math.random(),vz:3*Math.random()+4},i)},Effect.DeadExplosiveWithFire=function(t){Effect.Explosive(t,1)},Effect.BossExplosiveWithFire=function(){},Effect.Fire=function(t,e,i,a){var n=a.effectMgr.createAnimation("effect/fire/fire",{speed:2,repeat:-1,delay:i});n.x=t,n.y=e,n.rotation=360*Math.random(),a.camera.addChild(n,ZORDER.TOP+1);var s=a.effectMgr.createSprite(t,e,"uiz/effect/burn_out");return i=i&&i+2||2,s.runAction(cc.sequence(cc.delayTime(i),cc.fadeOut(1),cc.destroySelf())),a.camera.addChild(s,1),n.burnOut=s,n},Effect.FireZone=function(t,e,i,a){var n=Effect.Fire(t.x,t.y,i,a);n.opacity=200,n.scale=0,n.runAction(cc.scaleTo(.1,e/80)),n.scale=e/80;var s=n.burnOut;return s.scale=0,s.runAction(cc.scaleTo(.1,e/80)),s.scale=e/90,n.sprite},Effect.FallFromAbove=function(t,e,i,a){i.stun(1.5,!0);var n=i.avatar||i.armature,s=n.scale;n.scale*=6;var o=i.shadow.scale;i.shadow.scale=.5,n.active=!1,a=a||.5,n.runAction(cc.sequence(cc.delayTime(a),cc.callFunc(function(){n.active=!0}),cc.spawn(cc.scaleTo(.5,s)),cc.callFunc(function(){Effect.Nova(i.x,i.y,100,game),this.shake(8,8)}))),i.shadow.runAction(cc.spawn(cc.fadeIn(a),cc.scaleTo(a+.5,o)))},Effect.FlyDown=function(t,e,i,a){i.setNoMove(!0),i.setActive(!1),i.setNoAttack(!0),i.setNoRotate(!0),i.setNoSkills(!0);var n=i.avatar||i.armature,s=n.scale;n.scale*=2.5,i.shadow.active=!1,n.y=-500,n.active=!1,a=a||.5,n.runAction(cc.sequence(cc.delayTime(a),cc.callFunc(function(){n.active=!0}),cc.spawn(cc.scaleTo(1.5,s),cc.moveBy(1.5,cc.v2(0,500))),cc.callFunc(function(){i.setNoMove(!1),i.shadow.active=!0,i.setActive(!0),i.setNoAttack(!1),i.setNoRotate(!1),i.setNoSkills(!1)})))},Effect.SpawnEff=function(t,e,i,a,n){"no"!=t?(cc.log("SpawnEff",t),t?Effect[t]&&Effect[t](e,i,a,n):Effect.Blink(e,i,a)):Effect.Spawn(e,i,a,n)},Effect.Blood=function(t,e,i,a){var n=a.effectMgr.createAnimation("atlas/dead",{speed:1.5,fadeTime:.5});return n.sprite.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,n.sprite.dstBlendFactor=cc.macro.BlendFactor.ONE,a.camera.addChild(n,1200),n.x=t,n.y=e,n.scale=.65*i,n.angle=360*Math.random(),HEXIE,n},Effect.LanderPack=function(t,e,i,a){return 0==a?Effect.Lander(t,e,i):Effect.LanderPackForOther(i,1.3)},Effect.LanderPackForOther=function(t,e){t.stun(1.5,!0),t.active=!1,t.setActive(!1),t.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){t&&(t.active=!0,t.setActive(!0))})))},Effect.DropGainMsgDemo=function(t,e){this.dropGainMsg&&(this.dropGainMsg.destroy(),this.dropGainMsg=null);var i=this;cc.loader.loadRes("prefab/ak47",function(t,a){if(t)cc.log(", :"+t);else if(a instanceof cc.Prefab){var n=cc.instantiate(a);n.x=VIEW_SIZE.width/2,n.y=VIEW_SIZE.height-170,e.node.addChild(n,1500),i.dropGainMsg=n,n.getChildByName("text1").x-=200,n.getChildByName("text1").runAction(cc.sequence(cc.moveBy(.2,cc.v2(200,0)),cc.moveBy(1.7,cc.v2(20,0)),cc.moveBy(.1,cc.v2(200,0)))),n.getChildByName("textbg").x+=200,n.getChildByName("textbg").runAction(cc.sequence(cc.moveBy(.2,cc.v2(-200,0)),cc.moveBy(1.7,cc.v2(-20,0)),cc.moveBy(.1,cc.v2(-200,0)))),n.getChildByName("light").runAction(cc.rotateBy(3,360).repeatForever()),n.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.destroy(),i.dropGainMsg=null},n)))}else cc.log("!")})},Effect.GameInfoManager=cc.Class({init:function(){this.list=[],this.moveDy=0},move:function(t){for(var e=0;e<this.list.length;e++)cc.isValid(this.list[e])?this.list[e].runAction(cc.moveBy(.2,cc.v2(0,t)).easing(cc.easeInOut(2))):(this.list.splice(e,1),e--);this.moveDy+=t},add:function(t){for(var e=0;e<this.list.length;e++)cc.isValid(this.list[e])?this.list[e].runAction(cc.moveBy(.2,cc.v2(0,-220)).easing(cc.easeInOut(2))):(this.list.splice(e,1),e--);this.list.push(t),this.moveDy&&t.runAction(cc.moveBy(.2,cc.v2(0,this.moveDy)).easing(cc.easeInOut(2)))}}),Effect.ItemGainMsg=function(t,e,i){var a=new cc.Node;a.x=-100,a.y=VIEW_SIZE.height-220,t.addToUI(a,1500,!0,!0),a.runAction(cc.sequence(cc.moveBy(.2,cc.v2(VIEW_SIZE.width/2+100,0)).easing(cc.easeInOut(2)),cc.delayTime(2),cc.fadeOut(.5),cc.destroySelf()));var n=t.effectMgr.createSprite(0,68,"ui/itemGainInfo/title");a.addChild(n),n.y-=68,n.runAction(cc.sequence(cc.delayTime(.2+.1),cc.moveBy(.3,cc.v2(0,68)).easing(cc.easeInOut(2))));var s=t.effectMgr.createSprite(0,-50,"ui/itemGainInfo/bg");a.addChild(s),s.scaleX=0,s.runAction(cc.sequence(cc.delayTime(.6),cc.scaleTo(.3,1,1).easing(cc.easeInOut(2))));var o=new cc.Node;a.addChild(o),OperBridge.createLatNodeByKey(e,{pNode:o,x:0,y:0,scale:1,str:i&&"x"+i}),o.y-=68,o.runAction(cc.sequence(cc.delayTime(.2+.1),cc.moveBy(.3,cc.v2(0,68)).easing(cc.easeInOut(2))));var r,c=OperDefine.getBaseInfoByKey(e);switch(c.qa||1){case 1:r=cc.color(255,255,255);break;case 2:r=cc.color(53,255,72);break;case 3:r=cc.color(6,199,255);break;case 4:r=cc.color(201,53,255)}(i=t.effectMgr.createLabel2(0,-77,c.name,28)).color=r;var h=i.addComponent(cc.LabelOutline);h.width=3,h.color=cc.color(0,0,0),a.addChild(i),i.opacity=0,i.runAction(cc.sequence(cc.delayTime(.6),cc.fadeIn(.3).easing(cc.easeInOut(2))))},Effect.DropGainMsg=function(t,e){this.dropGainMsg&&(this.dropGainMsg.destroy(),this.dropGainMsg=null);var i=new cc.Node;i.scale=.6,i.x=VIEW_SIZE.width/2,i.y=VIEW_SIZE.height-180,e.addToUI(i,1500,!0),cc.winSize.height/cc.winSize.width>2&&(i.y-=50);var a=e.effectMgr.createSprite(0,0,"effect/msg_frame");a.getContentSize(),a.x=0,a.y=-6;var n=a.width,s=0,o=function(t){var e=a.getContentSize();(s+=10*t)>1&&(s=1),e.width=n*s,a.size=cc.v2(e.width,e.height)};a.getComponent(cc.Sprite).schedule(o,.1),o(0),i.addChild(a),this.dropGainMsg=i,i.runAction(cc.sequence(cc.delayTime(4),cc.callFunc(function(){this.destroy(),this.dropGainMsg=null},i)));var r=e.createSysLabel(t,44);return r.opacity=0,r.scale=5,r.runAction(cc.sequence(cc.delayTime(.1),cc.spawn(cc.fadeIn(.1),cc.scaleTo(.1,1)).easing(cc.easeOut(.5)),cc.callFunc(function(){e.shake(3,3)}))),i.addChild(r),i},Effect.skillName_Big=function(t){(i=game.effectMgr.createSprite(0,0,"effect/show")).setAnchorPoint(0,0),i.clipX=0,this.addChild(i);var e=i.getContentSize();i.setTextureRect(cc.rect(0,0,0,e.height)),i.timer=0,i.update=function(t){this.timer+=t,this.timer<.15||(this.timer>1.2?(this.clipX-=240,this.x+=240,this.setTextureRect(cc.rect(this.x,0,this.clipX,e.height)),this.clipX<0&&this.destroy()):(this.clipX+=240,this.setTextureRect(cc.rect(0,0,this.clipX,e.height))))},i.scheduleUpdate(),label.scale=7,label.opacity=0,label.runAction(cc.sequence(cc.spawn(cc.fadeIn(.2),cc.scaleTo(.4,1.5)).easing(cc.easeIn(6)),cc.delayTime(.8-.1),cc.fadeOut(.1))),(i=game.effectMgr.createSprite(VIEW_SIZE.width/2-e.width/2+50-100+150,110+VIEW_SIZE.height/2,"effect/show/frame3")).setAnchorPoint(0,0),i.clipX=0,this.addChild(i),e=i.getTextureRect(),i.setScale(.7*1.5),i.setTextureRect(cc.rect(e.x,e.y,0,e.height)),i.timer=0,i.x,i.update=function(t){this.timer+=t,this.timer<.15||(this.timer>1.2?(this.clipX-=60,this.x+=63,this.clipX<0&&this.destroy()):this.clipX+=60)},i.scheduleUpdate();var i,a=UIConfig.getEntityFigure(t.define.id);(i=game.effectMgr.createSprite(1.5*a.x-200,1.5*a.y-200,a.res)).setAnchorPoint(.5,0),i.scale=1.5,this.addChild(i),i.runAction(cc.sequence(cc.delayTime(.25),cc.moveTo(.1,cc.v2(VIEW_SIZE.width/2-350-50-50,i.y)),cc.moveTo(.9,cc.v2(VIEW_SIZE.width/2-300-50-50,i.y)),cc.moveTo(.1,cc.v2(-200,i.y)),cc.destroySelf()))},Effect.fangxiangbiao=function(){var t=new cc.Node,e=game.effectMgr.createSprite(0,0,"effect/fangxiangbiao/fangxiang1");return Effect.runAction(cc.repeatForever(cc.spawn(cc.sequence(cc.moveBy(.31,cc.v2(20,0)),cc.moveBy(.31,cc.v2(-20,0))),cc.sequence(cc.fadeTo(.31,50),cc.fadeTo(.31,255))))),t.addChild(e),t},Effect.blinkOutUnit=function(t){t==this.hero&&(this.controller.enableMove(!1),this.controller.enableShoot(!1),this.controller.enableSkill(0,!1),this.controller.enableSkill(1,!1),this.controller.enableSkill(2,!1)),t.active=!1,t.aura&&(t.aura.active=!1),Effect.SpawnUnit(t.x,t.y),t.remove()},Effect.GunFire=function(t,e,i,a,n){var s=n.effectMgr.createAnimation("effect/gunfire/fire_attack",{speed:3.5});s.setAnchorPoint(.5,.06),s.scale=.2*Math.random()+.8,s.scale*=a||1,s.scaleX*=Math.random()>.5?1:-1,s.angle=-i.deg,s.x=t,s.y=e,n.camera.addChild(s,i.zIndex+1)},Effect.createFireLight=function(t,e,i,a,n,s){var o=s.effectMgr.createSprite(t,e,"effect/fire_light"),r=o.getComponent(cc.Sprite);r.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,r.dstBlendFactor=cc.macro.BlendFactor.ONE,n=n||8,i=i||2,o.scale=2*i,o.opacity=0,a=a||255;var c=cc.sequence(cc.fadeTo(.004*n,a),cc.scaleTo(.04*n,1*i),cc.fadeOut(.12*n),cc.destroySelf());return o.runAction(c),o},Effect.LaserFireLight=function(t,e,i,a,n,s,o){var r=kit.degree2Radian(i.deg),c=Math.sin(r),h=Math.cos(r);t+=h*(a=a||0)+c*(n=n||0),e+=-c*a+h*n,Effect.PureFireLight(t,e,{deg:i.deg},0,0,s||1,o,.5,2,1300,255,255)},Effect.LaserHitFloor2=function(t,e,i,a,n){Effect.PureFireLight(t,e,{deg:i},0,0,1,n,1.3,2,1300,255,255)},Effect.LaserHitFloor=function(t,e,i,a,n){Effect.PureFireLight(t,e,{deg:i},0,-100,1.3,n,1.3,2,1300,255,255)},Effect.YellowHitFloor=function(t,e,i,a,n){Effect.PureFireLight(t,e,{deg:i},0,-100,1.3,n,1.3,null,1300,255,255)},Effect.PureFireLight=function(t,e,i,a,n,s,o,r,c,h,d,l){var u=kit.degree2Radian(i.deg),f=Math.sin(u),m=Math.cos(u),p=m*(a=a||0)+f*(n=n||0),g=-f*a+m*n,v=o.effectMgr.createSprite(t+p,e+g,"effect/fire_light"+(c||"")),b=v.getComponent(cc.Sprite);b.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,b.dstBlendFactor=cc.macro.BlendFactor.ONE,r=r||1.2,s=.9*(s||1),v.scale=2*s,v.opacity=d||0,o.camera.addChild(v,h||i.zIndex+1);var k=cc.sequence(cc.fadeTo(.004*r,l||100),cc.scaleTo(.04*r,1*s),cc.fadeOut(.1*r),cc.destroySelf());v.runAction(k)},Effect.FireLight=function(t,e,i,a,n,s,o){var r=kit.degree2Radian(i.deg),c=Math.sin(r),h=Math.cos(r),d=o.effectMgr.createSprite(0,0,"effect/fire_light"),l=d.getComponent(cc.Sprite);l.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,l.dstBlendFactor=cc.macro.BlendFactor.ONE;var u=h*(a=a||0)+c*(n=n||0),f=-c*a+h*n;d.x=t+u,d.y=e+f,s=1*(s||1),i.bltSize&&(s*=2),d.scale=2*s,d.opacity=0,o.camera.addChild(d,1333);var m=cc.sequence(cc.fadeTo(.004,100),cc.scaleTo(.04,1*s),cc.fadeOut(.1),cc.destroySelf());d.runAction(m),u=h*a+c*(n-20)||0,f=-c*a+h*(n-20)||0,Effect.GunFire(t+u,e+f,i,s,o)},Effect.FireLight=function(t,e,i,a,n,s,o){var r=kit.degree2Radian(i.deg),c=Math.sin(r),h=Math.cos(r),d=o.effectMgr.createSprite(0,0,"effect/fire_light"),l=d.getComponent(cc.Sprite);l.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,l.dstBlendFactor=cc.macro.BlendFactor.ONE;var u=h*(a=a||0)+c*(n=n||0),f=-c*a+h*n;d.x=t+u,d.y=e+f,s=1*(s||1),i.bltSize&&(s*=2),d.scale=2*s,d.opacity=0,o.camera.addChild(d,1333);var m=cc.sequence(cc.fadeTo(.004,100),cc.scaleTo(.04,1*s),cc.fadeOut(.1),cc.destroySelf());d.runAction(m),u=h*a+c*(n-20)||0,f=-c*a+h*(n-20)||0,Effect.GunFire(t+u,e+f,i,s,o)},Effect.fireLight=function(t){t.sx,t.sy;var e=t.obj,i=(t.imgPath,t.time),a=t.scale,n=game.effectMgr.createSprite(o.x,o.y,"effect/fire_light"),s=n.getComponent(cc.Sprite);s.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,s.dstBlendFactor=cc.macro.BlendFactor.ONE;var o=t.offSet||this;i=i||1,a=a||1,n.scale=2*a,n.opacity=0,this.bindScheduler(n,1500),e.addChild(n);var r=cc.sequence(cc.fadeTo(.004*i,155),cc.scaleTo(.04*i,1*a),cc.fadeOut(.04*i),cc.destroySelf());n.runAction(r)},Effect.fireLightPharah=function(t,e,i){return Effect.fireLight.bind(this)({sx:t,sy:e,obj:i,time:3})},Effect.fireLightTracer=function(t,e,i){return Effect.fireLight.bind(this)({sx:t,sy:e,obj:i,imgPath:"effect/tracer/fire"})},Effect.fireLightWidow=function(t,e,i){return Effect.fireLight.bind(this)({sx:t,sy:e,obj:i,imgPath:"effect/widow/fire"})},Effect.NoHitEffect=function(){},Effect.WidowHitEffect=function(t,e,i,a){if(SPECIAL_EFFECT_OPEN){var n=a.effectMgr.createAnimation("effect/hit_effect/baodian_huangse",{speed:8});Math.random()>.5?(n.setScale(-1,1),n.angle=-30-i):n.angle=30-i,n.setAnchorPoint(cc.v2(.333,.3)),n.x=t,n.y=e,a.camera.addChild(n,ZORDER.TOP-1)}},Effect.Hit3=function(t,e,i,a,n){var s=n.effectMgr.createAnimation("atlas/hit3",{speed:3.5});s.sprite.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,s.sprite.dstBlendFactor=cc.macro.BlendFactor.ONE,s.x=t,s.y=e,a*=1.5,s.scale=a,s.scaleX*=Math.random()<.5?1:-1,s.anchorY=.1,s.angle=-i,n.camera.addChild(s,1300)},Effect.Hit2=function(t,e,i,a,n){var s=n.effectMgr.createAnimation("atlas/hit2",{speed:3});s.x=t,s.y=e,s.angle=360*Math.random(),a*=2.2,s.scale=a,s.scaleX*=Math.random()<.5?1:-1,n.camera.addChild(s,1300)},Effect.Hit1=function(t,e,i,a,n){var s=n.effectMgr.createAnimation("atlas/hit1",{speed:3.5});return s.sprite.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,s.sprite.dstBlendFactor=cc.macro.BlendFactor.ONE,s.x=t,s.y=e,s.angle=360*Math.random(),a*=2.2,s.scale=a,s.scaleX*=Math.random()<.5?1:-1,n.camera.addChild(s,1300),s},Effect.WidowHitEffect3=function(t,e,i,a,n){Effect.Hit3(t,e,i,a,n),Effect.Hit1(t,e,i,a,n)},Effect.WidowHitEffect2=function(t,e,i,a,n){Effect.WidowHitEffect3(t,e,i,a,n)},Effect.BlueHitEffect=function(){},Effect.TracerBlueHitEffect=function(t,e,i){return Effect.BlueHitEffect(t,e,i,.55)},Effect.BltEffectMotionStreak=function(t,e){var i=new cc.MotionStreak(.5,1,15,cc.color(255,255,255),e||"bullet/player/playerbullet_02");i.setPosition(this.x,this.y),i.timer=3,i.opacity=150,game.camera.addChild(i,1201);var a=t;i.schedule(function(){this.setPosition(a.x,a.y),this.timer<0&&this.destroy()}),this.streak=i},Effect.WidowBltEffectMotionStreak=function(t){return Effect.BltEffectMotionStreak(t,"effect/widow/sidai")},Effect.HitLight=function(t,e,i,a){var n=game.effectMgr.createSprite(a.x||0,a.y||0,"light");n.scale=8;var s=n.getComponent(cc.Sprite);s.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,s.dstBlendFactor=cc.macro.BlendFactor.ONE,n.runAction(cc.sequence(cc.fadeOut(.05),cc.destroySelf())),i.addChild(n)},Effect.PoisonHitEffect=function(t,e,i,a,n,s){var o=null;return a.effectMgr?(o=a.effectMgr.createAnimation("bullet/enemy/poison/duwu/duw",{speed:5}),a.camera.addChild(o,1200)):(o=n.effectMgr.createAnimation("bullet/enemy/poison/duwu/duw",{speed:5}),n.camera.addChild(o,1200)),n.effectMgr.bindShader(o.sprite,s),o.x=t,o.y=e,!0},Effect.PoisonHitEffectRed=function(t,e,i,a,n){cc.log("PoisonHitEffectRed"),Effect.PoisonHitEffect(t,e,i,a,n,"m2")},Effect.PoisonHitEffectBlue=function(t,e,i,a,n){Effect.PoisonHitEffect(t,e,i,a,n,"pm4")},Effect.TutorialRemove=function(){for(var t=g_sharedContactManager.contactList,e=0;e<t.length;e++){var i=t[e];0==i.team&&i!=this.hero&&(i.active=!1)}},Effect.Alarm=function(t){var e=cc.LayerColor.create(cc.color(255,0,0),VIEW_SIZE.width,VIEW_SIZE.width);this.addChild(e),this.alarmEffect=e,e.opacity=0,e.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){t.effectMgr.play("sound/alarm")}),cc.fadeTo(.4,50),cc.fadeOut(.4),cc.delayTime(.8))))},Effect.CancelAlarm=function(t){t.alarmEffect&&t.alarmEffect.destroy()},Effect.WhiteScreenFlash=function(t,e){var i=new cc.LayerColor(cc.color(255,255,255,e||255),VIEW_SIZE.width,VIEW_SIZE.height);i.runAction(cc.sequence(cc.fadeOut(t||1),cc.destroySelf())),this.addChild(i,1500)},Effect.PreShoot=function(t,e,i,a,n,s,o){var r,c=new cc.Node,h=(r=s.effectMgr.createSprite(0,0,"uiz/effect/ability_warn_2")).getContentSize();return c.scaleY=i&&i/h.height||1,o&&(c.scaleX=o),r.opacity=100,r.setAnchorPoint(cc.v2(.5,0)),c.addChild(r,-1),r.runAction(cc.sequence(cc.delayTime(e),cc.destroySelf())),h=(r=s.effectMgr.createSprite(0,0,"uiz/effect/ability_warn_2")).getContentSize(),r.scaleY=0,r.setAnchorPoint(cc.v2(.5,0)),c.addChild(r),r.runAction(cc.sequence(cc.scaleTo(e,1,1),cc.destroySelf())),t.addToAvatar(c,-1),r.sprite.schedule(function(){t.isAttack||c.destroy()}),c},Effect.PreShootCircle=function(t,e,i,a,n,s){var o=new cc.Node;o.x=a||0,o.y=n||0;var r=s.effectMgr.createSprite(0,0,"uiz/effect/ability_warn"),c=r.getContentSize();o.scale=i&&i/c.height||1,o.scaleX=.45,r.opacity=100,r.setAnchorPoint(cc.v2(.5,0)),o.addChild(r,-1),r.runAction(cc.sequence(cc.delayTime(e),cc.destroySelf()));var h=s.effectMgr.createSprite(0,0,"uiz/effect/ability_warn");return h.scale=0,c=h.getContentSize(),o.addChild(h,-1),h.runAction(cc.sequence(cc.scaleTo(e,1),cc.destroySelf())),t.addChild(o),o.schedule(function(){t.isAttack||this.destroy()}),o},Effect.PreShootCircle2=function(t,e,i,a,n,s,o){cc.log("PreShootCircle2"),a=a||30;var r=new cc.Node;r.x=n||0,r.y=s||0;var c=o.effectMgr.createFilledSprite(0,0,"uiz/effect/ability_warn",cc.Sprite.FillType.RADIAL,function(t,e){e.fillCenter=cc.v2(.5,.5),e.fillStart=.25,e.node.scale=i&&2*i/e.node.height||1}),h=c.getComponent(cc.Sprite);return h.update=function(t){h.fillRange<a/360?(h.fillRange+=t/e*a/360,h.fillStart=.25-h.fillRange/2):(h.fillRange=0,h.fillStart=.25-h.fillRange/2,h.unschedule(h.update))},r.addChild(c,-1),c.runAction(cc.sequence(cc.delayTime(e),cc.destroySelf())),t.avatar.node.addChild(r),r},Effect.JumpSmoke=function(t,e,i){var a=i.effectMgr.createSprite(t,e,"uiz/effect/smoke");a.scale=.4,i.camera.addChild(a),a.runAction(cc.sequence(cc.spawn(cc.fadeOut(.5),cc.scaleTo(.5,.6)),cc.destroySelf()))},Effect.PlayerHurt=function(t){t.hurtEff?(t.hurtEff.stopAllActions(),t.hurtEff.opacity=200,t.hurtEff.runAction(cc.sequence(cc.delayTime(.2),cc.fadeOut(2)))):t.effectMgr.createSprite(VIEW_SIZE.width/2,VIEW_SIZE.height/2,"uiz/effect/hurt",null,function(e,a){var n=a.node.getContentSize();a.node.scaleX=VIEW_SIZE.width/n.width,a.node.scaleY=VIEW_SIZE.height/n.height,t.addToUI(a.node,1),t.hurtEff=a.node,HEXIE&&(a.node.color=i),t.hurtEff.stopAllActions(),t.hurtEff.opacity=200,t.hurtEff.runAction(cc.sequence(cc.delayTime(.2),cc.fadeOut(2))),cc.log("PlayerHurt")}),kit.vibrate()},Effect.LightSource=function(t){var e=game.effectMgr.createSprite(0,0,"test");e.setColor(cc.color(255,155,100)),e.opacity=170,e.setScale(32),e.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.1,23),cc.scaleTo(.1,22))));var i=e.getComponent(cc.Sprite);return i.srcBlendFactor=cc.macro.BlendFactor.DST_COLOR,i.dstBlendFactor=cc.macro.BlendFactor.ONE,game.camera.addChild(e,1200),e.schedule(function(){t.isDead?(e.x=t.x,e.y=t.y):this.destroy()}),e},Effect.LightSource2=function(t){var e=game.effectMgr.createSprite(0,0,"test");e.setColor(cc.color(255,255,255)),e.opacity=255,e.setScale(48),e.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.1,94),cc.scaleTo(.1,85))));var i=e.getComponent(cc.Sprite);return i.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,i.dstBlendFactor=cc.macro.BlendFactor.ONE,game.camera.addChild(e,1200),e.schedule(function(){t.isDead?(e.x=t.x,e.y=t.y):this.destroy()}),e},Effect.Campfire=function(t,e){this.game=e;var i=this.game.effectMgr.createParticle(t.x-55,t.y,"campfire"),a=i.getComponent(cc.ParticleSystem);a.positionType=cc.ParticleSystem.PositionType.GROUPED,a.autoRemoveOnFinish=!0,this.game.camera.addChild(i,1e4);var n=Effect.LightSource(t),s=Effect.LightSource2(t);return a.remove=function(){n.runAction(cc.sequence(cc.fadeOut(.5),cc.destroySelf())),s.runAction(cc.sequence(cc.scaleBy(.5,9),cc.destroySelf())),i.runAction(cc.sequence(cc.fadeOut(.5),cc.destroySelf()))},i},Effect.AdvancedLightSource=function(t,e){var i=game.effectMgr.createSprite(0,0,"test");return i.setColor(cc.color(255,255,255)),i.setScale(53),i.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.1,67),cc.scaleTo(.1,66)))),i.retain(),i.updatePos=function(){if(t.isDead){var a=t.convertToWorldSpaceAR(cc.v2(0,0));i.x=a.x,i.y=a.y}else{for(var n in e)if(e[n]==this){e.splice(n,1);break}this.release()}},i},Effect.AlertInfoRes=function(t,e,i){if(!t.alertInfo){var a=new cc.Node;a.x=.5*-VIEW_SIZE.width,a.y=.5*VIEW_SIZE.height,a.runAction(cc.sequence(cc.moveBy(.3,cc.v2(VIEW_SIZE.width/2,0)),cc.delayTime(2),cc.moveBy(.3,cc.v2(VIEW_SIZE.width,0)),cc.callFunc(function(){t.alertInfo&&(t.alertInfo=null)}),cc.destroySelf()));var n=i.effectMgr.createSprite(0,25,e||"uiz/victory");a.addChild(n),t.alertInfo=a,t.node.addChild(a,1200)}},Effect.AlertInfoBoss=function(t,e){t.alertInfo&&(t.alertInfo.destroy(),t.alertInfo=null);var i,n,s=new cc.Node;s.x=.5*-VIEW_SIZE.width,s.y=.5*VIEW_SIZE.height,s.runAction(cc.sequence(cc.delayTime(2.5),cc.callFunc(function(){t.alertInfo&&(t.alertInfo=null)}),cc.scaleTo(.1,1,0),cc.destroySelf())),(i=new a).init(null,e),i.x=-VIEW_SIZE.width/2,i.y=87,i.runAction(cc.moveBy(.6,cc.v2(VIEW_SIZE.width,0))),s.addChild(i),(i=new a).init(-1,e),i.x=3*VIEW_SIZE.width/2,i.y=-87,i.runAction(cc.moveBy(.6,cc.v2(-VIEW_SIZE.width,0))),s.addChild(i),(n=e.effectMgr.createSprite(VIEW_SIZE.width/2,0,"uiz/ingame/boss/bg")).opacity=0,n.runAction(cc.sequence(cc.delayTime(.4),cc.fadeIn(.1))),s.addChild(n),(n=e.effectMgr.createSprite(VIEW_SIZE.width/2,0,"uiz/ingame/boss/incoming")).opacity=0,n.runAction(cc.sequence(cc.delayTime(.4),cc.fadeIn(.1))),n.runAction(cc.sequence(cc.fadeOut(.3),cc.fadeIn(.3)).repeatForever()),s.addChild(n),t.alertInfo=s,t.addChild(s,1200)},Effect.AlertInfo=function(t,e,i){var a=new cc.Node,n=new cc.LayerColor(cc.color(0,0,0),VIEW_SIZE.width,50);n.opacity=100,a.addChild(n),a.x=-VIEW_SIZE.width,a.y=VIEW_SIZE.height-150,a.runAction(cc.sequence(cc.moveBy(.3,cc.v2(VIEW_SIZE.width,0)),cc.delayTime(2),cc.moveBy(.3,cc.v2(VIEW_SIZE.width,0)),cc.destroySelf()));var s=i.effectMgr.createSysLabel(e,30);s.x=VIEW_SIZE.width/2,s.y=25,a.addChild(s),t.addChild(a,1200)},Effect.ShowConsume=function(t,e,i){var a=i.effectMgr.createSysLabel(e,30);a.x=t.x,a.y=t.y+50,i.camera.addChild(a,2333),a.scale=3,a.runAction(cc.spawn(cc.moveBy(1,cc.v2(0,20)),cc.scaleTo(.1,1))),a.runAction(cc.sequence(cc.delayTime(.7),cc.fadeOut(.3),cc.destroySelf()))},Effect.NewSprite=function(t,e,i,a,n,s,o,r){var c=r.effectMgr.createSprite(a||0,n||0,t);return c.setScale(s||1,o||1),e.addChild(c,i||1),c},Effect.NewSpriteNotBind=function(t,e,i,a,n,s,o,r){var c=r.effectMgr.createSpriteNotBind(a||0,n||0,t);return c.setScale(s||1,o||1),e.addChild(c,i||1),c},Effect.hitFlash=function(t,e,i){var a,n=1;1==e?i.effectMgr.bindMaterial(t,"hitFlash",0):2==e&&i.effectMgr.bindMaterial(t,"hitFlashArmature",0),t.schedule(function e(){(n-=.2)<0?(n=0,a.setProperty("u_gray",n),this.unschedule(e)):(a=t.getMaterial(0)).setProperty("u_gray",n)},.01)},Effect.fogEnvironment=function(t){Effect.fog(t,222,700),Effect.fog(t,1e3,250)},Effect.fog=function(t,e,i){var a=g_sharedContactManager.getBorder(),n=t.effectMgr.createSprite(0,0,"effect/fog",null,function(t,s){s.node.angle=360*Math.random(),s.node.scale=.3*Math.random()+.7,s.node.height=a.top,s.node.x=e,s.node.y=i,s.schedule(function(){n.x-=.7,n.x<=-600&&(n.x=1500,s.node.angle=360*Math.random(),s.node.scale=.3*Math.random()+.7)},.01)});t.camera.addChild(n,1500)},Effect.PreSpawn=function(t,e,i){var a=i.effectMgr.createSprite(t,e,"effect/spawn_warning");return a.scale=.7,a.runAction(cc.scaleTo(.2,1.2)),i.addToCamera(a,0),a},Effect.Spawn=function(t,e,i,a,n){var s=a.effectMgr.createAnimation("effect/spawn/spawn",{speed:2});return a.camera.addChild(s,n||1200),s.x=t,s.y=e,s.scale=2,s},Effect.PreWormOut=function(e,i,a,n,s,o){var r=a.effectMgr.createAnimation("effect/zuandi/zuandi",{repeat:1,speed:1,delay:s+.1});return a.camera.addChild(r,0),r.x=e,r.y=i,r.scale=2,(new(t("Timer"))).init(s,o,null,a),r},Effect.WormOut=function(t,e,i,a,n){var s=i.effectMgr.createAnimation("effect/zuandi/zuandi",{speed:1,delay:n||1,fadeTime:.5});i.camera.addChild(s,0),s.x=t,s.y=e,s.scale=100/a;var o={x:t,y:e};return Effect.Shard({x:o.x,y:o.y,v:36+5*Math.random(),radVertical:Math.random()*Math.PI/3+.3,z:4*Math.random()+2,scale:1.2},i),Effect.Shard({x:o.x,y:o.y,v:36+5*Math.random(),radVertical:Math.random()*Math.PI/3+.3,z:4*Math.random()+2,scale:1.2},i),Effect.Shard({x:o.x,y:o.y,v:36+5*Math.random(),radVertical:Math.random()*Math.PI/3+.3,z:4*Math.random(),scale:1.2},i),Effect.Shard({x:o.x,y:o.y,v:36+5*Math.random(),radVertical:Math.random()*Math.PI/3+.3,z:4*Math.random(),scale:1.2},i),s},Effect.WormOutSpawn=function(t,e,i,a){cc.log("WormOutSpawn"),i.playAnim({anim:"born",speed:2,loop:0}),Effect.WormOut(t,e,a,i.radius)},Effect.ShowChooseBonusGain=function(e,i){cc.loader.loadRes("prefab/chooseBonusInfo",cc.Prefab,function(a,n){var s=cc.instantiate(n);s.getComponent(t("ChooseBonusInfo")).init(i,e),s.x=VIEW_SIZE.width/2,s.y=VIEW_SIZE.height-250,e.addToUI(s,null,!0,!0)})},Effect.CrowDead=function(t,e,i,a,n){var s=n.effectMgr.createAnimation("effect/crow_dead",{speed:1});return n.camera.addChild(s,1),s.x=t.x,s.y=t.y,s.scale=2,.01},Effect.Smoke=function(t,e,i){var a=i.effectMgr.createAnimation("effect/smoke",{speed:2});return i.camera.addChild(a,1),a.scale=2,a.opacity=200,a.x=t,a.y=e,a},Effect.Lvlup=function(t,e){(i=e.effectMgr.createSprite(t.x,t.y,"effect/lvlup_effect")).runAction(cc.sequence(cc.spawn(cc.scaleTo(.5,10),cc.sequence(cc.delayTime(.25),cc.fadeOut(.25))),cc.destroySelf())),e.camera.addChild(i,55);var i=Effect.createFireLight(0,0,null,null,5,e);t.addChild(i,3),e.effectMgr.play(SoundEffectPath.lvl_up),(i=e.effectMgr.createSprite(t.x,t.y+120,"effect/text_lvlup")).scale=2,i.opacity=0,i.runAction(cc.sequence(cc.fadeIn(.1),cc.spawn(cc.moveBy(1,cc.v2(0,100)),cc.fadeOut(1)),cc.destroySelf())),e.camera.addChild(i,2222)},Effect.HeroFootStepSmoke=function(t,e,i){var a=i.effectMgr.createSprite(t.x,t.y,"effect/footstep_smoke");a.angle=kit.rnd(0,360),a.scale=.2,a.runAction(cc.sequence(cc.spawn(cc.rotateBy(.5,20),cc.scaleTo(.4,2),cc.fadeOut(.6)),cc.destroySelf())),i.camera.addChild(a,10)},Effect.HitText=function(t,e,i,a){var n=i.effectMgr.createLabel2(a.x,a.y+50,t);n.zIndex=1500,e&&(n.color=e),n.scale=0,n.runAction(cc.sequence(cc.delayTime(.7),cc.fadeTo(.3),cc.destroySelf())),n.runAction(cc.moveBy(1,cc.v2(0,100))),n.runAction(cc.sequence(cc.scaleTo(.15,2),cc.scaleTo(.07,1)).easing(cc.easeInOut(2))),i.camera.addChild(n)},Effect.HitTextImg=function(t,e,i,a){void 0===a&&(a=1);var n=e.effectMgr.createSprite(i.x,i.y+50,t);n.zIndex=1500,n.scale=0,n.runAction(cc.sequence(cc.delayTime(.7),cc.fadeTo(.3),cc.destroySelf())),n.runAction(cc.moveBy(1,cc.v2(0,100))),n.runAction(cc.sequence(cc.scaleTo(.15,3*a),cc.scaleTo(.07,2*a)).easing(cc.easeInOut(2))),e.camera.addChild(n)},Effect.buffSpin=cc.Class({extends:cc.Node,init:function(t,e,i){t.addChild(this),this.obj=t,i=i||{};var a=t.game.effectMgr.createSprite(0,0,i.img||"aura/buff/1");a.scale=i&&i.scale||1,this.addChild(a),this.sprite=a,a.sprite.schedule(this.update),a.sprite.owner=this,this.rotateSpd=i.rotateSpd||1},update:function(t){this.node.angle+=180*t*this.owner.rotateSpd},remove:function(){this.sprite.destroy(),this.destroy()}}),Effect.besselStreak=function(t,e){var i=e.effectMgr.createMotionStreak("effect/pharah/tail",.6,10,20);e.addToCamera(i,ZORDER.BULLET+15),i.setPosition(t.x,t.y),i.opacity=150;var a=i.motionStreak;return a.updateReal=function(e){if(a.removeFlag){var i=this.stroke;this.stroke=i>4*e?i-4*e:0}else this.node.setPosition(t.x,t.y);this.deltaTime+=e},a.schedule(a.updateReal,0),i.remove=function(){a.removeFlag=!0,this.runAction(cc.sequence(cc.fadeOut(.501),cc.destroySelf()))},i},Effect.Flash=function(t,e,i,a,n){a=a||1;var s=new cc.Node,o=Effect.createFireLight(t,e,.6*a,null,2,i);s.addChild(o),n=n||10;for(var r=0;r<=n;r++){var c=Math.random()*Math.PI*2,h=kit.rnd(10,40)*a,d=h*Math.sin(c),l=h*Math.cos(c),u=(o=i.effectMgr.createSprite(t+d,e+l,"drop/pickup"),kit.rnd(1,4));o.scale=u;var f=kit.rnd(0,150),m=kit.rnd(.1,.15)*u-f/1500,p=f*Math.sin(c),g=f*Math.cos(c),v=kit.rnd(.05,.1)*u;o.opacity=0,o.runAction(cc.sequence(cc.delayTime(.02*r),cc.fadeIn(.01),cc.spawn(cc.moveBy(m+v/2,cc.v2(p,g)),cc.sequence(cc.delayTime(v),cc.scaleTo(m,0))),cc.destroySelf()).easing(cc.easeOut(kit.rnd(2,3)))),o.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,o.dstBlendFactor=cc.macro.BlendFactor.ONE,s.addChild(o,1e3)}return s},cc._RF.pop()},{ChooseBonusInfo:"ChooseBonusInfo",EffectManager:"EffectManager",Timer:"Timer"}],Egg:[function(t,e){"use strict";cc._RF.push(e,"1fee69nqNtPDa3rlZLsmySW","Egg");var i=cc.Class({extends:t("Spawner"),init:function(t,e,i){this._super(t,e,i),this.avatarTime=this.spawnTimer/5,this.avatarTimer=this.avatarTime},initAvatar:function(){this._super()},updateAvatar:function(t){this.spawnDt&&(this.avatarTimer-=t,this.avatarTimer<0&&(this.avatarTimer=this.spawnTimer/5,this.avatarTimer<.1&&(this.avatarTimer=.1),this.spawnTimer<3&&(this.avatar.node.color=cc.color(255,this.avatarTimer/this.avatarTime*255,this.avatarTimer/this.avatarTime*255)),this.avatar.node.runAction(cc.sequence(cc.scaleBy(.05,1.1),cc.scaleBy(.1,1/1.1)))))},spawnUnit:function(){if(!(this.spawnLimit&&this.spawnCt>=this.spawnLimit)){for(var t=this.spawnN,e=1;e<=t;e++){var i={i:this.spawnID,team:this.team,x:this.x,y:this.y,isBoss:this.spawnBoss};this.game.levelMgr.createObject(ENTITYS[this.spawnID],i,null,!0,!1,!0),this.spawnCt++}this.death()}}});e.exports=i,cc._RF.pop()},{Spawner:"Spawner"}],Electric:[function(t,e){"use strict";cc._RF.push(e,"e1cf9VC6htIpoqjtgztua3x","Electric"),cc._RF.pop()},{}],EletricBuff:[function(t,e){"use strict";cc._RF.push(e,"4d57fgc0aZAhKG1OFKl9JZ6","EletricBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super(),this.obj,this.dt=this.define.dt,this.timer=0,this.dmg=this.define.dmg||0,this.config.from&&this.define.dmgScaleRate?this.dmgScaleWithAttack=this.config.from.getStandardAtk()*this.define.dmgScaleRate:this.dmgScaleWithAttack=0,this.dmg+=this.dmgScaleWithAttack,this.cooldownFlag=this.define.cooldownFlag||"eletricCooldown",this.isDot=!0,this.attack()},excute:function(t){this.timer-=t,this.timer<=0&&(this.timer=this.dt)},attack:function(){this.checkEnemy()},end:function(){this._super()},checkEnemy:function(){g_sharedContactManager.checkAliveEnemy(this,this.obj.x,this.obj.y,this.define.r||500,this.config.from.team,this.onCover)},onCover:function(t){if(t!=this.obj&&!t[this.cooldownFlag]){t.setBuffById("EletricCooldown",{t:this.define.cd,cooldownFlag:this.cooldownFlag});var e=this.game.effectMgr.createAnimation("atlas/lightning",{speed:4,repeat:1});e.scaleX=1;var i=kit.norm(t.x-this.obj.x,t.y-this.obj.y),a=kit.vector2Radian(t.y-this.obj.y,t.x-this.obj.x);e.angle=-kit.radian2Degree(a),e.scaleY=i/70,e.anchorY=0,e.x=this.obj.x,e.y=this.obj.y,this.game.addEntity(e,1e3),t.hurt(this.dmg,this,DMG_TYPE.energy)}}}),cc._RF.pop()},{Buff:"Buff"}],EletricCoolDownBuff:[function(t,e){"use strict";cc._RF.push(e,"4b0270X1+9FurRq8Z5xWSC2","EletricCoolDownBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super();var t=this.obj;this.cooldownFlag=this.define.cooldownFlag||"eletricCooldown",t[this.cooldownFlag]=!0;var e=this.game.effectMgr.createAnimation("atlas/hit_lightning",{speed:4,repeat:-1,persist:1});e.scale=3,this.obj.addChild(e),this.lightning=e},excute:function(){},end:function(){this._super(),this.obj[this.cooldownFlag]=!1,this.lightning.destroy()}}),cc._RF.pop()},{Buff:"Buff"}],EnergyShield:[function(t,e){"use strict";cc._RF.push(e,"0f556IHqW1Lbb9WX7mIYjm9","EnergyShield"),cc._RF.pop()},{}],EntityInit:[function(t,e){"use strict";cc._RF.push(e,"c5a19/7g5BB2JcDb9bUSoCS","EntityInit"),t("HeroDefine"),t("HumanDefine"),t("HydraliskDefine"),t("MobDefine"),t("SpawnerDefine"),t("ObstacleDefine"),t("PlunderSetPointDefine"),t("TurretDefine"),t("DragonDefine"),t("CompanionDefine");var i=t("Turret"),a=t("PlunderSetPoint"),n=t("Obstacle"),s=t("Mob"),o=t("Spawner"),r=t("Hydralisk"),c=t("Human"),h=t("Hero"),d=t("Dragon"),l=t("DropBox"),u=t("Companion");window.ENTITYS={},function(){for(var t in TurretDefine)TurretDefine[t].ctor||(TurretDefine[t].ctor=i),TurretDefine[t].deadEff=Effect.ExplosiveDeath,ENTITYS[TurretDefine[t].id]=TurretDefine[t]}(),function(){for(var t in PlunderSetPointDefine)PlunderSetPointDefine[t].ctor=a,ENTITYS[PlunderSetPointDefine[t].id]=PlunderSetPointDefine[t]}(),function(){for(var t in ObstacleDefine)ObstacleDefine[t].ctor=ObstacleDefine[t].ctor||n,window.ENTITYS[ObstacleDefine[t].id]=ObstacleDefine[t]}(),function(){for(var t in MobDefine)MobDefine[t].ctor||(MobDefine[t].ctor=s),MobDefine[t].spawnEff||(MobDefine[t].spawnEff="no"),MobDefine[t].deathSound||(MobDefine[t].deathSound="dog_death"),MobDefine[t].weaponSound||(MobDefine[t].weaponSound="dog_weapon"),MobDefine[t].type||(MobDefine[t].type=MobDefine[t].avatar&&MobDefine[t].avatar.anime),ENTITYS[MobDefine[t].id]=MobDefine[t]}(),function(){for(var t in HydraliskDefine)HydraliskDefine[t].ctor=r,HydraliskDefine[t].deathSound||(HydraliskDefine[t].deathSound="hydralisk_death"),HydraliskDefine[t].type||(HydraliskDefine[t].type=HydraliskDefine[t].avatar&&HydraliskDefine[t].avatar.anime),ENTITYS[HydraliskDefine[t].id]=HydraliskDefine[t]}(),ENTITYS.init=function(){for(var t in HeroDefine)HeroDefine[t].ctor||(HeroDefine[t].ctor=h),HeroDefine[t].gender||(HeroDefine[t].gender="male"),HeroDefine[t].faction||(HeroDefine[t].faction="light"),HeroDefine[t].type||(HeroDefine[t].type="human"),HeroDefine[t].spawnEff="no",ENTITYS[HeroDefine[t].id]=HeroDefine[t]},function(){for(var t in DragonDefine)DragonDefine[t].ctor=d,DragonDefine[t].spawnEff||(DragonDefine[t].spawnEff="no"),DragonDefine[t].type||(DragonDefine[t].type=DragonDefine[t].avatar&&DragonDefine[t].avatar.anime),ENTITYS[DragonDefine[t].id]=DragonDefine[t]}(),function(){t("NpcDefine");var e=t("Npc");for(var i in NpcDefine)ENTITYS[NpcDefine[i].id]=NpcDefine[i],NpcDefine[i].spawnEff="no",NpcDefine[i].z||(NpcDefine[i].z=100),NpcDefine[i].ctor||(NpcDefine[i].ctor=e)}(),function(){for(var t in CompanionDefine)CompanionDefine[t].ctor||(CompanionDefine[t].ctor=u),ENTITYS[CompanionDefine[t].id]=CompanionDefine[t],CompanionDefine[t].spawnEff="no",CompanionDefine[t].z||(CompanionDefine[t].z=500)}(),function(){for(var t in SpawnerDefine)SpawnerDefine[t].ctor||(SpawnerDefine[t].ctor=o),SpawnerDefine[t].deathSound||(SpawnerDefine[t].deathSound="no"),ENTITYS[SpawnerDefine[t].id]=SpawnerDefine[t]}(),function(){for(var t in DropBoxDefine)DropBoxDefine[t].id||(DropBoxDefine[t].id=t),DropBoxDefine[t].ctor||(DropBoxDefine[t].ctor=l),DropBoxDefine[t].spawnEff||(DropBoxDefine[t].spawnEff="no"),ENTITYS[DropBoxDefine[t].id]=DropBoxDefine[t]}(),function(){for(var t in HumanDefine)HumanDefine[t].ctor||(HumanDefine[t].ctor=c),ENTITYS[HumanDefine[t].id]=HumanDefine[t],HumanDefine[t].spawnEff||(HumanDefine[t].spawnEff="no"),HumanDefine[t].type||(HumanDefine[t].type=HumanDefine[t].avatar&&HumanDefine[t].avatar.anime)}(),cc.color(188,188,188),cc.color(242,245,255),cc.color(129,255,76),cc.color(1,185,255),cc.color(211,136,255),cc.color(255,205,12),cc.color(255,90,55),window.UI_ITEM_CONFIG={},window.ITEM_CONFIG_SOUND={small:["knife","pistol","P229","M1895","FT998","Sawed_Off","UMP","UZI","VECTOR","Thompson","scalpel"],large:["broadsword","steelpipe","bat","hammer","axe","saw","rifle","shotgun","sniperrifle","rocket","flamethrower","AKM","M416","SKS","M249","M24","AWM","VSS"],misc:["saw+","pistol+","rifle+","shotgun+","sniperrifle+","rocket+","UMP+","flamethrower+","","","","","","","","","","","","","","","","","","","","","","","","","","","ID","","","A","B","C","D","","","","","","666","",""],heal:["aid0","aid1","aid2","aid3"],empower:["dope0","dope1","dope2","dope3"]},window.DUANWU_ITEM={aid0:{name:"",icon:"uiz/item/icon/zong_1",info:""},aid1:{name:"",icon:"uiz/item/icon/zong_2",info:""},aid2:{name:"",icon:"uiz/item/icon/zong_3",info:""},aid3:{name:"",icon:"uiz/item/icon/zong_4",info:"24"}},window.ITEM_CONFIG={},function(){for(var t in UI_ITEM_CONFIG){var e=UI_ITEM_CONFIG[t];e.name=t,e.type=e.type||"other",e.typeIndex={melee:0,range:1,medic:2,equip:3,ammo:4,other:5}[e.type],ITEM_CONFIG[e.id]=e}for(var t in ITEM_CONFIG_SOUND)for(var i in ITEM_CONFIG_SOUND[t]){var a=ITEM_CONFIG[ITEM_CONFIG_SOUND[t][i]];a&&(a.sound="ui_bag_"+t)}}(),cc._RF.pop()},{Companion:"Companion",CompanionDefine:"CompanionDefine",Dragon:"Dragon",DragonDefine:"DragonDefine",DropBox:"DropBox",Hero:"Hero",HeroDefine:"HeroDefine",Human:"Human",HumanDefine:"HumanDefine",Hydralisk:"Hydralisk",HydraliskDefine:"HydraliskDefine",Mob:"Mob",MobDefine:"MobDefine",Npc:"Npc",NpcDefine:"NpcDefine",Obstacle:"Obstacle",ObstacleDefine:"ObstacleDefine",PlunderSetPoint:"PlunderSetPoint",PlunderSetPointDefine:"PlunderSetPointDefine",Spawner:"Spawner",SpawnerDefine:"SpawnerDefine",Turret:"Turret",TurretDefine:"TurretDefine"}],Entity:[function(t,e){"use strict";cc._RF.push(e,"56b0dhAENhA2YTF5Ij0V1Gi","Entity");var i={normal:0,explo:1,poison:2,energy:3,fire:4,frost:5};window.DMG_TYPE=i,window.DMG_NUM={2:"effect/label_poison",3:"effect/label_eletric",4:"effect/label_fire",5:"effect/label_frost"};var a=t("Attribute"),n=t("Skill"),s=t("Stun"),o=t("Buff");cc.Class({extends:cc.Node,init:function(t,e,i){this.game=i,this.effectMgr=this.game.effectMgr,this.initData(t,e),cc.log("born location",this.define.id,this.x,this.y)},toString:function(){return this.define.name||"Entity"},deathCount:function(){this.team!=this.game.hero.team&&(this.game.levelMgr.progress++,this.game.levelMgr.existCt--,this.game.shake(6,6,10),this.game.inGameUi.updateProgress(),this.game.levelMgr.progress==this.game.levelMgr.total&&this.game.winGame())},initData:function(t,e){this.uniqueID=EntitygetUniqueID(),this.define=t,this.config=e,e?(this.x=e.x,this.y=e.y,this.team=e.team||0,this.deg=void 0===e.deg?360*Math.random():e.deg,this.__id=e.id,this.noTeam=Number(e.noTeam)||t.noTeam,this.__id&&this.game&&this.game.config.modeType==ModeType.Trials&&(this.game.allEntity[this.__id]=this)):(this.x=0,this.y=0,this.team=0,this.deg=0),this.lvl=e.lvl||1,this.game&&(this.translateConfig(t,e),this.initAttribute(e.attribute,t,e),this.initBuffs(t,e)),this.pickList=[],this.moveRad=kit.degree2Radian(this.deg),this.setAvatarAngle(-this.deg),this.canAutoAim=!0,this.attackSequence=e.attackSequence||t.attackSequence,this.attackSequenceIndex=1,this.blt=e.blt||t.blt,this.spdX=0,this.spdY=0,this.spd=0,this.moveTimer=0,this.attackTimer=0,this.noStun=0,this.noAttack=0,this.noMove=0,this.noRotate=0,this.noSkill=0,this.noSkills=[0,0,0],this.noAutoAttack=0,this.noAction=0,this.isInvincible=0,this.z=t.z||1,this.zFly=t.zFly||1200,this.isFly=0,this.isFloat=0,this.initShadow(),this.initHpBar(),this.initAvatar(),this.initAura(),this.game&&(this.game.addUpdate(this),this.game.bindScheduler(this),g_sharedContactManager.addEntity(this),this.game.addEntity(this,this.z),this.secInit(),this.initDebug(),e.hpCurrent&&(this.hp=e.hpCurrent),0!=this.team&&(this.contactDmg=!0)),this.taunting=this.define.taunt},pick:function(t){this.pickList.push(t)},spitOut:function(){},setNoAttack:function(t){t?(this.noAttack++,this.isAttack=!1):this.noAttack--},setNoMove:function(t,e){t?(this.noMove++,e||(this.isMove=!1)):this.noMove--},setNoRotate:function(t){t?this.noRotate++:this.noRotate--},setNoSkills:function(t){t?this.noSkill++:this.noSkill--},setNoSkill:function(t,e){t?this.noSkills[e]++:this.noSkills[e]--},setFly:function(t){t?(this.isFly++,1==this.isFly&&(this.zIndex=this.zFly)):(this.isFly--,0==this.isFly&&(this.zIndex=this.z))},setFloat:function(t){t?(this.isFloat++,1==this.isFloat&&(this.zIndex=this.z+1)):(this.isFloat--,0==this.isFloat&&(this.zIndex=this.z))},translateConfig:function(t,e){e.attribute=kit.mergeObjs(e.stat,e.attribute),e=a.translateStatConfig(e,t)},initBuffs:function(t,e){if(this.isStun=0,this.buffList={},this.onHurtCbList=[],this.onAttackCbList=[],this.onHitCbList=[],this.onKillCbList=[],this.onDeadCbList=[],this.onProtectCbList=[],e.buff)for(var i in e.buff){var a=e.buff[i],n=BuffDefine[e.buff[i].id];a=kit.mergeObjs(a,n),n&&a&&new n.ctor(a,{obj:this})}},getBuff:function(t){if(this.buffList[t])return this.buffList[t]},getBuffById:function(t){for(var e in this.buffList)if(this.buffList[e].id==t||this.buffList[e].define==BuffDefine[t])return this.buffList[e]},setBuffById:function(t,e){if(BuffDefine[t])return(e=e||{}).id||(e.id=t),this.setBuff(BuffDefine[t],e)},setBuffFromDrop:function(t,e){var i=e.t||t.t,a=this.attribute.get("itemDuration");a&&(i+=a,e.t=i),this.setBuff(t,e)},setBuff:function(t,e){var i=t.ctor||o;e&&(t=kit.mergeObjs(e,t));var a=new i;return a.init(t,{obj:this},this.game),a},registOnAttackCb:function(t){t._isInOnAttackList||(t._isInOnAttackList=!0,this.onAttackCbList.push(t)),t._needRemoveOnAttack=!1},onAttackCb:function(t){for(var e=this.onAttackCbList,i=0;i<e.length;i++){var a=e[i];a._needRemoveOnAttack?(a._isInOnAttackList=!1,a._needRemoveOnAttack=!1,e.splice(i,1),i--):a.onAttack(t)}},unregistOnAttackCb:function(t){t._needRemoveOnAttack=!0},registOnHurtCb:function(t){t._isInOnHurtList||(t._isInOnHurtList=!0,this.onHurtCbList.push(t)),t._needRemoveOnHurt=!1},onHurtCb:function(t,e){for(var i=this.onHurtCbList,a=0;a<i.length;a++){var n=i[a];if(n._needRemoveOnHurt)n._isInOnHurtList=!1,n._needRemoveOnHurt=!1,i.splice(a,1),a--;else{var s=n.onHurt(t,e,this);(s||0==s)&&(t=s)}}return t},unregistOnHurtCb:function(t){t._needRemoveOnHurt=!0},registOnProtectCb:function(t){var e="_needRemoveOnProtect"+this.uniqueID,i="_needRemoveOnProtect"+this.uniqueID;t[e]||(t[e]=!0,this.onProtectCbList.push(t)),t[i]=!1},unregistOnProtectCb:function(t){t["_needRemoveOnProtect"+this.uniqueID]=!0},onProtectCb:function(t,e){for(var i="_needRemoveOnProtect"+this.uniqueID,a="_needRemoveOnProtect"+this.uniqueID,n=this.onProtectCbList,s=0;s<n.length;s++){var o=n[s];if(!o[i])return o.onProtect(t,e);o[i]=!1,o[a]=!1,n.splice(s,1),s--}},registOnHitCb:function(t){t._isInOnHitList||(t._isInOnHitList=!0,this.onHitCbList.push(t)),t._needRemoveOnHit=!1},onHitCb:function(t,e,i){var a=this.onHitCbList;a||(a=[]);for(var n=0;n<a.length;n++){var s=a[n];if(s._needRemoveOnHit)s._isInOnHitList=!1,s._needRemoveOnHit=!1,a.splice(n,1),n--;else{var o=s.onHit(t,e,i);(o||0==o)&&(t=o)}}return t},unregistOnHitCb:function(t){t._needRemoveOnHit=!0},registOnKillCb:function(t){t._isInOnKillList||(t._isInOnKillList=!0,this.onKillCbList.push(t)),t._needRemoveOnKill=!1},onKillCb:function(t,e){for(var i=this.onKillCbList,a=0;a<i.length;a++){var n=i[a];n._needRemoveOnKill?(n._isInOnKillList=!1,n._needRemoveOnKill=!1,i.splice(a,1),a--):n.onKill(t,e)}},unregistOnKillCb:function(t){t._needRemoveOnKill=!0},registOnDeadCb:function(t){t._isInOnDeadList||(t._isInOnDeadList=!0,this.onDeadCbList.push(t)),t._needRemoveOnDead=!1},onDeadCb:function(t,e){for(var i=this.onDeadCbList,a=0;a<i.length;a++){var n=i[a];n._needRemoveOnDead?(n._isInOnDeadList=!1,n._needRemoveOnDead=!1,i.splice(a,1),a--):n.onDeath(this,t,e)}},unregistOnDeadCb:function(t){t._needRemoveOnDead=!0},registCb:function(t,e){t["_isIn"+e+"CbList"]||(t["_isIn"+e+"CbList"]=!0,this[e+"CbList"]||(this[e+"CbList"]=[]),this[e+"CbList"].push(t)),t["_needRemove"+e]=!1},triggerCb:function(t,e){if(this[t+"CbList"]){for(var i=this[t+"CbList"],a=0;a<i.length;a++){var n=i[a];n["_needRemove"+t]?(n["_isIn"+t+"CbList"]=!1,n["_needRemove"+t]=!1,i.splice(a,1),a--):n[t](e)}return e}},unregistCb:function(t,e){t["_needRemove"+e]=!0},initAttribute:function(t,e){t=t||{},e=e||this.define;var i=this.config,n=new a;this.attribute=n,this.hpMax=0,this.epMax=0,this.hpMin=0,this.epMin=0;var s=this,o=i.hpScale||t.hpScale||1;n.init("hpMax",(i.hp||t.hp||e.hp||600)*o+(t.hpBonus||0),1e10,0,function(t){s.hpMax=t}),n.init("hpMin",(i.hp||t.hp||e.hp||600)*o+(t.hpBonus||0),1e10,0,function(t){s.hpMin=t}),n.init("hpRecover",t.hpRecover||e.hpRecover,1e4,0),n.init("epMax",t.ep||e.ep,1e10,0,function(t){s.epMax=t}),n.init("epMin",t.ep||e.ep,1e10,0,function(t){s.epMin=t}),n.init("epRecover",t.epRecover||e.epRecover,1e4,0),this.hp=this.hpMax,this.ep=this.epMax,this.speed=t.speed||e.speed||0,n.init("moveSpd",1+(t.moveSpeedScale||0),1e4,0),n.init("atkSpd",1+(t.attackSpeedScale||e.atkSpd||0),1e4,0),n.init("rttSpd",e.rttSpd||10,1e4,0,function(t){s.rttSpd=t}),n.init("dun",t.dun||0,1e10,0,function(t){s.dunMax=t}),this.dun=this.dunMax,n.init("dunDt",t.dunDt||1,1e10,0,function(t){s.dunTimerMax=t}),this.dunTimer=this.dunTimerMax,n.init("normalAtkScale",1,100,0),n.init("exploAtkScale",1,100,0),n.init("poisonAtkScale",1,100,0),n.init("energyAtkScale",1,100,0),n.init("fireAtkScale",1,100,0),n.init("attackScale",t.attackScale||e.attackScale||1,9999,0),n.init("bltSpd",1,1e5,0),n.init("atkDmg",t.attack||e.attack||0,1e10,0),n.init("epDrain",t.shieldDrain||0,1e10,0),n.init("epCounter",1+(t.counterShield||0),1e10,0),n.init("thrChance",t.thrChance||e.thrChance||0,1,0),n.init("critChance",t.critChance||e.critChance||0,1,0),n.init("critBonus",1.5+(t.critDamage||t.critDmg||e.critDmg||0),10,0),n.init("critResist",t.critResist||0,1,-1),n.init("stunResist",t.stunResist||0,1,0),n.init("dmgReduce",t.defense||0,1e10,0),n.init("armorRate",1,1,0),n.init("armorLevel",t.armor||e.armor||0,1e5,0,function(t){n.set("armorRate",1/(1+1e-4*t))}),n.init("normalDef",t.defnormal||1,1,0),n.init("exploDef",1,1,0),n.init("poisonDef",1,1,0),n.init("energyDef",1,1,0),n.init("fireDef",1,1,0),n.init("hurtScale",1,100,0),n.init("skillCD",1,1e10,0),n.init("healScale",(t.healScale||0)+1,1e10,0);var r=t.hurtStopTime||this.define.hurtStopTime||.3,c=t.hurtStopResist||this.define.hurtStopResist||0,h=t.hurtStopCD||this.define.hurtStopCD||2;n.init("hurtStopTime",r,1e10,0),n.init("hurtStopResist",c,1e10,0),n.init("hurtStopCD",h,1e10,0),n.init("hurtStopTimeReduction",t.hurtStopTimeReduction||0,1e10,0),this.searchSpdScale=t.searchSpdScale,this.searchDefense=t.searchDefense,this.scale=i.scale||t.scale||e.scale||1,this.radius=e.radius||17,this.radius*=this.scale,this.weight=t.weight||e.weight||1,this.epTimer=this.epTimeMax=t.epTimer||e.epTimer,this.rttSpdMaxScale=1+(t.rttSpdMaxScale||0),this.contactDmgInterval=e.contactDmgInterval||2,this.contactDmgTimer=0,n.init("dodgeChance",0)},initDebug:function(){},secInit:function(){},initAvatar:function(){},initAura:function(){var t;if(this.team&&0!=this.team?this.isHero&&(1==this.team?t="aura/3":2==this.team&&(t="aura/4")):1==this.config.me&&(t="aura/1"),t){var e=this.define.auraScale||1,i=this.effectMgr.createSprite(0,0,t,null,function(){});i.setScale(e),this.addChild(i,-1),this.aura=i,i.opacity=100;var a=this.effectMgr.createSprite(0,0,"aura/aura_arrow",null,function(){});this.aura.addChild(a),this.auraArrow=a,a.y=80}},initShadow2:function(){var t=this.define.shadowScale||3,e=this.effectMgr.createSprite(0,0,"shadow");e.setScale(t),this.addChild(e,-2),this.shadow=e,this.define.shadowScaleX&&(e.scaleX=this.define.shadowScaleX),this.define.shadowScaleY&&(e.scaleY=this.define.shadowScaleY)},initShadow:function(){var t=this.define,e=this;if(t.shadowScaleX||t.shadowScaleY)return this.initShadow2();var i=this.game,a=this,n=i.effectMgr.createSprite(0,0,"aura/shadow",[35,0,0,0],function(i,n){var s=n.node,o=(t.shadowR||2*(e.hitRadius||e.radius))/38,r=(t.shadowH||4*e.radius)/o*1.45;s.width=r,s.setScale(o/a.scale),s.setAnchorPoint(26.5/r,.5),s.opacity=255;var c=t.shadowFlyHeight;c&&(s.x=Math.sin(2*Math.PI/3)*c,s.y=Math.cos(2*Math.PI/3)*c,s.opacity=1e4/c)});this.addChild(n,-20),n.angle=-30,this.shadow=n},initHpBar:function(){var e=t("DunHpBar"),i=t("HpBar");if(this.dunMax>0)var a=new e;else a=new i;a.init(this.config,this.game),a.reset(this,40),this.game&&this.game.camera.addChild(a,ZORDER.UI),this.hpBar=a,this.config.isBoss&&(this.hpBar.active=!1,this.game.onBossSpawn(this))},refreshAvatar:function(t){this.needRefreshAvatar=!0,this.frocedRefreshAvatar=this.frocedRefreshAvatar||t},avatarCallAttack:function(t,e,i){this.avatar.callAttack&&this.avatar.callAttack(t,e,i)},updateAvatar:function(){this.needRefreshAvatar&&(this.needRefreshAvatar=!1)},setShader:function(t){return this.avatar.setShader(t)},pushShader:function(t){this.avatar.pushShader(t)},popShader:function(t){this.avatar.popShader(t)},getShaderName:function(){return this.avatar.getShaderName()},setAIEnabled:function(t){this.isAIEnabled=t},frozen:function(t){this.setStun(t,null,"Frozen")},stun:function(t,e){var i=this.attribute.get("stunResist");Math.random()<i||this.setStun(t,e)},setStun:function(t,e,i){this.isInvincible>0||this.isDead||t<=0||this.noStun||(this.isBoss&&i&&(t/=10),this.isStun?this.stunTimer<t&&(this.stunTimer=t):(this.isStun=!0,this.stunTimer=t,this.isAttack=!1,this.isMove=!1,this.refreshAvatar(),e||(this.stunEffect=i?new window[i]:new s,this.stunEffect.init(this,this.game))))},hit:function(t,e,i,a,n,s){return t=this.onHitCb(t,e,i,a),i.hurt(t,e,a,n,s)},heal:function(t,e){this.isDead||(this.hp+=t*this.attribute.get("healScale"),this.hp>=this.hpMax&&(this.hp=this.hpMax),this.hpBar&&this.hpBar.refresh(),Effect.healNumber(t*this.attribute.get("healScale"),this,this.game),"medicine"==e&&this.triggerCb("onMedicine",t),this.triggerCb("onHeal",t))},healEp:function(t){this.isDead||(this.ep+=t,this.ep>=this.epMax&&(this.ep=this.epMax))},hurtBlinkEffect:function(){this.hurtBlinkCD||(this.hurtBlinkCD=.1,this.avatarHitFlash())},avatarHitFlash:function(){this.avatar&&this.avatar.hitFlash()},hurt:function(t,e,a,n){if(!(this.isInvincible>0||this.isDead)){var s=this.attribute.get("dodgeChance");if(s&&Math.random()<s)Effect.HitTextImg("effect/text/dodge",this.game,this);else{var o=e&&e.obj,r=o.attribute,c=this.attribute,h=this.dun;if(this.dun--,!(h>0)){var d=.1*Math.random()+.95;t*=d;var l,u=1,f=e.critChance||r.get("critChance"),m=r.get("critBonus");if(r){if(e.critChance){if(this.define.isRange?(g=r.get("rangeAtkBonus")/o.getStandardAtkRatio())&&(t+=g):(g=r.get("meleeAtkBonus")/o.getStandardAtkRatio())&&(t+=g),this.isBoss){(g=r.get("bossAtkBonus")/o.getStandardAtkRatio())&&(t+=g);var p=r.get("bossCrit")/o.getStandardAtkRatio();p&&(f+=p)}else{var g;(g=r.get("minionAtkBonus")/o.getStandardAtkRatio())&&(t+=g);var v=r.get("minionCritBonus")/o.getStandardAtkRatio();v&&(m+=v)}this.isFly?(g=r.get("flyAtkBonus")/o.getStandardAtkRatio())&&(t+=g):(g=r.get("earthAtkBonus")/o.getStandardAtkRatio())&&(t+=g)}if(a==i.explo)u=r.get("exploAtkScale");else if(a==i.poison)u=r.get("poisonAtkScale");else if(a==i.energy)u=r.get("energyAtkScale");else if(a==i.fire)u=r.get("fireAtkScale");else if(!a){u=r.get("normalAtkScale");var b=f-c.get("critResist");Math.random()<b&&(t*=m,l=!0)}u*=r.get("attackScale")}else e&&e.attackScale,e&&e.attackScale&&(u*=e.attackScale);if(!this.onProtectCb(t,e,a)){this.hurtBlinkEffect(),t*=(u*=a==i.explo?c.get("exploDef"):a==i.poison?c.get("poisonDef"):a==i.energy?c.get("energyDef"):a==i.fire?c.get("fireDef"):c.get("normalDef"))*c.get("hurtScale"),(t-=c.get("dmgReduce"))>0||c.get("dmgReduce"),t<0&&(t=0),t=this.onHurtCb(t,e);var k=0;if(this.ep>0){if(r)var y=r.get("epCounter"),S=r.get("epDrain");else y=1,S=0;var _=t*y;if(this.ep>=_?(k+=_,this.ep-=_,t=0):(k+=this.ep,t-=this.ep,this.ep=0),S>0){o.ep+=S;var x=o.epMax;o.ep>x&&(o.ep=x)}}if(t>0&&(a!=i.poison&&(t*=c.get("armorRate")),n&&n(t),this.hp-=t,k+=t,this.hpBar&&this.hpBar.refresh(),this.bossFrame&&this.bossFrame.onHurt()),this.ep<this.epMin&&(this.epMin=this.ep),this.hp<this.hpMin&&(this.hpMin=this.hp),this.game.fastMode||Effect.HurtNum(k||0,this,e,l,this.game,a,d),this.hp<=0){if(this.hp=0,this.isUndead)return void(this.hp=1);if(this.onDeadCb(o,t),o.onKillCb&&o.onKillCb(e,this),this.hp>0)return;this.death(),e&&e.define&&e.define._needCount&&this.game.onceKilledCount++}this.game&&this==this.game.hero&&Effect.PlayerHurt(this.game),e&&e.isDot||(this.avatarHurt(),this.game.shake(1.5,1.5,3))}}}}},avatarHurt:function(){this.avatar&&!this.isBoss&&(this.avatar.toHurt=!0,this.avatar.refresh())},simpleHurt:function(t,e,i){if(!(this.isInvincible>0||this.isDead)){var a=this.attribute.get("dodgeChance");if(a&&Math.random()<a)Effect.HitTextImg("effect/text/dodge",this.game,this);else if(!(t<=0)){this.hp-=t,this.hpBar&&this.hpBar.refresh(),this.hurtBlinkEffect();var n=i&&{isDot:1};Effect.HurtNum(t,this,n,null,this.game,e),this.hp<this.hpMin&&(this.hpMin=kit.clone(this.hp)),this.hp<=0&&(this.onDeadCb(null,t),this.death())}}},remove:function(){this.isRemoved||(this.isRemoved=!0,this.onRemove())},onRemove:function(){this.isRemoved=!0,this.isDead=!0,this.game.removeUpdate(this),g_sharedContactManager.removeEntity(this),this.stopAdditionalEffect(),this.shadow&&this.shadow.destroy(),this.hpBar&&this.hpBar.destroy(),cc.isValid(this)&&this.removeFromParent()},stopAdditionalEffect:function(){for(var t in this._pointSp&&(this._pointSp&&this._pointSp.destroy(),this._pointSp=null),this.stunEffect&&(this.stunEffect.remove?this.stunEffect.remove():this.stunEffect.destroy(),this.stunEffect=null),this.dunEffect&&(this.dunEffect.destroy(),this.dunEffect=null),this.buffList)this.buffList[t].callEnd();this.reloadSp&&(this.reloadSp.destroy(),this.reloadSp=null)},death:function(){if(!this.isDead){this.isStun&&(this.isStun=!1),this.isDead=!0,this.team==this.game.hero.team||(this.drop(),1==this.game.lvl&&this.__id&&null!=this.game.deadCounter[this.team]&&this.game.deadCounter[this.team]++);var t=!this.define.deathSound&&SoundEffectPath.death||SoundEffectPath[this.define.deathSound];this.game.effectMgr.play(t),this.onDead(),this.checkSplit(),this.game.eventMgr.check(this,"deathEvent")}},drop:function(){DropFactory(this,this.game)},onDead:function(){this.deathCount(),this.isHero&&!this.noTeam?(this.game.addDeadBody(this),this.canNotHurt=!0):g_sharedContactManager.removeEntity(this),this.moveTimer=0,this.zIndex=1,this.refreshAvatar();var t=this.deadEffect();this.hpBar&&(this.hpBar.opacity=0),t&&this.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(this.remove,this)))},deadEffect:function(){var t,e=this.define.deadEff||this.deadEff;return this.isBoss?t=(e=Effect.BossDeath)(this,this.game):e&&(t=e(this,1,1,1,this.game)),t},getStandardAtk:function(){return this.attribute.get("atkDmg")},revive:function(t){if(this.isDead){this.isDead=!1,this.grave&&(this.grave.destroy(),this.grave=null);var e=this.attribute.get("hpMax");this.hp=0,this.heal(e);var i=t||0;if(i){var a=this.attribute.get("epMax");this.ep=a*i}this.game.removeDeadBody(this),this.canNotHurt=!1,this.zIndex=this.define.z||100,this.avatar.node.stopAllActions(),this.avatar.enabled=!0,this.avatar.opacity=255,this.aura.opacity=255,this.refreshAvatar(),this.hpBar&&(this.hpBar.enabled=!0,this.hpBar.refresh())}},updateLogic:function(t){this.isDead||(this.updateEP(t),this.updateAttack(t),this.updateMove(t),this.updateRotate(t,kit.radian2Degree(this.moveRad),5,this.rttSpd),this.updateStun(t),this.updateDun(t),this.updateCasern(),this.updateHitBlink(t),this.updateContactDmgTimer(t)),this.updateAvatar(t)},updateContactDmgTimer:function(t){this.contactDmgTimer>0&&(this.contactDmgTimer-=t)},updateHitBlink:function(t){this.hurtBlinkCD&&(this.hurtBlinkCD-=t,this.hurtBlinkCD<=0&&(this.hurtBlinkCD=0))},updateCasern:function(){var t=this.config.casern;t&&(t.isRemoved||t.isDead)&&(this.stopAllActions(),this.setForcedAnimeSpd(null),this.death())},updateStun:function(t){if(this.isStun&&(this.stunTimer-=t,this.stunTimer<=0&&(this.isStun=!1,this.stunEffect.remove?this.stunEffect.remove():this.stunEffect.destroy(),this.stunEffect=null,this.refreshAvatar())),this.HurtStopCD-=t,this.hurtStopTimer&&(this.hurtStopTimer-=t,this.hurtStopTimer<=0&&(this.hurtStopTimer=!1,this.isHurtStop=!1,this.setNoMove(!1),this.setNoRotate(!1),this==this.game.hero))){var e=this.game.controller;e.movePos&&e.updatePos(e.movePos),e.updateShot()}},updateDun:function(t){this.dunMax<=0||(this.dunEffect.setPosition(this.x0,this.y0),this.dun<=0?this.dunEffect.enabled=!1:this.dunEffect.enabled=!0,this.dunTimer-=t,this.dunTimer<=0&&this.dun<0&&(this.dun=this.dunMax,this.dunTimer=this.dunTimerMax))},updateEP:function(t){if(this.epTimer-=t,this.epTimer<=0){var e=this.attribute,i=e.get("epRecover"),a=e.get("epMax");this.epTimer=this.epTimeMax,this.ep+=i,this.ep>a&&(this.ep=a)}},getRotation:function(){return this.deg},setRotation:function(t){this.moveRad=kit.degree2Radian(t),this.deg=t,this.setAvatarAngle(-t)},updateRotate:function(t,e,i,a){if(a*=this.rttSpdMaxScale,this.isStun||this.noRotate>0)return 0;var n,s=this.deg;return(n=e-s)>180?n-=360:n<-180&&(n+=360),(n=n*i*t)>a?n=a:n<-a&&(n=-a),s=(s+n+360)%360,this.deg=s,this.setAvatarAngle(-s),n},addToAvatar:function(t,e){this.avatar&&this.avatar.node.addChild(t,e)},setAvatarAngle:function(t){this.avatar&&(this.avatar.node.angle=t)},getAvatarAngle:function(){if(this.avatar)return this.avatar.node.angle},getCurretnAttackSeq:function(){return this.attackSequence[this.attackIndex]},callMoveByPath:function(t,e){this.noMove>0||!t||(e&&(this.onMoveEndCallback=e),this.isMove=!0,this.isMoveByPath=!0,this.movePath=t,this.movePathIndex=0,this.moveNextPath())},moveNextPath:function(){if(this.movePathIndex>=this.movePath.length){if(this.onMoveEnd(),this.onMoveEndCallback){var t=this.onMoveEndCallback;this.onMoveEndCallback=null,t()}}else{var e=this.movePath[this.movePathIndex];this.moveTargetX=(e.x+.5)*CELL_W,this.moveTargetY=(e.y+.5)*CELL_H;var i=this.moveTargetX-this.x0,a=this.moveTargetY-this.y0,n=kit.norm(i,a);this.spdX=i/n*this.speed,this.spdY=a/n*this.speed,this.spd=this.speed,this.moveTimer=n/this.speed,this.moveRad=kit.vector2Radian(a,i),this.movePathIndex++,this.refreshAvatar()}},callMove:function(t){if(t){if(this.moveTimer=t.t||0,this.moveRad=t.rad||0===t.rad?t.rad:this.moveRad,this.isMoveByPath=!1,t.s){var e=t.s*this.speed;this.spdX=e*kit.sin(this.moveRad),this.spdY=e*kit.cos(this.moveRad),this.spd=e,0==this.noMove&&(this.isMove=!0)}else this.isMove=!1,this.spdX=0,this.spdY=0,this.spd=0;this.refreshAvatar()}},moveTo:function(t,e,i){var a=g_sharedContactManager,n=(a.width,a.height,Math.floor(t/CELL_W)),s=Math.floor(e/CELL_H),o=Math.floor(this.x0/CELL_W),r=Math.floor(this.y0/CELL_H);if(a.canMoveThrough(o,r,n,s)){h=kit.norm(e-this.y0,t-this.x0)/this.speed;var c=kit.vector2Radian(e-this.y0,t-this.x0);h&&this.callMove({rad:c,t:h,s:1}),i&&(this.onMoveEndCallback=i)}else{var h=kit.norm((n-o)*CELL_W,(s-r)*CELL_H)/this.speed,d=a.searchPath(o,r,n,s);d&&d.length>0&&this.callMoveByPath(d,i),h+=3*Math.random()}return h},updateMove:function(t){if(!(this.isStun||this.noMove>0)&&this.isMove){var e=this.attribute.get("moveSpd");if(this.dx+=e*this.spdX*t,this.dy+=e*this.spdY*t,this.isMoveByPath){var i=this.moveTargetX-this.x0,a=this.moveTargetY-this.y0;i*i+a*a<400?this.moveNextPath():this.moveTimer&&this.moveTimer>0&&(this.moveTimer-=t*e,this.moveTimer<=0&&(this.movePathIndex--,this.moveNextPath()))}else this.moveTimer&&this.moveTimer>0&&(this.moveTimer-=t*e,this.moveTimer<=0&&this.onMoveEnd())}},onMoveEnd:function(){if(this.isMove=!1,this.onMoveEndCallback){var t=this.onMoveEndCallback;this.onMoveEndCallback=null,t()}this.refreshAvatar()},aim:function(t,e){var i=this.attackSequence[t];if(i){this.attackTimer=i.t;var a=null==i.blt&&!i.dmg;a&&(a=0==t?"aim":"no");var n=i.anim,s=i.aimCB;return e&&(n="aim",this.attackTimer=e.t,"circle"==e.effect&&(s=function(t,i,a){Effect.PreShootCircle2(t,e.t,e.l,e.deg,e.dx,e.dy,a)})),this.avatarCallAttack(n||a,i.animLoop,i.animForced),s&&s(this,i,this.game),i}this.attackTimer=0},callAttack:function(t){if(!(this.noAttack>0||this.isAttack)){if(this.isAttack=!0,this.attackIndex=0,t)t.attackIndex&&(this.attackIndex=t.attackIndex),t.attackSequenceIndex&&(1==(e=this.attackSequenceIndex=t.attackSequenceIndex)&&(e=""),this.attackSequence=this.define["attackSequence"+e]);else if(this.nextAttackSeqIndex){var e=this.nextAttackSeqIndex;this.attackSequenceIndex=e,cc.log("attackSequenceIndex",e),1==e&&(e=""),this.attackSequence=this.define["attackSequence"+e],this.nextAttackSeqIndex=!1,this.attackIndex=this.nextAttackIndex||0,this.nextAttackIndex=!1,this.attackSeqPriority=this.nextAttackSeqPriority,this.nextAttackSeqPriority=!1}else if(this.define.attackSeqNum){var i=kit.rndInt(1,this.define.attackSeqNum);cc.log("attackSeqNum",i),this.attackSequenceIndex=i,1==i&&(i=""),this.attackSequence=this.define["attackSequence"+i]}return this.aim(this.attackIndex,t&&t.aim),this.refreshAvatar(),!0}},checkAttackTimer:function(){if(this.attackTimer<=0)return!0},setNextAttackSeq:function(t,e,i){void 0===i&&(i=0),this.nextAttackSeqPriority&&i<this.nextAttackSeqPriority?cc.log("setNextAttackSeq fail",t,e,i,this.nextAttackSeqPriority):(this.nextAttackSeqPriority=i,this.nextAttackSeqIndex=t,this.nextAttackIndex=e,cc.log("setNextAttackSeq",t,e,i))},updateAttack:function(t){if(!(this.isStun||!this.isAttack||this.noAttack>0)){if(this.aimTimer)return this.aimTimer-=t,void(this.aimTimer<=0&&(this.aimTimer=0));var e=this.attribute.get("atkSpd");if(this.attackTimer-=t*e,this.checkAttackTimer(t)){var i=this.attackSequence;this.attack(),this.attackIndex++,this.attackIndex<i.length?this.aim(this.attackIndex):this.onAttackEnd(),0==this.attackTimer&&this.updateAttack(0)}}},attack:function(){},onAttackEnd:function(){this.attackIndex=0,this.isAttack=!1,this.refreshAvatar()},callSkill:function(){},updateSkill:function(){},onSkillEnd:function(){},onContact:function(t){if(this.contactDmg&&this.contactDmgTimer<=0&&t.team!=this.team){this.contactDmgTimer=this.contactDmgInterval;var e=this.attribute.get("atkDmg");e&&t.hurt(e,{obj:this})}},knockback:function(t,e){this.weight<0||this.isInvincible>0||this.isDead||(this.kbx+=t,this.kby+=e)},callSeek:function(){},setForcedAnime:function(t,e,i){this.forcedAnimeName=t,this.forcedAnimeSpd=e,this.forcedAnimeLoop=i},setForcedAnimeSpd:function(t){this.forcedAnimeSpd=t},startSkill:function(t,e){var i=this.skills[t];return this.noSkill>0||this.noSkills[t]||this.isStun||!i?n.no:i.start(e)},stopSkill:function(t){var e=this.skills[t];return e?this.noSkill>0||this.noSkills[t]||this.isStun?(e.stop(!1),n.no):e.stop(!0):n.no},playAnim:function(t){this.avatar.playAnim(t)},setActive:function(t){this.canAutoAim=t,this.canNotHurt=!t,this.isInvincible+=t?-1:1,this._isActiveContact=t,this.active=t,this.setNoMove(!t),this.setNoAttack(!t),this.setNoRotate(!t),this.setNoSkills(!t),this.hpBar.active=t},setInvincible:function(t){this.isInvincible+=t?1:-1},checkSplit:function(){var t=this.define.split;if(t){for(var e=t.n||1,i=1;i<=e;i++){var a={team:this.team,x:this.x0,y:this.y0},n=ENTITYS[t.id],s=this.game.levelMgr.createObject(n,a,null,!0,!0,!0,!0);this.bossFrame&&this.bossFrame.addTarget(s)}null!=t.blt&&this.spawnBlt(t.blt,t.seq)}},spawnBlt:function(t,e){var i=this.obj.x,a=this.obj.y,n=this.obj,s=this.attribute.get("atkDmg");for(var o in e)Ammofactory(n,t,{x:i,y:a,obj:n,te:n.team,deg:e[o].deg,dmg:s},this.game)},getStandardAtkRatio:function(){return 1}}),window.Entity__uniqueIDIndex__=0,window.EntitygetUniqueID=function(){return++Entity__uniqueIDIndex__},cc._RF.pop()},{Attribute:"Attribute",Buff:"Buff",DunHpBar:"DunHpBar",HpBar:"HpBar",Skill:"Skill",Stun:"Stun"}],EquipDefine:[function(t,e){"use strict";cc._RF.push(e,"0cc939CP0RGo69llYmmlqXi","EquipDefine");var i={};window.EquipDefine=i,i.attrList={hpMax:{n:1,name:"HP",id:"hpMax",type:""},atkDmg:{n:2,name:"ATK",id:"atkDmg",type:""},crit:{n:3,name:"Crit rate",id:"crit",type:""},critBonus:{n:4,name:"Critical damage",id:"critBonus",type:""},movSpd:{n:5,name:"Speed",id:"movSpd",type:""},recoilScale:{n:6,name:"Recoil",id:"recoilScale",type:""},reloadSpd:{n:7,name:"Reload",id:"reloadSpd",type:""},bltCt:{n:8,name:"Capacity<[xxx]>",id:"bltCt",type:"weapon"},atkSpd:{n:9,name:"Attack speed",id:"atkSpd",type:""},1:{n:10,name:"Life recovery",id:"1",type:"buff"},2:{n:11,name:"Grenade",id:"2",type:"buff"},AutoGrenade:{n:12,name:"Throw a grenade at the target every <[t]>s",id:"AutoGrenade",type:"buff"},OnKillSpawnC4:{n:13,name:"10% chance of killing a C4",id:"OnKillSpawnC4",type:"buff"},5:{n:14,name:"InvincibleCD",id:"5",type:"buff"},6:{n:15,name:"Invincible",id:"6",type:"buff"},dodgeChance:{n:16,name:"Dodge",id:"dodgeChance",type:""},healScale:{n:17,name:"Blood pack",id:"healScale",type:""},9:{n:18,name:"Suck blood",id:"9",type:"buff"},OnKillRegen2:{n:19,name:"Kill monsters to restore <[percent]>%HP",id:"OnKillRegen2",type:"buff"},OnStandAtkSpd:{n:20,name:"Stand for 2<[standTime]>sAttack speed increase <[attrNum]>%",id:"OnStandAtkSpd",type:"buff"},onReloadAtkSpd:{n:21,name:"Attack speed increased by <[attrNum]>% after reloading, <[buffTime]>s",id:"onReloadAtkSpd",type:"buff"},onReloadAtk:{n:22,name:"Attack increase by <[attrNum]>%, <[buffTime]>s",id:"onReloadAtk",type:"buff"},OnFirstBulletCrit:{n:23,name:"critical strike after reloading, <[buffTime]>s",id:"OnFirstBulletCrit",type:"buff"},14:{n:24,name:"Surrounding monsters take elemental damage",id:"14",type:"buff"},15:{n:25,name:"",id:"15",type:"buff"},16:{n:26,name:"",id:"16",type:"buff"},17:{n:27,name:"",id:"17",type:"buff"},18:{n:28,name:"",id:"18",type:"buff"},hurtScale:{n:29,name:"Anti-injury",id:"hurtScale",type:""},OnStandAtk:{n:30,name:"Standing <[standTime]>sAttack power increased <[attrNum]>%",id:"OnStandAtk",type:"buff"},21:{n:31,name:"",id:"21",type:"buff"},onMoveAtk:{n:32,name:"move <[moveTime]>sAttack power increased <[attrNum]>%, <[buffTime]>s",id:"onMoveAtk",type:"buff"},OnKillExplode:{n:33,name:"Kill explosion",id:"OnKillExplode",type:"buff"},InvincibleOnDead:{n:34,name:"Reply on death <[healPercent]>%HP",id:"InvincibleOnDead",type:"buff"},moneyBonus:{n:35,name:"Gold coin bonus",id:"moneyBonus",type:""},expBonus:{n:36,name:"Experience bonus",id:"expBonus",type:""},bltCt2:{n:37,name:"Expanded magazine",id:"bltCt2",type:"add2bltCt"},rangeAtkBonus:{n:38,name:"Damage to ranged units",id:"rangeAtkBonus",type:""},meleeAtkBonus:{n:39,name:"Damage to melee units",id:"meleeAtkBonus",type:""},bossAtkBonus:{n:40,name:"Damage caused to BOSS",id:"bossAtkBonus",type:""},minionAtkBonus:{n:41,name:"Damage to mobs",id:"minionAtkBonus",type:""},flyAtkBonus:{n:42,name:"Damage to flying units",id:"flyAtkBonus",type:""},earthAtkBonus:{n:43,name:"Damage to ground units",id:"earthAtkBonus",type:""},dmgReduce:{n:44,name:"Damage reduction",id:"dmgReduce",type:""},bltAtkScale:{n:45,name:"Bullet damage <[xxx]>%",id:"bltAtkScale",type:""},onMoveCrit:{n:46,name:"move <[moveTime]>sIncreased critical strike rate <[attrNum]>%,<[buffTime]>s",id:"onMoveCrit",type:"buff"},onReloadCrit:{n:47,name:"New magazine,<[buffTime]>s,<[attrNum]>%Crit",id:"onReloadCrit",type:"buff"},onReloadCritB:{n:48,name:"New magazine<[buffTime]><[attrNum]>%",id:"onReloadCritB",type:"buff"},OnHurtGetAttr:{n:49,name:"When hurtAttack speed increased 30%2s",id:"OnHurtGetAttr",type:"buff"},OnHurtEnmeyGetFrost:{n:50,name:"When hurtEnemy speed reduced 50%6s",id:"OnHurtEnmeyGetFrost",type:"buff"},itemDuration:{n:51,name:"Item duration +<[xxx]>s",id:"itemDuration",type:""},minionCritBonus:{n:52,name:"Critical damage increased <[xxx]>%",id:"minionCritBonus",type:""},bossCrit:{n:53,name:"Critical rate of attacking BOSS +<[xxx]>%",id:"bossCrit",type:""},onMoveAtkSpd:{n:54,name:"move <[moveTime]>sAttack speed increase <[attrNum]>%,<[buffTime]>s",id:"onMoveAtkSpd",type:"buff"}},i.AK47={1:{atkDmg_1:{qa:1,v:220},atkDmg_2:{qa:1,v:232},atkDmg_3:{qa:1,v:246},atkDmg_4:{qa:1,v:262},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},2:{atkDmg_1:{qa:1,v:230},atkDmg_2:{qa:1,v:244},atkDmg_3:{qa:1,v:260},atkDmg_4:{qa:1,v:278},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},3:{atkDmg_1:{qa:1,v:240},atkDmg_2:{qa:1,v:256},atkDmg_3:{qa:1,v:274},atkDmg_4:{qa:1,v:294},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},4:{atkDmg_1:{qa:1,v:250},atkDmg_2:{qa:1,v:268},atkDmg_3:{qa:1,v:288},atkDmg_4:{qa:1,v:310},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},5:{atkDmg_1:{qa:1,v:260},atkDmg_2:{qa:1,v:280},atkDmg_3:{qa:1,v:302},atkDmg_4:{qa:1,v:326},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},6:{atkDmg_1:{qa:1,v:270},atkDmg_2:{qa:1,v:292},atkDmg_3:{qa:1,v:316},atkDmg_4:{qa:1,v:342},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},7:{atkDmg_1:{qa:1,v:280},atkDmg_2:{qa:1,v:304},atkDmg_3:{qa:1,v:330},atkDmg_4:{qa:1,v:358},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},8:{atkDmg_1:{qa:1,v:290},atkDmg_2:{qa:1,v:316},atkDmg_3:{qa:1,v:344},atkDmg_4:{qa:1,v:374},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},9:{atkDmg_1:{qa:1,v:300},atkDmg_2:{qa:1,v:328},atkDmg_3:{qa:1,v:358},atkDmg_4:{qa:1,v:390},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},10:{atkDmg_1:{qa:1,v:310},atkDmg_2:{qa:1,v:340},atkDmg_3:{qa:1,v:372},atkDmg_4:{qa:1,v:406},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},11:{atkDmg_1:{qa:1,v:320},atkDmg_2:{qa:1,v:352},atkDmg_3:{qa:1,v:386},atkDmg_4:{qa:1,v:422},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},12:{atkDmg_1:{qa:1,v:330},atkDmg_2:{qa:1,v:364},atkDmg_3:{qa:1,v:400},atkDmg_4:{qa:1,v:438},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},13:{atkDmg_1:{qa:1,v:340},atkDmg_2:{qa:1,v:376},atkDmg_3:{qa:1,v:414},atkDmg_4:{qa:1,v:454},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},14:{atkDmg_1:{qa:1,v:350},atkDmg_2:{qa:1,v:388},atkDmg_3:{qa:1,v:428},atkDmg_4:{qa:1,v:470},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},15:{atkDmg_1:{qa:1,v:360},atkDmg_2:{qa:1,v:400},atkDmg_3:{qa:1,v:442},atkDmg_4:{qa:1,v:486},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},16:{atkDmg_1:{qa:1,v:370},atkDmg_2:{qa:1,v:412},atkDmg_3:{qa:1,v:456},atkDmg_4:{qa:1,v:502},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},17:{atkDmg_1:{qa:1,v:380},atkDmg_2:{qa:1,v:424},atkDmg_3:{qa:1,v:470},atkDmg_4:{qa:1,v:518},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},18:{atkDmg_1:{qa:1,v:390},atkDmg_2:{qa:1,v:436},atkDmg_3:{qa:1,v:484},atkDmg_4:{qa:1,v:534},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},19:{atkDmg_1:{qa:1,v:400},atkDmg_2:{qa:1,v:448},atkDmg_3:{qa:1,v:498},atkDmg_4:{qa:1,v:550},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},20:{atkDmg_1:{qa:1,v:410},atkDmg_2:{qa:1,v:460},atkDmg_3:{qa:1,v:512},atkDmg_4:{qa:1,v:566},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},21:{atkDmg_1:{qa:1,v:420},atkDmg_2:{qa:1,v:472},atkDmg_3:{qa:1,v:526},atkDmg_4:{qa:1,v:582},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},22:{atkDmg_1:{qa:1,v:430},atkDmg_2:{qa:1,v:484},atkDmg_3:{qa:1,v:540},atkDmg_4:{qa:1,v:598},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},23:{atkDmg_1:{qa:1,v:440},atkDmg_2:{qa:1,v:496},atkDmg_3:{qa:1,v:554},atkDmg_4:{qa:1,v:614},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},24:{atkDmg_1:{qa:1,v:450},atkDmg_2:{qa:1,v:508},atkDmg_3:{qa:1,v:568},atkDmg_4:{qa:1,v:630},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},25:{atkDmg_1:{qa:1,v:460},atkDmg_2:{qa:1,v:520},atkDmg_3:{qa:1,v:582},atkDmg_4:{qa:1,v:646},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},26:{atkDmg_1:{qa:1,v:470},atkDmg_2:{qa:1,v:532},atkDmg_3:{qa:1,v:596},atkDmg_4:{qa:1,v:662},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},27:{atkDmg_1:{qa:1,v:480},atkDmg_2:{qa:1,v:544},atkDmg_3:{qa:1,v:610},atkDmg_4:{qa:1,v:678},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},28:{atkDmg_1:{qa:1,v:490},atkDmg_2:{qa:1,v:556},atkDmg_3:{qa:1,v:624},atkDmg_4:{qa:1,v:694},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},29:{atkDmg_1:{qa:1,v:500},atkDmg_2:{qa:1,v:568},atkDmg_3:{qa:1,v:638},atkDmg_4:{qa:1,v:710},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},30:{atkDmg_1:{qa:1,v:510},atkDmg_2:{qa:1,v:580},atkDmg_3:{qa:1,v:652},atkDmg_4:{qa:1,v:726},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},31:{atkDmg_1:{qa:1,v:520},atkDmg_2:{qa:1,v:592},atkDmg_3:{qa:1,v:666},atkDmg_4:{qa:1,v:742},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},32:{atkDmg_1:{qa:1,v:530},atkDmg_2:{qa:1,v:604},atkDmg_3:{qa:1,v:680},atkDmg_4:{qa:1,v:758},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},33:{atkDmg_1:{qa:1,v:540},atkDmg_2:{qa:1,v:616},atkDmg_3:{qa:1,v:694},atkDmg_4:{qa:1,v:774},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},34:{atkDmg_1:{qa:1,v:550},atkDmg_2:{qa:1,v:628},atkDmg_3:{qa:1,v:708},atkDmg_4:{qa:1,v:790},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},35:{atkDmg_1:{qa:1,v:560},atkDmg_2:{qa:1,v:640},atkDmg_3:{qa:1,v:722},atkDmg_4:{qa:1,v:806},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},36:{atkDmg_1:{qa:1,v:570},atkDmg_2:{qa:1,v:652},atkDmg_3:{qa:1,v:736},atkDmg_4:{qa:1,v:822},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},37:{atkDmg_1:{qa:1,v:580},atkDmg_2:{qa:1,v:664},atkDmg_3:{qa:1,v:750},atkDmg_4:{qa:1,v:838},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},38:{atkDmg_1:{qa:1,v:590},atkDmg_2:{qa:1,v:676},atkDmg_3:{qa:1,v:764},atkDmg_4:{qa:1,v:854},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},39:{atkDmg_1:{qa:1,v:600},atkDmg_2:{qa:1,v:688},atkDmg_3:{qa:1,v:778},atkDmg_4:{qa:1,v:870},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},40:{atkDmg_1:{qa:1,v:610},atkDmg_2:{qa:1,v:700},atkDmg_3:{qa:1,v:792},atkDmg_4:{qa:1,v:886},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},41:{atkDmg_1:{qa:1,v:620},atkDmg_2:{qa:1,v:712},atkDmg_3:{qa:1,v:806},atkDmg_4:{qa:1,v:902},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},42:{atkDmg_1:{qa:1,v:630},atkDmg_2:{qa:1,v:724},atkDmg_3:{qa:1,v:820},atkDmg_4:{qa:1,v:918},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},43:{atkDmg_1:{qa:1,v:640},atkDmg_2:{qa:1,v:736},atkDmg_3:{qa:1,v:834},atkDmg_4:{qa:1,v:934},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},44:{atkDmg_1:{qa:1,v:650},atkDmg_2:{qa:1,v:748},atkDmg_3:{qa:1,v:848},atkDmg_4:{qa:1,v:950},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},45:{atkDmg_1:{qa:1,v:660},atkDmg_2:{qa:1,v:760},atkDmg_3:{qa:1,v:862},atkDmg_4:{qa:1,v:966},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},46:{atkDmg_1:{qa:1,v:670},atkDmg_2:{qa:1,v:772},atkDmg_3:{qa:1,v:876},atkDmg_4:{qa:1,v:982},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},47:{atkDmg_1:{qa:1,v:680},atkDmg_2:{qa:1,v:784},atkDmg_3:{qa:1,v:890},atkDmg_4:{qa:1,v:998},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},48:{atkDmg_1:{qa:1,v:690},atkDmg_2:{qa:1,v:796},atkDmg_3:{qa:1,v:904},atkDmg_4:{qa:1,v:1014},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},49:{atkDmg_1:{qa:1,v:700},atkDmg_2:{qa:1,v:808},atkDmg_3:{qa:1,v:918},atkDmg_4:{qa:1,v:1030},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},50:{atkDmg_1:{qa:1,v:710},atkDmg_2:{qa:1,v:820},atkDmg_3:{qa:1,v:932},atkDmg_4:{qa:1,v:1046},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},51:{atkDmg_1:{qa:1,v:720},atkDmg_2:{qa:1,v:832},atkDmg_3:{qa:1,v:946},atkDmg_4:{qa:1,v:1062},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},52:{atkDmg_1:{qa:1,v:730},atkDmg_2:{qa:1,v:844},atkDmg_3:{qa:1,v:960},atkDmg_4:{qa:1,v:1078},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},53:{atkDmg_1:{qa:1,v:740},atkDmg_2:{qa:1,v:856},atkDmg_3:{qa:1,v:974},atkDmg_4:{qa:1,v:1094},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},54:{atkDmg_1:{qa:1,v:750},atkDmg_2:{qa:1,v:868},atkDmg_3:{qa:1,v:988},atkDmg_4:{qa:1,v:1110},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},55:{atkDmg_1:{qa:1,v:760},atkDmg_2:{qa:1,v:880},atkDmg_3:{qa:1,v:1002},atkDmg_4:{qa:1,v:1126},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},56:{atkDmg_1:{qa:1,v:770},atkDmg_2:{qa:1,v:892},atkDmg_3:{qa:1,v:1016},atkDmg_4:{qa:1,v:1142},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},57:{atkDmg_1:{qa:1,v:780},atkDmg_2:{qa:1,v:904},atkDmg_3:{qa:1,v:1030},atkDmg_4:{qa:1,v:1158},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},58:{atkDmg_1:{qa:1,v:790},atkDmg_2:{qa:1,v:916},atkDmg_3:{qa:1,v:1044},atkDmg_4:{qa:1,v:1174},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},59:{atkDmg_1:{qa:1,v:800},atkDmg_2:{qa:1,v:928},atkDmg_3:{qa:1,v:1058},atkDmg_4:{qa:1,v:1190},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},60:{atkDmg_1:{qa:1,v:810},atkDmg_2:{qa:1,v:940},atkDmg_3:{qa:1,v:1072},atkDmg_4:{qa:1,v:1206},bltAtkScale:{qa:1,v:1},bltCt:{qa:1,v:20},bltCt2:{qa:3,v:10},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}}},i.S12K={1:{atkDmg_1:{qa:1,v:220},atkDmg_2:{qa:1,v:232},atkDmg_3:{qa:1,v:246},atkDmg_4:{qa:1,v:262},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},2:{atkDmg_1:{qa:1,v:230},atkDmg_2:{qa:1,v:244},atkDmg_3:{qa:1,v:260},atkDmg_4:{qa:1,v:278},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},3:{atkDmg_1:{qa:1,v:240},atkDmg_2:{qa:1,v:256},atkDmg_3:{qa:1,v:274},atkDmg_4:{qa:1,v:294},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},4:{atkDmg_1:{qa:1,v:250},atkDmg_2:{qa:1,v:268},atkDmg_3:{qa:1,v:288},atkDmg_4:{qa:1,v:310},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},5:{atkDmg_1:{qa:1,v:260},atkDmg_2:{qa:1,v:280},atkDmg_3:{qa:1,v:302},atkDmg_4:{qa:1,v:326},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},6:{atkDmg_1:{qa:1,v:270},atkDmg_2:{qa:1,v:292},atkDmg_3:{qa:1,v:316},atkDmg_4:{qa:1,v:342},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},7:{atkDmg_1:{qa:1,v:280},atkDmg_2:{qa:1,v:304},atkDmg_3:{qa:1,v:330},atkDmg_4:{qa:1,v:358},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},8:{atkDmg_1:{qa:1,v:290},atkDmg_2:{qa:1,v:316},atkDmg_3:{qa:1,v:344},atkDmg_4:{qa:1,v:374},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},9:{atkDmg_1:{qa:1,v:300},atkDmg_2:{qa:1,v:328},atkDmg_3:{qa:1,v:358},atkDmg_4:{qa:1,v:390},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},10:{atkDmg_1:{qa:1,v:310},atkDmg_2:{qa:1,v:340},atkDmg_3:{qa:1,v:372},atkDmg_4:{qa:1,v:406},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},11:{atkDmg_1:{qa:1,v:320},atkDmg_2:{qa:1,v:352},atkDmg_3:{qa:1,v:386},atkDmg_4:{qa:1,v:422},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},12:{atkDmg_1:{qa:1,v:330},atkDmg_2:{qa:1,v:364},atkDmg_3:{qa:1,v:400},atkDmg_4:{qa:1,v:438},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},13:{atkDmg_1:{qa:1,v:340},atkDmg_2:{qa:1,v:376},atkDmg_3:{qa:1,v:414},atkDmg_4:{qa:1,v:454},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},14:{atkDmg_1:{qa:1,v:350},atkDmg_2:{qa:1,v:388},atkDmg_3:{qa:1,v:428},atkDmg_4:{qa:1,v:470},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},15:{atkDmg_1:{qa:1,v:360},atkDmg_2:{qa:1,v:400},atkDmg_3:{qa:1,v:442},atkDmg_4:{qa:1,v:486},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},16:{atkDmg_1:{qa:1,v:370},atkDmg_2:{qa:1,v:412},atkDmg_3:{qa:1,v:456},atkDmg_4:{qa:1,v:502},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},17:{atkDmg_1:{qa:1,v:380},atkDmg_2:{qa:1,v:424},atkDmg_3:{qa:1,v:470},atkDmg_4:{qa:1,v:518},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},18:{atkDmg_1:{qa:1,v:390},atkDmg_2:{qa:1,v:436},atkDmg_3:{qa:1,v:484},atkDmg_4:{qa:1,v:534},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},19:{atkDmg_1:{qa:1,v:400},atkDmg_2:{qa:1,v:448},atkDmg_3:{qa:1,v:498},atkDmg_4:{qa:1,v:550},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},20:{atkDmg_1:{qa:1,v:410},atkDmg_2:{qa:1,v:460},atkDmg_3:{qa:1,v:512},atkDmg_4:{qa:1,v:566},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},21:{atkDmg_1:{qa:1,v:420},atkDmg_2:{qa:1,v:472},atkDmg_3:{qa:1,v:526},atkDmg_4:{qa:1,v:582},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},22:{atkDmg_1:{qa:1,v:430},atkDmg_2:{qa:1,v:484},atkDmg_3:{qa:1,v:540},atkDmg_4:{qa:1,v:598},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},23:{atkDmg_1:{qa:1,v:440},atkDmg_2:{qa:1,v:496},atkDmg_3:{qa:1,v:554},atkDmg_4:{qa:1,v:614},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},24:{atkDmg_1:{qa:1,v:450},atkDmg_2:{qa:1,v:508},atkDmg_3:{qa:1,v:568},atkDmg_4:{qa:1,v:630},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},25:{atkDmg_1:{qa:1,v:460},atkDmg_2:{qa:1,v:520},atkDmg_3:{qa:1,v:582},atkDmg_4:{qa:1,v:646},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},26:{atkDmg_1:{qa:1,v:470},atkDmg_2:{qa:1,v:532},atkDmg_3:{qa:1,v:596},atkDmg_4:{qa:1,v:662},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},27:{atkDmg_1:{qa:1,v:480},atkDmg_2:{qa:1,v:544},atkDmg_3:{qa:1,v:610},atkDmg_4:{qa:1,v:678},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},28:{atkDmg_1:{qa:1,v:490},atkDmg_2:{qa:1,v:556},atkDmg_3:{qa:1,v:624},atkDmg_4:{qa:1,v:694},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},29:{atkDmg_1:{qa:1,v:500},atkDmg_2:{qa:1,v:568},atkDmg_3:{qa:1,v:638},atkDmg_4:{qa:1,v:710},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},30:{atkDmg_1:{qa:1,v:510},atkDmg_2:{qa:1,v:580},atkDmg_3:{qa:1,v:652},atkDmg_4:{qa:1,v:726},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},31:{atkDmg_1:{qa:1,v:520},atkDmg_2:{qa:1,v:592},atkDmg_3:{qa:1,v:666},atkDmg_4:{qa:1,v:742},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},32:{atkDmg_1:{qa:1,v:530},atkDmg_2:{qa:1,v:604},atkDmg_3:{qa:1,v:680},atkDmg_4:{qa:1,v:758},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},33:{atkDmg_1:{qa:1,v:540},atkDmg_2:{qa:1,v:616},atkDmg_3:{qa:1,v:694},atkDmg_4:{qa:1,v:774},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},34:{atkDmg_1:{qa:1,v:550},atkDmg_2:{qa:1,v:628},atkDmg_3:{qa:1,v:708},atkDmg_4:{qa:1,v:790},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},35:{atkDmg_1:{qa:1,v:560},atkDmg_2:{qa:1,v:640},atkDmg_3:{qa:1,v:722},atkDmg_4:{qa:1,v:806},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},36:{atkDmg_1:{qa:1,v:570},atkDmg_2:{qa:1,v:652},atkDmg_3:{qa:1,v:736},atkDmg_4:{qa:1,v:822},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},37:{atkDmg_1:{qa:1,v:580},atkDmg_2:{qa:1,v:664},atkDmg_3:{qa:1,v:750},atkDmg_4:{qa:1,v:838},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},38:{atkDmg_1:{qa:1,v:590},atkDmg_2:{qa:1,v:676},atkDmg_3:{qa:1,v:764},atkDmg_4:{qa:1,v:854},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},39:{atkDmg_1:{qa:1,v:600},atkDmg_2:{qa:1,v:688},atkDmg_3:{qa:1,v:778},atkDmg_4:{qa:1,v:870},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},40:{atkDmg_1:{qa:1,v:610},atkDmg_2:{qa:1,v:700},atkDmg_3:{qa:1,v:792},atkDmg_4:{qa:1,v:886},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},41:{atkDmg_1:{qa:1,v:620},atkDmg_2:{qa:1,v:712},atkDmg_3:{qa:1,v:806},atkDmg_4:{qa:1,v:902},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},42:{atkDmg_1:{qa:1,v:630},atkDmg_2:{qa:1,v:724},atkDmg_3:{qa:1,v:820},atkDmg_4:{qa:1,v:918},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},43:{atkDmg_1:{qa:1,v:640},atkDmg_2:{qa:1,v:736},atkDmg_3:{qa:1,v:834},atkDmg_4:{qa:1,v:934},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},44:{atkDmg_1:{qa:1,v:650},atkDmg_2:{qa:1,v:748},atkDmg_3:{qa:1,v:848},atkDmg_4:{qa:1,v:950},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},45:{atkDmg_1:{qa:1,v:660},atkDmg_2:{qa:1,v:760},atkDmg_3:{qa:1,v:862},atkDmg_4:{qa:1,v:966},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},46:{atkDmg_1:{qa:1,v:670},atkDmg_2:{qa:1,v:772},atkDmg_3:{qa:1,v:876},atkDmg_4:{qa:1,v:982},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},47:{atkDmg_1:{qa:1,v:680},atkDmg_2:{qa:1,v:784},atkDmg_3:{qa:1,v:890},atkDmg_4:{qa:1,v:998},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},48:{atkDmg_1:{qa:1,v:690},atkDmg_2:{qa:1,v:796},atkDmg_3:{qa:1,v:904},atkDmg_4:{qa:1,v:1014},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},49:{atkDmg_1:{qa:1,v:700},atkDmg_2:{qa:1,v:808},atkDmg_3:{qa:1,v:918},atkDmg_4:{qa:1,v:1030},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},50:{atkDmg_1:{qa:1,v:710},atkDmg_2:{qa:1,v:820},atkDmg_3:{qa:1,v:932},atkDmg_4:{qa:1,v:1046},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},51:{atkDmg_1:{qa:1,v:720},atkDmg_2:{qa:1,v:832},atkDmg_3:{qa:1,v:946},atkDmg_4:{qa:1,v:1062},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},52:{atkDmg_1:{qa:1,v:730},atkDmg_2:{qa:1,v:844},atkDmg_3:{qa:1,v:960},atkDmg_4:{qa:1,v:1078},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},53:{atkDmg_1:{qa:1,v:740},atkDmg_2:{qa:1,v:856},atkDmg_3:{qa:1,v:974},atkDmg_4:{qa:1,v:1094},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},54:{atkDmg_1:{qa:1,v:750},atkDmg_2:{qa:1,v:868},atkDmg_3:{qa:1,v:988},atkDmg_4:{qa:1,v:1110},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},55:{atkDmg_1:{qa:1,v:760},atkDmg_2:{qa:1,v:880},atkDmg_3:{qa:1,v:1002},atkDmg_4:{qa:1,v:1126},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},56:{atkDmg_1:{qa:1,v:770},atkDmg_2:{qa:1,v:892},atkDmg_3:{qa:1,v:1016},atkDmg_4:{qa:1,v:1142},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},57:{atkDmg_1:{qa:1,v:780},atkDmg_2:{qa:1,v:904},atkDmg_3:{qa:1,v:1030},atkDmg_4:{qa:1,v:1158},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},58:{atkDmg_1:{qa:1,v:790},atkDmg_2:{qa:1,v:916},atkDmg_3:{qa:1,v:1044},atkDmg_4:{qa:1,v:1174},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},59:{atkDmg_1:{qa:1,v:800},atkDmg_2:{qa:1,v:928},atkDmg_3:{qa:1,v:1058},atkDmg_4:{qa:1,v:1190},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}},60:{atkDmg_1:{qa:1,v:810},atkDmg_2:{qa:1,v:940},atkDmg_3:{qa:1,v:1072},atkDmg_4:{qa:1,v:1206},bltAtkScale:{qa:1,v:.8},bltCt:{qa:1,v:6},atkSpd:{qa:3,v:.06},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:2}}}},i.Kar98k={1:{atkDmg_1:{qa:1,v:220},atkDmg_2:{qa:1,v:232},atkDmg_3:{qa:1,v:246},atkDmg_4:{qa:1,v:262},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},2:{atkDmg_1:{qa:1,v:230},atkDmg_2:{qa:1,v:244},atkDmg_3:{qa:1,v:260},atkDmg_4:{qa:1,v:278},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},3:{atkDmg_1:{qa:1,v:240},atkDmg_2:{qa:1,v:256},atkDmg_3:{qa:1,v:274},atkDmg_4:{qa:1,v:294},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},4:{atkDmg_1:{qa:1,v:250},atkDmg_2:{qa:1,v:268},atkDmg_3:{qa:1,v:288},atkDmg_4:{qa:1,v:310},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},5:{atkDmg_1:{qa:1,v:260},atkDmg_2:{qa:1,v:280},atkDmg_3:{qa:1,v:302},atkDmg_4:{qa:1,v:326},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},6:{atkDmg_1:{qa:1,v:270},atkDmg_2:{qa:1,v:292},atkDmg_3:{qa:1,v:316},atkDmg_4:{qa:1,v:342},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},7:{atkDmg_1:{qa:1,v:280},atkDmg_2:{qa:1,v:304},atkDmg_3:{qa:1,v:330},atkDmg_4:{qa:1,v:358},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},8:{atkDmg_1:{qa:1,v:290},atkDmg_2:{qa:1,v:316},atkDmg_3:{qa:1,v:344},atkDmg_4:{qa:1,v:374},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},9:{atkDmg_1:{qa:1,v:300},atkDmg_2:{qa:1,v:328},atkDmg_3:{qa:1,v:358},atkDmg_4:{qa:1,v:390},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},10:{atkDmg_1:{qa:1,v:310},atkDmg_2:{qa:1,v:340},atkDmg_3:{qa:1,v:372},atkDmg_4:{qa:1,v:406},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},11:{atkDmg_1:{qa:1,v:320},atkDmg_2:{qa:1,v:352},atkDmg_3:{qa:1,v:386},atkDmg_4:{qa:1,v:422},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},12:{atkDmg_1:{qa:1,v:330},atkDmg_2:{qa:1,v:364},atkDmg_3:{qa:1,v:400},atkDmg_4:{qa:1,v:438},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},13:{atkDmg_1:{qa:1,v:340},atkDmg_2:{qa:1,v:376},atkDmg_3:{qa:1,v:414},atkDmg_4:{qa:1,v:454},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},14:{atkDmg_1:{qa:1,v:350},atkDmg_2:{qa:1,v:388},atkDmg_3:{qa:1,v:428},atkDmg_4:{qa:1,v:470},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},15:{atkDmg_1:{qa:1,v:360},atkDmg_2:{qa:1,v:400},atkDmg_3:{qa:1,v:442},atkDmg_4:{qa:1,v:486},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},16:{atkDmg_1:{qa:1,v:370},atkDmg_2:{qa:1,v:412},atkDmg_3:{qa:1,v:456},atkDmg_4:{qa:1,v:502},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},17:{atkDmg_1:{qa:1,v:380},atkDmg_2:{qa:1,v:424},atkDmg_3:{qa:1,v:470},atkDmg_4:{qa:1,v:518},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},18:{atkDmg_1:{qa:1,v:390},atkDmg_2:{qa:1,v:436},atkDmg_3:{qa:1,v:484},atkDmg_4:{qa:1,v:534},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},19:{atkDmg_1:{qa:1,v:400},atkDmg_2:{qa:1,v:448},atkDmg_3:{qa:1,v:498},atkDmg_4:{qa:1,v:550},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},20:{atkDmg_1:{qa:1,v:410},atkDmg_2:{qa:1,v:460},atkDmg_3:{qa:1,v:512},atkDmg_4:{qa:1,v:566},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},21:{atkDmg_1:{qa:1,v:420},atkDmg_2:{qa:1,v:472},atkDmg_3:{qa:1,v:526},atkDmg_4:{qa:1,v:582},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},22:{atkDmg_1:{qa:1,v:430},atkDmg_2:{qa:1,v:484},atkDmg_3:{qa:1,v:540},atkDmg_4:{qa:1,v:598},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},23:{atkDmg_1:{qa:1,v:440},atkDmg_2:{qa:1,v:496},atkDmg_3:{qa:1,v:554},atkDmg_4:{qa:1,v:614},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},24:{atkDmg_1:{qa:1,v:450},atkDmg_2:{qa:1,v:508},atkDmg_3:{qa:1,v:568},atkDmg_4:{qa:1,v:630},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},25:{atkDmg_1:{qa:1,v:460},atkDmg_2:{qa:1,v:520},atkDmg_3:{qa:1,v:582},atkDmg_4:{qa:1,v:646},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},26:{atkDmg_1:{qa:1,v:470},atkDmg_2:{qa:1,v:532},atkDmg_3:{qa:1,v:596},atkDmg_4:{qa:1,v:662},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},27:{atkDmg_1:{qa:1,v:480},atkDmg_2:{qa:1,v:544},atkDmg_3:{qa:1,v:610},atkDmg_4:{qa:1,v:678},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},28:{atkDmg_1:{qa:1,v:490},atkDmg_2:{qa:1,v:556},atkDmg_3:{qa:1,v:624},atkDmg_4:{qa:1,v:694},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},29:{atkDmg_1:{qa:1,v:500},atkDmg_2:{qa:1,v:568},atkDmg_3:{qa:1,v:638},atkDmg_4:{qa:1,v:710},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},30:{atkDmg_1:{qa:1,v:510},atkDmg_2:{qa:1,v:580},atkDmg_3:{qa:1,v:652},atkDmg_4:{qa:1,v:726},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},31:{atkDmg_1:{qa:1,v:520},atkDmg_2:{qa:1,v:592},atkDmg_3:{qa:1,v:666},atkDmg_4:{qa:1,v:742},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},32:{atkDmg_1:{qa:1,v:530},atkDmg_2:{qa:1,v:604},atkDmg_3:{qa:1,v:680},atkDmg_4:{qa:1,v:758},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},33:{atkDmg_1:{qa:1,v:540},atkDmg_2:{qa:1,v:616},atkDmg_3:{qa:1,v:694},atkDmg_4:{qa:1,v:774},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},34:{atkDmg_1:{qa:1,v:550},atkDmg_2:{qa:1,v:628},atkDmg_3:{qa:1,v:708},atkDmg_4:{qa:1,v:790},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},35:{atkDmg_1:{qa:1,v:560},atkDmg_2:{qa:1,v:640},atkDmg_3:{qa:1,v:722},atkDmg_4:{qa:1,v:806},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},36:{atkDmg_1:{qa:1,v:570},atkDmg_2:{qa:1,v:652},atkDmg_3:{qa:1,v:736},atkDmg_4:{qa:1,v:822},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},37:{atkDmg_1:{qa:1,v:580},atkDmg_2:{qa:1,v:664},atkDmg_3:{qa:1,v:750},atkDmg_4:{qa:1,v:838},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},38:{atkDmg_1:{qa:1,v:590},atkDmg_2:{qa:1,v:676},atkDmg_3:{qa:1,v:764},atkDmg_4:{qa:1,v:854},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},39:{atkDmg_1:{qa:1,v:600},atkDmg_2:{qa:1,v:688},atkDmg_3:{qa:1,v:778},atkDmg_4:{qa:1,v:870},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},40:{atkDmg_1:{qa:1,v:610},atkDmg_2:{qa:1,v:700},atkDmg_3:{qa:1,v:792},atkDmg_4:{qa:1,v:886},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},41:{atkDmg_1:{qa:1,v:620},atkDmg_2:{qa:1,v:712},atkDmg_3:{qa:1,v:806},atkDmg_4:{qa:1,v:902},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},42:{atkDmg_1:{qa:1,v:630},atkDmg_2:{qa:1,v:724},atkDmg_3:{qa:1,v:820},atkDmg_4:{qa:1,v:918},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},43:{atkDmg_1:{qa:1,v:640},atkDmg_2:{qa:1,v:736},atkDmg_3:{qa:1,v:834},atkDmg_4:{qa:1,v:934},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},44:{atkDmg_1:{qa:1,v:650},atkDmg_2:{qa:1,v:748},atkDmg_3:{qa:1,v:848},atkDmg_4:{qa:1,v:950},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},45:{atkDmg_1:{qa:1,v:660},atkDmg_2:{qa:1,v:760},atkDmg_3:{qa:1,v:862},atkDmg_4:{qa:1,v:966},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},46:{atkDmg_1:{qa:1,v:670},atkDmg_2:{qa:1,v:772},atkDmg_3:{qa:1,v:876},atkDmg_4:{qa:1,v:982},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},47:{atkDmg_1:{qa:1,v:680},atkDmg_2:{qa:1,v:784},atkDmg_3:{qa:1,v:890},atkDmg_4:{qa:1,v:998},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},48:{atkDmg_1:{qa:1,v:690},atkDmg_2:{qa:1,v:796},atkDmg_3:{qa:1,v:904},atkDmg_4:{qa:1,v:1014},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},49:{atkDmg_1:{qa:1,v:700},atkDmg_2:{qa:1,v:808},atkDmg_3:{qa:1,v:918},atkDmg_4:{qa:1,v:1030},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},50:{atkDmg_1:{qa:1,v:710},atkDmg_2:{qa:1,v:820},atkDmg_3:{qa:1,v:932},atkDmg_4:{qa:1,v:1046},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},51:{atkDmg_1:{qa:1,v:720},atkDmg_2:{qa:1,v:832},atkDmg_3:{qa:1,v:946},atkDmg_4:{qa:1,v:1062},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},52:{atkDmg_1:{qa:1,v:730},atkDmg_2:{qa:1,v:844},atkDmg_3:{qa:1,v:960},atkDmg_4:{qa:1,v:1078},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},53:{atkDmg_1:{qa:1,v:740},atkDmg_2:{qa:1,v:856},atkDmg_3:{qa:1,v:974},atkDmg_4:{qa:1,v:1094},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},54:{atkDmg_1:{qa:1,v:750},atkDmg_2:{qa:1,v:868},atkDmg_3:{qa:1,v:988},atkDmg_4:{qa:1,v:1110},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},55:{atkDmg_1:{qa:1,v:760},atkDmg_2:{qa:1,v:880},atkDmg_3:{qa:1,v:1002},atkDmg_4:{qa:1,v:1126},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},56:{atkDmg_1:{qa:1,v:770},atkDmg_2:{qa:1,v:892},atkDmg_3:{qa:1,v:1016},atkDmg_4:{qa:1,v:1142},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},57:{atkDmg_1:{qa:1,v:780},atkDmg_2:{qa:1,v:904},atkDmg_3:{qa:1,v:1030},atkDmg_4:{qa:1,v:1158},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},58:{atkDmg_1:{qa:1,v:790},atkDmg_2:{qa:1,v:916},atkDmg_3:{qa:1,v:1044},atkDmg_4:{qa:1,v:1174},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},59:{atkDmg_1:{qa:1,v:800},atkDmg_2:{qa:1,v:928},atkDmg_3:{qa:1,v:1058},atkDmg_4:{qa:1,v:1190},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}},60:{atkDmg_1:{qa:1,v:810},atkDmg_2:{qa:1,v:940},atkDmg_3:{qa:1,v:1072},atkDmg_4:{qa:1,v:1206},bltAtkScale:{qa:1,v:4.22},bltCt:{qa:1,v:5},crit:{qa:3,v:.06},OnFirstBulletCrit:{qa:4,v:{buffTime:1}}}},i.YF={1:{hpMax_1:{qa:1,v:150},hpMax_2:{qa:1,v:180},hpMax_3:{qa:1,v:220},hpMax_4:{qa:1,v:270},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},2:{hpMax_1:{qa:1,v:170},hpMax_2:{qa:1,v:210},hpMax_3:{qa:1,v:260},hpMax_4:{qa:1,v:320},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},3:{hpMax_1:{qa:1,v:190},hpMax_2:{qa:1,v:240},hpMax_3:{qa:1,v:300},hpMax_4:{qa:1,v:370},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},4:{hpMax_1:{qa:1,v:210},hpMax_2:{qa:1,v:270},hpMax_3:{qa:1,v:340},hpMax_4:{qa:1,v:420},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},5:{hpMax_1:{qa:1,v:230},hpMax_2:{qa:1,v:300},hpMax_3:{qa:1,v:380},hpMax_4:{qa:1,v:470},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},6:{hpMax_1:{qa:1,v:250},hpMax_2:{qa:1,v:330},hpMax_3:{qa:1,v:420},hpMax_4:{qa:1,v:520},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},7:{hpMax_1:{qa:1,v:270},hpMax_2:{qa:1,v:360},hpMax_3:{qa:1,v:460},hpMax_4:{qa:1,v:570},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},8:{hpMax_1:{qa:1,v:290},hpMax_2:{qa:1,v:390},hpMax_3:{qa:1,v:500},hpMax_4:{qa:1,v:620},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},9:{hpMax_1:{qa:1,v:310},hpMax_2:{qa:1,v:420},hpMax_3:{qa:1,v:540},hpMax_4:{qa:1,v:670},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},10:{hpMax_1:{qa:1,v:330},hpMax_2:{qa:1,v:450},hpMax_3:{qa:1,v:580},hpMax_4:{qa:1,v:720},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},11:{hpMax_1:{qa:1,v:350},hpMax_2:{qa:1,v:480},hpMax_3:{qa:1,v:620},hpMax_4:{qa:1,v:770},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},12:{hpMax_1:{qa:1,v:370},hpMax_2:{qa:1,v:510},hpMax_3:{qa:1,v:660},hpMax_4:{qa:1,v:820},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},13:{hpMax_1:{qa:1,v:390},hpMax_2:{qa:1,v:540},hpMax_3:{qa:1,v:700},hpMax_4:{qa:1,v:870},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},14:{hpMax_1:{qa:1,v:410},hpMax_2:{qa:1,v:570},hpMax_3:{qa:1,v:740},hpMax_4:{qa:1,v:920},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},15:{hpMax_1:{qa:1,v:430},hpMax_2:{qa:1,v:600},hpMax_3:{qa:1,v:780},hpMax_4:{qa:1,v:970},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},16:{hpMax_1:{qa:1,v:450},hpMax_2:{qa:1,v:630},hpMax_3:{qa:1,v:820},hpMax_4:{qa:1,v:1020},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},17:{hpMax_1:{qa:1,v:470},hpMax_2:{qa:1,v:660},hpMax_3:{qa:1,v:860},hpMax_4:{qa:1,v:1070},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},18:{hpMax_1:{qa:1,v:490},hpMax_2:{qa:1,v:690},hpMax_3:{qa:1,v:900},hpMax_4:{qa:1,v:1120},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},19:{hpMax_1:{qa:1,v:510},hpMax_2:{qa:1,v:720},hpMax_3:{qa:1,v:940},hpMax_4:{qa:1,v:1170},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},20:{hpMax_1:{qa:1,v:530},hpMax_2:{qa:1,v:750},hpMax_3:{qa:1,v:980},hpMax_4:{qa:1,v:1220},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},21:{hpMax_1:{qa:1,v:550},hpMax_2:{qa:1,v:780},hpMax_3:{qa:1,v:1020},hpMax_4:{qa:1,v:1270},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},22:{hpMax_1:{qa:1,v:570},hpMax_2:{qa:1,v:810},hpMax_3:{qa:1,v:1060},hpMax_4:{qa:1,v:1320},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},23:{hpMax_1:{qa:1,v:590},hpMax_2:{qa:1,v:840},hpMax_3:{qa:1,v:1100},hpMax_4:{qa:1,v:1370},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},24:{hpMax_1:{qa:1,v:610},hpMax_2:{qa:1,v:870},hpMax_3:{qa:1,v:1140},hpMax_4:{qa:1,v:1420},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},25:{hpMax_1:{qa:1,v:630},hpMax_2:{qa:1,v:900},hpMax_3:{qa:1,v:1180},hpMax_4:{qa:1,v:1470},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},26:{hpMax_1:{qa:1,v:650},hpMax_2:{qa:1,v:930},hpMax_3:{qa:1,v:1220},hpMax_4:{qa:1,v:1520},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},27:{hpMax_1:{qa:1,v:670},hpMax_2:{qa:1,v:960},hpMax_3:{qa:1,v:1260},hpMax_4:{qa:1,v:1570},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},28:{hpMax_1:{qa:1,v:690},hpMax_2:{qa:1,v:990},hpMax_3:{qa:1,v:1300},hpMax_4:{qa:1,v:1620},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},29:{hpMax_1:{qa:1,v:710},hpMax_2:{qa:1,v:1020},hpMax_3:{qa:1,v:1340},hpMax_4:{qa:1,v:1670},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},30:{hpMax_1:{qa:1,v:730},hpMax_2:{qa:1,v:1050},hpMax_3:{qa:1,v:1380},hpMax_4:{qa:1,v:1720},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},31:{hpMax_1:{qa:1,v:750},hpMax_2:{qa:1,v:1080},hpMax_3:{qa:1,v:1420},hpMax_4:{qa:1,v:1770},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},32:{hpMax_1:{qa:1,v:770},hpMax_2:{qa:1,v:1110},hpMax_3:{qa:1,v:1460},hpMax_4:{qa:1,v:1820},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},33:{hpMax_1:{qa:1,v:790},hpMax_2:{qa:1,v:1140},hpMax_3:{qa:1,v:1500},hpMax_4:{qa:1,v:1870},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},34:{hpMax_1:{qa:1,v:810},hpMax_2:{qa:1,v:1170},hpMax_3:{qa:1,v:1540},hpMax_4:{qa:1,v:1920},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},35:{hpMax_1:{qa:1,v:830},hpMax_2:{qa:1,v:1200},hpMax_3:{qa:1,v:1580},hpMax_4:{qa:1,v:1970},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},36:{hpMax_1:{qa:1,v:850},hpMax_2:{qa:1,v:1230},hpMax_3:{qa:1,v:1620},hpMax_4:{qa:1,v:2020},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},37:{hpMax_1:{qa:1,v:870},hpMax_2:{qa:1,v:1260},hpMax_3:{qa:1,v:1660},hpMax_4:{qa:1,v:2070},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},38:{hpMax_1:{qa:1,v:890},hpMax_2:{qa:1,v:1290},hpMax_3:{qa:1,v:1700},hpMax_4:{qa:1,v:2120},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},39:{hpMax_1:{qa:1,v:910},hpMax_2:{qa:1,v:1320},hpMax_3:{qa:1,v:1740},hpMax_4:{qa:1,v:2170},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},40:{hpMax_1:{qa:1,v:930},hpMax_2:{qa:1,v:1350},hpMax_3:{qa:1,v:1780},hpMax_4:{qa:1,v:2220},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},41:{hpMax_1:{qa:1,v:950},hpMax_2:{qa:1,v:1380},hpMax_3:{qa:1,v:1820},hpMax_4:{qa:1,v:2270},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},42:{hpMax_1:{qa:1,v:970},hpMax_2:{qa:1,v:1410},hpMax_3:{qa:1,v:1860},hpMax_4:{qa:1,v:2320},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},43:{hpMax_1:{qa:1,v:990},hpMax_2:{qa:1,v:1440},hpMax_3:{qa:1,v:1900},hpMax_4:{qa:1,v:2370},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},44:{hpMax_1:{qa:1,v:1010},hpMax_2:{qa:1,v:1470},hpMax_3:{qa:1,v:1940},hpMax_4:{qa:1,v:2420},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},45:{hpMax_1:{qa:1,v:1030},hpMax_2:{qa:1,v:1500},hpMax_3:{qa:1,v:1980},hpMax_4:{qa:1,v:2470},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},46:{hpMax_1:{qa:1,v:1050},hpMax_2:{qa:1,v:1530},hpMax_3:{qa:1,v:2020},hpMax_4:{qa:1,v:2520},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},47:{hpMax_1:{qa:1,v:1070},hpMax_2:{qa:1,v:1560},hpMax_3:{qa:1,v:2060},hpMax_4:{qa:1,v:2570},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},48:{hpMax_1:{qa:1,v:1090},hpMax_2:{qa:1,v:1590},hpMax_3:{qa:1,v:2100},hpMax_4:{qa:1,v:2620},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},49:{hpMax_1:{qa:1,v:1110},hpMax_2:{qa:1,v:1620},hpMax_3:{qa:1,v:2140},hpMax_4:{qa:1,v:2670},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},50:{hpMax_1:{qa:1,v:1130},hpMax_2:{qa:1,v:1650},hpMax_3:{qa:1,v:2180},hpMax_4:{qa:1,v:2720},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},51:{hpMax_1:{qa:1,v:1150},hpMax_2:{qa:1,v:1680},hpMax_3:{qa:1,v:2220},hpMax_4:{qa:1,v:2770},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},52:{hpMax_1:{qa:1,v:1170},hpMax_2:{qa:1,v:1710},hpMax_3:{qa:1,v:2260},hpMax_4:{qa:1,v:2820},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},53:{hpMax_1:{qa:1,v:1190},hpMax_2:{qa:1,v:1740},hpMax_3:{qa:1,v:2300},hpMax_4:{qa:1,v:2870},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},54:{hpMax_1:{qa:1,v:1210},hpMax_2:{qa:1,v:1770},hpMax_3:{qa:1,v:2340},hpMax_4:{qa:1,v:2920},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},55:{hpMax_1:{qa:1,v:1230},hpMax_2:{qa:1,v:1800},hpMax_3:{qa:1,v:2380},hpMax_4:{qa:1,v:2970},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},56:{hpMax_1:{qa:1,v:1250},hpMax_2:{qa:1,v:1830},hpMax_3:{qa:1,v:2420},hpMax_4:{qa:1,v:3020},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},57:{hpMax_1:{qa:1,v:1270},hpMax_2:{qa:1,v:1860},hpMax_3:{qa:1,v:2460},hpMax_4:{qa:1,v:3070},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},58:{hpMax_1:{qa:1,v:1290},hpMax_2:{qa:1,v:1890},hpMax_3:{qa:1,v:2500},hpMax_4:{qa:1,v:3120},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},59:{hpMax_1:{qa:1,v:1310},hpMax_2:{qa:1,v:1920},hpMax_3:{qa:1,v:2540},hpMax_4:{qa:1,v:3170},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}},60:{hpMax_1:{qa:1,v:1330},hpMax_2:{qa:1,v:1950},hpMax_3:{qa:1,v:2580},hpMax_4:{qa:1,v:3220},dodgeChance:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtEnmeyGetFrost:{qa:4,v:{}}}},i.YF2={1:{hpMax_1:{qa:1,v:150},hpMax_2:{qa:1,v:180},hpMax_3:{qa:1,v:220},hpMax_4:{qa:1,v:270},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},2:{hpMax_1:{qa:1,v:170},hpMax_2:{qa:1,v:210},hpMax_3:{qa:1,v:260},hpMax_4:{qa:1,v:320},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},3:{hpMax_1:{qa:1,v:190},hpMax_2:{qa:1,v:240},hpMax_3:{qa:1,v:300},hpMax_4:{qa:1,v:370},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},4:{hpMax_1:{qa:1,v:210},hpMax_2:{qa:1,v:270},hpMax_3:{qa:1,v:340},hpMax_4:{qa:1,v:420},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},5:{hpMax_1:{qa:1,v:230},hpMax_2:{qa:1,v:300},hpMax_3:{qa:1,v:380},hpMax_4:{qa:1,v:470},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},6:{hpMax_1:{qa:1,v:250},hpMax_2:{qa:1,v:330},hpMax_3:{qa:1,v:420},hpMax_4:{qa:1,v:520},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},7:{hpMax_1:{qa:1,v:270},hpMax_2:{qa:1,v:360},hpMax_3:{qa:1,v:460},hpMax_4:{qa:1,v:570},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},8:{hpMax_1:{qa:1,v:290},hpMax_2:{qa:1,v:390},hpMax_3:{qa:1,v:500},hpMax_4:{qa:1,v:620},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},9:{hpMax_1:{qa:1,v:310},hpMax_2:{qa:1,v:420},hpMax_3:{qa:1,v:540},hpMax_4:{qa:1,v:670},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},10:{hpMax_1:{qa:1,v:330},hpMax_2:{qa:1,v:450},hpMax_3:{qa:1,v:580},hpMax_4:{qa:1,v:720},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},11:{hpMax_1:{qa:1,v:350},hpMax_2:{qa:1,v:480},hpMax_3:{qa:1,v:620},hpMax_4:{qa:1,v:770},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},12:{hpMax_1:{qa:1,v:370},hpMax_2:{qa:1,v:510},hpMax_3:{qa:1,v:660},hpMax_4:{qa:1,v:820},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},13:{hpMax_1:{qa:1,v:390},hpMax_2:{qa:1,v:540},hpMax_3:{qa:1,v:700},hpMax_4:{qa:1,v:870},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},14:{hpMax_1:{qa:1,v:410},hpMax_2:{qa:1,v:570},hpMax_3:{qa:1,v:740},hpMax_4:{qa:1,v:920},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},15:{hpMax_1:{qa:1,v:430},hpMax_2:{qa:1,v:600},hpMax_3:{qa:1,v:780},hpMax_4:{qa:1,v:970},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},16:{hpMax_1:{qa:1,v:450},hpMax_2:{qa:1,v:630},hpMax_3:{qa:1,v:820},hpMax_4:{qa:1,v:1020},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},17:{hpMax_1:{qa:1,v:470},hpMax_2:{qa:1,v:660},hpMax_3:{qa:1,v:860},hpMax_4:{qa:1,v:1070},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},18:{hpMax_1:{qa:1,v:490},hpMax_2:{qa:1,v:690},hpMax_3:{qa:1,v:900},hpMax_4:{qa:1,v:1120},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},19:{hpMax_1:{qa:1,v:510},hpMax_2:{qa:1,v:720},hpMax_3:{qa:1,v:940},hpMax_4:{qa:1,v:1170},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},20:{hpMax_1:{qa:1,v:530},hpMax_2:{qa:1,v:750},hpMax_3:{qa:1,v:980},hpMax_4:{qa:1,v:1220},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},21:{hpMax_1:{qa:1,v:550},hpMax_2:{qa:1,v:780},hpMax_3:{qa:1,v:1020},hpMax_4:{qa:1,v:1270},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},22:{hpMax_1:{qa:1,v:570},hpMax_2:{qa:1,v:810},hpMax_3:{qa:1,v:1060},hpMax_4:{qa:1,v:1320},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},23:{hpMax_1:{qa:1,v:590},hpMax_2:{qa:1,v:840},hpMax_3:{qa:1,v:1100},hpMax_4:{qa:1,v:1370},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},24:{hpMax_1:{qa:1,v:610},hpMax_2:{qa:1,v:870},hpMax_3:{qa:1,v:1140},hpMax_4:{qa:1,v:1420},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},25:{hpMax_1:{qa:1,v:630},hpMax_2:{qa:1,v:900},hpMax_3:{qa:1,v:1180},hpMax_4:{qa:1,v:1470},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},26:{hpMax_1:{qa:1,v:650},hpMax_2:{qa:1,v:930},hpMax_3:{qa:1,v:1220},hpMax_4:{qa:1,v:1520},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},27:{hpMax_1:{qa:1,v:670},hpMax_2:{qa:1,v:960},hpMax_3:{qa:1,v:1260},hpMax_4:{qa:1,v:1570},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},28:{hpMax_1:{qa:1,v:690},hpMax_2:{qa:1,v:990},hpMax_3:{qa:1,v:1300},hpMax_4:{qa:1,v:1620},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},29:{hpMax_1:{qa:1,v:710},hpMax_2:{qa:1,v:1020},hpMax_3:{qa:1,v:1340},hpMax_4:{qa:1,v:1670},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},30:{hpMax_1:{qa:1,v:730},hpMax_2:{qa:1,v:1050},hpMax_3:{qa:1,v:1380},hpMax_4:{qa:1,v:1720},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},31:{hpMax_1:{qa:1,v:750},hpMax_2:{qa:1,v:1080},hpMax_3:{qa:1,v:1420},hpMax_4:{qa:1,v:1770},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},32:{hpMax_1:{qa:1,v:770},hpMax_2:{qa:1,v:1110},hpMax_3:{qa:1,v:1460},hpMax_4:{qa:1,v:1820},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},33:{hpMax_1:{qa:1,v:790},hpMax_2:{qa:1,v:1140},hpMax_3:{qa:1,v:1500},hpMax_4:{qa:1,v:1870},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},34:{hpMax_1:{qa:1,v:810},hpMax_2:{qa:1,v:1170},hpMax_3:{qa:1,v:1540},hpMax_4:{qa:1,v:1920},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},35:{hpMax_1:{qa:1,v:830},hpMax_2:{qa:1,v:1200},hpMax_3:{qa:1,v:1580},hpMax_4:{qa:1,v:1970},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},36:{hpMax_1:{qa:1,v:850},hpMax_2:{qa:1,v:1230},hpMax_3:{qa:1,v:1620},hpMax_4:{qa:1,v:2020},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},37:{hpMax_1:{qa:1,v:870},hpMax_2:{qa:1,v:1260},hpMax_3:{qa:1,v:1660},hpMax_4:{qa:1,v:2070},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},38:{hpMax_1:{qa:1,v:890},hpMax_2:{qa:1,v:1290},hpMax_3:{qa:1,v:1700},hpMax_4:{qa:1,v:2120},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},39:{hpMax_1:{qa:1,v:910},hpMax_2:{qa:1,v:1320},hpMax_3:{qa:1,v:1740},hpMax_4:{qa:1,v:2170},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},40:{hpMax_1:{qa:1,v:930},hpMax_2:{qa:1,v:1350},hpMax_3:{qa:1,v:1780},hpMax_4:{qa:1,v:2220},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},41:{hpMax_1:{qa:1,v:950},hpMax_2:{qa:1,v:1380},hpMax_3:{qa:1,v:1820},hpMax_4:{qa:1,v:2270},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},42:{hpMax_1:{qa:1,v:970},hpMax_2:{qa:1,v:1410},hpMax_3:{qa:1,v:1860},hpMax_4:{qa:1,v:2320},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},43:{hpMax_1:{qa:1,v:990},hpMax_2:{qa:1,v:1440},hpMax_3:{qa:1,v:1900},hpMax_4:{qa:1,v:2370},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},44:{hpMax_1:{qa:1,v:1010},hpMax_2:{qa:1,v:1470},hpMax_3:{qa:1,v:1940},hpMax_4:{qa:1,v:2420},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},45:{hpMax_1:{qa:1,v:1030},hpMax_2:{qa:1,v:1500},hpMax_3:{qa:1,v:1980},hpMax_4:{qa:1,v:2470},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},46:{hpMax_1:{qa:1,v:1050},hpMax_2:{qa:1,v:1530},hpMax_3:{qa:1,v:2020},hpMax_4:{qa:1,v:2520},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},47:{hpMax_1:{qa:1,v:1070},hpMax_2:{qa:1,v:1560},hpMax_3:{qa:1,v:2060},hpMax_4:{qa:1,v:2570},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},48:{hpMax_1:{qa:1,v:1090},hpMax_2:{qa:1,v:1590},hpMax_3:{qa:1,v:2100},hpMax_4:{qa:1,v:2620},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},49:{hpMax_1:{qa:1,v:1110},hpMax_2:{qa:1,v:1620},hpMax_3:{qa:1,v:2140},hpMax_4:{qa:1,v:2670},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},50:{hpMax_1:{qa:1,v:1130},hpMax_2:{qa:1,v:1650},hpMax_3:{qa:1,v:2180},hpMax_4:{qa:1,v:2720},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},51:{hpMax_1:{qa:1,v:1150},hpMax_2:{qa:1,v:1680},hpMax_3:{qa:1,v:2220},hpMax_4:{qa:1,v:2770},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},52:{hpMax_1:{qa:1,v:1170},hpMax_2:{qa:1,v:1710},hpMax_3:{qa:1,v:2260},hpMax_4:{qa:1,v:2820},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},53:{hpMax_1:{qa:1,v:1190},hpMax_2:{qa:1,v:1740},hpMax_3:{qa:1,v:2300},hpMax_4:{qa:1,v:2870},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},54:{hpMax_1:{qa:1,v:1210},hpMax_2:{qa:1,v:1770},hpMax_3:{qa:1,v:2340},hpMax_4:{qa:1,v:2920},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},55:{hpMax_1:{qa:1,v:1230},hpMax_2:{qa:1,v:1800},hpMax_3:{qa:1,v:2380},hpMax_4:{qa:1,v:2970},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},56:{hpMax_1:{qa:1,v:1250},hpMax_2:{qa:1,v:1830},hpMax_3:{qa:1,v:2420},hpMax_4:{qa:1,v:3020},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},57:{hpMax_1:{qa:1,v:1270},hpMax_2:{qa:1,v:1860},hpMax_3:{qa:1,v:2460},hpMax_4:{qa:1,v:3070},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},58:{hpMax_1:{qa:1,v:1290},hpMax_2:{qa:1,v:1890},hpMax_3:{qa:1,v:2500},hpMax_4:{qa:1,v:3120},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},59:{hpMax_1:{qa:1,v:1310},hpMax_2:{qa:1,v:1920},hpMax_3:{qa:1,v:2540},hpMax_4:{qa:1,v:3170},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}},60:{hpMax_1:{qa:1,v:1330},hpMax_2:{qa:1,v:1950},hpMax_3:{qa:1,v:2580},hpMax_4:{qa:1,v:3220},healScale:{qa:1,v:.1},OnKillRegen2:{qa:3,v:{percent:.01}},itemDuration:{qa:4,v:2}}},i.YF3={1:{hpMax_1:{qa:1,v:150},hpMax_2:{qa:1,v:180},hpMax_3:{qa:1,v:220},hpMax_4:{qa:1,v:270},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},2:{hpMax_1:{qa:1,v:170},hpMax_2:{qa:1,v:210},hpMax_3:{qa:1,v:260},hpMax_4:{qa:1,v:320},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},3:{hpMax_1:{qa:1,v:190},hpMax_2:{qa:1,v:240},hpMax_3:{qa:1,v:300},hpMax_4:{qa:1,v:370},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},4:{hpMax_1:{qa:1,v:210},hpMax_2:{qa:1,v:270},hpMax_3:{qa:1,v:340},hpMax_4:{qa:1,v:420},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},5:{hpMax_1:{qa:1,v:230},hpMax_2:{qa:1,v:300},hpMax_3:{qa:1,v:380},hpMax_4:{qa:1,v:470},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},6:{hpMax_1:{qa:1,v:250},hpMax_2:{qa:1,v:330},hpMax_3:{qa:1,v:420},hpMax_4:{qa:1,v:520},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},7:{hpMax_1:{qa:1,v:270},hpMax_2:{qa:1,v:360},hpMax_3:{qa:1,v:460},hpMax_4:{qa:1,v:570},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},8:{hpMax_1:{qa:1,v:290},hpMax_2:{qa:1,v:390},hpMax_3:{qa:1,v:500},hpMax_4:{qa:1,v:620},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},9:{hpMax_1:{qa:1,v:310},hpMax_2:{qa:1,v:420},hpMax_3:{qa:1,v:540},hpMax_4:{qa:1,v:670},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},10:{hpMax_1:{qa:1,v:330},hpMax_2:{qa:1,v:450},hpMax_3:{qa:1,v:580},hpMax_4:{qa:1,v:720},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},11:{hpMax_1:{qa:1,v:350},hpMax_2:{qa:1,v:480},hpMax_3:{qa:1,v:620},hpMax_4:{qa:1,v:770},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},12:{hpMax_1:{qa:1,v:370},hpMax_2:{qa:1,v:510},hpMax_3:{qa:1,v:660},hpMax_4:{qa:1,v:820},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},13:{hpMax_1:{qa:1,v:390},hpMax_2:{qa:1,v:540},hpMax_3:{qa:1,v:700},hpMax_4:{qa:1,v:870},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},14:{hpMax_1:{qa:1,v:410},hpMax_2:{qa:1,v:570},hpMax_3:{qa:1,v:740},hpMax_4:{qa:1,v:920},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},15:{hpMax_1:{qa:1,v:430},hpMax_2:{qa:1,v:600},hpMax_3:{qa:1,v:780},hpMax_4:{qa:1,v:970},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},16:{hpMax_1:{qa:1,v:450},hpMax_2:{qa:1,v:630},hpMax_3:{qa:1,v:820},hpMax_4:{qa:1,v:1020},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},17:{hpMax_1:{qa:1,v:470},hpMax_2:{qa:1,v:660},hpMax_3:{qa:1,v:860},hpMax_4:{qa:1,v:1070},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},18:{hpMax_1:{qa:1,v:490},hpMax_2:{qa:1,v:690},hpMax_3:{qa:1,v:900},hpMax_4:{qa:1,v:1120},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},19:{hpMax_1:{qa:1,v:510},hpMax_2:{qa:1,v:720},hpMax_3:{qa:1,v:940},hpMax_4:{qa:1,v:1170},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},20:{hpMax_1:{qa:1,v:530},hpMax_2:{qa:1,v:750},hpMax_3:{qa:1,v:980},hpMax_4:{qa:1,v:1220},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},21:{hpMax_1:{qa:1,v:550},hpMax_2:{qa:1,v:780},hpMax_3:{qa:1,v:1020},hpMax_4:{qa:1,v:1270},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},22:{hpMax_1:{qa:1,v:570},hpMax_2:{qa:1,v:810},hpMax_3:{qa:1,v:1060},hpMax_4:{qa:1,v:1320},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},23:{hpMax_1:{qa:1,v:590},hpMax_2:{qa:1,v:840},hpMax_3:{qa:1,v:1100},hpMax_4:{qa:1,v:1370},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},24:{hpMax_1:{qa:1,v:610},hpMax_2:{qa:1,v:870},hpMax_3:{qa:1,v:1140},hpMax_4:{qa:1,v:1420},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},25:{hpMax_1:{qa:1,v:630},hpMax_2:{qa:1,v:900},hpMax_3:{qa:1,v:1180},hpMax_4:{qa:1,v:1470},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},26:{hpMax_1:{qa:1,v:650},hpMax_2:{qa:1,v:930},hpMax_3:{qa:1,v:1220},hpMax_4:{qa:1,v:1520},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},27:{hpMax_1:{qa:1,v:670},hpMax_2:{qa:1,v:960},hpMax_3:{qa:1,v:1260},hpMax_4:{qa:1,v:1570},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},28:{hpMax_1:{qa:1,v:690},hpMax_2:{qa:1,v:990},hpMax_3:{qa:1,v:1300},hpMax_4:{qa:1,v:1620},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},29:{hpMax_1:{qa:1,v:710},hpMax_2:{qa:1,v:1020},hpMax_3:{qa:1,v:1340},hpMax_4:{qa:1,v:1670},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},30:{hpMax_1:{qa:1,v:730},hpMax_2:{qa:1,v:1050},hpMax_3:{qa:1,v:1380},hpMax_4:{qa:1,v:1720},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},31:{hpMax_1:{qa:1,v:750},hpMax_2:{qa:1,v:1080},hpMax_3:{qa:1,v:1420},hpMax_4:{qa:1,v:1770},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},32:{hpMax_1:{qa:1,v:770},hpMax_2:{qa:1,v:1110},hpMax_3:{qa:1,v:1460},hpMax_4:{qa:1,v:1820},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},33:{hpMax_1:{qa:1,v:790},hpMax_2:{qa:1,v:1140},hpMax_3:{qa:1,v:1500},hpMax_4:{qa:1,v:1870},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},34:{hpMax_1:{qa:1,v:810},hpMax_2:{qa:1,v:1170},hpMax_3:{qa:1,v:1540},hpMax_4:{qa:1,v:1920},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},35:{hpMax_1:{qa:1,v:830},hpMax_2:{qa:1,v:1200},hpMax_3:{qa:1,v:1580},hpMax_4:{qa:1,v:1970},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},36:{hpMax_1:{qa:1,v:850},hpMax_2:{qa:1,v:1230},hpMax_3:{qa:1,v:1620},hpMax_4:{qa:1,v:2020},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},37:{hpMax_1:{qa:1,v:870},hpMax_2:{qa:1,v:1260},hpMax_3:{qa:1,v:1660},hpMax_4:{qa:1,v:2070},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},38:{hpMax_1:{qa:1,v:890},hpMax_2:{qa:1,v:1290},hpMax_3:{qa:1,v:1700},hpMax_4:{qa:1,v:2120},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},39:{hpMax_1:{qa:1,v:910},hpMax_2:{qa:1,v:1320},hpMax_3:{qa:1,v:1740},hpMax_4:{qa:1,v:2170},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},40:{hpMax_1:{qa:1,v:930},hpMax_2:{qa:1,v:1350},hpMax_3:{qa:1,v:1780},hpMax_4:{qa:1,v:2220},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},41:{hpMax_1:{qa:1,v:950},hpMax_2:{qa:1,v:1380},hpMax_3:{qa:1,v:1820},hpMax_4:{qa:1,v:2270},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},42:{hpMax_1:{qa:1,v:970},hpMax_2:{qa:1,v:1410},hpMax_3:{qa:1,v:1860},hpMax_4:{qa:1,v:2320},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},43:{hpMax_1:{qa:1,v:990},hpMax_2:{qa:1,v:1440},hpMax_3:{qa:1,v:1900},hpMax_4:{qa:1,v:2370},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},44:{hpMax_1:{qa:1,v:1010},hpMax_2:{qa:1,v:1470},hpMax_3:{qa:1,v:1940},hpMax_4:{qa:1,v:2420},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},45:{hpMax_1:{qa:1,v:1030},hpMax_2:{qa:1,v:1500},hpMax_3:{qa:1,v:1980},hpMax_4:{qa:1,v:2470},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},46:{hpMax_1:{qa:1,v:1050},hpMax_2:{qa:1,v:1530},hpMax_3:{qa:1,v:2020},hpMax_4:{qa:1,v:2520},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},47:{hpMax_1:{qa:1,v:1070},hpMax_2:{qa:1,v:1560},hpMax_3:{qa:1,v:2060},hpMax_4:{qa:1,v:2570},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},48:{hpMax_1:{qa:1,v:1090},hpMax_2:{qa:1,v:1590},hpMax_3:{qa:1,v:2100},hpMax_4:{qa:1,v:2620},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},49:{hpMax_1:{qa:1,v:1110},hpMax_2:{qa:1,v:1620},hpMax_3:{qa:1,v:2140},hpMax_4:{qa:1,v:2670},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},50:{hpMax_1:{qa:1,v:1130},hpMax_2:{qa:1,v:1650},hpMax_3:{qa:1,v:2180},hpMax_4:{qa:1,v:2720},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},51:{hpMax_1:{qa:1,v:1150},hpMax_2:{qa:1,v:1680},hpMax_3:{qa:1,v:2220},hpMax_4:{qa:1,v:2770},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},52:{hpMax_1:{qa:1,v:1170},hpMax_2:{qa:1,v:1710},hpMax_3:{qa:1,v:2260},hpMax_4:{qa:1,v:2820},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},53:{hpMax_1:{qa:1,v:1190},hpMax_2:{qa:1,v:1740},hpMax_3:{qa:1,v:2300},hpMax_4:{qa:1,v:2870},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},54:{hpMax_1:{qa:1,v:1210},hpMax_2:{qa:1,v:1770},hpMax_3:{qa:1,v:2340},hpMax_4:{qa:1,v:2920},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},55:{hpMax_1:{qa:1,v:1230},hpMax_2:{qa:1,v:1800},hpMax_3:{qa:1,v:2380},hpMax_4:{qa:1,v:2970},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},56:{hpMax_1:{qa:1,v:1250},hpMax_2:{qa:1,v:1830},hpMax_3:{qa:1,v:2420},hpMax_4:{qa:1,v:3020},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},57:{hpMax_1:{qa:1,v:1270},hpMax_2:{qa:1,v:1860},hpMax_3:{qa:1,v:2460},hpMax_4:{qa:1,v:3070},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},58:{hpMax_1:{qa:1,v:1290},hpMax_2:{qa:1,v:1890},hpMax_3:{qa:1,v:2500},hpMax_4:{qa:1,v:3120},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},59:{hpMax_1:{qa:1,v:1310},hpMax_2:{qa:1,v:1920},hpMax_3:{qa:1,v:2540},hpMax_4:{qa:1,v:3170},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}},60:{hpMax_1:{qa:1,v:1330},hpMax_2:{qa:1,v:1950},hpMax_3:{qa:1,v:2580},hpMax_4:{qa:1,v:3220},hurtScale:{qa:1,v:.03},healScale:{qa:3,v:.1},OnHurtGetAttr:{qa:4,v:{}}}},i.TK={1:{dmgReduce_1:{qa:1,v:5},dmgReduce_2:{qa:1,v:7},dmgReduce_3:{qa:1,v:10},dmgReduce_4:{qa:1,v:14},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},2:{dmgReduce_1:{qa:1,v:6},dmgReduce_2:{qa:1,v:9},dmgReduce_3:{qa:1,v:13},dmgReduce_4:{qa:1,v:18},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},3:{dmgReduce_1:{qa:1,v:7},dmgReduce_2:{qa:1,v:11},dmgReduce_3:{qa:1,v:16},dmgReduce_4:{qa:1,v:22},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},4:{dmgReduce_1:{qa:1,v:8},dmgReduce_2:{qa:1,v:13},dmgReduce_3:{qa:1,v:19},dmgReduce_4:{qa:1,v:26},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},5:{dmgReduce_1:{qa:1,v:9},dmgReduce_2:{qa:1,v:15},dmgReduce_3:{qa:1,v:22},dmgReduce_4:{qa:1,v:30},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},6:{dmgReduce_1:{qa:1,v:10},dmgReduce_2:{qa:1,v:17},dmgReduce_3:{qa:1,v:25},dmgReduce_4:{qa:1,v:34},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},7:{dmgReduce_1:{qa:1,v:11},dmgReduce_2:{qa:1,v:19},dmgReduce_3:{qa:1,v:28},dmgReduce_4:{qa:1,v:38},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},8:{dmgReduce_1:{qa:1,v:12},dmgReduce_2:{qa:1,v:21},dmgReduce_3:{qa:1,v:31},dmgReduce_4:{qa:1,v:42},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},9:{dmgReduce_1:{qa:1,v:13},dmgReduce_2:{qa:1,v:23},dmgReduce_3:{qa:1,v:34},dmgReduce_4:{qa:1,v:46},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},10:{dmgReduce_1:{qa:1,v:14},dmgReduce_2:{qa:1,v:25},dmgReduce_3:{qa:1,v:37},dmgReduce_4:{qa:1,v:50},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},11:{dmgReduce_1:{qa:1,v:15},dmgReduce_2:{qa:1,v:27},dmgReduce_3:{qa:1,v:40},dmgReduce_4:{qa:1,v:54},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},12:{dmgReduce_1:{qa:1,v:16},dmgReduce_2:{qa:1,v:29},dmgReduce_3:{qa:1,v:43},dmgReduce_4:{qa:1,v:58},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},13:{dmgReduce_1:{qa:1,v:17},dmgReduce_2:{qa:1,v:31},dmgReduce_3:{qa:1,v:46},dmgReduce_4:{qa:1,v:62},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},14:{dmgReduce_1:{qa:1,v:18},dmgReduce_2:{qa:1,v:33},dmgReduce_3:{qa:1,v:49},dmgReduce_4:{qa:1,v:66},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},15:{dmgReduce_1:{qa:1,v:19},dmgReduce_2:{qa:1,v:35},dmgReduce_3:{qa:1,v:52},dmgReduce_4:{qa:1,v:70},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},16:{dmgReduce_1:{qa:1,v:20},dmgReduce_2:{qa:1,v:37},dmgReduce_3:{qa:1,v:55},dmgReduce_4:{qa:1,v:74},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},17:{dmgReduce_1:{qa:1,v:21},dmgReduce_2:{qa:1,v:39},dmgReduce_3:{qa:1,v:58},dmgReduce_4:{qa:1,v:78},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},18:{dmgReduce_1:{qa:1,v:22},dmgReduce_2:{qa:1,v:41},dmgReduce_3:{qa:1,v:61},dmgReduce_4:{qa:1,v:82},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},19:{dmgReduce_1:{qa:1,v:23},dmgReduce_2:{qa:1,v:43},dmgReduce_3:{qa:1,v:64},dmgReduce_4:{qa:1,v:86},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},20:{dmgReduce_1:{qa:1,v:24},dmgReduce_2:{qa:1,v:45},dmgReduce_3:{qa:1,v:67},dmgReduce_4:{qa:1,v:90},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},21:{dmgReduce_1:{qa:1,v:25},dmgReduce_2:{qa:1,v:47},dmgReduce_3:{qa:1,v:70},dmgReduce_4:{qa:1,v:94},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},22:{dmgReduce_1:{qa:1,v:26},dmgReduce_2:{qa:1,v:49},dmgReduce_3:{qa:1,v:73},dmgReduce_4:{qa:1,v:98},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},23:{dmgReduce_1:{qa:1,v:27},dmgReduce_2:{qa:1,v:51},dmgReduce_3:{qa:1,v:76},dmgReduce_4:{qa:1,v:102},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},24:{dmgReduce_1:{qa:1,v:28},dmgReduce_2:{qa:1,v:53},dmgReduce_3:{qa:1,v:79},dmgReduce_4:{qa:1,v:106},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},25:{dmgReduce_1:{qa:1,v:29},dmgReduce_2:{qa:1,v:55},dmgReduce_3:{qa:1,v:82},dmgReduce_4:{qa:1,v:110},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},26:{dmgReduce_1:{qa:1,v:30},dmgReduce_2:{qa:1,v:57},dmgReduce_3:{qa:1,v:85},dmgReduce_4:{qa:1,v:114},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},27:{dmgReduce_1:{qa:1,v:31},dmgReduce_2:{qa:1,v:59},dmgReduce_3:{qa:1,v:88},dmgReduce_4:{qa:1,v:118},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},28:{dmgReduce_1:{qa:1,v:32},dmgReduce_2:{qa:1,v:61},dmgReduce_3:{qa:1,v:91},dmgReduce_4:{qa:1,v:122},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},29:{dmgReduce_1:{qa:1,v:33},dmgReduce_2:{qa:1,v:63},dmgReduce_3:{qa:1,v:94},dmgReduce_4:{qa:1,v:126},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},30:{dmgReduce_1:{qa:1,v:34},dmgReduce_2:{qa:1,v:65},dmgReduce_3:{qa:1,v:97},dmgReduce_4:{qa:1,v:130},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},31:{dmgReduce_1:{qa:1,v:35},dmgReduce_2:{qa:1,v:67},dmgReduce_3:{qa:1,v:100},dmgReduce_4:{qa:1,v:134},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},32:{dmgReduce_1:{qa:1,v:36},dmgReduce_2:{qa:1,v:69},dmgReduce_3:{qa:1,v:103},dmgReduce_4:{qa:1,v:138},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},33:{dmgReduce_1:{qa:1,v:37},dmgReduce_2:{qa:1,v:71},dmgReduce_3:{qa:1,v:106},dmgReduce_4:{qa:1,v:142},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},34:{dmgReduce_1:{qa:1,v:38},dmgReduce_2:{qa:1,v:73},dmgReduce_3:{qa:1,v:109},dmgReduce_4:{qa:1,v:146},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},35:{dmgReduce_1:{qa:1,v:39},dmgReduce_2:{qa:1,v:75},dmgReduce_3:{qa:1,v:112},dmgReduce_4:{qa:1,v:150},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},36:{dmgReduce_1:{qa:1,v:40},dmgReduce_2:{qa:1,v:77},dmgReduce_3:{qa:1,v:115},dmgReduce_4:{qa:1,v:154},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},37:{dmgReduce_1:{qa:1,v:41},dmgReduce_2:{qa:1,v:79},dmgReduce_3:{qa:1,v:118},dmgReduce_4:{qa:1,v:158},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},38:{dmgReduce_1:{qa:1,v:42},dmgReduce_2:{qa:1,v:81},dmgReduce_3:{qa:1,v:121},dmgReduce_4:{qa:1,v:162},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},39:{dmgReduce_1:{qa:1,v:43},dmgReduce_2:{qa:1,v:83},dmgReduce_3:{qa:1,v:124},dmgReduce_4:{qa:1,v:166},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},40:{dmgReduce_1:{qa:1,v:44},dmgReduce_2:{qa:1,v:85},dmgReduce_3:{qa:1,v:127},dmgReduce_4:{qa:1,v:170},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},41:{dmgReduce_1:{qa:1,v:45},dmgReduce_2:{qa:1,v:87},dmgReduce_3:{qa:1,v:130},dmgReduce_4:{qa:1,v:174},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},42:{dmgReduce_1:{qa:1,v:46},dmgReduce_2:{qa:1,v:89},dmgReduce_3:{qa:1,v:133},dmgReduce_4:{qa:1,v:178},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},43:{dmgReduce_1:{qa:1,v:47},dmgReduce_2:{qa:1,v:91},dmgReduce_3:{qa:1,v:136},dmgReduce_4:{qa:1,v:182},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},44:{dmgReduce_1:{qa:1,v:48},dmgReduce_2:{qa:1,v:93},dmgReduce_3:{qa:1,v:139},dmgReduce_4:{qa:1,v:186},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},45:{dmgReduce_1:{qa:1,v:49},dmgReduce_2:{qa:1,v:95},dmgReduce_3:{qa:1,v:142},dmgReduce_4:{qa:1,v:190},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},46:{dmgReduce_1:{qa:1,v:50},dmgReduce_2:{qa:1,v:97},dmgReduce_3:{qa:1,v:145},dmgReduce_4:{qa:1,v:194},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},47:{dmgReduce_1:{qa:1,v:51},dmgReduce_2:{qa:1,v:99},dmgReduce_3:{qa:1,v:148},dmgReduce_4:{qa:1,v:198},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},48:{dmgReduce_1:{qa:1,v:52},dmgReduce_2:{qa:1,v:101},dmgReduce_3:{qa:1,v:151},dmgReduce_4:{qa:1,v:202},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},49:{dmgReduce_1:{qa:1,v:53},dmgReduce_2:{qa:1,v:103},dmgReduce_3:{qa:1,v:154},dmgReduce_4:{qa:1,v:206},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},50:{dmgReduce_1:{qa:1,v:54},dmgReduce_2:{qa:1,v:105},dmgReduce_3:{qa:1,v:157},dmgReduce_4:{qa:1,v:210},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},51:{dmgReduce_1:{qa:1,v:55},dmgReduce_2:{qa:1,v:107},dmgReduce_3:{qa:1,v:160},dmgReduce_4:{qa:1,v:214},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},52:{dmgReduce_1:{qa:1,v:56},dmgReduce_2:{qa:1,v:109},dmgReduce_3:{qa:1,v:163},dmgReduce_4:{qa:1,v:218},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},53:{dmgReduce_1:{qa:1,v:57},dmgReduce_2:{qa:1,v:111},dmgReduce_3:{qa:1,v:166},dmgReduce_4:{qa:1,v:222},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},54:{dmgReduce_1:{qa:1,v:58},dmgReduce_2:{qa:1,v:113},dmgReduce_3:{qa:1,v:169},dmgReduce_4:{qa:1,v:226},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},55:{dmgReduce_1:{qa:1,v:59},dmgReduce_2:{qa:1,v:115},dmgReduce_3:{qa:1,v:172},dmgReduce_4:{qa:1,v:230},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},56:{dmgReduce_1:{qa:1,v:60},dmgReduce_2:{qa:1,v:117},dmgReduce_3:{qa:1,v:175},dmgReduce_4:{qa:1,v:234},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},57:{dmgReduce_1:{qa:1,v:61},dmgReduce_2:{qa:1,v:119},dmgReduce_3:{qa:1,v:178},dmgReduce_4:{qa:1,v:238},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},58:{dmgReduce_1:{qa:1,v:62},dmgReduce_2:{qa:1,v:121},dmgReduce_3:{qa:1,v:181},dmgReduce_4:{qa:1,v:242},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},59:{dmgReduce_1:{qa:1,v:63},dmgReduce_2:{qa:1,v:123},dmgReduce_3:{qa:1,v:184},dmgReduce_4:{qa:1,v:246},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}},60:{dmgReduce_1:{qa:1,v:64},dmgReduce_2:{qa:1,v:125},dmgReduce_3:{qa:1,v:187},dmgReduce_4:{qa:1,v:250},hurtScale:{qa:3,v:.05},onMoveAtkSpd:{qa:4,v:{moveTime:1,attrIndex:"atkSpd",attrNum:.2,buffTime:1}}}},i.TK2={1:{dmgReduce_1:{qa:1,v:5},dmgReduce_2:{qa:1,v:7},dmgReduce_3:{qa:1,v:10},dmgReduce_4:{qa:1,v:14},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},2:{dmgReduce_1:{qa:1,v:6},dmgReduce_2:{qa:1,v:9},dmgReduce_3:{qa:1,v:13},dmgReduce_4:{qa:1,v:18},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},3:{dmgReduce_1:{qa:1,v:7},dmgReduce_2:{qa:1,v:11},dmgReduce_3:{qa:1,v:16},dmgReduce_4:{qa:1,v:22},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},4:{dmgReduce_1:{qa:1,v:8},dmgReduce_2:{qa:1,v:13},dmgReduce_3:{qa:1,v:19},dmgReduce_4:{qa:1,v:26},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},5:{dmgReduce_1:{qa:1,v:9},dmgReduce_2:{qa:1,v:15},dmgReduce_3:{qa:1,v:22},dmgReduce_4:{qa:1,v:30},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},6:{dmgReduce_1:{qa:1,v:10},dmgReduce_2:{qa:1,v:17},dmgReduce_3:{qa:1,v:25},dmgReduce_4:{qa:1,v:34},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},7:{dmgReduce_1:{qa:1,v:11},dmgReduce_2:{qa:1,v:19},dmgReduce_3:{qa:1,v:28},dmgReduce_4:{qa:1,v:38},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},8:{dmgReduce_1:{qa:1,v:12},dmgReduce_2:{qa:1,v:21},dmgReduce_3:{qa:1,v:31},dmgReduce_4:{qa:1,v:42},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},9:{dmgReduce_1:{qa:1,v:13},dmgReduce_2:{qa:1,v:23},dmgReduce_3:{qa:1,v:34},dmgReduce_4:{qa:1,v:46},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},10:{dmgReduce_1:{qa:1,v:14},dmgReduce_2:{qa:1,v:25},dmgReduce_3:{qa:1,v:37},dmgReduce_4:{qa:1,v:50},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},11:{dmgReduce_1:{qa:1,v:15},dmgReduce_2:{qa:1,v:27},dmgReduce_3:{qa:1,v:40},dmgReduce_4:{qa:1,v:54},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},12:{dmgReduce_1:{qa:1,v:16},dmgReduce_2:{qa:1,v:29},dmgReduce_3:{qa:1,v:43},dmgReduce_4:{qa:1,v:58},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},13:{dmgReduce_1:{qa:1,v:17},dmgReduce_2:{qa:1,v:31},dmgReduce_3:{qa:1,v:46},dmgReduce_4:{qa:1,v:62},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},14:{dmgReduce_1:{qa:1,v:18},dmgReduce_2:{qa:1,v:33},dmgReduce_3:{qa:1,v:49},dmgReduce_4:{qa:1,v:66},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},15:{dmgReduce_1:{qa:1,v:19},dmgReduce_2:{qa:1,v:35},dmgReduce_3:{qa:1,v:52},dmgReduce_4:{qa:1,v:70},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},16:{dmgReduce_1:{qa:1,v:20},dmgReduce_2:{qa:1,v:37},dmgReduce_3:{qa:1,v:55},dmgReduce_4:{qa:1,v:74},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},17:{dmgReduce_1:{qa:1,v:21},dmgReduce_2:{qa:1,v:39},dmgReduce_3:{qa:1,v:58},dmgReduce_4:{qa:1,v:78},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},18:{dmgReduce_1:{qa:1,v:22},dmgReduce_2:{qa:1,v:41},dmgReduce_3:{qa:1,v:61},dmgReduce_4:{qa:1,v:82},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},19:{dmgReduce_1:{qa:1,v:23},dmgReduce_2:{qa:1,v:43},dmgReduce_3:{qa:1,v:64},dmgReduce_4:{qa:1,v:86},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},20:{dmgReduce_1:{qa:1,v:24},dmgReduce_2:{qa:1,v:45},dmgReduce_3:{qa:1,v:67},dmgReduce_4:{qa:1,v:90},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},21:{dmgReduce_1:{qa:1,v:25},dmgReduce_2:{qa:1,v:47},dmgReduce_3:{qa:1,v:70},dmgReduce_4:{qa:1,v:94},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},22:{dmgReduce_1:{qa:1,v:26},dmgReduce_2:{qa:1,v:49},dmgReduce_3:{qa:1,v:73},dmgReduce_4:{qa:1,v:98},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},23:{dmgReduce_1:{qa:1,v:27},dmgReduce_2:{qa:1,v:51},dmgReduce_3:{qa:1,v:76},dmgReduce_4:{qa:1,v:102},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},24:{dmgReduce_1:{qa:1,v:28},dmgReduce_2:{qa:1,v:53},dmgReduce_3:{qa:1,v:79},dmgReduce_4:{qa:1,v:106},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},25:{dmgReduce_1:{qa:1,v:29},dmgReduce_2:{qa:1,v:55},dmgReduce_3:{qa:1,v:82},dmgReduce_4:{qa:1,v:110},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},26:{dmgReduce_1:{qa:1,v:30},dmgReduce_2:{qa:1,v:57},dmgReduce_3:{qa:1,v:85},dmgReduce_4:{qa:1,v:114},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},27:{dmgReduce_1:{qa:1,v:31},dmgReduce_2:{qa:1,v:59},dmgReduce_3:{qa:1,v:88},dmgReduce_4:{qa:1,v:118},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},28:{dmgReduce_1:{qa:1,v:32},dmgReduce_2:{qa:1,v:61},dmgReduce_3:{qa:1,v:91},dmgReduce_4:{qa:1,v:122},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},29:{dmgReduce_1:{qa:1,v:33},dmgReduce_2:{qa:1,v:63},dmgReduce_3:{qa:1,v:94},dmgReduce_4:{qa:1,v:126},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},30:{dmgReduce_1:{qa:1,v:34},dmgReduce_2:{qa:1,v:65},dmgReduce_3:{qa:1,v:97},dmgReduce_4:{qa:1,v:130},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},31:{dmgReduce_1:{qa:1,v:35},dmgReduce_2:{qa:1,v:67},dmgReduce_3:{qa:1,v:100},dmgReduce_4:{qa:1,v:134},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},32:{dmgReduce_1:{qa:1,v:36},dmgReduce_2:{qa:1,v:69},dmgReduce_3:{qa:1,v:103},dmgReduce_4:{qa:1,v:138},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},33:{dmgReduce_1:{qa:1,v:37},dmgReduce_2:{qa:1,v:71},dmgReduce_3:{qa:1,v:106},dmgReduce_4:{qa:1,v:142},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},34:{dmgReduce_1:{qa:1,v:38},dmgReduce_2:{qa:1,v:73},dmgReduce_3:{qa:1,v:109},dmgReduce_4:{qa:1,v:146},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},35:{dmgReduce_1:{qa:1,v:39},dmgReduce_2:{qa:1,v:75},dmgReduce_3:{qa:1,v:112},dmgReduce_4:{qa:1,v:150},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},36:{dmgReduce_1:{qa:1,v:40},dmgReduce_2:{qa:1,v:77},dmgReduce_3:{qa:1,v:115},dmgReduce_4:{qa:1,v:154},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},37:{dmgReduce_1:{qa:1,v:41},dmgReduce_2:{qa:1,v:79},dmgReduce_3:{qa:1,v:118},dmgReduce_4:{qa:1,v:158},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},38:{dmgReduce_1:{qa:1,v:42},dmgReduce_2:{qa:1,v:81},dmgReduce_3:{qa:1,v:121},dmgReduce_4:{qa:1,v:162},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},39:{dmgReduce_1:{qa:1,v:43},dmgReduce_2:{qa:1,v:83},dmgReduce_3:{qa:1,v:124},dmgReduce_4:{qa:1,v:166},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},40:{dmgReduce_1:{qa:1,v:44},dmgReduce_2:{qa:1,v:85},dmgReduce_3:{qa:1,v:127},dmgReduce_4:{qa:1,v:170},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},41:{dmgReduce_1:{qa:1,v:45},dmgReduce_2:{qa:1,v:87},dmgReduce_3:{qa:1,v:130},dmgReduce_4:{qa:1,v:174},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},42:{dmgReduce_1:{qa:1,v:46},dmgReduce_2:{qa:1,v:89},dmgReduce_3:{qa:1,v:133},dmgReduce_4:{qa:1,v:178},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},43:{dmgReduce_1:{qa:1,v:47},dmgReduce_2:{qa:1,v:91},dmgReduce_3:{qa:1,v:136},dmgReduce_4:{qa:1,v:182},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},44:{dmgReduce_1:{qa:1,v:48},dmgReduce_2:{qa:1,v:93},dmgReduce_3:{qa:1,v:139},dmgReduce_4:{qa:1,v:186},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},45:{dmgReduce_1:{qa:1,v:49},dmgReduce_2:{qa:1,v:95},dmgReduce_3:{qa:1,v:142},dmgReduce_4:{qa:1,v:190},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},46:{dmgReduce_1:{qa:1,v:50},dmgReduce_2:{qa:1,v:97},dmgReduce_3:{qa:1,v:145},dmgReduce_4:{qa:1,v:194},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},47:{dmgReduce_1:{qa:1,v:51},dmgReduce_2:{qa:1,v:99},dmgReduce_3:{qa:1,v:148},dmgReduce_4:{qa:1,v:198},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},48:{dmgReduce_1:{qa:1,v:52},dmgReduce_2:{qa:1,v:101},dmgReduce_3:{qa:1,v:151},dmgReduce_4:{qa:1,v:202},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},49:{dmgReduce_1:{qa:1,v:53},dmgReduce_2:{qa:1,v:103},dmgReduce_3:{qa:1,v:154},dmgReduce_4:{qa:1,v:206},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},50:{dmgReduce_1:{qa:1,v:54},dmgReduce_2:{qa:1,v:105},dmgReduce_3:{qa:1,v:157},dmgReduce_4:{qa:1,v:210},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},51:{dmgReduce_1:{qa:1,v:55},dmgReduce_2:{qa:1,v:107},dmgReduce_3:{qa:1,v:160},dmgReduce_4:{qa:1,v:214},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},52:{dmgReduce_1:{qa:1,v:56},dmgReduce_2:{qa:1,v:109},dmgReduce_3:{qa:1,v:163},dmgReduce_4:{qa:1,v:218},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},53:{dmgReduce_1:{qa:1,v:57},dmgReduce_2:{qa:1,v:111},dmgReduce_3:{qa:1,v:166},dmgReduce_4:{qa:1,v:222},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},54:{dmgReduce_1:{qa:1,v:58},dmgReduce_2:{qa:1,v:113},dmgReduce_3:{qa:1,v:169},dmgReduce_4:{qa:1,v:226},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},55:{dmgReduce_1:{qa:1,v:59},dmgReduce_2:{qa:1,v:115},dmgReduce_3:{qa:1,v:172},dmgReduce_4:{qa:1,v:230},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},56:{dmgReduce_1:{qa:1,v:60},dmgReduce_2:{qa:1,v:117},dmgReduce_3:{qa:1,v:175},dmgReduce_4:{qa:1,v:234},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},57:{dmgReduce_1:{qa:1,v:61},dmgReduce_2:{qa:1,v:119},dmgReduce_3:{qa:1,v:178},dmgReduce_4:{qa:1,v:238},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},58:{dmgReduce_1:{qa:1,v:62},dmgReduce_2:{qa:1,v:121},dmgReduce_3:{qa:1,v:181},dmgReduce_4:{qa:1,v:242},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},59:{dmgReduce_1:{qa:1,v:63},dmgReduce_2:{qa:1,v:123},dmgReduce_3:{qa:1,v:184},dmgReduce_4:{qa:1,v:246},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}},60:{dmgReduce_1:{qa:1,v:64},dmgReduce_2:{qa:1,v:125},dmgReduce_3:{qa:1,v:187},dmgReduce_4:{qa:1,v:250},critBonus:{qa:3,v:.2},OnFirstBulletCrit:{qa:4,v:{buffTime:.5}}}},i.TK3={1:{dmgReduce_1:{qa:1,v:5},dmgReduce_2:{qa:1,v:7},dmgReduce_3:{qa:1,v:10},dmgReduce_4:{qa:1,v:14},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},2:{dmgReduce_1:{qa:1,v:6},dmgReduce_2:{qa:1,v:9},dmgReduce_3:{qa:1,v:13},dmgReduce_4:{qa:1,v:18},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},3:{dmgReduce_1:{qa:1,v:7},dmgReduce_2:{qa:1,v:11},dmgReduce_3:{qa:1,v:16},dmgReduce_4:{qa:1,v:22},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},4:{dmgReduce_1:{qa:1,v:8},dmgReduce_2:{qa:1,v:13},dmgReduce_3:{qa:1,v:19},dmgReduce_4:{qa:1,v:26},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},5:{dmgReduce_1:{qa:1,v:9},dmgReduce_2:{qa:1,v:15},dmgReduce_3:{qa:1,v:22},dmgReduce_4:{qa:1,v:30},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},6:{dmgReduce_1:{qa:1,v:10},dmgReduce_2:{qa:1,v:17},dmgReduce_3:{qa:1,v:25},dmgReduce_4:{qa:1,v:34},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},7:{dmgReduce_1:{qa:1,v:11},dmgReduce_2:{qa:1,v:19},dmgReduce_3:{qa:1,v:28},dmgReduce_4:{qa:1,v:38},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},8:{dmgReduce_1:{qa:1,v:12},dmgReduce_2:{qa:1,v:21},dmgReduce_3:{qa:1,v:31},dmgReduce_4:{qa:1,v:42},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},9:{dmgReduce_1:{qa:1,v:13},dmgReduce_2:{qa:1,v:23},dmgReduce_3:{qa:1,v:34},dmgReduce_4:{qa:1,v:46},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},10:{dmgReduce_1:{qa:1,v:14},dmgReduce_2:{qa:1,v:25},dmgReduce_3:{qa:1,v:37},dmgReduce_4:{qa:1,v:50},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},11:{dmgReduce_1:{qa:1,v:15},dmgReduce_2:{qa:1,v:27},dmgReduce_3:{qa:1,v:40},dmgReduce_4:{qa:1,v:54},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},12:{dmgReduce_1:{qa:1,v:16},dmgReduce_2:{qa:1,v:29},dmgReduce_3:{qa:1,v:43},dmgReduce_4:{qa:1,v:58},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},13:{dmgReduce_1:{qa:1,v:17},dmgReduce_2:{qa:1,v:31},dmgReduce_3:{qa:1,v:46},dmgReduce_4:{qa:1,v:62},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},14:{dmgReduce_1:{qa:1,v:18},dmgReduce_2:{qa:1,v:33},dmgReduce_3:{qa:1,v:49},dmgReduce_4:{qa:1,v:66},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},15:{dmgReduce_1:{qa:1,v:19},dmgReduce_2:{qa:1,v:35},dmgReduce_3:{qa:1,v:52},dmgReduce_4:{qa:1,v:70},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},16:{dmgReduce_1:{qa:1,v:20},dmgReduce_2:{qa:1,v:37},dmgReduce_3:{qa:1,v:55},dmgReduce_4:{qa:1,v:74},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},17:{dmgReduce_1:{qa:1,v:21},dmgReduce_2:{qa:1,v:39},dmgReduce_3:{qa:1,v:58},dmgReduce_4:{qa:1,v:78},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},18:{dmgReduce_1:{qa:1,v:22},dmgReduce_2:{qa:1,v:41},dmgReduce_3:{qa:1,v:61},dmgReduce_4:{qa:1,v:82},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},19:{dmgReduce_1:{qa:1,v:23},dmgReduce_2:{qa:1,v:43},dmgReduce_3:{qa:1,v:64},dmgReduce_4:{qa:1,v:86},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},20:{dmgReduce_1:{qa:1,v:24},dmgReduce_2:{qa:1,v:45},dmgReduce_3:{qa:1,v:67},dmgReduce_4:{qa:1,v:90},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},21:{dmgReduce_1:{qa:1,v:25},dmgReduce_2:{qa:1,v:47},dmgReduce_3:{qa:1,v:70},dmgReduce_4:{qa:1,v:94},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},22:{dmgReduce_1:{qa:1,v:26},dmgReduce_2:{qa:1,v:49},dmgReduce_3:{qa:1,v:73},dmgReduce_4:{qa:1,v:98},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},23:{dmgReduce_1:{qa:1,v:27},dmgReduce_2:{qa:1,v:51},dmgReduce_3:{qa:1,v:76},dmgReduce_4:{qa:1,v:102},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},24:{dmgReduce_1:{qa:1,v:28},dmgReduce_2:{qa:1,v:53},dmgReduce_3:{qa:1,v:79},dmgReduce_4:{qa:1,v:106},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},25:{dmgReduce_1:{qa:1,v:29},dmgReduce_2:{qa:1,v:55},dmgReduce_3:{qa:1,v:82},dmgReduce_4:{qa:1,v:110},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},26:{dmgReduce_1:{qa:1,v:30},dmgReduce_2:{qa:1,v:57},dmgReduce_3:{qa:1,v:85},dmgReduce_4:{qa:1,v:114},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},27:{dmgReduce_1:{qa:1,v:31},dmgReduce_2:{qa:1,v:59},dmgReduce_3:{qa:1,v:88},dmgReduce_4:{qa:1,v:118},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},28:{dmgReduce_1:{qa:1,v:32},dmgReduce_2:{qa:1,v:61},dmgReduce_3:{qa:1,v:91},dmgReduce_4:{qa:1,v:122},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},29:{dmgReduce_1:{qa:1,v:33},dmgReduce_2:{qa:1,v:63},dmgReduce_3:{qa:1,v:94},dmgReduce_4:{qa:1,v:126},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},30:{dmgReduce_1:{qa:1,v:34},dmgReduce_2:{qa:1,v:65},dmgReduce_3:{qa:1,v:97},dmgReduce_4:{qa:1,v:130},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},31:{dmgReduce_1:{qa:1,v:35},dmgReduce_2:{qa:1,v:67},dmgReduce_3:{qa:1,v:100},dmgReduce_4:{qa:1,v:134},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},32:{dmgReduce_1:{qa:1,v:36},dmgReduce_2:{qa:1,v:69},dmgReduce_3:{qa:1,v:103},dmgReduce_4:{qa:1,v:138},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},33:{dmgReduce_1:{qa:1,v:37},dmgReduce_2:{qa:1,v:71},dmgReduce_3:{qa:1,v:106},dmgReduce_4:{qa:1,v:142},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},34:{dmgReduce_1:{qa:1,v:38},dmgReduce_2:{qa:1,v:73},dmgReduce_3:{qa:1,v:109},dmgReduce_4:{qa:1,v:146},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},35:{dmgReduce_1:{qa:1,v:39},dmgReduce_2:{qa:1,v:75},dmgReduce_3:{qa:1,v:112},dmgReduce_4:{qa:1,v:150},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},36:{dmgReduce_1:{qa:1,v:40},dmgReduce_2:{qa:1,v:77},dmgReduce_3:{qa:1,v:115},dmgReduce_4:{qa:1,v:154},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},37:{dmgReduce_1:{qa:1,v:41},dmgReduce_2:{qa:1,v:79},dmgReduce_3:{qa:1,v:118},dmgReduce_4:{qa:1,v:158},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},38:{dmgReduce_1:{qa:1,v:42},dmgReduce_2:{qa:1,v:81},dmgReduce_3:{qa:1,v:121},dmgReduce_4:{qa:1,v:162},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},39:{dmgReduce_1:{qa:1,v:43},dmgReduce_2:{qa:1,v:83},dmgReduce_3:{qa:1,v:124},dmgReduce_4:{qa:1,v:166},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},40:{dmgReduce_1:{qa:1,v:44},dmgReduce_2:{qa:1,v:85},dmgReduce_3:{qa:1,v:127},dmgReduce_4:{qa:1,v:170},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},41:{dmgReduce_1:{qa:1,v:45},dmgReduce_2:{qa:1,v:87},dmgReduce_3:{qa:1,v:130},dmgReduce_4:{qa:1,v:174},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},42:{dmgReduce_1:{qa:1,v:46},dmgReduce_2:{qa:1,v:89},dmgReduce_3:{qa:1,v:133},dmgReduce_4:{qa:1,v:178},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},43:{dmgReduce_1:{qa:1,v:47},dmgReduce_2:{qa:1,v:91},dmgReduce_3:{qa:1,v:136},dmgReduce_4:{qa:1,v:182},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},44:{dmgReduce_1:{qa:1,v:48},dmgReduce_2:{qa:1,v:93},dmgReduce_3:{qa:1,v:139},dmgReduce_4:{qa:1,v:186},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},45:{dmgReduce_1:{qa:1,v:49},dmgReduce_2:{qa:1,v:95},dmgReduce_3:{qa:1,v:142},dmgReduce_4:{qa:1,v:190},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},46:{dmgReduce_1:{qa:1,v:50},dmgReduce_2:{qa:1,v:97},dmgReduce_3:{qa:1,v:145},dmgReduce_4:{qa:1,v:194},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},47:{dmgReduce_1:{qa:1,v:51},dmgReduce_2:{qa:1,v:99},dmgReduce_3:{qa:1,v:148},dmgReduce_4:{qa:1,v:198},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},48:{dmgReduce_1:{qa:1,v:52},dmgReduce_2:{qa:1,v:101},dmgReduce_3:{qa:1,v:151},dmgReduce_4:{qa:1,v:202},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},49:{dmgReduce_1:{qa:1,v:53},dmgReduce_2:{qa:1,v:103},dmgReduce_3:{qa:1,v:154},dmgReduce_4:{qa:1,v:206},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},50:{dmgReduce_1:{qa:1,v:54},dmgReduce_2:{qa:1,v:105},dmgReduce_3:{qa:1,v:157},dmgReduce_4:{qa:1,v:210},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},51:{dmgReduce_1:{qa:1,v:55},dmgReduce_2:{qa:1,v:107},dmgReduce_3:{qa:1,v:160},dmgReduce_4:{qa:1,v:214},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},52:{dmgReduce_1:{qa:1,v:56},dmgReduce_2:{qa:1,v:109},dmgReduce_3:{qa:1,v:163},dmgReduce_4:{qa:1,v:218},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},53:{dmgReduce_1:{qa:1,v:57},dmgReduce_2:{qa:1,v:111},dmgReduce_3:{qa:1,v:166},dmgReduce_4:{qa:1,v:222},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},54:{dmgReduce_1:{qa:1,v:58},dmgReduce_2:{qa:1,v:113},dmgReduce_3:{qa:1,v:169},dmgReduce_4:{qa:1,v:226},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},55:{dmgReduce_1:{qa:1,v:59},dmgReduce_2:{qa:1,v:115},dmgReduce_3:{qa:1,v:172},dmgReduce_4:{qa:1,v:230},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},56:{dmgReduce_1:{qa:1,v:60},dmgReduce_2:{qa:1,v:117},dmgReduce_3:{qa:1,v:175},dmgReduce_4:{qa:1,v:234},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},57:{dmgReduce_1:{qa:1,v:61},dmgReduce_2:{qa:1,v:119},dmgReduce_3:{qa:1,v:178},dmgReduce_4:{qa:1,v:238},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},58:{dmgReduce_1:{qa:1,v:62},dmgReduce_2:{qa:1,v:121},dmgReduce_3:{qa:1,v:181},dmgReduce_4:{qa:1,v:242},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},59:{dmgReduce_1:{qa:1,v:63},dmgReduce_2:{qa:1,v:123},dmgReduce_3:{qa:1,v:184},dmgReduce_4:{qa:1,v:246},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}},60:{dmgReduce_1:{qa:1,v:64},dmgReduce_2:{qa:1,v:125},dmgReduce_3:{qa:1,v:187},dmgReduce_4:{qa:1,v:250},atkDmg:{qa:3,v:20},OnStandAtk:{qa:4,v:{standTime:2,attrIndex:"atkDmg",attrNum:.2}}}},i.SP={1:{bossAtkBonus_1:{qa:1,v:20},bossAtkBonus_2:{qa:1,v:26},bossAtkBonus_3:{qa:1,v:33},bossAtkBonus_4:{qa:1,v:41},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},2:{bossAtkBonus_1:{qa:1,v:25},bossAtkBonus_2:{qa:1,v:32},bossAtkBonus_3:{qa:1,v:40},bossAtkBonus_4:{qa:1,v:49},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},3:{bossAtkBonus_1:{qa:1,v:30},bossAtkBonus_2:{qa:1,v:38},bossAtkBonus_3:{qa:1,v:47},bossAtkBonus_4:{qa:1,v:57},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},4:{bossAtkBonus_1:{qa:1,v:35},bossAtkBonus_2:{qa:1,v:44},bossAtkBonus_3:{qa:1,v:54},bossAtkBonus_4:{qa:1,v:65},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},5:{bossAtkBonus_1:{qa:1,v:40},bossAtkBonus_2:{qa:1,v:50},bossAtkBonus_3:{qa:1,v:61},bossAtkBonus_4:{qa:1,v:73},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},6:{bossAtkBonus_1:{qa:1,v:45},bossAtkBonus_2:{qa:1,v:56},bossAtkBonus_3:{qa:1,v:68},bossAtkBonus_4:{qa:1,v:81},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},7:{bossAtkBonus_1:{qa:1,v:50},bossAtkBonus_2:{qa:1,v:62},bossAtkBonus_3:{qa:1,v:75},bossAtkBonus_4:{qa:1,v:89},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},8:{bossAtkBonus_1:{qa:1,v:55},bossAtkBonus_2:{qa:1,v:68},bossAtkBonus_3:{qa:1,v:82},bossAtkBonus_4:{qa:1,v:97},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},9:{bossAtkBonus_1:{qa:1,v:60},bossAtkBonus_2:{qa:1,v:74},bossAtkBonus_3:{qa:1,v:89},bossAtkBonus_4:{qa:1,v:105},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},10:{bossAtkBonus_1:{qa:1,v:65},bossAtkBonus_2:{qa:1,v:80},bossAtkBonus_3:{qa:1,v:96},bossAtkBonus_4:{qa:1,v:113},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},11:{bossAtkBonus_1:{qa:1,v:70},bossAtkBonus_2:{qa:1,v:86},bossAtkBonus_3:{qa:1,v:103},bossAtkBonus_4:{qa:1,v:121},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},12:{bossAtkBonus_1:{qa:1,v:75},bossAtkBonus_2:{qa:1,v:92},bossAtkBonus_3:{qa:1,v:110},bossAtkBonus_4:{qa:1,v:129},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},13:{bossAtkBonus_1:{qa:1,v:80},bossAtkBonus_2:{qa:1,v:98},bossAtkBonus_3:{qa:1,v:117},bossAtkBonus_4:{qa:1,v:137},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},14:{bossAtkBonus_1:{qa:1,v:85},bossAtkBonus_2:{qa:1,v:104},bossAtkBonus_3:{qa:1,v:124},bossAtkBonus_4:{qa:1,v:145},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},15:{bossAtkBonus_1:{qa:1,v:90},bossAtkBonus_2:{qa:1,v:110},bossAtkBonus_3:{qa:1,v:131},bossAtkBonus_4:{qa:1,v:153},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},16:{bossAtkBonus_1:{qa:1,v:95},bossAtkBonus_2:{qa:1,v:116},bossAtkBonus_3:{qa:1,v:138},bossAtkBonus_4:{qa:1,v:161},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},17:{bossAtkBonus_1:{qa:1,v:100},bossAtkBonus_2:{qa:1,v:122},bossAtkBonus_3:{qa:1,v:145},bossAtkBonus_4:{qa:1,v:169},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},18:{bossAtkBonus_1:{qa:1,v:105},bossAtkBonus_2:{qa:1,v:128},bossAtkBonus_3:{qa:1,v:152},bossAtkBonus_4:{qa:1,v:177},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},19:{bossAtkBonus_1:{qa:1,v:110},bossAtkBonus_2:{qa:1,v:134},bossAtkBonus_3:{qa:1,v:159},bossAtkBonus_4:{qa:1,v:185},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},20:{bossAtkBonus_1:{qa:1,v:115},bossAtkBonus_2:{qa:1,v:140},bossAtkBonus_3:{qa:1,v:166},bossAtkBonus_4:{qa:1,v:193},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},21:{bossAtkBonus_1:{qa:1,v:120},bossAtkBonus_2:{qa:1,v:146},bossAtkBonus_3:{qa:1,v:173},bossAtkBonus_4:{qa:1,v:201},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},22:{bossAtkBonus_1:{qa:1,v:125},bossAtkBonus_2:{qa:1,v:152},bossAtkBonus_3:{qa:1,v:180},bossAtkBonus_4:{qa:1,v:209},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},23:{bossAtkBonus_1:{qa:1,v:130},bossAtkBonus_2:{qa:1,v:158},bossAtkBonus_3:{qa:1,v:187},bossAtkBonus_4:{qa:1,v:217},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},24:{bossAtkBonus_1:{qa:1,v:135},bossAtkBonus_2:{qa:1,v:164},bossAtkBonus_3:{qa:1,v:194},bossAtkBonus_4:{qa:1,v:225},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},25:{bossAtkBonus_1:{qa:1,v:140},bossAtkBonus_2:{qa:1,v:170},bossAtkBonus_3:{qa:1,v:201},bossAtkBonus_4:{qa:1,v:233},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},26:{bossAtkBonus_1:{qa:1,v:145},bossAtkBonus_2:{qa:1,v:176},bossAtkBonus_3:{qa:1,v:208},bossAtkBonus_4:{qa:1,v:241},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},27:{bossAtkBonus_1:{qa:1,v:150},bossAtkBonus_2:{qa:1,v:182},bossAtkBonus_3:{qa:1,v:215},bossAtkBonus_4:{qa:1,v:249},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},28:{bossAtkBonus_1:{qa:1,v:155},bossAtkBonus_2:{qa:1,v:188},bossAtkBonus_3:{qa:1,v:222},bossAtkBonus_4:{qa:1,v:257},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},29:{bossAtkBonus_1:{qa:1,v:160},bossAtkBonus_2:{qa:1,v:194},bossAtkBonus_3:{qa:1,v:229},bossAtkBonus_4:{qa:1,v:265},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},30:{bossAtkBonus_1:{qa:1,v:165},bossAtkBonus_2:{qa:1,v:200},bossAtkBonus_3:{qa:1,v:236},bossAtkBonus_4:{qa:1,v:273},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},31:{bossAtkBonus_1:{qa:1,v:170},bossAtkBonus_2:{qa:1,v:206},bossAtkBonus_3:{qa:1,v:243},bossAtkBonus_4:{qa:1,v:281},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},32:{bossAtkBonus_1:{qa:1,v:175},bossAtkBonus_2:{qa:1,v:212},bossAtkBonus_3:{qa:1,v:250},bossAtkBonus_4:{qa:1,v:289},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},33:{bossAtkBonus_1:{qa:1,v:180},bossAtkBonus_2:{qa:1,v:218},bossAtkBonus_3:{qa:1,v:257},bossAtkBonus_4:{qa:1,v:297},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},34:{bossAtkBonus_1:{qa:1,v:185},bossAtkBonus_2:{qa:1,v:224},bossAtkBonus_3:{qa:1,v:264},bossAtkBonus_4:{qa:1,v:305},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},35:{bossAtkBonus_1:{qa:1,v:190},bossAtkBonus_2:{qa:1,v:230},bossAtkBonus_3:{qa:1,v:271},bossAtkBonus_4:{qa:1,v:313},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},36:{bossAtkBonus_1:{qa:1,v:195},bossAtkBonus_2:{qa:1,v:236},bossAtkBonus_3:{qa:1,v:278},bossAtkBonus_4:{qa:1,v:321},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},37:{bossAtkBonus_1:{qa:1,v:200},bossAtkBonus_2:{qa:1,v:242},bossAtkBonus_3:{qa:1,v:285},bossAtkBonus_4:{qa:1,v:329},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},38:{bossAtkBonus_1:{qa:1,v:205},bossAtkBonus_2:{qa:1,v:248},bossAtkBonus_3:{qa:1,v:292},bossAtkBonus_4:{qa:1,v:337},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},39:{bossAtkBonus_1:{qa:1,v:210},bossAtkBonus_2:{qa:1,v:254},bossAtkBonus_3:{qa:1,v:299},bossAtkBonus_4:{qa:1,v:345},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},40:{bossAtkBonus_1:{qa:1,v:215},bossAtkBonus_2:{qa:1,v:260},bossAtkBonus_3:{qa:1,v:306},bossAtkBonus_4:{qa:1,v:353},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},41:{bossAtkBonus_1:{qa:1,v:220},bossAtkBonus_2:{qa:1,v:266},bossAtkBonus_3:{qa:1,v:313},bossAtkBonus_4:{qa:1,v:361},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},42:{bossAtkBonus_1:{qa:1,v:225},bossAtkBonus_2:{qa:1,v:272},bossAtkBonus_3:{qa:1,v:320},bossAtkBonus_4:{qa:1,v:369},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},43:{bossAtkBonus_1:{qa:1,v:230},bossAtkBonus_2:{qa:1,v:278},bossAtkBonus_3:{qa:1,v:327},bossAtkBonus_4:{qa:1,v:377},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},44:{bossAtkBonus_1:{qa:1,v:235},bossAtkBonus_2:{qa:1,v:284},bossAtkBonus_3:{qa:1,v:334},bossAtkBonus_4:{qa:1,v:385},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},45:{bossAtkBonus_1:{qa:1,v:240},bossAtkBonus_2:{qa:1,v:290},bossAtkBonus_3:{qa:1,v:341},bossAtkBonus_4:{qa:1,v:393},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},46:{bossAtkBonus_1:{qa:1,v:245},bossAtkBonus_2:{qa:1,v:296},bossAtkBonus_3:{qa:1,v:348},bossAtkBonus_4:{qa:1,v:401},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},47:{bossAtkBonus_1:{qa:1,v:250},bossAtkBonus_2:{qa:1,v:302},bossAtkBonus_3:{qa:1,v:355},bossAtkBonus_4:{qa:1,v:409},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},48:{bossAtkBonus_1:{qa:1,v:255},bossAtkBonus_2:{qa:1,v:308},bossAtkBonus_3:{qa:1,v:362},bossAtkBonus_4:{qa:1,v:417},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},49:{bossAtkBonus_1:{qa:1,v:260},bossAtkBonus_2:{qa:1,v:314},bossAtkBonus_3:{qa:1,v:369},bossAtkBonus_4:{qa:1,v:425},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},50:{bossAtkBonus_1:{qa:1,v:265},bossAtkBonus_2:{qa:1,v:320},bossAtkBonus_3:{qa:1,v:376},bossAtkBonus_4:{qa:1,v:433},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},51:{bossAtkBonus_1:{qa:1,v:270},bossAtkBonus_2:{qa:1,v:326},bossAtkBonus_3:{qa:1,v:383},bossAtkBonus_4:{qa:1,v:441},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},52:{bossAtkBonus_1:{qa:1,v:275},bossAtkBonus_2:{qa:1,v:332},bossAtkBonus_3:{qa:1,v:390},bossAtkBonus_4:{qa:1,v:449},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},53:{bossAtkBonus_1:{qa:1,v:280},bossAtkBonus_2:{qa:1,v:338},bossAtkBonus_3:{qa:1,v:397},bossAtkBonus_4:{qa:1,v:457},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},54:{bossAtkBonus_1:{qa:1,v:285},bossAtkBonus_2:{qa:1,v:344},bossAtkBonus_3:{qa:1,v:404},bossAtkBonus_4:{qa:1,v:465},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},55:{bossAtkBonus_1:{qa:1,v:290},bossAtkBonus_2:{qa:1,v:350},bossAtkBonus_3:{qa:1,v:411},bossAtkBonus_4:{qa:1,v:473},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},56:{bossAtkBonus_1:{qa:1,v:295},bossAtkBonus_2:{qa:1,v:356},bossAtkBonus_3:{qa:1,v:418},bossAtkBonus_4:{qa:1,v:481},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},57:{bossAtkBonus_1:{qa:1,v:300},bossAtkBonus_2:{qa:1,v:362},bossAtkBonus_3:{qa:1,v:425},bossAtkBonus_4:{qa:1,v:489},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},58:{bossAtkBonus_1:{qa:1,v:305},bossAtkBonus_2:{qa:1,v:368},bossAtkBonus_3:{qa:1,v:432},bossAtkBonus_4:{qa:1,v:497},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},59:{bossAtkBonus_1:{qa:1,v:310},bossAtkBonus_2:{qa:1,v:374},bossAtkBonus_3:{qa:1,v:439},bossAtkBonus_4:{qa:1,v:505},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}},60:{bossAtkBonus_1:{qa:1,v:315},bossAtkBonus_2:{qa:1,v:380},bossAtkBonus_3:{qa:1,v:446},bossAtkBonus_4:{qa:1,v:513},moneyBonus:{qa:3,v:.05},bossCrit:{qa:4,v:.1}}},i.SP2={1:{minionAtkBonus_1:{qa:1,v:5},minionAtkBonus_2:{qa:1,v:8},minionAtkBonus_3:{qa:1,v:12},minionAtkBonus_4:{qa:1,v:17},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},2:{minionAtkBonus_1:{qa:1,v:7},minionAtkBonus_2:{qa:1,v:11},minionAtkBonus_3:{qa:1,v:16},minionAtkBonus_4:{qa:1,v:22},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},3:{minionAtkBonus_1:{qa:1,v:9},minionAtkBonus_2:{qa:1,v:14},minionAtkBonus_3:{qa:1,v:20},minionAtkBonus_4:{qa:1,v:27},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},4:{minionAtkBonus_1:{qa:1,v:11},minionAtkBonus_2:{qa:1,v:17},minionAtkBonus_3:{qa:1,v:24},minionAtkBonus_4:{qa:1,v:32},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},5:{minionAtkBonus_1:{qa:1,v:13},minionAtkBonus_2:{qa:1,v:20},minionAtkBonus_3:{qa:1,v:28},minionAtkBonus_4:{qa:1,v:37},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},6:{minionAtkBonus_1:{qa:1,v:15},minionAtkBonus_2:{qa:1,v:23},minionAtkBonus_3:{qa:1,v:32},minionAtkBonus_4:{qa:1,v:42},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},7:{minionAtkBonus_1:{qa:1,v:17},minionAtkBonus_2:{qa:1,v:26},minionAtkBonus_3:{qa:1,v:36},minionAtkBonus_4:{qa:1,v:47},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},8:{minionAtkBonus_1:{qa:1,v:19},minionAtkBonus_2:{qa:1,v:29},minionAtkBonus_3:{qa:1,v:40},minionAtkBonus_4:{qa:1,v:52},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},9:{minionAtkBonus_1:{qa:1,v:21},minionAtkBonus_2:{qa:1,v:32},minionAtkBonus_3:{qa:1,v:44},minionAtkBonus_4:{qa:1,v:57},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},10:{minionAtkBonus_1:{qa:1,v:23},minionAtkBonus_2:{qa:1,v:35},minionAtkBonus_3:{qa:1,v:48},minionAtkBonus_4:{qa:1,v:62},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},11:{minionAtkBonus_1:{qa:1,v:25},minionAtkBonus_2:{qa:1,v:38},minionAtkBonus_3:{qa:1,v:52},minionAtkBonus_4:{qa:1,v:67},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},12:{minionAtkBonus_1:{qa:1,v:27},minionAtkBonus_2:{qa:1,v:41},minionAtkBonus_3:{qa:1,v:56},minionAtkBonus_4:{qa:1,v:72},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},13:{minionAtkBonus_1:{qa:1,v:29},minionAtkBonus_2:{qa:1,v:44},minionAtkBonus_3:{qa:1,v:60},minionAtkBonus_4:{qa:1,v:77},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},14:{minionAtkBonus_1:{qa:1,v:31},minionAtkBonus_2:{qa:1,v:47},minionAtkBonus_3:{qa:1,v:64},minionAtkBonus_4:{qa:1,v:82},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},15:{minionAtkBonus_1:{qa:1,v:33},minionAtkBonus_2:{qa:1,v:50},minionAtkBonus_3:{qa:1,v:68},minionAtkBonus_4:{qa:1,v:87},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},16:{minionAtkBonus_1:{qa:1,v:35},minionAtkBonus_2:{qa:1,v:53},minionAtkBonus_3:{qa:1,v:72},minionAtkBonus_4:{qa:1,v:92},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},17:{minionAtkBonus_1:{qa:1,v:37},minionAtkBonus_2:{qa:1,v:56},minionAtkBonus_3:{qa:1,v:76},minionAtkBonus_4:{qa:1,v:97},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},18:{minionAtkBonus_1:{qa:1,v:39},minionAtkBonus_2:{qa:1,v:59},minionAtkBonus_3:{qa:1,v:80},minionAtkBonus_4:{qa:1,v:102},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},19:{minionAtkBonus_1:{qa:1,v:41},minionAtkBonus_2:{qa:1,v:62},minionAtkBonus_3:{qa:1,v:84},minionAtkBonus_4:{qa:1,v:107},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},20:{minionAtkBonus_1:{qa:1,v:43},minionAtkBonus_2:{qa:1,v:65},minionAtkBonus_3:{qa:1,v:88},minionAtkBonus_4:{qa:1,v:112},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},21:{minionAtkBonus_1:{qa:1,v:45},minionAtkBonus_2:{qa:1,v:68},minionAtkBonus_3:{qa:1,v:92},minionAtkBonus_4:{qa:1,v:117},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},22:{minionAtkBonus_1:{qa:1,v:47},minionAtkBonus_2:{qa:1,v:71},minionAtkBonus_3:{qa:1,v:96},minionAtkBonus_4:{qa:1,v:122},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},23:{minionAtkBonus_1:{qa:1,v:49},minionAtkBonus_2:{qa:1,v:74},minionAtkBonus_3:{qa:1,v:100},minionAtkBonus_4:{qa:1,v:127},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},24:{minionAtkBonus_1:{qa:1,v:51},minionAtkBonus_2:{qa:1,v:77},minionAtkBonus_3:{qa:1,v:104},minionAtkBonus_4:{qa:1,v:132},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},25:{minionAtkBonus_1:{qa:1,v:53},minionAtkBonus_2:{qa:1,v:80},minionAtkBonus_3:{qa:1,v:108},minionAtkBonus_4:{qa:1,v:137},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},26:{minionAtkBonus_1:{qa:1,v:55},minionAtkBonus_2:{qa:1,v:83},minionAtkBonus_3:{qa:1,v:112},minionAtkBonus_4:{qa:1,v:142},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},27:{minionAtkBonus_1:{qa:1,v:57},minionAtkBonus_2:{qa:1,v:86},minionAtkBonus_3:{qa:1,v:116},minionAtkBonus_4:{qa:1,v:147},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},28:{minionAtkBonus_1:{qa:1,v:59},minionAtkBonus_2:{qa:1,v:89},minionAtkBonus_3:{qa:1,v:120},minionAtkBonus_4:{qa:1,v:152},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},29:{minionAtkBonus_1:{qa:1,v:61},minionAtkBonus_2:{qa:1,v:92},minionAtkBonus_3:{qa:1,v:124},minionAtkBonus_4:{qa:1,v:157},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},30:{minionAtkBonus_1:{qa:1,v:63},minionAtkBonus_2:{qa:1,v:95},minionAtkBonus_3:{qa:1,v:128},minionAtkBonus_4:{qa:1,v:162},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},31:{minionAtkBonus_1:{qa:1,v:65},minionAtkBonus_2:{qa:1,v:98},minionAtkBonus_3:{qa:1,v:132},minionAtkBonus_4:{qa:1,v:167},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},32:{minionAtkBonus_1:{qa:1,v:67},minionAtkBonus_2:{qa:1,v:101},minionAtkBonus_3:{qa:1,v:136},minionAtkBonus_4:{qa:1,v:172},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},33:{minionAtkBonus_1:{qa:1,v:69},minionAtkBonus_2:{qa:1,v:104},minionAtkBonus_3:{qa:1,v:140},minionAtkBonus_4:{qa:1,v:177},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},34:{minionAtkBonus_1:{qa:1,v:71},minionAtkBonus_2:{qa:1,v:107},minionAtkBonus_3:{qa:1,v:144},minionAtkBonus_4:{qa:1,v:182},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},35:{minionAtkBonus_1:{qa:1,v:73},minionAtkBonus_2:{qa:1,v:110},minionAtkBonus_3:{qa:1,v:148},minionAtkBonus_4:{qa:1,v:187},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},36:{minionAtkBonus_1:{qa:1,v:75},minionAtkBonus_2:{qa:1,v:113},minionAtkBonus_3:{qa:1,v:152},minionAtkBonus_4:{qa:1,v:192},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},37:{minionAtkBonus_1:{qa:1,v:77},minionAtkBonus_2:{qa:1,v:116},minionAtkBonus_3:{qa:1,v:156},minionAtkBonus_4:{qa:1,v:197},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},38:{minionAtkBonus_1:{qa:1,v:79},minionAtkBonus_2:{qa:1,v:119},minionAtkBonus_3:{qa:1,v:160},minionAtkBonus_4:{qa:1,v:202},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},39:{minionAtkBonus_1:{qa:1,v:81},minionAtkBonus_2:{qa:1,v:122},minionAtkBonus_3:{qa:1,v:164},minionAtkBonus_4:{qa:1,v:207},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},40:{minionAtkBonus_1:{qa:1,v:83},minionAtkBonus_2:{qa:1,v:125},minionAtkBonus_3:{qa:1,v:168},minionAtkBonus_4:{qa:1,v:212},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},41:{minionAtkBonus_1:{qa:1,v:85},minionAtkBonus_2:{qa:1,v:128},minionAtkBonus_3:{qa:1,v:172},minionAtkBonus_4:{qa:1,v:217},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},42:{minionAtkBonus_1:{qa:1,v:87},minionAtkBonus_2:{qa:1,v:131},minionAtkBonus_3:{qa:1,v:176},minionAtkBonus_4:{qa:1,v:222},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},43:{minionAtkBonus_1:{qa:1,v:89},minionAtkBonus_2:{qa:1,v:134},minionAtkBonus_3:{qa:1,v:180},minionAtkBonus_4:{qa:1,v:227},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},44:{minionAtkBonus_1:{qa:1,v:91},minionAtkBonus_2:{qa:1,v:137},minionAtkBonus_3:{qa:1,v:184},minionAtkBonus_4:{qa:1,v:232},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},45:{minionAtkBonus_1:{qa:1,v:93},minionAtkBonus_2:{qa:1,v:140},minionAtkBonus_3:{qa:1,v:188},minionAtkBonus_4:{qa:1,v:237},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},46:{minionAtkBonus_1:{qa:1,v:95},minionAtkBonus_2:{qa:1,v:143},minionAtkBonus_3:{qa:1,v:192},minionAtkBonus_4:{qa:1,v:242},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},47:{minionAtkBonus_1:{qa:1,v:97},minionAtkBonus_2:{qa:1,v:146},minionAtkBonus_3:{qa:1,v:196},minionAtkBonus_4:{qa:1,v:247},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},48:{minionAtkBonus_1:{qa:1,v:99},minionAtkBonus_2:{qa:1,v:149},minionAtkBonus_3:{qa:1,v:200},minionAtkBonus_4:{qa:1,v:252},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},49:{minionAtkBonus_1:{qa:1,v:101},minionAtkBonus_2:{qa:1,v:152},minionAtkBonus_3:{qa:1,v:204},minionAtkBonus_4:{qa:1,v:257},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},50:{minionAtkBonus_1:{qa:1,v:103},minionAtkBonus_2:{qa:1,v:155},minionAtkBonus_3:{qa:1,v:208},minionAtkBonus_4:{qa:1,v:262},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},51:{minionAtkBonus_1:{qa:1,v:105},minionAtkBonus_2:{qa:1,v:158},minionAtkBonus_3:{qa:1,v:212},minionAtkBonus_4:{qa:1,v:267},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},52:{minionAtkBonus_1:{qa:1,v:107},minionAtkBonus_2:{qa:1,v:161},minionAtkBonus_3:{qa:1,v:216},minionAtkBonus_4:{qa:1,v:272},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},53:{minionAtkBonus_1:{qa:1,v:109},minionAtkBonus_2:{qa:1,v:164},minionAtkBonus_3:{qa:1,v:220},minionAtkBonus_4:{qa:1,v:277},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},54:{minionAtkBonus_1:{qa:1,v:111},minionAtkBonus_2:{qa:1,v:167},minionAtkBonus_3:{qa:1,v:224},minionAtkBonus_4:{qa:1,v:282},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},55:{minionAtkBonus_1:{qa:1,v:113},minionAtkBonus_2:{qa:1,v:170},minionAtkBonus_3:{qa:1,v:228},minionAtkBonus_4:{qa:1,v:287},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},56:{minionAtkBonus_1:{qa:1,v:115},minionAtkBonus_2:{qa:1,v:173},minionAtkBonus_3:{qa:1,v:232},minionAtkBonus_4:{qa:1,v:292},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},57:{minionAtkBonus_1:{qa:1,v:117},minionAtkBonus_2:{qa:1,v:176},minionAtkBonus_3:{qa:1,v:236},minionAtkBonus_4:{qa:1,v:297},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},58:{minionAtkBonus_1:{qa:1,v:119},minionAtkBonus_2:{qa:1,v:179},minionAtkBonus_3:{qa:1,v:240},minionAtkBonus_4:{qa:1,v:302},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},59:{minionAtkBonus_1:{qa:1,v:121},minionAtkBonus_2:{qa:1,v:182},minionAtkBonus_3:{qa:1,v:244},minionAtkBonus_4:{qa:1,v:307},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}},60:{minionAtkBonus_1:{qa:1,v:123},minionAtkBonus_2:{qa:1,v:185},minionAtkBonus_3:{qa:1,v:248},minionAtkBonus_4:{qa:1,v:312},expBonus:{qa:3,v:.05},minionCritBonus:{qa:4,v:.3}}},i.SP3={1:{flyAtkBonus_1:{qa:1,v:20},flyAtkBonus_2:{qa:1,v:26},flyAtkBonus_3:{qa:1,v:33},flyAtkBonus_4:{qa:1,v:41},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},2:{flyAtkBonus_1:{qa:1,v:25},flyAtkBonus_2:{qa:1,v:32},flyAtkBonus_3:{qa:1,v:40},flyAtkBonus_4:{qa:1,v:49},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},3:{flyAtkBonus_1:{qa:1,v:30},flyAtkBonus_2:{qa:1,v:38},flyAtkBonus_3:{qa:1,v:47},flyAtkBonus_4:{qa:1,v:57},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},4:{flyAtkBonus_1:{qa:1,v:35},flyAtkBonus_2:{qa:1,v:44},flyAtkBonus_3:{qa:1,v:54},flyAtkBonus_4:{qa:1,v:65},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},5:{flyAtkBonus_1:{qa:1,v:40},flyAtkBonus_2:{qa:1,v:50},flyAtkBonus_3:{qa:1,v:61},flyAtkBonus_4:{qa:1,v:73},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},6:{flyAtkBonus_1:{qa:1,v:45},flyAtkBonus_2:{qa:1,v:56},flyAtkBonus_3:{qa:1,v:68},flyAtkBonus_4:{qa:1,v:81},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},7:{flyAtkBonus_1:{qa:1,v:50},flyAtkBonus_2:{qa:1,v:62},flyAtkBonus_3:{qa:1,v:75},flyAtkBonus_4:{qa:1,v:89},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},8:{flyAtkBonus_1:{qa:1,v:55},flyAtkBonus_2:{qa:1,v:68},flyAtkBonus_3:{qa:1,v:82},flyAtkBonus_4:{qa:1,v:97},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},9:{flyAtkBonus_1:{qa:1,v:60},flyAtkBonus_2:{qa:1,v:74},flyAtkBonus_3:{qa:1,v:89},flyAtkBonus_4:{qa:1,v:105},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},10:{flyAtkBonus_1:{qa:1,v:65},flyAtkBonus_2:{qa:1,v:80},flyAtkBonus_3:{qa:1,v:96},flyAtkBonus_4:{qa:1,v:113},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},11:{flyAtkBonus_1:{qa:1,v:70},flyAtkBonus_2:{qa:1,v:86},flyAtkBonus_3:{qa:1,v:103},flyAtkBonus_4:{qa:1,v:121},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},12:{flyAtkBonus_1:{qa:1,v:75},flyAtkBonus_2:{qa:1,v:92},flyAtkBonus_3:{qa:1,v:110},flyAtkBonus_4:{qa:1,v:129},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},13:{flyAtkBonus_1:{qa:1,v:80},flyAtkBonus_2:{qa:1,v:98},flyAtkBonus_3:{qa:1,v:117},flyAtkBonus_4:{qa:1,v:137},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},14:{flyAtkBonus_1:{qa:1,v:85},flyAtkBonus_2:{qa:1,v:104},flyAtkBonus_3:{qa:1,v:124},flyAtkBonus_4:{qa:1,v:145},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},15:{flyAtkBonus_1:{qa:1,v:90},flyAtkBonus_2:{qa:1,v:110},flyAtkBonus_3:{qa:1,v:131},flyAtkBonus_4:{qa:1,v:153},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},16:{flyAtkBonus_1:{qa:1,v:95},flyAtkBonus_2:{qa:1,v:116},flyAtkBonus_3:{qa:1,v:138},flyAtkBonus_4:{qa:1,v:161},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},17:{flyAtkBonus_1:{qa:1,v:100},flyAtkBonus_2:{qa:1,v:122},flyAtkBonus_3:{qa:1,v:145},flyAtkBonus_4:{qa:1,v:169},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},18:{flyAtkBonus_1:{qa:1,v:105},flyAtkBonus_2:{qa:1,v:128},flyAtkBonus_3:{qa:1,v:152},flyAtkBonus_4:{qa:1,v:177},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},19:{flyAtkBonus_1:{qa:1,v:110},flyAtkBonus_2:{qa:1,v:134},flyAtkBonus_3:{qa:1,v:159},flyAtkBonus_4:{qa:1,v:185},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},20:{flyAtkBonus_1:{qa:1,v:115},flyAtkBonus_2:{qa:1,v:140},flyAtkBonus_3:{qa:1,v:166},flyAtkBonus_4:{qa:1,v:193},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},21:{flyAtkBonus_1:{qa:1,v:120},flyAtkBonus_2:{qa:1,v:146},flyAtkBonus_3:{qa:1,v:173},flyAtkBonus_4:{qa:1,v:201},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},22:{flyAtkBonus_1:{qa:1,v:125},flyAtkBonus_2:{qa:1,v:152},flyAtkBonus_3:{qa:1,v:180},flyAtkBonus_4:{qa:1,v:209},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},23:{flyAtkBonus_1:{qa:1,v:130},flyAtkBonus_2:{qa:1,v:158},flyAtkBonus_3:{qa:1,v:187},flyAtkBonus_4:{qa:1,v:217},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},24:{flyAtkBonus_1:{qa:1,v:135},flyAtkBonus_2:{qa:1,v:164},flyAtkBonus_3:{qa:1,v:194},flyAtkBonus_4:{qa:1,v:225},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},25:{flyAtkBonus_1:{qa:1,v:140},flyAtkBonus_2:{qa:1,v:170},flyAtkBonus_3:{qa:1,v:201},flyAtkBonus_4:{qa:1,v:233},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},26:{flyAtkBonus_1:{qa:1,v:145},flyAtkBonus_2:{qa:1,v:176},flyAtkBonus_3:{qa:1,v:208},flyAtkBonus_4:{qa:1,v:241},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},27:{flyAtkBonus_1:{qa:1,v:150},flyAtkBonus_2:{qa:1,v:182},flyAtkBonus_3:{qa:1,v:215},flyAtkBonus_4:{qa:1,v:249},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},28:{flyAtkBonus_1:{qa:1,v:155},flyAtkBonus_2:{qa:1,v:188},flyAtkBonus_3:{qa:1,v:222},flyAtkBonus_4:{qa:1,v:257},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},29:{flyAtkBonus_1:{qa:1,v:160},flyAtkBonus_2:{qa:1,v:194},flyAtkBonus_3:{qa:1,v:229},flyAtkBonus_4:{qa:1,v:265},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},30:{flyAtkBonus_1:{qa:1,v:165},flyAtkBonus_2:{qa:1,v:200},flyAtkBonus_3:{qa:1,v:236},flyAtkBonus_4:{qa:1,v:273},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},31:{flyAtkBonus_1:{qa:1,v:170},flyAtkBonus_2:{qa:1,v:206},flyAtkBonus_3:{qa:1,v:243},flyAtkBonus_4:{qa:1,v:281},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},32:{flyAtkBonus_1:{qa:1,v:175},flyAtkBonus_2:{qa:1,v:212},flyAtkBonus_3:{qa:1,v:250},flyAtkBonus_4:{qa:1,v:289},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},33:{flyAtkBonus_1:{qa:1,v:180},flyAtkBonus_2:{qa:1,v:218},flyAtkBonus_3:{qa:1,v:257},flyAtkBonus_4:{qa:1,v:297},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},34:{flyAtkBonus_1:{qa:1,v:185},flyAtkBonus_2:{qa:1,v:224},flyAtkBonus_3:{qa:1,v:264},flyAtkBonus_4:{qa:1,v:305},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},35:{flyAtkBonus_1:{qa:1,v:190},flyAtkBonus_2:{qa:1,v:230},flyAtkBonus_3:{qa:1,v:271},flyAtkBonus_4:{qa:1,v:313},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},36:{flyAtkBonus_1:{qa:1,v:195},flyAtkBonus_2:{qa:1,v:236},flyAtkBonus_3:{qa:1,v:278},flyAtkBonus_4:{qa:1,v:321},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},37:{flyAtkBonus_1:{qa:1,v:200},flyAtkBonus_2:{qa:1,v:242},flyAtkBonus_3:{qa:1,v:285},flyAtkBonus_4:{qa:1,v:329},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},38:{flyAtkBonus_1:{qa:1,v:205},flyAtkBonus_2:{qa:1,v:248},flyAtkBonus_3:{qa:1,v:292},flyAtkBonus_4:{qa:1,v:337},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},39:{flyAtkBonus_1:{qa:1,v:210},flyAtkBonus_2:{qa:1,v:254},flyAtkBonus_3:{qa:1,v:299},flyAtkBonus_4:{qa:1,v:345},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},40:{flyAtkBonus_1:{qa:1,v:215},flyAtkBonus_2:{qa:1,v:260},flyAtkBonus_3:{qa:1,v:306},flyAtkBonus_4:{qa:1,v:353},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},41:{flyAtkBonus_1:{qa:1,v:220},flyAtkBonus_2:{qa:1,v:266},flyAtkBonus_3:{qa:1,v:313},flyAtkBonus_4:{qa:1,v:361},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},42:{flyAtkBonus_1:{qa:1,v:225},flyAtkBonus_2:{qa:1,v:272},flyAtkBonus_3:{qa:1,v:320},flyAtkBonus_4:{qa:1,v:369},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},43:{flyAtkBonus_1:{qa:1,v:230},flyAtkBonus_2:{qa:1,v:278},flyAtkBonus_3:{qa:1,v:327},flyAtkBonus_4:{qa:1,v:377},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},44:{flyAtkBonus_1:{qa:1,v:235},flyAtkBonus_2:{qa:1,v:284},flyAtkBonus_3:{qa:1,v:334},flyAtkBonus_4:{qa:1,v:385},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},45:{flyAtkBonus_1:{qa:1,v:240},flyAtkBonus_2:{qa:1,v:290},flyAtkBonus_3:{qa:1,v:341},flyAtkBonus_4:{qa:1,v:393},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},46:{flyAtkBonus_1:{qa:1,v:245},flyAtkBonus_2:{qa:1,v:296},flyAtkBonus_3:{qa:1,v:348},flyAtkBonus_4:{qa:1,v:401},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},47:{flyAtkBonus_1:{qa:1,v:250},flyAtkBonus_2:{qa:1,v:302},flyAtkBonus_3:{qa:1,v:355},flyAtkBonus_4:{qa:1,v:409},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},48:{flyAtkBonus_1:{qa:1,v:255},flyAtkBonus_2:{qa:1,v:308},flyAtkBonus_3:{qa:1,v:362},flyAtkBonus_4:{qa:1,v:417},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},49:{flyAtkBonus_1:{qa:1,v:260},flyAtkBonus_2:{qa:1,v:314},flyAtkBonus_3:{qa:1,v:369},flyAtkBonus_4:{qa:1,v:425},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},50:{flyAtkBonus_1:{qa:1,v:265},flyAtkBonus_2:{qa:1,v:320},flyAtkBonus_3:{qa:1,v:376},flyAtkBonus_4:{qa:1,v:433},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},51:{flyAtkBonus_1:{qa:1,v:270},flyAtkBonus_2:{qa:1,v:326},flyAtkBonus_3:{qa:1,v:383},flyAtkBonus_4:{qa:1,v:441},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},52:{flyAtkBonus_1:{qa:1,v:275},flyAtkBonus_2:{qa:1,v:332},flyAtkBonus_3:{qa:1,v:390},flyAtkBonus_4:{qa:1,v:449},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},53:{flyAtkBonus_1:{qa:1,v:280},flyAtkBonus_2:{qa:1,v:338},flyAtkBonus_3:{qa:1,v:397},flyAtkBonus_4:{qa:1,v:457},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},54:{flyAtkBonus_1:{qa:1,v:285},flyAtkBonus_2:{qa:1,v:344},flyAtkBonus_3:{qa:1,v:404},flyAtkBonus_4:{qa:1,v:465},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},55:{flyAtkBonus_1:{qa:1,v:290},flyAtkBonus_2:{qa:1,v:350},flyAtkBonus_3:{qa:1,v:411},flyAtkBonus_4:{qa:1,v:473},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},56:{flyAtkBonus_1:{qa:1,v:295},flyAtkBonus_2:{qa:1,v:356},flyAtkBonus_3:{qa:1,v:418},flyAtkBonus_4:{qa:1,v:481},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},57:{flyAtkBonus_1:{qa:1,v:300},flyAtkBonus_2:{qa:1,v:362},flyAtkBonus_3:{qa:1,v:425},flyAtkBonus_4:{qa:1,v:489},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},58:{flyAtkBonus_1:{qa:1,v:305},flyAtkBonus_2:{qa:1,v:368},flyAtkBonus_3:{qa:1,v:432},flyAtkBonus_4:{qa:1,v:497},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},59:{flyAtkBonus_1:{qa:1,v:310},flyAtkBonus_2:{qa:1,v:374},flyAtkBonus_3:{qa:1,v:439},flyAtkBonus_4:{qa:1,v:505},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}},60:{flyAtkBonus_1:{qa:1,v:315},flyAtkBonus_2:{qa:1,v:380},flyAtkBonus_3:{qa:1,v:446},flyAtkBonus_4:{qa:1,v:513},moneyBonus:{qa:3,v:.05},expBonus:{qa:4,v:.05}}},i.getAttrListById=function(t){var e=i.attrList[t];return e&&e.type&&e.type.indexOf("add2")>=0&&(e=i.attrList[e.type.substring(4)]),e},i.getOneAttrsByKeyLv=function(t,e){var a=OperDefine.getBaseInfoByKey(t);if(!a)return[{error:"001.key does not exist, key:"+t}];var n=i[a.equipdefineid];if(!n)return[{error:"002.attribute undefined, equipdefineid:"+a.equipdefineid}];var s=n[e];if(!s)return[{error:"003.no attribute of this level, key#lv:"+t+"#"+e}];var o=n[1*e+1],r=1*a.qa,c=1*r+1,h=[],d={},l=[];for(var u in s){var f=u.split("_"),m=f[0];if(f[1]){if(l.indexOf(m)>=0)continue;l.push(m);var p=s[m+"_"+r],g=o?o[m+"_"+r]:void 0,v=s[m+"_"+c]}else p=s[m],g=o?o[m]:void 0,v=void 0;if(p){var b=function(t,e,a,n){var s={},o=i.getAttrListById(t);o?(s.n=o.n,s.id=o.id,s.des=o.name,s.type=o.type,s.cur=e,s.next=a,s.nextQaAttr=n):s.error="005.attribute id undefined, id:"+t;var r=s.id+"_"+s.nextQaAttr;"buff"!==s.type&&d[r]?(d[r].cur=1*d[r].cur+1*s.cur,d[r].next=1*d[r].next+1*s.next):d[r]=s};if(p.qa)if(r-p.qa>=0){if(g){var k=g.v;b(m,p.v,k,0)}v&&(k=v.v,b(m,p.v,k,1))}else c-p.qa==0&&b(m,p.v,0,2);else h.push({error:"006.attribute qa undefined, key#lv#id:"+t+"#"+e+"#"+m})}else h.push({error:"004.attribute undefined, key#lv#id_qa:"+t+"#"+e+"#"+m+"_"+r})}for(var m in d)h.push(d[m]);return h},i.getAttrsByKeyLv=function(t,e){return i.getOneAttrsByKeyLv(t,e)},i.getE1Attrs=function(t,e){if(t){var a={};a[t+"#1"]=e||1}else a=operkit.getOwnData("e1");var n={};if(a)for(var s in a){t=s.split("#")[0],e=a[s];var o=OperDefine.getBaseInfoByKey(t);o.weapondefineid&&(n.weaponId=o.weapondefineid);var r=i.getOneAttrsByKeyLv(t,e);for(var c in r){var h=r[c];h.nextQaAttr||("buff"===h.type?(n.buff||(n.buff=[]),n.buff.push({id:h.id,v:h.cur})):(n[h.id]||(n[h.id]={v:0,type:""}),n[h.id].v+=1*h.cur,n[h.id].type=h.type))}}return n},i.getTalentAttrs=function(){var t={},e=operkit.getTalentData("lv");if(e)for(var i in e){var a=e[i],n=OperDefine.talentInfo[i.substring(1)];t[n.id]={v:n["lv"+a]}}return t},i.getAllAttrs=function(){var t=i.getE1Attrs(),e=i.getTalentAttrs(),a=["equipBonus","offline"];for(var n in e)t.hasOwnProperty(n)?t[n].v+=e[n].v:-1==a.indexOf(n)&&(t[n]={type:""},t[n].v=e[n].v,e[n].type&&(t[n].type=e[n].type));return t},i.getRoleHpAtk=function(){var t=i.getAllAttrs(),e=t.hpMax,a=t.atkDmg,n=HeroDefine.soldier_76.hp,s=HeroDefine.soldier_76.attack;return e&&(n+=e.v),a&&(s+=a.v),{hp:n,atk:s}},cc._RF.pop()},{}],EquipmentManager:[function(require,module,exports){"use strict";cc._RF.push(module,"39ca4xTUhhJNoLU6xmNc4lo","EquipmentManager");var EquipmentManager=cc.Class({init:function(t,e){this.heroLvl=t.lvl,this.heroStar=t.star||1,this.heroData=gData.getHero(t.id,t.rare),this.equipment=e},getStatObj:function(){var t={},e=this.heroData.getStat(this.heroLvl,1);for(var i in e=kit.clone(e))e[i]*=.5*(this.heroStar-1)+1;if(t.attribute=e,this.equipment)for(var i in this.equipment){var a=this.equipment[i].lvl,n=this.heroData.getEquipment(a,i);t.attribute=kit.addObjs(t.attribute,n);for(var s=this.equipment[i].upgrade,o=this.heroData.getEquipmentID(i),r=1;r<=s;r++){var c=this.heroData.getUpgrade_new(o,r);t=this.addUpgradeObjs(t,c.stat,c.value),t=this.addUpgradeObjs(t,c.stat2,c.value2)}}return t},getStatObj_new:function(){var t={},e=this.heroData.getStat(this.heroLvl,1);for(var i in e=kit.clone(e))e[i]*=.5*(this.heroStar-1)+1;if(t.attribute=e,this.equipment)for(var i in this.equipment){var a=this.equipment[i].lvl,n=this.heroData.getEquipment_new(a,i);t.attribute=kit.addObjs(t.attribute,n);for(var s=this.equipment[i].upgrade,o=this.heroData.getEquipmentID_new(i),r=1;r<=s;r++){var c=this.heroData.getUpgrade_new(o,r);t=this.addUpgradeObjs(t,c.stat,c.value),t=this.addUpgradeObjs(t,c.stat2,c.value2)}}return t},addUpgradeObjs:function addUpgradeObjs(obj1,stat,value){if(!stat||!value)return obj1;var stat=stat,value=value;switch(stat){case"skill_add":eval("value="+value),obj1.skillAdd||(obj1.skillAdd={}),obj1.skillAdd[value.id]=kit.addObjs(obj1.skillAdd[value.id],value);break;case"skill_mul":eval("value="+value),obj1.skillMul||(obj1.skillMul={}),obj1.skillMul[value.id]=kit.mulObjs(obj1.skillMul[value.id],value);break;case"buff":if(eval("value="+value),!value)break;obj1.buff||(obj1.buff={}),obj1.buff[value.id]=kit.addObjs(obj1.buff[value.id],value);break;case"blt":eval("value="+value),obj1.bltToConvert=value;default:obj1.attribute||(obj1.attribute={}),obj1.attribute[stat]?obj1.attribute[stat]+=value:obj1.attribute[stat]=1*value}return obj1},getBltObj:function(t,e){var i=t.bltToConvert;if(!i)return t;var a=i.id&&BulletDefine[i.id]||e.blt;if(i.data)var n=kit.clone(i.data),s=kit.mergeObjs(n,[i]);else s=[kit.clone(i)];return s=kit.mergeObjs(s,a),t.blt=s,t},getStatConfig:function(t,e){var i=this.getStatObj();return t=Attribute.mergeStatConfig(t,i),this.getBltObj(t,e)}});module.exports=EquipmentManager,cc._RF.pop()},{}],EventManager:[function(t,e){"use strict";cc._RF.push(e,"0b719pEYkZDGouThx/UwyA1","EventManager"),cc.Class({initMap:function(t){this.game=t,this.mapping={}},unregist:function(t,e,i){i[t.uniqueID+e]=null},regist:function(t,e,i,a){var n=t.uniqueID;if(this.mapping[n])s=this.mapping[n];else{var s={};this.mapping[n]=s}s[e]||(s[e]=[]),s[e].push(i),i[n+e]=a},on:function(t,e,i,a,n){var s=t.uniqueID,o=this.mapping[s];if(o){var r=o[e];if(r)for(var c=0,h=r.length;c<h;c++){var d=r[c];d[s+e]?d[s+e](t,i,a,n):(r.splice(c,1),c-=1,h-=1)}}},check:function(t,e,i,a,n){var s=t.uniqueID,o=this.mapping[s];if(o){var r=o[e];if(r){for(var c=!1,h=0,d=r.length;h<d;h++){var l=r[h];l[s+e]?c=l[s+e](t,i,a,n)||c:(r.splice(h,1),h-=1,d-=1)}return c}}},compute:function(t,e,i,a,n){var s=t.uniqueID,o=this.mapping[s];if(!o)return a;var r=o[e];if(!r)return a;for(var c=0,h=r.length;c<h;c++){var d=r[c];d[s+e]?a=d[s+e](t,i,a,n):(r.splice(c,1),c-=1,h-=1)}return a}}),cc._RF.pop()},{}],ExplosiveMeka:[function(t,e){"use strict";cc._RF.push(e,"b02f5lXjGRM8Zrb+Jies39s","ExplosiveMeka"),cc.Class({extends:cc.Component,init:function(t){var e=t.obj;this.skill=t,this.obj=e;var i=e.define,a=kit.degree2Radian(e.deg),n=Math.sin(a),s=Math.cos(a);this.speedX=1e3*n,this.speedY=1e3*s,this.setScale(e.getScale()),this.node.deg=e.deg,this.node.setPosition(e.getPosition()),this.radius=i.radius,this.weight=i.weight,this.team=e.team,this.isDead=!0,this.isFloat=!0,g_sharedContactManager.addEntity(this),this._isInBorder=!0;var o=i.shadowScale||1,r=this.effectMgr.createSprite(0,0,"shadow");r.opacity=200,r.setScale(o),this.node.addChild(r,-2),this.shadow=r,this.game.addUpdate(this),this.game.camera.addChild(this,e.getLocalZOrder()+1),this.effectTimer=0,this.bombTimer=.5},hurt:function(){},onContact:function(){},knockback:function(t,e){this.kbx+=t,this.kby+=e},updateLogic:function(t){this.dx+=this.speedX*t,this.dy+=this.speedY*t,this.speedX*=.9,this.speedY*=.9,this.effectTimer-=t,this.effectTimer<=0&&(this.effectTimer=.25,Effect.DvaBlink(this)),this.bombTimer-=t,this.bombTimer<=0?this.attack():this.bombTimer<.5&&(this.bombEff?this.bombEff.setPosition(this.x0,this.y0):this.bombEff=Effect.DvaBomb(this))},onCover:function(t,e,i,a){var n=this.skill.define,s=Math.sqrt(e),o=n.r0+t.radius,r=n.k,c=n.dmg;if(s<o)t.hurt(c,this,DMG_TYPE.explo);else{var h=c-r*(s-o);h<0&&(h=0),t.hurt(h,this,DMG_TYPE.explo)}var d=-n.kb/(s*t.weight);if(t.knockback(d*i,d*a),n.poison){var l=n.poisonBuff;l.dmg=.05*c,new l.ctor(l,{obj:t})}},attack:function(){var t=this.skill,e=t.obj,i=this.x0,a=this.y0,n=t.define.r1;g_sharedContactManager.checkAliveEnemy(this,i,a,n,e.team,this.onCover),Effect.Nova(i,a,n,this.game),Effect.Explosive(cc.v2(i,a)),this.game.shake(25,25),this.remove()},remove:function(){g_sharedContactManager.removeEntity(this),this.game.removeUpdate(this),this.destroy()}}),cc._RF.pop()},{}],ExplosiveMob:[function(t,e){"use strict";cc._RF.push(e,"62958Jfyu1I+o8sT9fqD2k7","ExplosiveMob");var i=t("Entity"),a=(t("Skill"),cc.Class({extends:t("Mob"),init:function(t,e,i){this._super(t,e,i),this.registOnDeadCb({onDeath:function(){}})},attack:function(){this.isSelfExploding||(this.isSelfExploding=!0,this.define.preCastTime?this.preCast():this.finishCast())},updateRotate:function(){this.isDead||this._super.apply(this,arguments)},updateAvatar:function(){this.isDead||this._super.apply(this,arguments)},preCast:function(){if(this.setNoSkills(!0),this.setNoAttack(!0),this.setNoRotate(!0),this.setNoMove(!0),this.setForcedAnime("attack"),this.setForcedAnimeSpd(1),!this.define.noPreCastEff){var t=this.blt[0].hurtradius||400,e=this.createPreCastEff(this.define.preCastTime||1.5,2.8*t);this.addChild(e,-1)}this.castTimer=this.define.preCastTime||1.5},updateLogic:function(t){this._super(t),this.castTimer>0&&(this.castTimer-=t,this.castTimer<=0&&this.finishCast())},createPreCastEff:function(t,e){var i=new cc.Node,a=this.effectMgr.createSprite(0,0,"uiz/effect/ability_warn"),n=a.getContentSize();i.scale=e&&e/n.height||1,a.opacity=100,i.addChild(a,-1),a.runAction(cc.sequence(cc.delayTime(t),cc.destroySelf()));var s=this.effectMgr.createSprite(0,0,"uiz/effect/ability_warn");return s.scale=0,n=s.getContentSize(),i.addChild(s,-1),s.runAction(cc.sequence(cc.scaleTo(t,1),cc.destroySelf())),i},finishCast:function(){this.death(!0),this.selfExplode()},selfExplode:function(){var t=this.attackSequence[0];if(t.blt||0===t.blt){var e=this.blt[t.blt],i=t.x||0,a=t.y||0,n=this.x0,s=this.y0,o=this.deg,r=kit.degree2Radian(o),c=Math.sin(r),h=Math.cos(r),d=n+h*i+c*a,l=s-c*i+h*a,u=this.noDmg?0:this.attribute.get("atkDmg");Ammofactory(this,e,{x:d,y:l,te:this.team,obj:this,dmg:u},this.game)}},death:function(){this._super()},onDead:function(){i.prototype.onDead.apply(this,arguments)},deadEffect:function(){return(0,Effect.Death)(this,2,0,0,this.game)||.01}}));e.exports=a,cc._RF.pop()},{Entity:"Entity",Mob:"Mob",Skill:"Skill"}],Fire:[function(t,e){"use strict";cc._RF.push(e,"39d60o7aU5FZYlEr4KQxuk1","Fire"),window.Fire={bombEff:function(t,e){var i=kit.mergeObjs({x:t.x,y:t.y,dmg:t.dmg},t.define.bombEffCfg);return Fire.init(i,e)},init:function(t,e){t=t;var i,a,n,s=Number(t.x),o=Number(t.y),r=Number(t.r)||100,c=t.team||1,h=t.t||3,d=t.dmg||1,l=t.dmgPercent||0,u=t.type||0;if(c||0===Number(c)||(c=1),s||(i=!0),o||(a=!0),i&&e.hero&&(s=Math.random()<.5?e.hero.x+Math.random()*VIEW_SIZE.width/4-Math.random()*VIEW_SIZE.width/2:e.hero.x+Math.random()*VIEW_SIZE.width/4+Math.random()*VIEW_SIZE.width/4),a&&e.hero&&(o=Math.random()<.5?e.hero.y+Math.random()*VIEW_SIZE.height/4-Math.random()*VIEW_SIZE.height/2:e.hero.y+Math.random()*VIEW_SIZE.height/4+Math.random()*VIEW_SIZE.height/4),0==u){var f=[p=kit.clone(BuffDefine.DotZoneFire)],m=d;p.dmg=m*p.dmgScaleRate,n=Effect.FireZone({x:s,y:o},r,h,e)}else{var p;f=[p=kit.clone(BuffDefine.DotZoneLightning)],p.dmg=m*p.dmgScaleRate,n=Effect.LightningZone({x:s,y:o},r,h,e)}return Effect.Explosive({x:s,y:o},null,2,e),n.schedule(function(){var t=s,i=o,a=r;f||(f=[]);var n=e.contactMgr.contactList;for(var h in n){var u=n[h];if(u._isActiveContact&&!u.isSensor&&c!=u.team){var m=u.x0,p=u.y0,g=u.radius,v=u.weight,b=a+g,k=kit.norm(t-m,i-p)+1;if(k<=b){var y=l&&u.hpMax*l||d;u.simpleHurt(y,DMG_TYPE.fire);var S=0/(k*v);u.knockback((m-t)*S,(p-i)*S)}}}},.5),n}},cc._RF.pop()},{}],FlyAvatar:[function(t,e){"use strict";cc._RF.push(e,"6c787YUn8FPcJlHhwVLsQZk","FlyAvatar"),cc.Class({extends:t("SimpleAvatar"),update:function(){if(this.needRefresh){var t=this.obj,e=t.attribute,i=this.forcedRefresh;if(t.hurtStopTimer);else if(this.forcedAnimeName)this.setAnime(this.forcedAnimeName,this.forcedAnimeSpd,i);else if(t.isDead);else if(t.isAttack){var a=e.get("atkSpd");this.nextAttackAnim&&this.setAnime(this.nextAttackAnim,this.forcedAnimeSpd||a,!0,this.nextAttackAnimPlayTimes),this.nextAttackAnim=!1}else if(t.isMove){var n=t.spd/70*e.get("moveSpd");this.setAnime(this.walkAnimeName,this.forcedAnimeSpd||n)}else this.setAnime(this.walkAnimeName,this.forcedAnimeSpd||n,i);t.isStun||t.noAction,this.needRefresh=!1,this.forcedRefresh=!1}}}),cc._RF.pop()},{SimpleAvatar:"SimpleAvatar"}],FlyHydraliskAI:[function(t,e){"use strict";cc._RF.push(e,"71403pkYfBJqpTUzQT4q5I2","FlyHydraliskAI");var i=cc.Class({extends:t("AI"),updateStatusSeek:function(t){var e=this.obj;if(this.moveTimer-=t,!e.isDead&&!e.isStun){this.seekCD-=t,(this.seekCD<=0||this.target&&this.target.isDead)&&(this.seekCD=1+Math.random(),this.seekTarget());var i=this.target;if(i){this.checkSkill(i);var a=this.define,n=e.x0-100+200*Math.random(),s=e.y0-100+200*Math.random();if(this.define.checkWall){var o=e.game.contactMgr,r=o.getCXY(n,s);if(!o.canFitPlace(r.x,r.y,2))return void(this.seekCD=.2+Math.random())}var c=n-e.x0,h=s-e.y0,d=i.radius+e.radius+a.sr,l=c*c+h*h,u=kit.vector2Radian(i.y-e.y,i.x-e.x);if(e.setRotation(kit.radian2Degree(u)),l<d*d&&this.moveTimer<=0)this.attackTimer=this.attackInterval,e.callAttack(),this.changeStatus("Fight"),this.define.noLockTarget?e.callMove({}):e.callMove({rad:Math.random()*Math.PI*2,s:1});else if(this.astarTimer-=t,this.astarTimer<=0){this.seekOffsetTimer>0&&(this.seekOffsetTimer-=t,this.seekOffsetTimer<=0&&this.refreshSeekOffset());var f=a.ar0+a.ar1+10,m=l/(f*f);u=kit.vector2Radian(h,c),c+=this.seekOffsetX*m,h+=this.seekOffsetY*m,e.callMove({rad:u,s:1,t:1.5}),cc.log("moveTo",kit.radian2Degree(u),e.x,e.y),this.astarTimer=1.5+1*Math.random()}}}},initStatusFight:function(){var t=this.obj;if(this.attackTime=this.define.attackTime||0,this.attackSeq=this.define.attackSeq,this.attackSeq){var e=this.attackSeq[t.attackSequenceIndex];e&&e.attackTime&&(this.attackTime=e.attackTime)}this.attackTimer=this.attackTime||0,cc.log("initStatusFight",t.define.id),this.lockTarget=!0},updateStatusFight:function(t){var e=this.obj;this.attackTimer-=t;var i=this.target;if(this.lockTarget&&i&&!i.isDead&&!this.define.noLockTarget){var a=kit.vector2Radian(i.y-e.y,i.x-e.x);e.setRotation(kit.radian2Degree(a)),this.define.noLockTarget&&(this.lockTarget=!1)}if(!e.isAttack){if(this.attackTimer>0){var n;if(this.attackSeq){var s=this.attackSeq[e.attackSequenceIndex];n=s&&{attackSequenceIndex:e.attackSequenceIndex,attackIndex:s.repeatIndex}}if(!this.target.isDead){var o=this.target.x0-e.x0,r=this.target.y0-e.y0,c=this.target.radius+e.radius+this.define.sr;if(o*o+r*r<c*c)return a=kit.vector2Radian(r,o),this.define.noLockTarget||e.callMove({rad:a}),void e.callAttack(n)}return}cc.log("updateStatusFight toSeek",e.define.id),this.changeStatus("Seek")}}});e.exprots=i,cc._RF.pop()},{AI:"AI"}],FlySkill:[function(t,e){"use strict";cc._RF.push(e,"176e7LBUGhKSaIy/vn+YG2u","FlySkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.pharah_Fly),this.dt=this.define.dt||.3,this.blt=kit.clone(this.define.blt),this.dmg=this.define.dmg||0,this.n=this.define.n||2,this.idleTimer=0;var t=this.obj,e=t.attribute;t.setFly(!0),t.setNoAttack(!0),t.setNoRotate(!0),t.setNoSkills(!0),t.avatar.setWalkAnimeName("walk_2"),t.avatar.setStandAnimeName("walk_2"),t.avatar.setAttackAnimeName("attack_2"),t.refreshAvatar(),t.avatar.runAction(cc.scaleTo(.3,1.3)),this.speedScale=this.define.moveSpeedScale||1.5,e.mutScale("moveSpd",this.speedScale),this.define.stunTime&&(this.blt.buff||(this.blt.buff=[]),this.blt.buff.push({name:"FlySkillStun",ctor:StunBuff,symbol:getUniqueSymbol(),t:this.define.stunTime,chance:this.define.stunChance})),this.game.fastMode||this.addParticle()},addParticle:function(){var t,e,i;(t=this.obj.avatar.armature.getBone("spot_1")).changed||((e=this.game.effectMgr.createParticle(x,y,"pharah_fly")).angle=-45,(i=e.getComponent(cc.ParticleSystem)).positionType=cc.ParticleSystem.PositionType.RELATIVE,this.particle=i,this.game.camera.addChild(e,1e7),t.addDisplay(i,0),t.changeDisplayWithIndex(0,!1),t.changed=!0),(t=this.obj.avatar.armature.getBone("spot_2")).changed||((e=this.game.effectMgr.createParticle(x,y,"pharah_fly")).angle=-45,(i=e.getComponent(cc.ParticleSystem)).positionType=cc.ParticleSystem.PositionType.RELATIVE,this.particle2=i,this.game.camera.addChild(e,1e7),t.addDisplay(i,0),t.changeDisplayWithIndex(0,!1),t.changed=!0)},excute:function(t){if(this.idleTimer+=t,!(this.idleTimer<this.dt)){this.idleTimer=0;var e=this.obj,i=e.deg,a=kit.degree2Radian(i),n=this.n;(e.isAutoTarget||!e.target||e.target.isDead)&&e.seekTarget();var s=e.target;if(s){var o=kit.vector2Radian(s.y0-e.y,s.x0-e.x),r=kit.radian2Degree(o);e.runAction(cc.rotateTo(.2,r)),e.deg=r,a=kit.degree2Radian(r)}else e.deg=kit.radian2Degree(e.moveRad),e.runAction(cc.rotateTo(.2,e.deg)),a=e.moveRad;for(var c=0;c<n;c++){var h=(c-.5*n)/n*150,d=h*kit.sin(-1.57+a),l=h*kit.cos(-1.57+a),u=e.x-40*kit.sin(a)+d,f=e.y-40*kit.cos(a)+l,m=c+1<=n/2?-1:1,p=40/(n-1)*c-20;Ammofactory(e,this.blt,{x:u,y:f,te:e.team,obj:e,dmg:this.dmg,direction:m,degOffset:p},this.game)}Effect.fireLight.bind(this)({offSet:cc.v2(0,-30),obj:e,time:6}),Effect.fireLight.bind(this)({offSet:cc.v2(0,-30),obj:e,time:6}),this.game.effectMgr.play(SoundEffectPath.pharah_Fly_bullet)}},end:function(){this._super();var t=this.obj,e=t.attribute;t.setFly(!1),t.setNoRotate(!1),t.setNoAttack(!1),t.setNoSkills(!1),t.avatar.setWalkAnimeName(),t.avatar.setStandAnimeName(),t.avatar.setAttackAnimeName(),t.refreshAvatar(),t.avatar.runAction(cc.scaleTo(.2,1)),e.mutScale("moveSpd",1/this.speedScale)}}),cc._RF.pop()},{Skill:"Skill"}],FrameAvatar:[function(t,e){"use strict";cc._RF.push(e,"c1dc1pVrAdDxKUuxpYhPF+x","FrameAvatar"),cc.Class({extends:t("Avatar"),init:function(t,e,i){this.game&&this.game.bindScheduler(this),this.define=t,this.config=e,this.obj=e.obj,this.moveSpd=0,this.atkSpd=1,this.game=i,this.effectMgr=this.game.effectMgr,this.scale=this.define.scale||1.66,this.initAnimeName(),this.initShader(),this.setAnime("walk")},setForcedAnime:function(t,e,i){this.forcedAnimeName=t,this.forcedAnimeSpd=e,this.forcedAnimeLoop=i},setForcedAnimeSpd:function(t){this.forcedAnimeSpd=t},callAttackAnime:function(t){this.isAttack=t},callMoveAnime:function(t){this.isMove=t},setMoveSpeed:function(t){this.moveSpd=t},setAttackSpeed:function(t){this.atkSpd=t},callDeadAnime:function(t){this.isDead=t},setAttackAnimeName:function(t){this.attackAnimeName=t||"attack"},setWalkAnimeName:function(t){this.walkAnimeName=t||"walk"},setStandAnimeName:function(t){this.standAnimeName=t||"walk"},initAnimeName:function(){this.setAttackAnimeName(),this.setWalkAnimeName(),this.setStandAnimeName()},onAnimeEvent:function(){},update:function(){if(this.needRefresh){var t=this.obj,e=t.attribute,i=this.forcedRefresh;if(t.hurtStopTimer)this.setAnime("hurt",1);else if(this.forcedAnimeName)this.setAnime(this.forcedAnimeName,this.forcedAnimeSpd,i);else if(t.isDead);else if(t.isAttack){var a=e.get("atkSpd");this.nextAttackAnim&&this.setAnime(this.nextAttackAnim,this.forcedAnimeSpd||a,!0,this.nextAttackAnimPlayTimes),this.nextAttackAnim=!1}else if(t.isMove){var n=t.spd/70*e.get("moveSpd");this.setAnime(this.walkAnimeName,this.forcedAnimeSpd||n)}else this.setAnime(this.standAnimeName,this.forcedAnimeSpd,i);t.isStun||t.noAction,this.needRefresh=!1,this.forcedRefresh=!1}},setAnime:function(t,e,i,a){var n=this.define.frame;if(n&&t!=this.animName&&n[t]&&!this.obj.isDead){this.animName=t,this.display&&this.display.node.destroy(),n[t];var s=this.game.effectMgr.createAnimation(n[this.animName].name,{persist:1,speed:1,repeat:a||-1});s.scale=this.scale,this.node.addChild(s),this.display=s.sprite,this.define.ax&&(s.anchorX=this.define.ax),this.define.ay&&(s.anchorY=this.define.ay),cc.log("setAnime"),this.initDefaultShader(),this.updateShader(),this.fixHitFlashMat4()}},refresh:function(t){this.needRefresh=!0,this.forcedRefresh=this.forcedRefresh||t},initSkin:function(){},endAnim:function(){this.playAnim()},playAnim:function(){},hitFlash:function(){this.hitFlash2(1)}}),cc._RF.pop()},{Avatar:"Avatar"}],FreezeBlockOnHpLowBuff:[function(t,e){"use strict";cc._RF.push(e,"d7a5fhLJglN8ZJka54hOsz6","FreezeBlockOnHpLowBuff"),cc.Class({extends:t("OnHurtBuff"),onHurt:function(){if(!(this.cdTimer>0)){var t=this.define,e=this.obj;if(e.hp<t.hpRate*e.hpMax){var i={ctor:IceShieldSkill,t:t.duration||5,cd:0,dt:.3,reHp:t.hpRe||30,r:150,moveScale:1,msTime:0},a=new IceShieldSkill(i,{obj:this.obj});a.ready(),a.start(),this.cdTimer=t.cd||0}}}}),cc._RF.pop()},{OnHurtBuff:"OnHurtBuff"}],FrostBuff:[function(t,e){"use strict";cc._RF.push(e,"750a6SoWu5NL7aywXvnv61w","FrostBuff"),cc.Class({extends:t("Buff"),begin:function(){this.stack=this.define.stack||1,this.symbol1=getUniqueSymbol(),this.symbol2=getUniqueSymbol(),this.updateStack()},cover:function(t){this.stack+=t.stack,this.symbol1=t.symbol1,this.symbol2=t.symbol2,this.updateStack()},updateStack:function(){var t,e=this.obj;this.stack>=5&&(t={symbol:this.symbol1,ctor:SimpleMulAttrBuff,attr:"moveSpd",num:this.define.slowScale||.7,effect:Effect.ColdBuff,t:1})&&new t.ctor(t,{obj:e}),this.stack>=20&&((t={symbol:this.symbol2,ctor:FrozenBuff,t:this.define.frozenDuration||3,effect:Effect.FrozenBuff})&&new t.ctor(t,{obj:this.obj}),this.stack=-30)}}),cc._RF.pop()},{Buff:"Buff"}],FrozenBuffEffect:[function(t,e){"use strict";cc._RF.push(e,"ad54drTOgZFeJtE4c6v1wau","FrozenBuffEffect");var i=cc.Class({extends:cc.Node,init:function(t){t.addChild(this),this.obj=t;var e=t.game.effectMgr.createAnimation("atlas/frozen",{speed:1,persist:1});this.obj.addChild(e),this.sprite=e,e.scale=5},update:function(){},remove:function(){this.sprite.destroy(),this.destroy()}});window.Frozen=i,cc._RF.pop()},{}],FrozenBuff:[function(t,e){"use strict";cc._RF.push(e,"4b037ikHMhKL4bw93UXPCse","FrozenBuff"),cc.Class({extends:t("Buff"),begin:function(){var t=this.obj;this.cooldownFlag=this.define.cooldownFlag||"frozenCooldown",t.attribute.mutScale("moveSpd",.5),t.slowedByFrost||(t.slowedByFrost=0),cc.log("check frozenCt",t.slowedByFrost),t[this.cooldownFlag]||0==t.slowedByFrost||t.isBoss?t.slowedByFrost++:((!this.define.chance||Math.random()<this.define.chance)&&(t.frozen(this.define.duration),t.setBuffById("frozenCooldownBuff",{t:this.define.cd,cooldownFlag:this.cooldownFlag})),t.slowedByFrost++)},end:function(){var t=this.obj,e=t.attribute;cc.log("frozen end"),t.popShader("pm4"),e.mutScale("moveSpd",2),t.slowedByFrost--}}),cc._RF.pop()},{Buff:"Buff"}],FrozenCoolDownBuff:[function(t,e){"use strict";cc._RF.push(e,"faa63Js0EtAGJ7K3yuY73g4","FrozenCoolDownBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super();var t=this.obj;this.cooldownFlag=this.define.cooldownFlag||"frozenCooldown",t[this.cooldownFlag]=!0},excute:function(){},end:function(){this._super(),this.obj[this.cooldownFlag]=!1}}),cc._RF.pop()},{Buff:"Buff"}],FrozenSkill:[function(t,e){"use strict";cc._RF.push(e,"61f0eikxDBIj59Yw+dEekXx","FrozenSkill"),cc.Class({extends:t("Skill"),start:function(){return this.prepare(),Skill.isAim},stop:function(t){if(this.isPrepare){var e=this.obj;if(e.setNoAttack(!1),e.refreshAvatar(),this.isPrepare=!1,t)return this.cast()?Skill.no:Skill.yes}},prepare:function(){if(this._super())return!0;this.target=null,this.aimTimer=0;var t=this.obj;t.setNoAttack(!0),t.refreshAvatar()},aim:function(t){if(this.aimTimer-=t,this.aimTimer<0){this.aimTimer=1;var e=this.obj;(e.isAutoTarget||!e.target||e.target.isDead)&&e.seekTarget();var i=e.target;i?(this.target=i,this.aimSp||(this.aimSp=this.effectMgr.createSprite(0,0,"effect/focus/effect_focus"),this.game.camera.addChild(this.aimSp,1e5))):(this.target=null,this.removeAimSp())}this.target&&this.aimSp&&this.aimSp.setPosition(this.target.x,this.target.y)},removeAimSp:function(){this.aimSp&&(this.aimSp.destroy(),this.aimSp=null)},end:function(){var t=this.obj;t.setNoAttack(!1),t.setForcedAnime(null),t.refreshAvatar()},cast:function(){if(!this.target&&(this.aim(2),!this.target))return!0;if(this.removeAimSp(),this._super())return!0;this.game.effectMgr.play(SoundEffectPath.mei_Frozen),this.frozenT=this.define.frozenT,this.slowScale=this.define.slowScale,this.slowTime=this.define.slowTime,this.subSlowScale=this.define.subSlowScale,this.subSlowTime=this.define.subSlowTime,this.dmg=this.define.dmg,this.r=this.define.r,this.subDmg=this.define.subDmg,this.kb=this.define.kb;var t=this.obj;t.setNoAttack(!0),t.setForcedAnime("skill_1",1),t.refreshAvatar();var e=this.target;if(this.game.fastMode||(this.game.shake(15,15),Effect.MeiNova(e,1).runAction(cc.scaleTo(.15,this.r/180))),this.frozenT){var i=kit.clone(BuffDefine.frozenBuff);i.t=this.frozenT,new i.ctor(i,{obj:e})}var a=kit.clone(BuffDefine.frostBuff);a.stack=5,a.name="frozenSkillfrost1",new a.ctor(a,{obj:e}),this.symbol||(this.symbol=getUniqueSymbol());var n={ctor:SimpleMulAttrBuff,attr:"moveSpd",num:this.slowScale||.9,effect:Effect.ColdBuff,symbol:this.symbol,t:this.slowTime};if(new n.ctor(n,{obj:e}),this.define.frostStack){var s=kit.clone(BuffDefine.frostBuff);s.slowScale=this.slowScale,s.stack=this.define.frostStack,s.name="frozenSkillfrost2",this.subSlowBuff=s}e._isActiveContact&&!e.isDead&&e.simpleHurt(this.dmg),g_sharedContactManager.checkAliveEnemy(this,e.x,e.y,this.r,t.team,this.onCover)},onCover:function(t,e,i,a){var n=this.subSlowBuff;if(n&&new n.ctor(n,{obj:t}),t!=this.target){var s=Math.sqrt(e);t.simpleHurt(this.subDmg);var o=-this.kb/(s*t.weight);t.knockback(o*i,o*a)}}}),cc._RF.pop()},{Skill:"Skill"}],GameEntrance:[function(t,e){"use strict";cc._RF.push(e,"e6df5w0BK1GvIV1Re0wVkGl","GameEntrance"),window.AdventureDir="map/adventure/",window.SupplyDir="map/supply/",window.BiographyDir="map/biography/",window.ChallengeDir="map/challenge/",window.PlunderDir="map/plunder/",window.TrialsDir="map/trials/",window.ArenaDir="map/arena/",window.DemoDir="map/adventure/",window.ModeType={Adventure:"adventure",Plunder:"plunder",Trials:"trials",Arena:"arena",Supply:"supply",Biography:"biography",Challenge:"challenge",Demo:"demo"},window.GameManagerConfig={},window.LevelConfig={},cc.Class({start:function(t,e,i){window.gamePlaying=!0,window.userInfoButton&&userInfoButton.hide(),window.GameManagerConfig=e;var a=!1;e.levelPool&&(e.loadLvl?(e.lvl=e.loadLvl,e.loadLvl=null):e.lvl=e.levelPool.getLevel(),e.levelPool.isHeroric()&&(a=e.levelPool.chapter),cc.log("levelPool lvl:"+e.lvl),!e.lvl)||this.checkExist("map_"+e.lvl,function(t){cc.log("GameEntrance checkExist map",t),e.map=t,e.map.heroric=a;var n=this.getTestConfig(e);if(window.LevelConfig=n,i){var s=e.levelPool&&e.levelPool.chapter,o=0==s?"Introduction":OperDefine.getChapterInfo(s),r=e.levelPool&&"chapter_"+e.levelPool.chapter;console.log("GameEntrance resNeed check",r),menuManager.runWithTransition("gameScene",{loadingTitle:o,fadeInTime:.4,fadeOutTime:.4,noFixDt:1},!0,r)}else menuManager.runWithTransition("gameScene",{fadeInTime:.25,fadeOutTime:.25,noFixDt:1},!0)}.bind(this))},loadRes:function(t,e,i){if(t.indexOf("#")>0){var a=t.split("#");cc.log("loadRes bundle",a[0],t);var n=cc.assetManager.getBundle(a[0]);t=a[1],n&&n.load(t,e,i)}else cc.loader.loadRes(t,e,i)},checkExist:function(t,e){var i="sub#json/"+t;this.loadRes(i,function(a,n){var s;if(a&&cc.log(a),n.json)s=n.json,cc.log(i,s);else{var o=cc.sys.localStorage.getItem(t);o&&(s=JSON.parse(o))}return e&&e(s),s})},loadNextScene:function(t){cc.director.preloadScene("gameScene",function(){window.LevelConfig=t,cc.director.loadScene("gameScene")})},getSimpleConfig:function(t){var e=t.lvl,i={};i=t.lv;var a=t.bg;i.size=a.size,i.images=a.images,i.blocks=a.blocks,i.bgRes=a.bgRes;var n=PlayerData.getInGameTeamTrait();i.heros||(i.heros=[]),i.heros[0].i=PlayerData.getChoose(),i.heros[0].base=PlayerData.getBaseAbility(i.heros[0].i),i.heros[0].special=PlayerData.getSpecialAbility(i.heros[0].i),i.heros[0].weapon=PlayerData.getWeaponList(i.heros[0].i),i.heros[0].item=PlayerData.getToolList(i.heros[0].i),i.heros[0].bltList=PlayerData.getBltList(i.heros[0].i),i.heros[0].equip=PlayerData.getEquipmentList(i.heros[0].i),i.heros[0].hpCurrent=t.hp,i.heros[0].me=1,i.heros[0].meleeWeaponUsingId=PlayerData.getUsingWeaponId(i.heros[0].i,"melee"),i.heros[0].rangeWeaponUsingId=PlayerData.getUsingWeaponId(i.heros[0].i,"range"),i.heros[0].weaponUsingType=PlayerData.getUsingWeaponType(i.heros[0].i),i.heros[0].buff=PlayerData.getBuffCfg(i.heros[0].i),PlayerData.clearBuff(i.heros[0].i),PlayerData.applyInGameTeamTrait(i.heros[0],n),WeaponModify.applyEffect(i.heros[0],PlayerData.getWeaponModify()),PlayerData.getTalentTree(i.heros[0].i)&&PlayerData.getTalentTree(i.heros[0].i).applyInGameEffect(i.heros[0]);for(var s={},o=0;o<=i.heros.length-1;o++)if((h=i.heros[o]).me>1){var r=PlayerData.getTeammateUnitConfig(h.me-2);r?(s[(h=kit.mergeObjs(r,h)).me-2]=!0,PlayerData.applyInGameTeamTrait(h,n)):(i.heros.splice[1],o--)}var c=PlayerData.getTeammateList();for(o=0;o<=c.length-1;o++){var h;s[o]||((h=PlayerData.getTeammateUnitConfig(o)).x=i.heros[0].x+60*Math.random()-30,h.y=i.heros[0].y+60*Math.random()-30,h.te=0,PlayerData.getHeroById(h.i)?(i.heros.push(h),h.me=o+2):(h.t=0,i.mobs.push(h),h.me=o+2),PlayerData.applyInGameTeamTrait(h,n),s[o]=!0)}if(t.pvpSimulatorHeroes){var d=t.pvpSimulatorHeroes;for(var o in i.heros)d[o]&&(d[o].x=i.heros[o].x,d[o].y=i.heros[o].y);i.heros=d}return{lvl:e,map:i}},getTestConfig:function(t){var e=t.lvl,i=(t.lv,t.map);return console.log("getTestConfig:"+e,i),{lvl:e,map:i}}}),cc._RF.pop()},{}],GameMenu:[function(t,e){"use strict";cc._RF.push(e,"0250fgXD+dGyIc4hDIcgLMX","GameMenu");var i=t("LevelLayer");cc.Class({extends:t("Menu"),properties:{levelLayer:i,expFrame:t("expFrame"),moneyFrame:t("moneyFrame"),ui:cc.Node,recordBtn:cc.Node,checkpointPrefab:cc.Prefab},checkStartCheckPoint:function(){var e=this.levelPool.getCurrentLevelType();if("event"==e||"start"==e||this.config.loadGame){var i=this,a=cc.instantiate(this.checkpointPrefab);a.getComponent(t("CheckPointPopMenu")).init({endCB:function(){i.expFrame&&i.expFrame.enableVisible(!0)},type:e,index:this.levelPool.index,bossInterval:this.levelPool.bossInterval,length:this.levelPool.length,effectMgr:this.effectMgr}),this.node.addChild(a),i.expFrame&&i.expFrame.enableVisible(!1),this.levelLayer.moveInfoSection(-200,3.5)}},checkBossCheckPoint:function(){var e=this.levelPool.getCurrentLevelType();if("boss"==e||"finalboss"==e){var i=this,a=cc.instantiate(this.checkpointPrefab);a.getComponent(t("CheckPointPopMenu")).init({endCB:function(){i.expFrame&&i.expFrame.enableVisible(!0)},type:e,index:this.levelPool.index,bossInterval:this.levelPool.bossInterval,length:this.levelPool.length,effectMgr:this.effectMgr}),this.node.addChild(a),i.expFrame&&i.expFrame.enableVisible(!1),this.levelLayer.moveInfoSection(-200,3.5)}},checkRecord:function(){var t=this.levelPool.getCurrentLevelType();if(("level"==t||"boss"==t||"finalboss"==t)&&(record.stop(),this.canRecord())){if(record.isRecordReady()){if(this.recordBtn.active=!0,this.recordBtn.getChildByName("qp2").active=!1,this.recordBtn.getChildByName("qp").active=!1,this.shareRecordBox=0,this.shareRecordBox)if(this.getData("recordRewardedBoss"))(e=this.recordBtn.getChildByName("qp")).getChildByName("label").getComponent(cc.Label).string="+5";else var e=this.recordBtn.getChildByName("qp2");else this.getData("recordRewarded")?(e=this.recordBtn.getChildByName("qp")).getChildByName("label").getComponent(cc.Label).string="+5":(e=this.recordBtn.getChildByName("qp")).getChildByName("label").getComponent(cc.Label).string="+30";e.active=!0,this.recordBtn.x-=60,e.scale=0,this.recordBtn.runAction(cc.sequence(cc.moveBy(.1,cc.v2(60,0)).easing(cc.easeInOut(2)),cc.scaleTo(.1,1.2),cc.scaleTo(.1,1),cc.rotateTo(.05,-7.5),cc.sequence(cc.rotateTo(.1,15),cc.rotateTo(.1,-15)).repeat(1),cc.rotateTo(.05,0),cc.callFunc(function(){e.runAction(cc.sequence(cc.scaleTo(.15,1.2),cc.scaleTo(.1,1)).easing(cc.easeInOut(2))),this.recordBtn.runAction(cc.sequence(cc.delayTime(2.5),cc.scaleTo(.1,1.1),cc.scaleTo(.1,1)).repeatForever())},this)))}cc.log("checkRecord")}},shareRecord:function(){cc.log("shareRecord");var t=this,e=this.shareRecordBox;record.shareRecord(TJ.ADID.war_record,function(i){if(i){if(cc.log("shareSuccess!!"),e)if(t.getData("recordRewardedBoss")){var a=5;OperBridge.addSomethingByK("102",a),t.setData("recordRewarded",!0),Effect.ItemGainMsg(t.levelLayer,102,a)}else menuManager.pop("sub2#/operate/prefab/pop_open_box",{box:"b1"}),t.setData("recordRewardedBoss",!0);else a=5,t.getData("recordRewarded")||(a=30),OperBridge.addSomethingByK("102",a),t.setData("recordRewarded",!0),Effect.ItemGainMsg(t.levelLayer,102,a);t.recordBtn.active=!1,t.checkSaveGame()}})},getData:function(t){return this.config.saveData[t]},setData:function(t,e){this.config.saveData[t]=e},onLoad:function(){gameEndLoad(),console.log("GameMenu init start"),this.config=window.GameManagerConfig,this.config.saveData=this.config.saveData||{};var t=window.LevelConfig;t.gameManager=this,this.config.levelIndex|=0,this.levelPool=this.config.levelPool,t.power=this.levelPool&&this.levelPool.getPower(),this.talentPointUsed=this.getData("talentPointUsed")||0,this.initTheme(t),this.config.loadGame&&(t.loadGame=!0),this.levelLayer.init(t,this),this.effectMgr=this.levelLayer.effectMgr,this.initGlobalAttr(),this.initHero(),this.initMoney(),this.initItem(),this.initExp(),this.initUI(),this.checkStart(),this.talentPt=0,this.initListener(),this.checkGuide(),tjSDK.onStart(this.getChapterProgress(),this.levelPool.index),tjSDK.onEvent("level_onStart",this.levelPool.currentMapIndex),operkit.loadWarData("first_start_game")||(operkit.saveWarData("first_start_game",!0,!0),tjSDK.onEventQm(102)),!operkit.getOperData("guide","first_startgame")&&(tjSDK.onEvent("first_startgame"),operkit.setOperData("guide","first_startgame",!0,!0)),this.levelPool.index<=10&&!operkit.getOperData("guide","first_start_lv"+this.levelPool.index)&&(operkit.setOperData("guide","first_start_lv"+this.levelPool.index,!0,!0),tjSDK.onEventQm(TJ.eventId_qm["first_start_lv"+this.levelPool.index])),console.log("GameMenu init finish")},getRelics:function(){var t=operkit.getRelicsTanlentId();for(var e in console.log("getRelics",t),t)return t},loadRelic:function(){var t=operkit.loadWarData("relicChoose");if(t){console.log("loadRelic id",t[0]);var e={id:t[0]};this.config.talent.push(e),operkit.saveWarData("relicChoose",null),this.setData("relicUsing",t[0])}},getGlobalAttr:function(t){return this.globalAttr.get(t)},initGlobalAttr:function(){var e=t("Attribute"),i=this.globalAttr=new e;i.init("moneyDropRate",1),i.init("itemDropRate",1),i.init("chooseBonusRarityBonusRate",1),i.init("weaponTrialBonus",0)},setGlobalBonus:function(){},getChapterProgress:function(){return this.config.chapterProgress},checkBGM:function(){var t=this.levelPool.getCurrentLevelType();"event"==t?this.effectMgr.playMusic(BGMPath.campfire,null,1):"boss"==t||"finalboss"==t?this.effectMgr.playMusic(BGMPath.bossfight,null,1):this.effectMgr.playMusic(BGMPath.campfire,null,1)},start:function(){if(window.WIDE_SCREEN){var t=cc.find("Canvas/ui/top");t.getComponent(cc.Widget).top+=50,cc.log(t)}if(this.config.loadGame){this.levelLayer.loadGame(0);var e=this.getData("changedWeapon");e&&this.changeWeapon(e.weaponId,e.ct)}var i=this.levelPool.getCurrentLevelType();this.checkStartCheckPoint(),this.config.loadGame=!1,this.checkBGM(),this.checkGuideOnStart(),"level"!=i&&"boss"!=i&&"finalboss"!=i||this.scheduleOnce(function(){record.start()},.5)},checkGuideOnStart:function(){var t=this;if(this.config.guide&&1==this.levelPool.index){var e=ChatDefine.first_dialogue[1];this.levelLayer.pushTimeScale(0),this.scheduleOnce(function(){menuManager.pop("sub2#/operate/npc/pop_chat",{noBlack:!0,chatObj:e,cb:function(){t.levelLayer&&t.levelLayer.popTimeScale(0)}},null,function(){t.levelLayer&&t.levelLayer.popTimeScale(0)})},.5)}},diagueOnce:function(t,e,i){var a=this,n=function(){if(operkit.loadWarData("first_dialogue_"+t))e&&e();else{var i=ChatDefine.first_dialogue[t];a.levelLayer.pushTimeScale(0),menuManager.pop("sub2#/operate/npc/pop_chat",{noBlack:!0,chatObj:i,cb:function(){a.levelLayer.popTimeScale(0),e&&e()}},null,function(){a.levelLayer.popTimeScale(0),e&&e()}),operkit.saveWarData("first_dialogue_"+t,!0)}};i?this.scheduleOnce(n,i):n()},checkGuide:function(){var t=["Mouse to move\nGo to the next room!","Just move!\nWeapon will attack automatically!"];if(cc.sys.isMobile||(t=["Mouse to move\nGo to the next room!","Just move!\nWeapon will attack automatically!"]),this.config.guide)if(0==this.levelPool.index){var e=this.levelLayer,i=this.effectMgr.createLabel2(0,0,t[0],50),a=e.map.config.width/2*CELL_W,n=e.map.config.height/2*CELL_H;i.x=a,i.y=n+350,i.label.lineHeight=60,i.label.horizontalAlign=cc.Label.HorizontalAlign.CENTER,this.levelLayer.addToCamera(i,10);var s=this.effectMgr.createSprite(a,n+470,"ui/guide/arrow");s.scale=1.5,s.angle=180,s.runAction(cc.sequence(cc.moveBy(1,cc.v2(0,33)),cc.moveBy(1,cc.v2(0,-33))).repeatForever()),this.levelLayer.addToCamera(s,10)}else 1==this.levelPool.index?(e=this.levelLayer,i=this.effectMgr.createLabel2(0,0,t[1],50),a=e.map.config.width/2*CELL_W,n=e.map.config.height/2*CELL_H,i.x=a,i.y=n-200,i.label.lineHeight=60,i.label.horizontalAlign=cc.Label.HorizontalAlign.CENTER,this.levelLayer.addToCamera(i,10)):2==this.levelPool.index?(e=this.levelLayer,i=this.effectMgr.createLabel2(0,0,"Go through obstacles\nAttack the enemy!",50),a=e.map.config.width/2*CELL_W,n=e.map.config.height/2*CELL_H,i.x=a,i.y=n-200,i.label.lineHeight=60,i.label.horizontalAlign=cc.Label.HorizontalAlign.CENTER,this.levelLayer.addToCamera(i,10)):this.levelPool.index;0==this.getChapter()&&6==this.levelPool.index&&this.effectMgr.play(SoundEffectPath.call_incoming)},initTheme:function(t){if(this.levelPool){var e=this.levelPool.define;e.theme&&(t.map.config.theme=e.theme),e.themeShader&&(t.map.config.themeShader=this.levelPool.getThemeShader(),t.map.config.themeWeather=this.levelPool.getThemeWeather())}},initListener:function(){this.node.on(cc.game.EVENT_HIDE,function(){this.pauseGame()},this)},getLevelType:function(t){return this.levelPool&&this.levelPool.getLevel(t,!0)},initMoney:function(){this.levelLayer.moneyGain=this.config.moneyGain||0},initItem:function(){this.levelLayer.itemGain=this.config.itemGain||{}},getCoinValue:function(){return this.levelPool&&this.levelPool.getMoneyDrop()},checkDropHeal:function(){return this.levelPool&&this.levelPool.checkDropHeal()},initUI:function(){this.expFrame&&this.expFrame.init(this),this.moneyFrame&&this.moneyFrame.init(this)},initExp:function(){this.expGain=0,this.exp=this.config.exp||0,this.lvl=this.config.playerLvl||1},getExp:function(){return this.exp},getExpRequire:function(t){return ExpDefine.playerLvl[t-1]},updateLogic:function(t){this.expFrame&&this.expFrame.updateLogic(t)},updateUI:function(t){this.expFrame&&this.expFrame.moveTo(this.lvl,this.exp,t)},getLvl:function(){return this.lvl},addExp:function(t,e,i){var a=this.levelPool&&this.levelPool.getExpScale()||1,n=t*((this.levelLayer.hero.attribute.get("expBonus")||0)+1)*a;0==this.getChapter()&&i&&(n=0,1==this.levelPool.index||2==this.levelPool.index?n=50:3==this.levelPool.index?n=200:7==this.levelPool.index?n=150:9==this.levelPool.index&&(n=150)),this.expGain+=n,this.updateExp(e),cc.log("addExp",this.exp)},checkLvlup:function(t){var e=this.getExpRequire(this.lvl);if(e)return this.exp+=this.expGain,this.expGain=0,cc.log("checkLvlup",this.exp,e),this.exp>=e?(this.exp-=e,this.lvl=+this.lvl,this.lvl+=1,this.checkLvlup(!0)):t},onLevelup:function(){this.talentPt++,this.levelLayer.levelup()},onExpAddFinish:function(){},initHero:function(){this.levelLayer.hero&&(this.config.hp&&(this.levelLayer.hero.hp=this.config.hp,this.levelLayer.hero.hpBar&&this.levelLayer.hero.hpBar.refresh()),this.levelLayer.hero.ultCharge=this.config.ultCharge||0,this.initEquipment(),this.initTalent(),this.initBuff(),this.levelLayer.hero.hpBar.refresh(),this.levelLayer.hero.bltBar.refresh(),this.levelLayer.hero.bltBar.updateBltBarLine(),this.config.loadGame&&(this.levelLayer.hero.y=(this.levelLayer.map.config.height-1)*CELL_H))},initCompanion:function(){var t=this.levelLayer,e=ENTITYS.drone,i={i:"drone",team:0,x:t.hero.x+100,y:t.hero.y};t.levelMgr.createObject(e,i,null,!0,!0,!0,!0).setOwner(t.hero)},initBuff:function(){for(var t in this.config.buff=this.config.buff||{},this.config.buff){var e=this.levelLayer.hero.setBuffById(t);e&&(e.castTimer=this.config.buff[t])}},initEquipment:function(){var e=t("Weapon"),i=this.levelLayer.hero,a={};if(cc.log("initEquipment cfg",this.config.equipment),this.config.equipment){var n=this.config.equipment,s=!n.alreadyInit;for(var o in n.equipBonus&&n.atkDmg&&(n.atkDmg.v*=1+n.equipBonus.v,n.hpMax.v*=1+n.equipBonus.v),delete n.equipBonus,n){var r=n[o];"weaponId"!=o&&"buff"!=o&&"alreadyInit"!=o&&("weapon"==r.type?a[o]=r.v:(cc.log("initEquipment add stat",o,r.v),s&&("hurtScale"!=o&&"recoilScale"!=o||(r.v=-r.v),"bltAtkScale"==o&&(r.v-=1)),i.attribute.add(o,r.v)||i.attribute.init(o,r.v),"hpMax"!=o||this.config.hp||(i.hp+=r.v,i.hpBar.refresh())))}if(n&&n.buff)for(var o in n.buff)cc.log("initEquipment add buff",n.buff[o]),i.setBuffById(n.buff[o].id,n.buff[o].v);if(n&&n.weaponId){var c=new e;cc.log("weaponCfg",a),c.init(WeaponDefine[n.weaponId],a),i.equipWeapon(c)}else i.attribute.add("atkDmg",150);n.alreadyInit=!0}i.bltBar&&i.bltBar.updateBaseBltCt(),this.config.hpBase||(this.config.hpBase=i.hp),i.hpBase=this.config.hpBase},initTalent:function(){this.config.talent||(this.config.talent=[]);var t=this.config.talent;console.log("initTalent",this.config.talent),Talent.prepare(t),Talent.init(t,this.levelLayer.hero),Talent.start(this.levelLayer)},onWinGame:function(t,e){var i=this.levelPool.getCurrentLevelType(),a=this,n=function(){cc.log(" GameManager onWinGame baseExp",ExpDefine.baseLvlReward),e=e||0,"event"!=i&&"start"!=i&&(e+=ExpDefine.baseLvlReward),a.addExp(e||0,t,!0),a.checkBossEnd(),a.levelLayer.collectAutoLoot=!0};this.checkBossCheckPoint(),"boss"==i||"finalboss"==i?setTimer(a.levelLayer,2,n):n(),tjSDK.onEnd(this.getChapterProgress(),this.levelPool.index,null,!0),tjSDK.onEvent("level_onWin",this.levelPool.currentMapIndex),this.levelPool.index<=10&&!operkit.getOperData("guide","first_pass_"+this.levelPool.index)&&(tjSDK.onEvent("first_pass_"+this.levelPool.index),operkit.setOperData("guide","first_pass_"+this.levelPool.index,!0,!0)),tjSDK.onEventQm(401,operkit.getCurWarChapterTJ()+"_"+this.levelPool.index+"_"+this.levelPool.currentMapIndex),"event"!=i&&"start"!=i&&this.levelLayer.hero.triggerCb("onWin"),this.isWin=!0},updateExp:function(t){this.checkLvlup(),this.updateUI(t)},addRelicUnlock:function(t){var e=this.getData("relicUnlock")||[];e.push(t),this.setData("relicUnlock",e),cc.log("addRelicUnlock",t,e)},checkStart:function(){console.log("----move-----");var t=this;if(this.levelPool){var e=this.levelPool.getCurrentLevelType();if("start"==e){(c=this.levelLayer).controller.enableMove(!1);var i,a=t.getRelics();c.scheduleOnce(function(){c.controller.enableMove(!0),c.winGame(0),a&&!i&&menuManager.pop("sub3#/prefab/relicPopMenu",{game:t.levelLayer,fixOptions:a})},1),c.hero.moveTo(c.map.config.width/2*CELL_W,c.map.config.height/2*CELL_H);var n=operkit.getRelicsStatus(10021);if(1==n||2==n||1!=this.getChapter()){if(!c.hero.attribute.get("lootChest"))return;return s="chest",o=ENTITYS[s],r={i:s,team:0,x:c.map.config.width/2*CELL_W,y:c.map.config.height*CELL_H-50},void c.levelMgr.createObject(o,r,null,!0,!0,!0,!0)}i=!0;var s="reliclNpc",o=ENTITYS[s],r={i:s,team:0,x:c.map.config.width/2*CELL_W,y:c.map.config.height*CELL_H-150};c.levelMgr.createObject(o,r,null,!0,!0,!0,!0)}if("event"==e){var c=this.levelLayer;s=this.config.guide?"soldierNpc":"survivor",this.config.guide||c.winGame(0),o=ENTITYS[s],r={i:s,team:0,x:c.map.config.width/2*CELL_W,y:c.map.config.height/2*CELL_H},c.levelMgr.createObject(o,r,null,!0,!0),Math.random()<.3&&!this.config.master&&0!=this.getChapter()?(o=ENTITYS.master,r={i:"master",team:0,x:c.map.config.width/2*CELL_W,y:c.map.config.height*CELL_H-100},c.levelMgr.createObject(o,r,null,!0,!0),this.config.master=!0):Math.random()<.5&&!this.config.weaponTrial&&0!=this.getChapter()&&(o=ENTITYS.weaponTrialNpc,r={i:"weaponTrialNpc",team:0,x:c.map.config.width/2*CELL_W,y:c.map.config.height*CELL_H-100},c.levelMgr.createObject(o,r,null,!0,!0),this.config.weaponTrial=!0)}else 0==this.getChapter()||"level"!=e||"boss"!=this.levelPool.getLevel(this.levelPool.index+1,!0)&&"finalboss"!=this.levelPool.getLevel(this.levelPool.index+1,!0)||(c=this.levelLayer,s="healbox",o=ENTITYS[s],r={i:s,team:1,x:c.map.config.width/2*CELL_W,y:c.map.config.height*CELL_H-100},c.levelMgr.createObject(o,r,null,!0,!0,!0,!0))}},checkBossEnd:function(){if(this.levelPool&&0!=this.getChapter()){var t=this.levelPool.getLevel(null,!0);if(cc.log("checkBossEnd",t,this.levelPool.index),"boss"==t){var e=this.levelLayer,i=(Math.random(),"chest"),a=ENTITYS[i],n={i:i,team:0,x:e.map.config.width/2*CELL_W,y:e.map.config.height*CELL_H-50};e.levelMgr.createObject(a,n,null,!0,!0,!0,!0).bossChest=!0,this.config.merchantShowed=!1}else"level"==t&&Math.random()<.1&&!this.config.merchantShowed&&(this.config.merchantShowed=!0,e=this.levelLayer,i=Math.random()<.4?"demon":"merchant",a=ENTITYS[i],n={i:i,team:0,x:e.map.config.width/2*CELL_W,y:e.map.config.height*CELL_H-50},e.levelMgr.createObject(a,n,null,!0,!0,!0,!0))}else(0==this.getChapter()&&"level"==t&&"boss"==this.levelPool.getLevel(this.levelPool.index+1,!0)||"finalboss"==this.levelPool.getLevel(this.levelPool.index+1,!0))&&(e=this.levelLayer,i="weaponTrialNpc2",a=ENTITYS[i],n={i:i,team:0,x:e.map.config.width/2*CELL_W,y:e.map.config.height*CELL_H-50},e.levelMgr.createObject(a,n,null,!0,!0,!0,!0));t=this.levelPool.getLevel(null,!0),0==this.getChapter()&&"finalboss"==t&&this.diagueOnce(3,function(){},1)},clearSaveGame:function(){operkit.saveWarData("saveProgressConfig","",1),cc.log("clearSaveGame")},checkBonusFinish:function(){this.checkSaveGame(),this.scheduleOnce(this.checkRecord,.3)},checkSaveGame:function(){if(this.levelPool){var t,e=operkit.loadWarData("saveProgressConfig");e&&(t=JSON.parse(e),cc.log("checkSaveGame saveProgressConfigStr exist",t)),this.levelPool.index<1||this.saveGame()}},saveGame:function(){var t={hp:this.levelLayer.hero.hp,talent:this.config.talent,moneyGain:this.levelLayer.moneyGain,itemGain:this.levelLayer.itemGain,exp:this.exp,playerLvl:this.lvl,levelPool:this.levelPool.getSaveCfg(),currentLvl:this.config.lvl,alreadyRevived:this.config.alreadyRevived,saveData:this.config.saveData,master:this.config.master,weaponTrial:this.config.weaponTrial},e=JSON.stringify(t);operkit.saveWarData("saveProgressConfig",e,1),cc.log("saveGame success!",t)},nextLevel:function(e){if(e&&(this.levelPool.index=e),this.levelLayer.hero)for(var i in this.config.hp=this.levelLayer.hero.hp,this.config.moneyGain=this.levelLayer.moneyGain,this.config.itemGain=this.levelLayer.itemGain,this.config.buff={},this.levelLayer.hero.buffList){var a=this.levelLayer.hero.buffList[i];(a.castTimer||a.chapterPersist)&&a.define.name&&(this.config.buff[a.define.name]=a.castTimer)}var n=this.config.talent;for(var i in n)n[i].consume&&n[i].consume--;this.config.exp=this.exp,this.config.playerLvl=this.lvl,this.config.ultCharge=this.levelLayer.hero.ultCharge;var s=this.getData("changedWeapon");if(s&&(s.ct-=1,s.ct<=0&&(this.setData("changedWeapon",null),this.config.equipment=EquipDefine.getAllAttrs())),this.levelPool&&this.levelPool.nextLevel(),this.levelPool){if(!this.levelPool.getCurrentLevelType())return void this.endGame(!0);(new(t("GameEntrance"))).start("test",this.config)}else menuManager.runWithTransition("mainMenu",{},!0,"mainui");this.levelPool.index<=10&&!operkit.getOperData("guide","first_enter_"+this.levelPool.index)&&(tjSDK.onEvent("first_enter_"+this.levelPool.index),operkit.setOperData("guide","first_enter_"+this.levelPool.index,!0,!0),tjSDK.onEventQm(TJ.eventId_qm["first_enter_lv"+this.levelPool.index]))},addRoleExp:function(t){this.config.roleExp=this.config.roleExp||0,this.config.roleExp+=t},getRoleExp:function(){return this.config.roleExp||0},init:function(){this.config.guide&&this.ui&&(this.ui.getChildByName("top").getChildByName("pause").active=!1),cc.Platformsdk.hideBanner()},pauseGame:function(){menuManager.pop("prefab/pauseMenu",{game:this.levelLayer})},getChapterExp:function(t){if(this.levelPool)return t?this.levelPool.getChapterFinishExp():this.levelPool.getChapterExp()},getLevel:function(){if(this.levelPool)return this.levelPool.index},getChapter:function(){if(this.levelPool)return this.levelPool.chapter},endGame:function(t){var e=this.getChapterExp(t);this.addRoleExp(e);var i={101:this.levelLayer.moneyGain||0};i=kit.mergeObjs(i,this.levelLayer.itemGain);var a=this;this.getChapter(),function(){cc.log("relicItemId",a.getData("relicItemId")),cc.log("unlockRelic",a.getData("relicUnlock"));var t={obj:i,relicid:a.getData("relicItemId"),unlockRelic:a.getData("relicUnlock"),chapter:a.getChapter(),point:a.getLevel()-1,exp:a.getRoleExp(),cb:function(){menuManager.runWithTransition("mainMenu",{},!0,"mainui"),a.effectMgr.stopBGM(),!operkit.getOperData("guide","first_win_chapter0")&&0==a.getChapter()&&(tjSDK.onEvent("first_win_chapter0"),operkit.setOperData("guide","first_win_chapter0"),tjSDK.onEventQm(131))}};cc.log("endGame",t),menuManager.pop("sub#/operate/prefab/pop_settlement",t)}(),this.clearSaveGame(),this.levelLayer.pushTimeScale(0),record.stop(1),t?0==this.getChapter()&&tjSDK.onEventQm(130):(tjSDK.onEnd(this.getChapterProgress(),this.levelPool.index,null),tjSDK.onEvent("level_onFail",this.levelPool.currentMapIndex),tjSDK.onEventQm(404,operkit.getCurWarChapterTJ()+"_"+this.levelPool.index+"_"+this.levelPool.currentMapIndex),operkit.getOperData("guide","first_fail")||(i={chapter:operkit.getCurWarChapterTJ(),point:this.levelPool.index},tjSDK.onEvent("first_fail",i),operkit.setOperData("guide","first_fail",!0,!0)))},setAlreadyRevived:function(){this.config.alreadyRevived=!0},isAlreadyRevived:function(){return this.config.alreadyRevived},canDropItem:function(){return 0!=this.getChapterProgress()},canRecord:function(){return 0!=this.getChapterProgress()},getCurrentLevelType:function(){return this.levelPool&&this.levelPool.getCurrentLevelType()},changeWeapon:function(t,e){var i={MGX:{bltAtkScale:2,bltCt:70},RPG:{bltAtkScale:5,bltCt:10}};this.levelLayer.hero.equipWeaponById(t);var a=this.config.equipment=EquipDefine.getAllAttrs();a.weaponId=t,a.bltAtkScale&&(a.bltAtkScale.v=i[t].bltAtkScale),a.bltCt&&(a.bltCt.v=i[t].bltCt);var n=6+(this.getGlobalAttr("weaponTrialBonus")||0);this.setData("changedWeapon",{weaponId:t,ct:e||n})}}),cc._RF.pop()},{Attribute:"Attribute",CheckPointPopMenu:"CheckPointPopMenu",GameEntrance:"GameEntrance",LevelLayer:"LevelLayer",Menu:"Menu",Weapon:"Weapon",expFrame:"expFrame",moneyFrame:"moneyFrame"}],GetAttackBuff:[function(t,e){"use strict";cc._RF.push(e,"947bfAtD5pEUoBO2TBjXSGL","GetAttackBuff"),cc._RF.pop()},{}],GhostFire:[function(t,e){"use strict";cc._RF.push(e,"720d8UU0BZHiJ7EFf3M1M/P","GhostFire");var i=cc.Class({extends:t("Bullet"),init:function(t,e,i){this._super(t,e,i),this.game=i,this.alwaysCheck=!0,this.hurtedObjs={},this.spdScale=0,this.selfRotation=0,this.obj.ghostFireCt||(this.obj.ghostFireCt=0),this.obj.ghostFireCt++,this.scale=.5,this.checkEnemyTimer=.5},initSprite:function(){this._super();var t=this.game.effectMgr.createAnimation("atlas/ball",{speed:5,repeat:-1});this.game.addEntity(t,(this.define.zOrder||1e3)+1),this.ball=t,this.ball.scale=0,this.sprite.scale=0,this.sprite.runAction(cc.scaleTo(.5,1)),this.ball.runAction(cc.scaleTo(.5,1))},move:function(t,e,i){this._super(t,e,i),this.spinR=200,this.spinRotation=this.config.spinRotation||0,this.spinSpeed=360,this.timer=5},onCoverBomb:function(t,e,i,a){var n=this.obj,s=Math.sqrt(e)+1,o=(this.hurtradius,t.radius,this.minradius+t.radius),r=(this.dmgk,this.buff),c=this.define.dmgType;if(t.buffList){"string"==typeof(r=this.buff)&&(r=BuffDefine[r]),r&&(!r.chance||Math.random()<r.chance)&&new r.ctor(r,{obj:t,from:this.obj}).init(r,{obj:t,from:this.obj},this.game);for(var h=this.buffs,d=0;d<h.length;d++)new h[d].ctor(h[d],{obj:t,from:this.obj}).init(h[d],{obj:t,from:this.obj},this.game)}if(s<o)n.hit(this.dmg,this,t,c);else{var l=this.dmg;l<0&&(l=0),n.hit(l,this,t,c)}var u=this.knockBack/(s*t.weight);t.knockback(-i*u,-a*u)},hit:function(t,e){var i=this.x,a=this.y;g_sharedContactManager.checkAliveEnemy(this,i,a,150,this.team,this.onCoverBomb),this.define.hitSound&&this.game.effectMgr.play(SoundEffectPath[this.define.hitSound]),this.remove(),i=this.x,a=this.y;var n=this.lx,s=this.ly,o=this.define;o.hitEffect&&o.hitEffect(i+n*e,a+s*e,this.deg,1,this.game,this.dmg)},checkEnemy:function(){this.target||g_sharedContactManager.checkAliveEnemy(this,this.x,this.y,this.define.l,this.obj.team,this.onCover)},onCover:function(t){this.lockedTarget=!0,this.target=t},updateLogic:function(t){if(this.spinRotation+=this.spinSpeed*t,this.spinRotation>=360&&(this.spinRotation-=360),this.updateSprite(t),this.checkEnemyTimer-=t,this.checkEnemyTimer<0&&this.checkEnemy(),this.lockedTarget){if(this.spdScale+=10*t,!this.target||this.target.isRemoved||this.target.isDead)this.isEnding||(this.isEnding=!0,this.timer=1),this.timer-=t;else{var e=kit.vector2Radian(this.target.y-this.y,this.target.x-this.x);this.move(e,this.spdScale)}this.dx=this.spdX*t,this.dy=this.spdY*t,this.timer<=0&&(this.removingBullet&&this.remove("maxLength"),this.removingBullet=!0)}else this.dx=0,this.dy=0,e=kit.degree2Radian(this.spinRotation),this.timer<=0&&(this.removingBullet&&this.remove("maxLength"),this.removingBullet=!0),this.timer-=t},updateSprite:function(t){this._super(t),this.ball.x=this.sprite.x,this.ball.y=this.sprite.y,this.selfRotation-=1360*t,this.ball.angle=this.selfRotation},hitWall:function(){},removeSprite:function(){if(this.sprite){if(this.define.particle){var t=this.sprite;this.sprite.sp.stopSystem(),this.sprite.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.destroy()})))}else this.sprite.destroy();this.sprite=null}this.ball.destroy()},remove:function(){this._super(),this.obj.ghostFireCt--}});e.exports=i,cc._RF.pop()},{Bullet:"Bullet"}],GradientShaderMgr:[function(t,e){"use strict";cc._RF.push(e,"3adb4uD155HLrW5TB9eXRu6","GradientShaderMgr");var i=t("EffectManager"),a=cc.Class({extends:cc.Component,init:function(t,e,a){this.effectMgr=new i,this.effectMgr.bindShader(t,"gradient"),this.direction=-e,this.left=-.4,this.right=0,this.display=t,this.speed=6,this.fixDt=!a},update:function(t){if(1!=this.left||1.4!=this.right)if(this.firstUpdate){1==this.fixDt&&(t=.016),this.left=kit.numApproach(this.left,1,this.speed*t),this.right=kit.numApproach(this.right,1.4,this.speed*t);var e=this.display.getMaterial(0);e&&(e.setProperty("left",this.left),e.setProperty("right",this.right),e.setProperty("direction",this.direction))}else this.firstUpdate=!0;else 1==this.direction&&(this.node.opacity=0)}});e.exports=a,cc._RF.pop()},{EffectManager:"EffectManager"}],GradualAttributeBuff:[function(t,e){"use strict";cc._RF.push(e,"6d875oGlK1D6L9LUXr6XAeV","GradualAttributeBuff"),cc.Class({extends:t("Buff"),begin:function(){this.cd=this.define.cd,this.cdTimer=this.cd,this.addTime=0},add:function(){var t=this.obj.attribute,e=this.define.add,i=this.define.mutScale,a=this.define.addScale;if(e)for(var n=0;n<e.length;n++)t.add(e[n][0],e[n][1]);if(i)for(n=0;n<i.length;n++)t.mutScale(i[n][0],i[n][1]);if(a)for(n=0;n<a.length;n++)t.addScale(a[n][0],a[n][1]);this.addTime++},end:function(){for(var t=1;t<=this.addTime;t++)this.reset()},reset:function(){var t=this.obj.attribute,e=this.define.add,i=this.define.mutScale,a=this.define.addScale;if(e)for(var n=0;n<e.length;n++)t.add(e[n][0],-e[n][1]);if(i)for(n=0;n<i.length;n++)t.mutScale(i[n][0],1/i[n][1]);if(a)for(n=0;n<a.length;n++)t.addScale(a[n][0],-a[n][1])},excute:function(t){this.cdTimer-=t,this.cdTimer<=0&&(this.cdTimer=this.cd,this.add())}}),cc._RF.pop()},{Buff:"Buff"}],GradualLowHpAttributeBuff:[function(t,e){"use strict";cc._RF.push(e,"84d76OynwNP94BzJmkNcjTo","GradualLowHpAttributeBuff"),cc.Class({extends:t("Buff"),begin:function(){this.cd=this.define.cd,this.cdTimer=this.cd,this.addTime=0,this.addLevel=0},add:function(){var t=this.obj.attribute,e=this.define.add,i=this.define.mutScale,a=this.define.addScale;if(e)for(var n=0;n<e.length;n++)t.add(e[n][0],e[n][1]);if(i)for(n=0;n<i.length;n++)t.mutScale(i[n][0],i[n][1]);if(a)for(n=0;n<a.length;n++)t.addScale(a[n][0],a[n][1]);this.addTime++},end:function(){for(var t=1;t<=this.addTime;t++)this.reset()},reset:function(){var t=this.obj.attribute,e=this.define.add,i=this.define.mutScale,a=this.define.addScale;if(e)for(var n=0;n<e.length;n++)t.add(e[n][0],-e[n][1]);if(i)for(n=0;n<i.length;n++)t.mutScale(i[n][0],1/i[n][1]);if(a)for(n=0;n<a.length;n++)t.addScale(a[n][0],-a[n][1]);this.addTime--},excute:function(t){if(this.cdTimer-=t,this.cdTimer<=0){this.cdTimer=this.cd;var e=this.obj.hp/this.obj.hpMax;this.addLevel=10*Math.floor(e),this.addTime<this.addLevel&&this.add(),this.addTime>this.addLevel&&this.reset()}}}),cc._RF.pop()},{Buff:"Buff"}],Grenade2:[function(t,e){"use strict";cc._RF.push(e,"34fc0maylFHQ7+eolfMOhxP","Grenade2"),cc.Class({extends:t("Grenade"),initSprite:function(){this._super(),this.shadow=this.game.effectMgr.createSprite(0,0,"shadow"),this.shadow.opacity=100,this.game.camera.addChild(this.shadow,300)},updateSprite:function(){if(this.sprite){this.sprite.setPosition(this.x,this.y);var t=this.flyDistance/this.speed,e=-3*-t*.5,i=t-this.timer,a=2*(e*i+-1.5*i*i+0);this.sprite.setScale(a+.5),this.shadow.x=this.x+Math.sin(2*Math.PI/3+0)*a*200,this.shadow.y=this.y+Math.cos(2*Math.PI/3+0)*a*200}},removeSprite:function(){this.sprite&&(this.sprite.destroy(),this.sprite=null),this.shadow&&(this.shadow.destroy(),this.shadow=null)},move:function(t,e,i){this.speed=this.speed0*e,this.timer=this.flyDistance/this.speed,this.timer<1&&(this.speed=this.flyDistance||1),this.timer=this.flyDistance/this.speed;var a=kit.sin(t),n=kit.cos(t);this.spdX=this.speed*a,this.spdY=this.speed*n,this.lx=-a*this.length,this.ly=-n*this.length,this.hw=Math.abs(.5*this.lx),this.hh=Math.abs(.5*this.ly),this.deg=kit.radian2Degree(t),i&&(this.x+=this.spdX*i,this.y+=this.spdY*i),this.sprite&&(this.sprite.angle=-this.deg,this.sprite.setPosition(this.x,this.y))}}),cc._RF.pop()},{Grenade:"Grenade"}],Grenade76Skill:[function(t,e){"use strict";cc._RF.push(e,"e42f8SZ5eNMhbVdYVy0C+L9","Grenade76Skill");var i=t("Timer");cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.soldier_76_Grenade76),this.minradius=this.define.minradius,this.hurtradius=this.define.hurtradius,this.dmg=this.define.dmg,this.dmgk=this.define.dmgk,this.l=this.define.l,this.blt=kit.clone(this.define.blt),this.blt.minradius=this.minradius,this.blt.hurtradius=this.hurtradius,this.blt.dmg=this.dmg,this.blt.dmgk=this.dmgk,this.blt.l=this.l,this.obj.playAnim({anim:"attack",loop:0,time:.2}),this.define.stunTime&&(this.blt.buff||(this.blt.buff=[]),this.blt.buff.push({name:"Grenade76SkillStun",ctor:StunBuff,symbol:getUniqueSymbol(),t:this.define.stunTime,chance:this.define.stunChance})),this.define.dropHpTime&&this.define.dropHpPer&&(this.blt.buff||(this.blt.buff=[]),this.blt.buff.push({name:"Grenade76SkillDropHp",ctor:DropHpBuff,symbol:getUniqueSymbol(),t:this.define.dropHpTime,dmg:this.dmg*this.define.dropHpPer}));var t=this.blt.spd;this.n=this.define.n;var e=this.obj,a=e.getFirePos(0,0,-44),n=a.x,s=a.y,o=e.team;(e.isAutoTarget||!e.target||e.target.isDead)&&e.seekTarget();var r=e.target;if(r){var c=kit.vector2Radian(r.y-s,r.x-n),h=kit.norm(r.y-s,r.x-n);e.stopAttack(),e.refreshAvatar();for(var d=kit.radian2Degree(c),l=e.deg-d,u=function(){e.setNoRotate(!1),e.setNoAttack(!1)},f=0;f<this.n;f++){e.setNoAttack(!0);var m=this.blt;m.l=h;var p={};p.spd=t+300*Math.random(),p.timer=0,p.updateLogic=function(t){e.isDead||(this.timer+=t,this.timer<.1?e.angle=-(d-l*(.1-this.timer)/.1):(e.angle=-d,e.deg=d,m.spd=this.spd,Ammofactory(e,m,{obj:e,x:n,y:s,te:o,deg:e.deg+20*(Math.random()-.5)},this.game),this.game.removeUpdate(this),(new i).init(.2,u,null,this.game)))},this.game.addUpdate(p)}}else for(f=0;f<this.n;f++)this.blt.spd=t+300*Math.random(),Ammofactory(e,this.blt,{obj:e,x:n,y:s,te:o,deg:e.deg+20*(Math.random()-.5)},this.game);if(!this.game.fastMode){c=kit.degree2Radian(e.deg);var g=7*Math.sin(c),v=7*Math.cos(c);this.game.shake(g,v);var b=Effect.Animation.createByObj({name:"effect/76/ult/hit/baozha_0000",frame:5,startNum:1,loop:0,dt:.05});e.addChild(b,1e5),b.scale=.6,b.x=13,b.y=100}}}),cc._RF.pop()},{Skill:"Skill",Timer:"Timer"}],Grenade76:[function(t,e){"use strict";cc._RF.push(e,"73f0e0ZpvxFPbSFtxyx4RJ3","Grenade76"),cc.Class({extends:t("Grenade"),move:function(){this._super.apply(this,arguments),this.game.fastMode||(this.particle=Effect.Particle(this.x,this.y,"76grenade2",this.game))},removeSprite:function(){this.game.fastMode||this.particle&&(this.particle.stopcc.sys.em(),this.particle=null),this.sprite.stopcc.sys.em(),this.sprite=!1},initSprite:function(){if(!this.game.fastMode){var t=this.define;if(t.particle)(e=this.game.effectMgr.createParticle(0,0,t.particle).getComponent(cc.ParticleSystem)).positionType=cc.ParticleSystem.PositionType.GROUPED,e.autoRemoveOnFinish=!1;else if(t.anim)var e=Effect.Animation.createByObj(t.anim);else e=this.effectMgr.createSprite(0,0,t.frm||"bullet");if(e.setAnchorPoint(t.anchorX||.5,t.anchorY||.85),!t.noBlend){var i=e.getComponent(cc.Sprite);i.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,i.dstBlendFactor=cc.macro.BlendFactor.ONE}this.game.camera.addChild(e,t.zOrder||11),this.sprite=e}},updateSprite:function(){if(this.sprite){this.sprite.setPosition(this.x,this.y);var t=this.flyDistance/this.speed,e=1.5*(2.5-2*Math.abs(this.timer-.5*t)/t*2)/2;if(this.sprite.setScale(e),this.particle){var i=this.particle.getComponent(cc.ParticleSystem);i.startSize=50*e*(e-.5),i.endSize=20*e*(e-.5),i.speed=40*e*(e-.5),this.particle.setPosition(this.x,this.y)}}}}),cc._RF.pop()},{Grenade:"Grenade"}],GrenadeFromAbove:[function(t,e){"use strict";cc._RF.push(e,"e140d7sWv1I26PxP/AD3sGO","GrenadeFromAbove"),cc.Class({extends:t("GrenadeWithLatency"),init:function(t,e,i){this._super(t,e,i)},alert:function(){var t=this.flyDistance,e=kit.vector2Radian(this.spdY,this.spdX),i=t*Math.sin(e),a=t*Math.cos(e),n=this.tx+i,s=this.ty+a,o=this.effectMgr.createSprite(0,0,"aura/alert");this.game.camera.addChild(o,1),o.x=n,o.y=s,o.runAction(cc.fadeIn(.1)),this.alertSp=o},updateSprite:function(){this.sprite&&(this.stage,this._refreshSprite&&(this._refreshSprite=!1))},move:function(e,i){t("Ammo").prototype.move.call(this,e,i),this.tx=this.config.tx||this.x,this.ty=this.config.ty||this.y;var a=this.sprite;a&&(a.setScale(this.define.sx||1,this.define.sy||1),this.define.st&&a.runAction(cc.scaleTo(this.define.st||.1,this.define.sx1||2,this.define.sy1||2))),this.stage=1,this.stageTimer=1,this.riseBomb()},riseBomb:function(){this.sprite.setPosition(this.x,this.y),this.sprite.runAction(cc.moveBy(.4,cc.v2(0,2e3))),this.sprite.angle=0},dropBomb:function(){var t=this.explodeTimer-.2;this.sprite.angle=180,this.sprite.setPosition(this.tx,this.ty+2e3),this.sprite.runAction(cc.sequence(cc.delayTime(t),cc.moveBy(.4,cc.v2(0,-2e3)))),this.x=this.tx,this.y=this.ty},updateLogic:function(t){this.timer<=0&&2==this.stage&&(this.explodeTimer-=t,this.explodeTimer<=0&&this.remove("maxLength"),this.alreadyHit||(this.alreadyHit=!0,this.game.fastMode||this.contactEff&&this.contactEff(this))),this.alreadyHit,this.timer-=t,this.updateSprite(t),this.stageTimer-=t,this.stageTimer<=0&&1==this.stage&&(this.stageTimer=1,this.stage=2,this.dropBomb(),this.define.alert&&this.alert())}}),cc._RF.pop()},{Ammo:"Ammo",GrenadeWithLatency:"GrenadeWithLatency"}],GrenadeWithLatency:[function(t,e){"use strict";cc._RF.push(e,"2b236fGVz1OJp3aSun/cS1d","GrenadeWithLatency");var i=cc.Class({extends:t("Grenade"),init:function(t,e,i){this.explodeTimer=t.explodeTime||1,this._super(t,e,i),this.minradius=t.minradius||0,this.hurtradius=t.hurtradius||0,this.dmgk=t.dmgk||0,this.contactEff=t.contactEff},move:function(t,e){this._super(t,e);var i=this.sprite;i&&(i.setScale(this.define.sx||.2,this.define.sy||.2),i.runAction(cc.scaleTo(this.define.st||.1,this.define.sx1||1,this.define.sy1||1)))},updateLogic:function(t){this.timer<=0&&(this.explodeTimer-=t,this.explodeTimer<=0&&this.remove("maxLength"),this.alreadyHit||(this.alreadyHit=!0,this.game.fastMode||this.contactEff&&this.contactEff(this))),this.alreadyHit||(this.dx=this.spdX*t,this.dy=this.spdY*t,this.x+=this.dx,this.y+=this.dy),this.timer-=t,this.updateSprite(t)},remove:function(){this.isRemoved||(this._super(),this.bomb(),this.explode())},removeSprite:function(){this.sprite&&(this.sprite.runAction(cc.sequence(cc.fadeOut(.1),cc.destroySelf())),this.sprite=null)},hit:function(){this.alreadyHit=!0},explode:function(){var t=this.hurtradius,e=this.x,i=this.y;g_sharedContactManager.checkAliveEnemy(this,e,i,t,this.team,this.onCover),this.game.fastMode||this.explodeEffect(e,i,t)},explodeEffect:function(t,e,i){Effect.Nova(t,e,i,this.game),this.game.shake(5,5)}});e.exports=i,cc._RF.pop()},{Grenade:"Grenade"}],Grenade:[function(t,e){"use strict";cc._RF.push(e,"14d59+Z3XlJOZVquOPgyieN","Grenade"),cc.Class({extends:t("Ammo"),init:function(t,e,i){this._super(t,e,i),this.minradius=t.minradius||0,this.hurtradius=t.hurtradius||0,this.dmgk=t.dmgk||0,this.game=i,this.effectMgr=this.game.effectMgr},alert:function(){var t=this.flyDistance,e=kit.vector2Radian(this.spdY,this.spdX),i=t*Math.sin(e),a=t*Math.cos(e),n=this.x+i,s=this.y+a,o=this.effectMgr.createSprite(0,0,"aura/alert");this.game.camera.addChild(o,1),o.x=n,o.y=s,o.runAction(cc.fadeIn(.1)),this.alertSp=o},move:function(t,e){this._super(t,e);var i=this.sprite;i&&(i.setScale(this.define.sx||.2,this.define.sy||.2),this.define.st&&i.runAction(cc.scaleTo(this.define.st||.1,this.define.sx1||2,this.define.sy1||2))),this.define.alert&&this.alert()},updateLogic:function(t){this._super(t),this.x+=this.dx,this.y+=this.dy},remove:function(){this.isRemoved||(this._super(),this.bomb(),this.hit(),this.alertSp&&this.alertSp.runAction(cc.sequence(cc.fadeOut(.1),cc.destroySelf())))},removeSprite:function(){this.sprite&&(this.sprite.runAction(cc.sequence(cc.fadeOut(.1),cc.destroySelf())),this.sprite=null)},bomb:function(){this.game.fastMode||this.define.bombEff&&("string"==typeof this.define.bombEff?Effect[this.define.bombEff](this,this.game):this.define.bombEff(this,this.game))},onCover:function(t,e,i,a){var n=this.obj,s=Math.sqrt(e)+1,o=(this.hurtradius,t.radius,this.minradius+t.radius),r=(this.dmgk,this.buff),c=this.define.dmgType;if(t.buffList){"string"==typeof(r=this.buff)&&(r=BuffDefine[r]),r&&(!r.chance||Math.random()<r.chance)&&new r.ctor(r,{obj:t,from:this.obj}).init(r,{obj:t,from:this.obj},this.game);for(var h=this.buffs,d=0;d<h.length;d++)new h[d].ctor(h[d],{obj:t,from:this.obj}).init(h[d],{obj:t,from:this.obj},this.game)}if(s<o)n.hit(this.dmg,this,t,c);else{var l=this.dmg;l<0&&(l=0),n.hit(l,this,t,c)}var u=this.knockBack/(s*t.weight);t.knockback(-i*u,-a*u)},hit:function(){var t=this.hurtradius,e=this.x,i=this.y;if(this.define.noTeam)var a=-1;else a=this.team;g_sharedContactManager.checkAliveEnemy(this,e,i,t,a,this.onCover),this.define.hitSound&&this.game.effectMgr.play(SoundEffectPath[this.define.hitSound])},initSprite:function(){this._super();var t=this.define;t.bltEff&&t.bltEff(this.sprite)}}),cc._RF.pop()},{Ammo:"Ammo"}],GuardSkill:[function(t,e){"use strict";cc._RF.push(e,"cb6172iDQFH0YgAHC/ZuZw8","GuardSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.torbjorn_Guard),this.r=this.define.r,this.speed=this.define.speed||0,this.reEp=this.define.reEp,this.reHp=this.define.reHp,this.dt=this.define.dt,this.idleTimer=0,this.a=this.define.a,this.selfReHp=this.define.selfReHp;var t=this.obj,e=t.attribute;e.add("epRecover",this.reEp),t.speed+=this.speed,this.a&&e.mutScale("armorLevel",1+this.a),this.game.fastMode||(this.aura=Effect.ProtectAura(this.obj.x,this.obj.y,this.r,this.obj)),this.map={}},excute:function(t){if(this.idleTimer+=t,!(this.idleTimer<this.dt)){this.idleTimer=0;var e=this.obj,i=e.x0,a=e.y0,n=this.r,s=g_sharedContactManager.contactList;for(var o in s){var r=s[o];if(r.isTurret&&!r.isDead&&r.team==e.team){var c=i-r.x0,h=a-r.y0;c*c+h*h<=n*n?(r.heal(this.reHp),this.a&&!this.map[r.uniqueID]&&(this.callIn(r),this.map[r.uniqueID]=r)):this.a&&this.map[r.uniqueID]&&(this.callOut(r),this.map[r.uniqueID]=null)}}this.selfReHp&&e.heal(this.selfReHp)}},callIn:function(t){t.attribute.mutScale("armorLevel",1+this.a)},callOut:function(t){t.attribute.mutScale("armorLevel",1/(1+this.a))},end:function(){this.aura&&this.aura.remove();var t=this.obj,e=t.attribute;if(e.add("epRecover",-this.reEp),t.speed-=this.speed,this.a){e.mutScale("armorLevel",1/(1+this.a));var i=g_sharedContactManager.contactList;for(var a in i){var n=i[a];this.map[n.uniqueID]&&this.callOut(n)}}}}),cc._RF.pop()},{Skill:"Skill"}],GuideLayer:[function(t,e){"use strict";cc._RF.push(e,"1df3a3hvcNC8JY+y8dTxd1P","GuideLayer"),cc.Class({extends:cc.Component,properties:{maskNode:cc.Node,blackNode:cc.Node,circlePre:cc.Prefab,tipNode:cc.Node,txtLab:cc.Label},start:function(){this.bgOpacity=this.blackNode.opacity,this.node.zIndex=OperDefine.zIdx.GUIDE,this.circleNode=cc.instantiate(this.circlePre)},show:function(){console.log("-------createMaskLayer----show--------------- ")},clickMask:function(){console.log("------clickMask--------------- ")},showByWorldPos:function(t,e,i,a,n,s){this.stage=!0;var o=.5;a&&(o=0),this.hideGuide(),setTimeout(function(){OperBridge.setMainuiTouchEn(!0);var a=this.node.convertToNodeSpaceAR(t),r=cc.v2(-(a.x-this.maskNode.x),-(a.y-this.maskNode.y));this.maskNode.runAction(cc.sequence(cc.spawn(cc.moveTo(o,a),cc.resizeTo(o,e,i)).easing(cc.easeQuarticActionIn()),cc.callFunc(function(){e&&this.showCircleAction(n,a)},this))),this.blackNode.opacity=this.bgOpacity,this.blackNode.runAction(cc.moveBy(o,r)),s?(this.txtLab.string=s,s.indexOf("Gems can be used to advance equipment!")>=0||s.indexOf("Decompose equipment to obtain materials")>=0?this.tipNode.y=a.y-150:this.tipNode.y=a.y+150,this.tipNode.active=!0):this.tipNode.active=!1}.bind(this),100)},showByNode:function(t,e,i){if(t){var a=t.convertToWorldSpaceAR(cc.v2(0,0));this.showByWorldPos(a,t.width+10,t.height+10,e,i)}},hideGuide:function(){this.maskNode.width=0,this.maskNode.height=0,this.blackNode.opacity=0,this.circleNode&&(this.circleNode.opacity=0),this.tipNode.active=!1,this.stopCircleAction()},showCircleAction:function(t,e){this.circleNode&&(this.circleNode.parent=this.node,this.circleNode.setPosition(e),this.circleNode.getComponent("CircleNode").showCircleAction(t))},stopCircleAction:function(){this.circleNode&&this.circleNode.getComponent("CircleNode").stopCircleAction()},closeSelf:function(){this.stage=!1,this.node.destroy()}}),cc._RF.pop()},{}],GuideNewWeaponPopMenu:[function(t,e){"use strict";cc._RF.push(e,"1f13cnsPa9LlrE+/XTngDxZ","GuideNewWeaponPopMenu"),t("TalentDefine"),cc.Class({extends:t("Menu"),properties:{cards:[cc.Node]},onLoad:function(){for(var t in this.cards)this.cards[t].scale=0},shuffle:function(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),a=[t[e],t[i]];t[i]=a[0],t[e]=a[1]}},start:function(){cc.Platformsdk.showBanner()},closeCb:function(){},init:function(t){this.npc=t,this.game=t.game,this.game.pushTimeScale()},onCheck:function(){this.game.hero.equipWeaponById("AK47"),operkit.addEquip(1001,0,0,1),this.game.gameManager.config.equipment=EquipDefine.getAllAttrs(),this.game.effectMgr.play(SoundEffectPath.chooseTalent),Effect.ItemGainMsg(this.game,1001),operkit.saveWarData("isInGameGuideFinish",!0,1),console.log("isInGameGuideFinish",operkit.loadWarData("isInGameGuideFinish")),this.game.gameManager.config.guide=!1,this.onRemove(),operkit.loadWarData("first_ak_from_soldier")||(tjSDK.onEvent("first_ak_from_soldier"),operkit.saveWarData("first_ak_from_soldier",!0,!0),tjSDK.onEventQm(116))},onRemove:function(){this.game.popTimeScale(),menuManager.close(),cc.Platformsdk.hideBanner()}}),cc._RF.pop()},{Menu:"Menu",TalentDefine:"TalentDefine"}],GuidedMissileDirect2:[function(t,e){"use strict";cc._RF.push(e,"4dc37PoYN9NsIfWmdth8eMY","GuidedMissileDirect2"),cc.Class({extends:t("GuidedMissileDirect"),initSprite:function(){if(!this.game.fastMode){var t=this.define,e=this.effectMgr.createSprite(0,0,t.frm||"bullet");if(e.setAnchorPoint(t.anchorX||.5,t.anchorY||.85),!t.noBlend){var i=e.getComponent(cc.Sprite);i.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,i.dstBlendFactor=cc.macro.BlendFactor.ONE}this.game.bindScheduler(e),this.game.camera.addChild(e,11),this.sprite=e;var a=new cc.Node,n=a.addComponent(cc.MotionStreak);n.fadeTime=.5,n.minSeg=1,n.stroke=15,n.texture="bullet/player/playerbullet_01",a.x=this.x,a.y=this.y,a.timer=3,a.opacity=150,this.game.camera.addChild(a,1e5+1);var s=this;n.schedule(function(){a.x=s.x,a.y=s.y,a.timer<0&&a.destroy()}),this.streak=a}},move:function(t,e){this.target=this.obj.target,this._super(t,e);var i=this.sprite;i&&i.runAction(cc.scaleTo(this.timer,.3,.3))},updateLogic:function(t){this._super(t),this.x+=this.dx,this.y+=this.dy}}),cc._RF.pop()},{GuidedMissileDirect:"GuidedMissileDirect"}],GuidedMissileDirect:[function(t,e){"use strict";cc._RF.push(e,"d32cfWOSe9JIrGZNxkPOEj3","GuidedMissileDirect"),cc.Class({extends:t("Bullet"),move:function(t,e,i){var a=this.define,n=this.config;t+=kit.degree2Radian(a.degOffset||0);var s=kit.radian2Degree(t);this.targetDeg=s+(a.targetdegOffset||0),this.turnSpdScale=a.turnSpdScale||1,this.turnSpdScale2=a.turnSpdScale2||this.turnSpdScale,this.turnSpdScaleChangeTimer=a.turnSpdChangeTime||0,this._super(t,e,i),this.deg=kit.normalizeDeg(s),this.autoDirection=a.autoDirection,this.autoDirection&&(this.targetRotateDirection=n.direction||2*kit.rndInt(0,1)-1),this.searchRange=this.define.searchRange||9999,console.log("auto missle pos",this.x+","+this.y)},seekTarget:function(){for(var t=this.obj,e=g_sharedContactManager.contactList,i=t.x0,a=t.y0,n=1e12,s=null,o=0;o<e.length;o++){var r=e[o],c=r.x0-i,h=r.y0-a,d=c*c+h*h;r.team!=t.team&&!r.isDead&&r.canAutoAim&&d<=this.searchRange*this.searchRange&&(r.taunting&&(d-=9e4),d<n&&(n=d,s=r))}this.target=s},updateLogic:function(t){if(this.target||this.seekTarget(),this.turnSpdScaleChangeTimer-=t,this.turnSpdScaleChangeTimer<=0&&(this.turnSpdScale=this.turnSpdScale2),this.sprite,this.target&&this.target.isDead&&(this.target=null,this.targetDeg=this.deg,this.seekTarget()),this.target&&!this.target.isDead)var e=this.target.x,i=this.target.y,a=e-this.x,n=i-this.y,s=kit.vector2Radian(n,a),o=kit.normalizeDeg(kit.radian2Degree(s));else o=kit.normalizeDeg(this.targetDeg);if(this.deg!=o){if(this.autoDirection){var r=this.deg>o?this.deg:o,c=r-(this.deg>o?o:this.deg),h=360-c;d=r==this.deg?c<h?-1:1:c<h?1:-1}else var d=this.targetRotateDirection;1==d&&this.deg>o?o+=360:-1==d&&this.deg<o&&(this.deg+=360),this.deg=kit.numApproach(this.deg,o,1500*this.turnSpdScale*t),this.deg==o&&(this.autoDirection=!0)}var l=kit.degree2Radian(this.deg);this.spdX=Math.sin(l)*this.speed,this.spdY=Math.cos(l)*this.speed,this.dx=this.spdX*t,this.dy=this.spdY*t,this.updateSprite(t),this.timer-=t,this.timer<=0&&(this.removingBullet&&this.remove("maxLength"),this.removingBullet=!0)},updateSprite:function(){this._super(),this.sprite.angle=-this.deg},getAutoDirection:function(t){var e=t-this.deg;Math.abs(e)<0&&(e+=360);var i=this.deg-t;return Math.abs(i)<0&&(i+=360),e<=i?1:-1}}),cc._RF.pop()},{Bullet:"Bullet"}],GuidedMissileSin:[function(t,e){"use strict";cc._RF.push(e,"4b39fNaO4xLaY1ZMl5z1w3w","GuidedMissileSin"),cc.Class({extends:t("PharahGrenade"),move:function(t,e,i){this.target=this.obj.target,this._super(t,e,i),this.totalTime=this.flyDistance/this.speed,this.offsetT=Math.random()>.5?3.14:0,g_sharedContactManager.addBullet(this)},updateLogic:function(t){if(this.target&&!this.config.noTarget){var e=this.sprite,i=this.target.x,a=this.target.y,n=i-this.x,s=a-this.y,o=kit.vector2Radian(s,n),r=kit.radian2Degree(o);e&&(e.angle=-r),this.offsetT+=5*t;var c=Math.cos(this.offsetT)>0?90:-90,h=kit.degree2Radian(o+c),d=180*kit.sin(h),l=180*kit.cos(h),u=Math.sqrt(this.timer/this.totalTime),f=kit.sin(o),m=kit.cos(o);this.target.isDead?(this.spdX=this.speed*f,this.spdY=this.speed*m,this.target=null):(this.spdX=this.speed*f+l*u,this.spdY=this.speed*m+d*u)}this.dx=this.spdX*t,this.dy=this.spdY*t,this.timer-=t,this.updateSprite(t),this.timer<=0&&this.remove()}}),cc._RF.pop()},{PharahGrenade:"PharahGrenade"}],GuidedMissileStraight:[function(t,e){"use strict";cc._RF.push(e,"dd13dfOufdIg618zP3au93a","GuidedMissileStraight"),cc.Class({extends:t("PharahGrenade"),move:function(t,e){this.target=this.obj.target,this._super(t,e),g_sharedContactManager.addBullet(this);var i=new cc.MotionStreak(.5,1,15,cc.color(255,255,255),"bullet/player/blt_tail");i.setPosition(this.x,this.y),i.timer=3,i.opacity=150,this.game.camera.addChild(i,1e5+1);var a=this;i.schedule(function(){this.setPosition(a.x,a.y),this.timer<0&&this.destroy()}),this.streak=i},updateLogic:function(t){if(this.target&&!this.target.isDead&&!this.config.noTarget&&!this.target.isRemoved){var e=this.sprite,i=this.target.x,a=this.target.y,n=i-this.x,s=a-this.y,o=kit.vector2Radian(s,n),r=kit.radian2Degree(o);e&&(e.angle=-r);var c=kit.sin(o),h=kit.cos(o);this.spdX=this.speed*c,this.spdY=this.speed*h}this.dx=this.spdX*t,this.dy=this.spdY*t,this.timer-=t,this.updateSprite(t),this.timer<=0&&this.remove()}}),cc._RF.pop()},{PharahGrenade:"PharahGrenade"}],HUMAN_AI:[function(t,e){"use strict";cc._RF.push(e,"f4d53AFKh9NILxOmiS4qHk/","HUMAN_AI"),cc._RF.pop()},{}],HeadManager:[function(t,e){"use strict";cc._RF.push(e,"7265dhOD4lBf59BPfKPJVTe","HeadManager"),cc.Class({extends:cc.Component,ctor:function(){this.headList={},this.headTips=["xxx","xxx,","",""],this.headTipsLen=this.headTips.length},properties:{headImg:cc.Sprite,headName:cc.Label,roleLv:cc.Label,roleExpPro:cc.Node,goldNode:cc.Node,dmdNode:cc.Node,legNode:cc.Node,goldLab:cc.Label,dmdLab:cc.Label,legLab:cc.Label,legPro:cc.Node,legTimeLab:cc.Label},addList:function(t,e,i){var a={};a.type=t,a.node=e,a.lab=i,a.number=operkit.getMoneyData(a.type),this.headList[t]=a},onLoad:function(){for(var t in window.WIDE_SCREEN&&(this.node.getComponent(cc.Widget).top=0,this.node.getChildByName("content").scale=cc.winSize.width/640),this.addList(OperBridge.MONEY_TYPE.GOLD,this.goldNode,this.goldLab),this.addList(OperBridge.MONEY_TYPE.DIAMOND,this.dmdNode,this.dmdLab),this.addList(OperBridge.MONEY_TYPE.LEG,this.legNode,this.legLab),this.addList(OperBridge.MONEY_TYPE.EXP,this.roleExpPro,this.roleLv),cc.game.on("head_add_money",this.onAddMoney,this),cc.game.on("head_use_money",this.onUseMoney,this),this.headList){var e=this.headList[t];this.updateItemNum(e,e.number)}this.maxExpW=130,this.curLv=operkit.getRoleLv(),this.curExp=operkit.getRoleExp(),this.curExpW=this.getExpNodePer(this.curLv,this.curExp),this.roleLv.string=this.curLv,this.roleExpPro.width=this.curExpW,this.schedule(this.updateTime,1),this.time=(new Date).getTime(),window.FirstEntryGame||this.setHeadInfo()},setHeadInfo:function(t){console.log("--setHeadInfo",t),cc.Platformsdk.getUserInfo(function(t,e){this&&cc.isValid(this.node)&&this.headName&&(t&&e?(this.headType=2,this.headName.string=t,reskit.setSpNodeFrameByUrl(this.headImg,e)):(this.headType=1,reskit.setSpNodeFrame(this.headImg,OperUrl.default_head),this.headName.string="Hero"))}.bind(this),t)},headClick:function(){if(this.headType&&"head"===this.node.name&&operutils.disTimeM(this.time)>=600)if(this.time=(new Date).getTime(),2===this.headType){var t=this.headTips[operutils.random(0,this.headTipsLen-1)];this.headName.string&&(t=t.replace(/(xxx)/i,this.headName.string)),OperBridge.toastTip(t)}else this.headType=0,this.setHeadInfo(1)},getExpNodePer:function(t,e){var i=t+1,a=OperDefine.roleUp[i];if(a){var n=e/a.exp;n=n>1?1:n}else this.maxLv=t,n=1;return this.maxExpW*n},onDestroy:function(){cc.game.off("head_add_money",this.onAddMoney,this),cc.game.off("head_use_money",this.onUseMoney,this)},onAddMoney:function(t,e,i,a){if(t===OperBridge.MONEY_TYPE.EXP)this.updateRoleExp();else{var n=this.headList[t];n.number=operkit.getMoneyData(n.type),this.showAddAction(n,Math.round(e),i,a)}},onUseMoney:function(t,e,i,a){var n=this.headList[t];n.number=operkit.getMoneyData(n.type),this.showUseAction(n,e,i,a),i&&i(!0)},showUseAction:function(t,e){e=Math.abs(e);var i=t.lab,a=t.node,n=e<20?e:20,s=Math.floor(e/n);if(t.type==OperBridge.MONEY_TYPE.LEG){var o=cc.instantiate(a);o.parent=a.parent,o.scale=1;var r=cc.instantiate(i.node);r.parent=o,r.x=70,r.getComponent(cc.Label).string="-"+e,o.runAction(cc.sequence(cc.moveTo(.4,a.x,a.y-70).easing(cc.easeOut(1)),cc.delayTime(.3),cc.destroySelf()))}var c=t.number+e;i.node.runAction(cc.sequence(cc.callFunc(function(){(c-=s)<=t.number?(this.updateItemNum(t,t.number),i.node.stopAllActions()):this.updateItemNum(t,c,!0)},this),cc.delayTime(.03)).repeatForever())},showAddAction:function(t,e){var i=e<20?e:20,a=Math.floor(e/i),n=t.number-e,s=t.type===OperBridge.MONEY_TYPE.LEG?0:800;if(setTimeout(function(){t.lab.node&&t.lab.node.runAction(cc.sequence(cc.callFunc(function(){(n+=a)>=t.number?(this.updateItemNum(t,t.number),t.lab.node.stopAllActions()):this.updateItemNum(t,n,!0)},this),cc.delayTime(.05)).repeatForever())}.bind(this),s),t.type!==OperBridge.MONEY_TYPE.LEG){for(var o=t.node,r=cc.v2(cc.winSize.width/2,cc.winSize.height/2),c=o.parent.convertToNodeSpaceAR(r),h=0;h<i;h++){var d=h,l=cc.instantiate(o);l.parent=o.parent,l.scale=1,l.x=c.x+operutils.random(-20,20),l.y=c.y+operutils.random(-20,20),l.runAction(cc.sequence(cc.jumpTo(.5+.05*d,c.x+operutils.random(-130,130),c.y-20,60,2).easing(cc.easeOut(1)),cc.moveTo(.3,o.x,o.y),cc.destroySelf()))}nodekit.playEffect(SoundEffectPath.get_money)}},clickAdd:function(){},updateRoleExp:function(){this.endLv=operkit.getRoleLv(),this.endExp=operkit.getRoleExp(),this.endExpW=this.getExpNodePer(this.endLv,this.endExp),this.schedule(this.updateExpPro)},updateExpPro:function(){this.curLv>this.endLv?this.unschedule(this.updateExpPro):(this.curLv<this.endLv?(this.curExpW=this.maxExpW-this.curExpW<4?this.maxExpW:this.curExpW+4,this.maxExpW-this.curExpW==0&&(this.curLv+=1,this.curLv<=this.endLv&&(this.curExpW=0,this.roleLv.string=this.curLv,cc.log("--name--",this.node.name),"head"===this.node.name&&(cc.log("--up--"),this.unschedule(this.updateExpPro),menuManager.pop("sub2#/operate/prefab/pop_role_up",{lv:this.curLv-1,inMainUi:1,cb:function(){this.schedule(this.updateExpPro)}.bind(this)}))))):(this.curExpW=this.endExpW-this.curExpW<4?this.endExpW:this.curExpW+4,this.endExpW-this.curExpW==0&&this.unschedule(this.updateExpPro)),this.roleExpPro.width=this.curExpW,this.maxExpW-this.curExpW==0&&(this.roleLv.string=this.curLv+"(MAX)"))},updateItemNum:function(t,e,i){if(t.type===OperBridge.MONEY_TYPE.LEG){t.lab.string=e+"/"+OperDefine.MAX_LEG;var a=e/OperDefine.MAX_LEG;a=a>1?1:a,this.legPro.width=147*a+15,i||this.checkTimeDown(a<1)}else t.lab.string=e},checkTimeDown:function(t){if(t){if(0===this.legTimeLab.node.opacity){this.legTimeLab.node.opacity=255;var e=operkit.getOperData("Q","103t");e?this.timeDown=OperDefine.LEG_AUTO_TIME-operutils.disTimeS(e):(this.timeDown=OperDefine.LEG_AUTO_TIME,operkit.setMoneyData("103t",(new Date).getTime(),!0))}}else 255===this.legTimeLab.node.opacity&&(this.legTimeLab.node.opacity=0,this.legTimeLab.string="",operkit.setMoneyData("103t",0))},updateTime:function(){0!==this.legTimeLab.node.opacity&&(this.legTimeLab.string=operutils.formatTime2ByS(this.timeDown,!0),this.timeDown<=0&&(operkit.setMoneyData("103t",(new Date).getTime(),!0),OperBridge.addSomethingByK(OperBridge.MONEY_TYPE.LEG,OperDefine.LEG_AUTO_NUM),this.timeDown=OperDefine.LEG_AUTO_TIME),this.timeDown--)}}),cc._RF.pop()},{}],HealBall:[function(t,e){"use strict";cc._RF.push(e,"82b46Cc2DNOTqsVZ6NfM88O","HealBall"),cc.Class({extends:t("Ammo"),init:function(t,e){this._super(t,e),this.minradius=t.minradius||0,this.dmgk=t.dmgk||0,this.hurtradius=t.hurtradius||35,this.heal=t.heal||0},move:function(t,e){this._super(t,e),g_sharedContactManager.addBullet(this);var i=this.sprite;if(i){var a=this.define;if(i.setScale(a.sx||1,a.sy||1),this.define.sameR){var n=i.width,s=2*this.radius/n;i.setScale(s)}this.sx=a.sx||1,this.sy=a.sy||1,a.st&&(this.sx=a.sx1||1,this.sy=a.sy1||1,i.runAction(cc.scaleTo(a.st||.3,this.sx,this.sy)))}},remove:function(){this.isRemoved||(this._super(),this.sprite||this.hit(),g_sharedContactManager.removeBullet(this))},removeSprite:function(){var t=this.sprite;t&&(t.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){this.hit()}.bind(this)),cc.destroySelf())),this.sprite=null)},bomb:function(){this.game.fastMode||this.define.eff&&this.define.eff(this,2*this.hurtradius),this.game.removeUpdate(this)},onCover:function(t,e){var i=this.dmgk,a=this.buff,n=this.minradius+t.radius,s=this.hurtradius+t.radius,o=Math.sqrt(e)+1;if(o<n)t.heal(this.heal),!this.game.fastMode&&this.define.targetEff&&this.define.targetEff(t,this);else{var r=this.heal*(1-.01*(100-i)*(o-n)/(s-n));r<0&&(r=0),t.heal(r)}if(!this.game.fastMode&&this.define.targetEff&&this.define.targetEff(t,this),a)for(var c=0;c<a.length;c++)new a[c].ctor(a[c],{obj:t,from:this.obj})},hit:function(){if(!this.alreadyHit)return this.alreadyHit=!0,this.minradius>this.hurtradius&&(this.minradius=this.hurtradius),g_sharedContactManager.checkAliveTeammate(this,this.x,this.y,this.hurtradius,this.config.team,this.onCover),this.bomb(),this.remove(),!0},hitWall:function(){this.isRemoved=!0,this.hit(),this.sprite&&this.sprite.destroy(),this.game.removeUpdate(this),g_sharedContactManager.removeBullet(this)}}),cc._RF.pop()},{Ammo:"Ammo"}],HealSkill:[function(t,e){"use strict";cc._RF.push(e,"54b34slV31FboxMC/VShdQb","HealSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.mercy_Heal),this.dt=this.define.dt||.5,this.r=this.define.r||200,this.re=this.define.re||30,this.healCount=this.define.n,this.noHealSelf=this.define.noHealSelf,this.idleTimer=0;var t=this.obj;t.setNoAttack(!0),!t.isAngel&&t.isHero&&(t.avatar.setWalkAnimeName("walk_2"),t.avatar.setStandAnimeName("walk_2"),t.avatar.setAttackAnimeName("attack_2"),t.isAngel=0),t.isAngel++,t.refreshAvatar(),this.immediatelyRe=t.attribute.get("hpMax")*(this.define.immediatelyRe||0),this.reRate=this.define.reRate||0,this.targetEffect={},this.aura=Effect.AllyAura(this.obj.x,this.obj.y,this.r,this.obj)},excute:function(t){var e=this.obj,i=this.define;if(this.aura.x=e.x,this.aura.y=e.y,e.isStun&&this.callEnd(),this.idleTimer+=t,!(this.idleTimer<this.dt)){this.idleTimer=0;var a=i.r,n=e.x,s=e.y,o=e.team,r=g_sharedContactManager.contactList,c=0,h=this.healCount;for(var d in r){var l=r[d];if(h&&c>=h)break;if((!this.noHealSelf||l!=this.obj)&&(i.healAll||l.isHero)&&!l.isSensor&&!l.isDead&&l._isActiveContact&&o==l.team){var u=n-l.x0,f=s-l.y0;if(c++,this.game.fastMode)u*u+f*f<=a*a&&(p=l.attribute.get("hpMax")*this.reRate,l.heal(this.re+p));else{var m=this.targetEffect[l.uniqueID];if(u*u+f*f<=a*a){var p=l.attribute.get("hpMax")*this.reRate;if(l.heal(this.re+p),!m){var g=Effect.HealLink(e,l,i.dx||0,i.dy||0);this.targetEffect[l.uniqueID]=g}m&&!m.visible&&m.enableVisible(!0)}else m&&m.visible&&m.enableVisible(!1)}}}this.immediatelyRe&&(e.heal(this.immediatelyRe),this.immediatelyRe=0)}},end:function(){this._super();var t=this.obj;for(var e in t.isAngel--,t.isAngel||(t.avatar.setWalkAnimeName(),t.avatar.setStandAnimeName(),t.avatar.setAttackAnimeName()),t.setNoAttack(!1),t.refreshAvatar(),this.targetEffect)this.targetEffect[e].remove();this.targetEffect={},this.aura&&this.aura.remove()}}),cc._RF.pop()},{Skill:"Skill"}],Healbox:[function(t,e){"use strict";cc._RF.push(e,"2d5d7+71aRA+oCXUYGkk2dy","Healbox");var i=cc.Class({extends:t("Entity"),init:function(t,e,i){this._super(t,e,i),this.game=i,this.effectMgr=this.game.effectMgr,t=this.define,e=this.config,this.isAIEnabled=!1,this.initAlert()},pushShader:function(){},popShader:function(){},initAvatar:function(){this.avatarNode=this.effectMgr.createSprite(0,0,"npc/healbox"),this.addChild(this.avatarNode)},initAlert:function(){},deadEffect:function(){var t,e=this.define.deadEff||this.deadEff;return this.isBoss?t=(e=Effect.BossDeath)(this,this.game)||.01:e&&(t=e(this,1,1,1,this.game)||.01),t},drop:function(){DropItemById("heal",this,this.game),DropItemById("heal",{x:this.x+kit.rnd(-50,50),y:this.y+kit.rnd(-50,50)},this.game)},initAura:function(){},activateNpc:function(){}});e.exports=i,cc._RF.pop()},{Entity:"Entity"}],HeroAvatar:[function(t,e){"use strict";cc._RF.push(e,"02295KqxENJXL7Ng83h3kLh","HeroAvatar"),cc.Class({extends:t("Avatar"),init:function(t,e,i){this.define=t,this.config=e,this.obj=e.obj,this.obj.shaderFunc&&(this.shaderFunc=this.obj.shaderFunc),this.game=i,this.effectMgr=this.game.effectMgr,this.moveSpd=0,this.atkSpd=1,this.initAnimeName(),this.initAnime(),this.initShader()},initAnime:function(){var t=this;t.game.effectMgr.createArmature(this.define.anime||"nanzhu",function(e,i,a){e&&alert(e),cc.log("display",i),t.display=i;var n=t.display.armature();cc.log("armature",n),t.animation=n.animation,t.loadShader(),t.node.addChild(a,0),t.aniNode=a,i.addEventListener(dragonBones.EventObject.COMPLETE,t.onAnimeEvent,t)},this.define.anime||"nanzhu")},setReloadAnimeName:function(t){this.reloadAnimeName=t||"reload"},initCache:function(){},setAtkIntervalAnimeName:function(t){this.atkIntervalAnimeName=t},initAnimeName:function(){this.setAttackAnimeName(this.define.attackAnime),this.setWalkAnimeName(this.define.walkAnime),this.setRunAnimeName(this.define.runAnime),this.setStandAnimeName(this.define.standAnime),this.setReloadAnimeName(this.define.reloadAnime),this.setAtkIntervalAnimeName(this.define.atkIntervalAnime),this.aimAnimeName="aim"},reset:function(){this.node.color=cc.color(255,255,255)},onDestroy:function(){this.changedSlot&&(this.setDisplayByName(this.changedSlot),this.changedSlot=null)},updateLowerRotation:function(){var t,e=kit.degree2Radian(this.obj.getRotation()),i=this.obj.moveRad,a=kit.normalizeRad(i-e);t=a>Math.PI/6&&a<3*Math.PI/4?-Math.PI/6:a>5*Math.PI/4&&a<11*Math.PI/6?Math.PI/5:0;var n=this.getArmature().getBone("ASS");n&&(n.offset.rotation=t,n.invalidUpdate())},updateWeaponSkin:function(){var t=this.obj,e=t.weapon&&t.weapon.define.anime,i=e.res||e.display;if(t.isDead);else if(this.display&&i!=this.weaponSkin)if(i)(a=this.display.armature().getSlot(e.slot)).attachment&&(a.attachment.destroy(),a.attachment=null),e.res?(this.setDisplayByName(e.slot,e.res),this.effectMgr.createSprite(0,0,e.res)):this.setDisplayByName(e.slot,e.display),this.weaponSkin=i,this.weaponSlot=e.slot;else{var a;(a=this.weaponSlot).attachment&&(a.attachment.destroy(),a.attachment=null),this.setDisplayByName(a),this.weaponSkin=null,this.weaponSlot=null}},update:function(t){var e=(s=this.obj).attribute,i=.8*s.spd/300*e.get("moveSpd");if(this.obj.isMove?kit.timer(this,"footstep",.95/i,t)&&(this.effectMgr.play(SoundEffectPath.footstep),Effect.HeroFootStepSmoke(s,this.isRightFootStep,s.game),this.isRightFootStep=!this.isRightFootStep):(kit.timer(this,"initTimer"),this.isRightFootStep=!1),s.attackInterval>0&&this.atkIntervalAnimeName&&"sniper_"==a&&s.attackInterval<.45&&!this.shelDropped&&(Effect.DropShell(this.obj.x,this.obj.y,s,8,15,1.2,this.obj.game),this.shelDropped=!0),s.isReload){var a="";if(o=s.weapon&&s.weapon.define.anime){a=o.prefix;var n=this.define[a+"reloadTimeK"]||.6;s.bltReload<=s.bltTime*n&&!this.bltEff&&(cc.log("reloadTimeK",n),Effect.DropMagazine(s.x,s.y,s,-25,25,null,s.game),this.bltEff=!0)}}else this.bltEff=!1;if(this.needRefresh&&this.aniNode){e=(s=this.obj).attribute;var s,o,r=this.forcedRefresh;a="",(o=s.weapon&&s.weapon.define.anime)&&(a=o.prefix,this.forcedAnimeName?(this.setLowerAnime(this.forcedAnimeName,this.forcedAnimeSpd,r),this.setUpperAnime(this.forcedAnimeName,this.forcedAnimeSpd,r)):s.isDead?(this.setLowerAnime("dead",this.forcedAnimeSpd,r,!0),this.setUpperAnime("dead",this.forcedAnimeSpd,r,!0),this.isDead=!0):(this.isDead&&(this.isDead=!1,this.setLowerAnime(a+this.standAnimeName,this.forcedAnimeSpd||1,1,1),this.setUpperAnime(a+this.standAnimeName,this.forcedAnimeSpd||1,1,1)),this.updateLowerAnime(s,e,a,r),this.updateUpperAnime(s,e,a,r))),this.updateWeaponSkin(),this.needRefresh=!1,this.forcedRefresh=!1}},updateUpperAnime:function(t,e,i,a){if(t.attackInterval>0&&this.atkIntervalAnimeName){if(this.lastUpperAniName==i+this.atkIntervalAnimeName||"sniper_"==i)return;this.shelDropped=!1;var n=1.1*e.get("atkSpd");this.setUpperAnime(i+this.atkIntervalAnimeName,n,!0,1),cc.log("avatar atkIntervalAnime")}else if(t.isAttack)n=e.get("atkSpd"),this.nextAttackAnim&&this.setUpperAnime(i+this.nextAttackAnim,this.forcedAnimeSpd||n,!0,this.nextAttackAnimPlayTimes),this.nextAttackAnim=!1;else if((!t.weapon||t.weapon.canReload())&&t.isReload||t.isAutoReload||t.reloadToAttackTimer>0){var s=e.get("reloadSpd"),o=1/(t.bltTime+.3)*s;this.setUpperAnime(i+this.reloadAnimeName,this.forcedAnimeSpd||o,a,0)}else if(t.isMove){var r=t.spd/300*.8*e.get("moveSpd");r>.01?this.setUpperAnime(i+this.runAnimeName,this.forcedAnimeSpd||r):this.setUpperAnime(i+this.aimAnimeName,this.forcedAnimeSpd||r)}else this.setUpperAnime(i+this.standAnimeName,this.forcedAnimeSpd,a)},updateLowerAnime:function(t,e,i,a){if(t.isMove){var n=.8*t.spd/300*e.get("moveSpd");n<.01?this.setLowerAnime(i+this.aimAnimeName,this.forcedAnimeSpd||1):t.isAttack?this.setLowerAnime(i+this.walkAnimeName,this.forcedAnimeSpd||n):this.setLowerAnime(i+this.runAnimeName,this.forcedAnimeSpd||n)}else this.setLowerAnime(i+this.standAnimeName,this.forcedAnimeSpd,a)},setDisplayByName:function(t,e){var i=dragonBones.CCFactory.getInstance(),a=this.display.armature().getSlot(t);a&&i.replaceSlotDisplay(this.display.getArmatureKey(),"zhujue",t,e,a)},onAnimeEvent:function(t){t.type==dragonBones.EventObject.COMPLETE&&(this.animTimeAction||(t.animationState==this.lowerAnime?(this.lowerAniName=null,this.lowerAnime=null):t.animationState==this.upperAnime?(this.upperAniName=null,this.upperAnime=null):t.animationState==this.animation&&(this.aniName=null)),this.animCfg&&!this.animTimeAction?this.endAnim():this.refresh())},setUpperAnime:function(t,e,i,a,n){var s=this.getArmature();if(s){var o=s.animation;if(i||this.upperAniName!=t){cc.log("setUpperAnime",t,i,this.upperAniName),this.lastUpperAniName=t,this.upperAniName=t;var r=o.fadeIn(t,.01,a||-1,0,"UPPER_BODY_GROUP",dragonBones.AnimationFadeOutMode.SameGroup);r&&(n||r.addBoneMask("body",!0),this.upperAnime=r)}else r=this.upperAnime;r&&null!=e&&(r.timeScale=e)}},setLowerAnime:function(t,e,i,a){var n=this.getArmature();if(n){var s=n.animation;if(i||this.lastLowerAniName!=t){var o=s.fadeIn(t,.01,-1,0,"LOWER_BODY_GROUP",dragonBones.AnimationFadeOutMode.SameGroup);this.lastLowerAniName=t,cc.log("setLowerAnime",t),o&&(this.lowerAniName=o.name,a||o.addBoneMask("ASS",!0),this.lowerAnime=o)}else o=this.lowerAnime;o&&null!=e&&(o.timeScale=e)}}}),cc._RF.pop()},{Avatar:"Avatar"}],HeroDataManager:[function(require,module,exports){"use strict";cc._RF.push(module,"a17adPsNBdLxY5TMlrwcUHB","HeroDataManager");var HeroDataManager=cc.Class({init:function(t,e){this.heroLvl=t.lvl,this.heroStar=t.star||1,this.heroData=gData.getHero(t.id,t.rare),this.equipment=e.base,this.special=e.special},getStatObj:function(){return{attribute:{}}},addUpgradeObjs:function addUpgradeObjs(obj1,stat,value){if(!stat||!value)return obj1;var stat=stat,value=value;switch(stat){case"skill_add":eval("value="+value),obj1.skillAdd||(obj1.skillAdd={}),obj1.skillAdd[value.id]=kit.addObjs(obj1.skillAdd[value.id],value);break;case"skill_mul":eval("value="+value),obj1.skillMul||(obj1.skillMul={}),obj1.skillMul[value.id]=kit.mulObjs(obj1.skillMul[value.id],value);break;case"buff":if(eval("value="+value),!value)break;obj1.buff||(obj1.buff={}),obj1.buff[value.id]=kit.addObjs(obj1.buff[value.id],value);break;case"blt":eval("value="+value),obj1.bltToConvert=value;default:obj1.attribute||(obj1.attribute={}),obj1.attribute[stat]?obj1.attribute[stat]+=value:obj1.attribute[stat]=1*value}return obj1},getStatConfig:function(t){var e=this.getStatObj();return Attribute.mergeStatConfig(t,e)}});module.exports=HeroDataManager,cc._RF.pop()},{}],HeroDefine:[function(t,e){"use strict";cc._RF.push(e,"f6e46FwCmpKDZZVOIwNrt0h","HeroDefine"),t("TurretDefine"),t("Effect"),t("BuffDefine"),window.EntityCN2EN={},window.HERO_SOLDIER_76="k",t("AttackUpSkill"),t("JumpSkill"),t("RampageSkill"),t("ProtectSkill"),t("SilkSpeedDownSkill"),t("PoisonBuff"),t("Buff"),t("ShadowSpeedUpSkill"),t("ShadowImageSkill"),t("RoundShotSkill"),t("StreakSpeedUpSkill"),t("BlinkIllusionSkill"),t("BlowUPSkill"),t("PulseBomb"),t("PharahPulseBomb"),t("FlySkill"),t("RocketsSkill"),t("GuidedMissileDirect2"),t("HealSkill"),t("MercyFlySkill"),t("RebirthSkill"),t("TurretSkill"),t("RepairSkill"),t("TankSkill"),t("BuildTurretSkill"),t("GuardSkill"),t("BatterySkill"),t("RunSkill"),t("ShangSkill"),t("WuweiSkill"),t("Grenade76Skill"),t("CannonSkill"),t("FrozenSkill"),t("IceShieldSkill"),t("SnowstormSkill"),t("StealthSkill"),t("ReflectSkill"),t("ShunSkill"),t("RushSkill"),t("DvaUpSkill"),t("DvaBoomSkill"),t("MultiAttackSkill"),t("PowerAttackSkill"),t("DragonSkill"),t("BulletFrost"),t("Dash76Skill"),t("WebBlockGrenade"),t("SpiderPoisonSkill4"),t("WidowPoisonGrenade"),t("PharahGrenade"),t("GuidedMissileDirect"),t("HealBall"),t("Grenade76"),t("Cannon76"),t("Electric"),t("Knife"),t("Arrow");var i=t("HeroAvatar");window.HeroDefine={soldier_76:{name:"",id:HERO_SOLDIER_76,avatar:{ctor:i,anime:"zhujue",ax:.5,ay:.5,atkIntervalAnime:"pull",sniper_reloadTimeK:.4},critChance:.05,faction:"dark",hp:600,shadowR:75,ep:0,epRecover:0,epTimer:0,bltCt:20,bltTime:1.5,radius:30,weight:1e3,scale:1,aimOffsetX:15,aimMaxDegree:360,attack:10,speed:650,rttSpd:600,z:ZORDER.HERO,alwaysAttack:!1,aimBest:!0,attackSequence:[{t:1/30,x:0,y:120,blt:0},{t:1/30}],skill:[],ai:{attackScore:100,seekRange:1e3,seekSkills:[1,1,1],hideSkills:[0,0,0]}}},cc._RF.pop()},{Arrow:"Arrow",AttackUpSkill:"AttackUpSkill",BatterySkill:"BatterySkill",BlinkIllusionSkill:"BlinkIllusionSkill",BlowUPSkill:"BlowUPSkill",Buff:"Buff",BuffDefine:"BuffDefine",BuildTurretSkill:"BuildTurretSkill",BulletFrost:"BulletFrost",Cannon76:"Cannon76",CannonSkill:"CannonSkill",Dash76Skill:"Dash76Skill",DragonSkill:"DragonSkill",DvaBoomSkill:"DvaBoomSkill",DvaUpSkill:"DvaUpSkill",Effect:"Effect",Electric:"Electric",FlySkill:"FlySkill",FrozenSkill:"FrozenSkill",Grenade76:"Grenade76",Grenade76Skill:"Grenade76Skill",GuardSkill:"GuardSkill",GuidedMissileDirect:"GuidedMissileDirect",GuidedMissileDirect2:"GuidedMissileDirect2",HealBall:"HealBall",HealSkill:"HealSkill",HeroAvatar:"HeroAvatar",IceShieldSkill:"IceShieldSkill",JumpSkill:"JumpSkill",Knife:"Knife",MercyFlySkill:"MercyFlySkill",MultiAttackSkill:"MultiAttackSkill",PharahGrenade:"PharahGrenade",PharahPulseBomb:"PharahPulseBomb",PoisonBuff:"PoisonBuff",PowerAttackSkill:"PowerAttackSkill",ProtectSkill:"ProtectSkill",PulseBomb:"PulseBomb",RampageSkill:"RampageSkill",RebirthSkill:"RebirthSkill",ReflectSkill:"ReflectSkill",RepairSkill:"RepairSkill",RocketsSkill:"RocketsSkill",RoundShotSkill:"RoundShotSkill",RunSkill:"RunSkill",RushSkill:"RushSkill",ShadowImageSkill:"ShadowImageSkill",ShadowSpeedUpSkill:"ShadowSpeedUpSkill",ShangSkill:"ShangSkill",ShunSkill:"ShunSkill",SilkSpeedDownSkill:"SilkSpeedDownSkill",SnowstormSkill:"SnowstormSkill",SpiderPoisonSkill4:"SpiderPoisonSkill4",StealthSkill:"StealthSkill",StreakSpeedUpSkill:"StreakSpeedUpSkill",TankSkill:"TankSkill",TurretDefine:"TurretDefine",TurretSkill:"TurretSkill",WebBlockGrenade:"WebBlockGrenade",WidowPoisonGrenade:"WidowPoisonGrenade",WuweiSkill:"WuweiSkill"}],HeroRes:[function(t,e){"use strict";cc._RF.push(e,"0e3046Xq+9EB7Y71/2Jzh9Z","HeroRes"),cc._RF.pop()},{}],Hero:[function(t,e){"use strict";cc._RF.push(e,"82d79JRsQ5Cl5FIJMCXm1lI","Hero"),t("Attribute");var i=t("Avatar"),a=t("Weapon");t("Ammo"),t("WeaponDefine"),t("Timer");var n=cc.Class({extends:t("Entity"),init:function(t,e,i){this.isHero=!0,this._super(t,e,i),this.isForcedSeeking=0,this.isForcedAutoFacing=1,this.isForcedAutoFacing&&(this.seekCD=.1,this.isAutoTarget=!0),this.config.me&&(i.hero=this),this.initBltBar()},initUltCharge:function(){this.ultCharge=0,this.ultChargeMax=100,this.ultChargeAdd=5,this.ultChargeDecay=0;var t=this.game.effectMgr.createFilledSprite(0,0,"aura/1",cc.Sprite.FillType.RADIAL,function(t,e){e.fillCenter=cc.v2(.5,.5),e.fillStart=.25,e.fillRange=0});t.opacity=150,this.addChild(t,-1),this.ultBar=t},addChargeOnConsume:function(){this.ultBar&&(this.attribute,this.ultCharge+=10,this.ultCharge>this.ultChargeMax&&(this.ultCharge=this.ultChargeMax),this.ultCharge!=this.ultChargeMax||this.game.isWin||(this.ultCharge=0,this.activateUlt()))},addChargeOnHit:function(){if(this.ultBar){var t=this.attribute;this.ultCharge+=this.ultChargeAdd*t.get("bltAtkScale")}},updateUltCharge:function(t){this.ultBar&&(this.ultCharge-=this.ultChargeDecay*t,this.ultCharge<0&&(this.ultCharge=0),this.ultCharge>=this.ultChargeMax&&!this.ultReady&&(this.ultReady=!0,this.activateUlt()),this.ultBar.sprite.fillRange=-this.ultCharge/this.ultChargeMax)},activateUlt:function(){DropItemById("atkSpd",this,this.game,null,{range:kit.rnd(150,300)}),this.ultReady=!1,this.ultBar.opacity=220,this.ultBar.stopAllActions(),this.ultCharge=0},initBltBar:function(){var e=new(t("BltBar"));e.init(this.config,this.game,this),e.reset(this,40),this.game&&this.game.camera.addChild(e,ZORDER.UI),this.bltBar=e},resetSeek:function(){},newEquipWeapon:function(t){this.weaponName=PropDefine[t].name,this.weaponIndex=t;var e=new a;e.init(WeaponDefine[this.weaponName],{infiniteBltPrepare:!0}),this.equipWeapon(e,"range"),this.rangeWeaponList.push(e)},acquireNewWeapon:function(t,e){var i=this.weaponType,n={infiniteBltPrepare:1,lvl:e||1};cc.log("acquireNewWeapon:"+t);var s=new a;if(s.init(WeaponDefine[t],n),this.rangeWeaponList.push(s),this.equipWeaponByIndex("range",this.rangeWeaponList.length-1,"acquireNewWeapon"),s.acquiredWeapon=!0,this.latestAcquiredWeapon=s,this.acquiredWeaponCt||(this.acquiredWeaponCt=0),this.acquiredWeaponCt++,"melee"==i){var o=PlayerData.getUsingWeaponId(null,"melee");this.equipWeaponById("melee",o)}},endNewWeapon:function(){cc.log("endNewWeapon");for(var t=0;t<=this.rangeWeaponList.length-1;t++){var e=this.rangeWeaponList[t];if(cc.log("endNewWeapon:"+e.define.id),e.acquiredWeapon&&(this.acquiredWeaponCt<=1||e!=this.latestAcquiredWeapon)){cc.log("endNewWeapon remove:"+e.define.id),this.rangeWeaponList.splice(t,1),t--,this.acquiredWeaponCt--;break}}this.acquiredWeaponCt||this.equipUsingWeapon()},translateConfig:function(t,e){e.attribute=e.attribute||{}},onEnter:function(){},secInit:function(){var t=this.define,e=this.config;this.alwaysAttack=this.define.alwaysAttack,this.aimMaxDegree=this.define.aimMaxDegree||15,this.aimRange=this.define.aimRange||1500,DEBUG_ATTACK_RANGE_SCALE&&(this.aimRange*=DEBUG_ATTACK_RANGE_SCALE),this.noSeek=0,this.aimOffsetX=this.define.aimOffsetX,this.aimOffsetSwitch=this.define.aimOffsetSwitch,this.skills=[];for(var i=e.skill||kit.clone(t.skill),a=0;a<i.length;a++){var n;(n=i[a])&&n.ctor&&(this.skills[a]=new n.ctor(n,{obj:this,id:a}))}if(e.ai&&(this.isAIEnabled=!0),this.config.init&&(n=this.config.init).skills)for(a=0;a<n.skills.length;a++)this.skills[a]&&(n.skills[a]||0==n.skills[a])&&this.skills[a].resetCD(n.skills[a]);this.initGear()},initAttribute:function(t,e){this._super(t,e);var i=this.attribute,a=this;i.init("reloadSpd",1+(t.reloadSpeedScale||0),1e5,0),i.init("recoilScale",1+(t.recoilScale||0),1e5,0),this.bltTime=this.config.bltTime||this.define.bltTime||1;var n=(this.define.bltCt||10)+(t.ammo||0);i.init("bltMaxCt",n,1e5,0,function(t){a.bltMaxCt=t}),this.bltCt=this.bltMaxCt,this.bltReload=this.bltTime,i.init("attackSlow",t.attackSlow||1,1e5,0),DEBUG_MOVSPD_SCALE&&i.mutScale("moveSpd",DEBUG_MOVSPD_SCALE),i.init("bltAtkScale",1)},initAvatar:function(){var t=this.define.avatar,e=new cc.Node;this.addChild(e,0),this.avatarNode=e,e.color=cc.color(0,0,0);var a=t.ctor||i;this.avatar=e.addComponent(a),this.avatar.init(t,{obj:this},this.game)},getHp:function(){return this.hp},addTalentBonus:function(t){if(t.constructor==Array)for(var e in t)this.applyTalentBonus(t[e])},applyTalentBonus:function(){},initHpBar:function(){var e=new(t("NewHpBar"));e.init(this.config,this.game,this),e.reset(this,40),this.game&&this.game.camera.addChild(e,1200),this.hpBar=e},refreshAvatar:function(t){this.avatar.refresh(t)},setForcedAnime:function(t,e,i){this.avatar.setForcedAnime(t,e,i)},setForcedAnimeSpd:function(t){this.avatar.setForcedAnimeSpd(t)},updateAvatar:function(t){this.avatar.update(t)},setShader:function(t){return this.avatar.setShader(t)},setAIEnabled:function(t){this._super(t),this.isSeeking=t},updateRotate:function(t){var e=this.rttSpd,i=this.moveRad,a=this.isSeeking||this.isForcedSeeking>0;if(0==this.noSeek){if(a||this.isForcedAutoFacing){this.seekCD-=t,this.isAutoTarget&&this.seekCD<0&&(this.seekTarget(),this.updateAutoTarget(),this.aimOffsetX&&this.aimOffsetSwitch&&(this.aimOffsetX=Math.random()>.5?this.aimOffsetX:-this.aimOffsetX));var n=this.target;if(n){var s=this.x,o=this.y,r=n.x0-s,c=n.y0-o;if(!n.active||n.isDead||n.isRemoved||r*r+c*c>this.aimRange*this.aimRange)this.seekTarget(),this.atkRadTimer||(this.atkRadTimer=.5);else if(!ATTACK_MODE||!this.isMove){if(i=kit.vector2Radian(c,r),this.aimOffsetX){var h=kit.vector2Radian(kit.norm(c,r),this.aimOffsetX);h>Math.PI&&(h-=2*Math.PI),i-=h}this.atkRad=i,this.atkRadTimer=null,this.isDead||(a=!0),this.isMove||(this.moveRad=this.atkRad)}}}this.atkRadTimer&&(this.atkRadTimer-=t,this.atkRadTimer<=0&&(this.atkRadTimer=null,this.atkRad=null)),this.atkRad&&(i=this.atkRad)}ATTACK_MODE&&this.isMove&&(a=!1,i=this.moveRad);var d=this._super(t,kit.radian2Degree(i),10,e);this.isDead,this.isAIEnabled?this.isSeeking&&(this.alwaysAttack||Math.abs(d)<this.aimMaxDegree)&&!this.isAttack&&n&&this.callAttack():a&&(this.alwaysAttack||Math.abs(d)<this.aimMaxDegree||!n)&&!this.isAttack&&0==this.noAttack&&(this.define.aimBest&&n&&(this.deg=kit.radian2Degree(i),this.setAvatarAngle(-this.deg)),this.callAttack()),this.aura&&(this.aura.angle=-this.deg,this.auraArrow.y=this.isMove?110:80),this.shootRange&&(this.shootRange.angle=-this.deg)},updateLogic:function(t){this.isAIEnabled&&this.isDead,this._super(t),this.updateShootRangeColor(),this.updateUltCharge(t)},updateShootRangeColor:function(){this.shootRange&&(this.target?this.shootRange.red||(this.shootRange.color=cc.color(255,0,0),this.shootRange.red=!0):this.shootRange.red&&(this.shootRange.color=cc.color(255,255,255),this.shootRange.red=!1))},setTarget:function(t){this.target=t,t?this.isAutoTarget=!1:(this.isAutoTarget=!0,this.target||this.seekTarget())},updateAutoTarget:function(){!this.isMove&&this.target?this.isAutoTarget=!1:this.isAutoTarget=!0},seekTarget:function(){for(var t=g_sharedContactManager.contactList,e=this.x0,i=this.y0,a=this.aimRange*this.aimRange,n=1/0,s=null,o=1/0,r=null,c=[null,null],h=0;h<t.length;h++){var d=t[h],l=d.x0-e,u=d.y0-i;if(!d.isSensor&&d.team!=this.team&&d.canAutoAim&&!d.isDead){var f=l*l+u*u;f<a?f<n&&(n=f,s=d):0!==c[1]&&(d.y-this.y>this.aimRange?-1==c[1]?c[1]=0:c[1]=1:d.y-this.y<-this.aimRange&&(1==c[1]?c[1]=0:c[1]=-1)),f<o&&(o=f,r=d)}}this.target=s,null==c[1]&&(c[1]=1),this.watchDirection=c,this.watchingTarget=r,this.seekCD=.1,this.isAutoTarget=!0},setAutoAttack:function(t){t?(this.isForcedSeeking++,1!=this.isForcedSeeking||this.isSeeking||this.isAutoTarget||this.seekTarget()):(this.isForcedSeeking--,0!=this.isForcedSeeking||this.isAttack||this.isSeeking||(this.atkRad=null))},startAutoAttack:function(){this.noAutoAttack>0||(this.isSeeking=!0,this.isReload=!1,this.isDead=!1,this.seekTarget())},stopAutoAttack:function(){this.isSeeking=!1,this.moveRad=this.atkRad||this.moveRad,this.isAttack||(this.atkRad=null),this.atkRadTimer=1.5,this.refreshAvatar()},stopAttack:function(){this.isAttack=!1,this.atkRad=null,this.atkRadTimer=1.5,this.refreshAvatar()},onAttackEnd:function(){this.atkRad=null,this.atkRadTimer=1.5;var t=this.attackSequence[this.attackSequence.length-1].attackInterval;!this.isReload&&t&&(this.attackInterval=t,cc.log("onAttackEnd",this.attackInterval)),this._super()},callAttack:function(t){if(this.bltCt>0){if(this.reloadToAttackTimer>0)return;this.bltReload=this.bltTime,this.isReload=!1,(!this.attackInterval||this.attackInterval<=0)&&this._super(t)}else this.weapon&&this.callReload(this.weapon)},canReload:function(t){return!(t=t||this.weapon)&&this.bltCt<this.bltMaxCt||t.canReload()},updateAttackSlow:function(){if(!!this.isAttack!=!!this.isAttackSlow){this.isAttackSlow=this.isAttack;var t=this.weapon&&this.weapon.selfSlow||.5;t=1-(1-t)*this.attribute.get("attackSlow"),this.attribute.mutScale("moveSpd",this.isAttackSlow&&t||1/t)}},showReloadEff:function(){if(this==this.game.hero&&this.game.controller&&!this.reloadSp){var t=this.effectMgr.createSprite(0,0,"uiz/ingame/reload2");this.game.camera.addChild(t,this.zIndex+100);var e=this.effectMgr.createFilledSprite(0,0,"uiz/ingame/reload1",cc.Sprite.FillType.HORIZONTAL);t.addChild(e);var i=e.getComponent(cc.Sprite);i.fillStart=0,i.fillRange=0,this.reloadSp=t,this.reloadSp.sp=i}this.reloadSp&&this.reloadSp.setPosition(this.x0,this.y0+45),this.reloadSp&&(this.reloadSp.active=!0)},updateAttack:function(t){if(this.updateAttackSlow(),this.weapon&&this.weapon.updateRecoil(t),this.attackInterval){var e=this.attribute.get("atkSpd");this.attackInterval-=t*e}if(this.isStun||!this.isReload&&!this.isAutoReload?this.reloadSp&&(this.reloadSp.active=!1,this.reloadSp.sp.fillRange=0):(this.bltBar&&this.bltBar.updateReloading(t),e=this.attribute.get("reloadSpd"),this.bltReload-=t*e,this.bltReload<=0&&(this.bltReload=this.bltTime,this.isReload=!1,this.isAutoReload=!1,this.reload())),this.reloadToAttackTimer>0)return this.reloadToAttackTimer-=t,void(this.reloadToAttackTimer<=0&&this.refreshAvatar());this._super(t),this.isAttack?this.autoReloadTimer=.5:(this.autoReloadTimer-=t,this.autoReloadTimer<=0&&(this.autoReloadTimer=.5,this.weapon&&this.callReload(this.bltCt<this.bltMaxCt))),this.bltBar&&this.bltBar.refresh()},attack:function(){var t=this.attackSequence[this.attackIndex];if(t.blt||0===t.blt){var e,i=this.blt[t.blt],a=t.x||0,n=t.y||0,s=this.x0,o=this.y0,r=this.deg,c=kit.degree2Radian(r),h=Math.sin(c),d=Math.cos(c),l=s+d*a+h*n,u=o-h*a+d*n,f=this.attribute,m=f.get("thrChance")+(i.thr||0),p=f.get("atkDmg")*f.get("bltAtkScale"),g=f.get("bltSpd"),v=f.get("critChance"),b=null;if(i.grenade){var k=this.target;(b=kit.norm(k.x0-this.x0,k.y0-this.y0))>i.l&&(b=null)}this.weapon&&(e=this.getRecoil(i),this.bltCt=this.weapon.fire("range"),this.callReload()),this.onAttackCb(this);var y=r+(t.deg||0);this.bltSize&&this.game.shake(2,2),Ammofactory(this,i,{critChance:v,x:l,y:u,te:this.team,obj:this,dmg:p,thr:m,spd:g,l:b,d:e,deg:y,size:this.bltSize},this.game),this.game.fastMode||(t.effect&&t.effect(l,u,this,this.game),t.noSound||this.game.effectMgr.play(this.attackSound||SoundEffectPath[EntityCN2EN[this.toString()]+"_weapon"],0));var S=this.game.controller;this==this.game.hero&&S.shotBtnStatus&&S&&(S.firstShot=!0),this.refreshAvatar()}},getRecoil:function(t){t=t||this.blt[0];var e=this.attribute.get("recoilScale")||1;return t?t.d+(this.weapon.recoil+(this.isMove&&this.weapon.recoilOnMove||0))*e:0},throwBomb:function(){var t=this.attackSequence[this.attackIndex];if(t.blt||0===t.blt){var e,i,a=this.blt[t.blt],n=t.x||0,s=t.y||0,o=this.x0,r=this.y0,c=this.deg,h=kit.degree2Radian(c),d=Math.sin(h),l=Math.cos(h),u=o+l*n+d*s,f=r-d*n+l*s,m=this.attribute,p=m.get("thrChance")+(a.thr||0),g=m.get("atkDmg"),v=m.get("bltSpd");this.target&&this.target&&(a.accurateDis?e=kit.norm(this.target.x0-u,this.target.y0-f):(e=kit.norm(this.target.x0-this.x0,this.target.y0-this.y0)+50,p>0?e+=e*(1+.2*Math.random())+200:a.fixedDis||(e=e*(1+.2*Math.random())+50)),e>a.l&&(e=null)),this.weapon&&(i=a.d+this.weapon.recoil,this.bltCt=this.weapon.fire("range"),this.callReload()),this.onAttackCb(this);var b=c+(t.deg||0);this.bltSize&&this.game.shake(2,2),Ammofactory(this,a,{x:u,y:f,te:this.team,obj:this,dmg:g,thr:p,spd:v,l:e,d:i,deg:b,size:this.bltSize},this.game),this.game.fastMode||(t.effect&&t.effect(u,f,this,this.game),this.game.effectMgr.play(this.attackSound||SoundEffectPath[EntityCN2EN[this.toString()]+"_weapon"],0));var k=this.game.controller;this==this.game.hero&&k.shotBtnStatus&&k&&(k.firstShot=!0,"stop"==k.shotBtnStatus&&this.game.controller.stopShot())}},realsetHp:function(t){PlayerData.getTalentLvl("health"),this.hpMax=HeroDefine.soldier_76.hp||1500,this.hp=parseInt(this.hpMax*t),this.hp>this.hpMax&&(this.hp=this.hpMax),this.hpBar.refresh(),PlayerData.setSaveHeroHp(this.hp)},getFirePos:function(t,e,i){var a=this.attackSequence[t||0];if(!a.blt&&0!==a.blt)return cc.v2(this.x0,this.y0);this.blt[a.blt];var n=(a.x||0)+(e||0),s=(a.y||0)+(i||0),o=this.x0,r=this.y0,c=this.deg,h=kit.degree2Radian(c),d=Math.sin(h),l=Math.cos(h),u=o+l*n+d*s,f=r-d*n+l*s;return cc.v2(u,f)},canWeaponReload:function(){return!0},callReload:function(t){this.bltTime<0?this.bltCt=this.bltMaxCt:!this.canWeaponReload()||this.isReload||!t&&0!=this.bltCt||(this.isReload=!0,this.attackIndex=0,this.onAttackEnd(),this.onCallReload&&this.onCallReload(),this.bltBar&&this.bltBar.refresh())},reload:function(t){var e=this.weapon.reload();e&&(this.bltCt=e,this==this.game.hero&&(t?(this.isReload=!1,this.bltBar&&this.bltBar.blt.stopAllActions(),this.bltBar&&(this.bltBar.blt.angle=0),this.bltBar&&this.bltBar.refresh(!0)):(this.reloadToAttackTimer=.3,this.bltBar&&this.bltBar.lockAndLoad()),this.game.effectMgr.play(SoundEffectPath.weapon_reload)),this.onReloadEnd&&this.onReloadEnd(),this.refreshAvatar(),this.triggerCb("onReload"))},revive:function(t,e,i){this._super(t,e),cc.log(""),g_sharedContactManager.setEntityEnabled(this,!0),this.avatar.reset(),this.hpBar.active=!0,this.bltBar.active=!0,this.setBuffById("invincibleBuff"),this.isInvincible--,i&&(this.runAction(cc.blink(i,Math.ceil(4*i))),this.game.effectMgr.play(SoundEffectPath.revive)),Effect.healNumber(this.hpMax,this,this.game),this.hpBar.refresh(),this.resetSeek(),this.isDead=!1},deathExplosion:function(){this.deadEff&&this.deadEff(this)||Effect.Death(this,0,0,1,this.game)},updateShootRange:function(){this.shootRange&&(this.shootRange.scale=this.aimRange/260)},death:function(){this.isDead=!1,this._super()},deadEffect:function(){},onDead:function(){var t=this.skills;this.define.id,g_sharedContactManager.setEntityEnabled(this,!1),this.hpBar.refresh(),this.isInvincible++;for(var e=0;e<3;e++)t[e]&&t[e].callEnd();if(this.stopAllActions(),this.bltBar.active=!1,this._super(),this.game.effectMgr.play("sound/character/k_die"),this.game&&this.game.hero==this&&this.game.gameManager&&(this.game.scheduleOnce(function(){if(this.autoRevive)this.hero.revive(null,null,3),this.state="fight",this.autoRevive=!1;else if(this.gameManager.isAlreadyRevived()){var t=this.gameManager;if(this.gameManager.diagueOnce(7,function(){t.endGame()}),i=this.gameManager,!operkit.getOperData("guide","first_death_endgame")){var e={chapter:operkit.getCurWarChapterTJ(),point:i.levelPool.index};tjSDK.onEvent("first_death_endgame",e),operkit.setOperData("guide","first_death_endgame_chat",!0),operkit.setOperData("guide","first_death_endgame",!0,!0)}}else{var i;this.gameManager.setAlreadyRevived(),menuManager.pop("prefab/reviveMenu",{game:this}),(i=this.gameManager)&&tjSDK.onEventQm(402,operkit.getCurWarChapterTJ()+"_"+i.levelPool.index+"_"+i.levelPool.currentMapIndex,0)}},1),!operkit.loadWarData("first_death"))){var i=this.game.gameManager,a={chapter:operkit.getCurWarChapterTJ(),point:i.levelPool.index};tjSDK.onEvent("first_dead",a),operkit.saveWarData("first_death",!0,!0)}},onRemove:function(){for(var t=this.skills,e=0;e<3;e++)t[e]&&(t[e].callEnd(),this.game&&this.game.addUpdate(t[e]));this._super()},updateRecoil:function(){},initGear:function(){if(!this.weapon){var t=new a;t.init(WeaponDefine.pistol,{atkDmg:0}),this.equipWeapon(t)}},getCurrentWeapon:function(t){return this[t+"WeaponList"][this[t+"WeaponIndex"]]},checkNewWeapon:function(){},getUsingWeapon:function(t){var e=this[t+"WeaponIndex"];return this[t+"WeaponList"][e]},refillBlt:function(){for(var t in this.rangeWeaponList)this.rangeWeaponList[t].refill();this.weapon&&this.weapon.refill()},equipWeaponById:function(t){var e=new a;e.init(WeaponDefine[t],{atkDmg:0}),this.equipWeapon(e)},unequipWeapon:function(){if(this.weapon){var t=this.weapon;this.attribute.add("atkDmg",-(this.weapon.atkDmg||11)),this.attribute.mutScale("atkSpd",1/(this.weapon.atkSpdScale||1));var e=1-t.weight/this.define.weight*(this.config.attribute.weaponWeightScale||1);this.attribute.mutScale("moveSpd",1/e),this.config.attribute.rangeCrit&&"range"==this.weapon.type&&this.attribute.add("critChance",-this.config.attribute.rangeCrit),this.weapon.critChacne&&this.attribute.add("critChance",-this.weapon.critChance),this.config.attribute.meleeAtkSpd&&"melee"==this.weapon.type&&this.attribute.add("atkSpd",-this.config.attribute.meleeAtkSpd),this.isAttack=!1,this.updateAttackSlow(),this.triggerCb("onUnEquip",{obj:this,weapon:this.weapon}),this.weapon=null}},updateWeapon:function(){var t=this.weapon;this.equipWeapon(t,t.define.type)},equipWeapon:function(t,e){if(this.unequipWeapon(this.weapon),this.weapon=t,t){cc.log("weaponID:"+this.weapon.define.id);var i=this.attribute,a=this;this.bltTime=this.weapon.reloadTime,i.init("bltMaxCt",this.weapon.bltMax,1e5,0,function(t){a.bltMaxCt=t}),i.add("atkDmg",this.weapon.atkDmg||11),i.mutScale("atkSpd",this.weapon.atkSpdScale||1),this.config.attribute.rangeCrit&&"range"==this.weapon.type&&this.attribute.add("critChance",this.config.attribute.rangeCrit),this.weapon.critChacne&&this.attribute.add("critChance",this.weapon.critChance),this.config.attribute.meleeAtkSpd&&"melee"==this.weapon.type&&this.attribute.add("atkSpd",this.config.attribute.meleeAtkSpd);var n=1-t.weight/this.define.weight*(this.config.attribute.weaponWeightScale||1);i.mutScale("moveSpd",n),this.aimRange=this.weapon.aimRange,DEBUG_ATTACK_RANGE_SCALE&&(this.aimRange*=DEBUG_ATTACK_RANGE_SCALE),this.updateShootRange(),this.bltCt=this.weapon.bltCt,this.bltReload=this.bltTime,this.autoReloadTimer=.5,this.recoil=0,this.recoilRate=this.weapon.recoilRate,this.recoilLimit=this.weapon.recoilLimit,this.recoilRecoverRate=this.weapon.recoilRecoverRate||.1,this.weaponType!=e?(this[this.weaponType+"AttackTimer"]=this.attackTimer,this.attackTimer=this[e+"AttackTimer"]||0,this[this.weaponType+"Index"]=this.attackIndex,this.attackIndex=this[e+"Index"]||0):this.attackIndex=0,this.updateAttackSeq(),this.isReload=!1,this.isAutoReload=!1,this.reloadSp&&this.reloadSp.setPosition(this.x0,this.y0+45),this.reloadSp&&(this.reloadSp.active=!0),this.aimMaxDegree=("melee"==this.weapon.type?360:this.define.aimMaxDegree)||10,this.onAttackEnd(),this.attackSound=this.weapon.attackSound,this.weapon.onEquip(this),this.define.weapon,this.triggerCb("onEquip",{obj:this,weapon:this.weapon,type:this.weapon.define.type,weaponId:this.weapon.define.id})}},updateAttackSeq:function(){if(this.isMove){var t=this.attackSequence[this.attackIndex].attackInterval;t&&(this.attackInterval=t),this.attackSequence=this.weapon.attackSequence2||this.weapon.attackSequence,this.blt=this.weapon.blt2||this.weapon.blt}else this.attackSequence=this.weapon.attackSequence,this.blt=this.weapon.blt;this.isAttack=!1,this.attackIndex=0},onMoveStateChange:function(t){this.weapon&&this.isMove!=t&&this.updateAttackSeq()},callMove:function(t){var e=this.isMove;this._super(t),this.onMoveStateChange(e),this.updateAutoTarget()},simpleHurt:function(){if(this._super.apply(this,arguments),!this.isInvincible){var t=this.bonusInvincibleTime||0;this.setBuffById("hurtInvincible",{t:.7+t})}},hit:function(){this._super.apply(this,arguments),this.addChargeOnHit()},hurt:function(t,e,i,a){if(this._super(t,e,i,a),!this.isInvincible){var n=this.bonusInvincibleTime||0;this.setBuffById("hurtInvincible",{t:.7+n})}e&&e.isDot||this.effectMgr.play(SoundEffectPath.player_hurt)},hurtBlinkEffect:function(){this.hurtBlinkCD||(this.hurtBlinkCD=.1,this.avatar.hitFlash())},ChangeSecondATKSeq:function(){var t=this.define.weapon;if(this.weaponName){var e=new a;e.init(WeaponDefine[this.weaponName],{infiniteBltPrepare:1}),t&&t[e.define.animeType]&&t[e.define.animeType].attackSeq2&&(this.attackSequence=t[e.define.animeType].attackSeq2,this.attackIndex=0)}},ChangeFirstATKSeq:function(){var t=this.define.weapon;if(this.weaponName){var e=new a;e.init(WeaponDefine[this.weaponName],{infiniteBltPrepare:1}),t&&t[e.define.animeType]&&t[e.define.animeType].attackSeq&&(this.attackSequence=t[e.define.animeType].attackSeq,this.attackIndex=0)}},useItem:function(t){if(!(this.itemList[t].n<=0))return ITEM_CONFIG[t].useFunc(this),Quest.check("use",1,t),this.itemList[t].n--,this.itemList[t].n<=0?(delete this.itemList[t],!0):void 0},changeBltList:function(t){for(var e in this.bltList=t,this.rangeWeaponList)this.rangeWeaponList[e].bltPool=t,this.rangeWeaponList[e].reload();for(var e in this.meleeWeaponList)this.meleeWeaponList[e].bltPool=t,this.meleeWeaponList[e].reload();this.reload()},getStandardAtk:function(){return this.attribute.get("atkDmg")},getStandardAtkRatio:function(){return 1}});e.exports=n,cc._RF.pop()},{Ammo:"Ammo",Attribute:"Attribute",Avatar:"Avatar",BltBar:"BltBar",Entity:"Entity",NewHpBar:"NewHpBar",Timer:"Timer",Weapon:"Weapon",WeaponDefine:"WeaponDefine"}],HitFlash:[function(t,e){"use strict";cc._RF.push(e,"1beecBRPihL8aiXmU2uNVke","HitFlash"),cc.Class({extends:cc.Component,properties:{},start:function(){this.bFlashing=!1,this.u_lerp=0,this.dir=1,this.schedule(this.flash,2)},flash:function(){this.bFlashing||(this.bFlashing=!0,this.u_lerp=0,this.dir=1,this.spine.getMaterial(0).setProperty("u_lerp",this.u_lerp))},update:function(t){this.spine&&this.bFlashing&&(this.spine.getMaterial(0).setProperty("u_lerp",this.u_lerp),this.u_lerp+=t*this.dir,this.u_lerp>.3&&(this.u_lerp=.3,this.dir=-1),this.u_lerp<0&&(this.u_lerp=0,this.dir=1,this.bFlashing=!1))}}),cc._RF.pop()},{}],HoldBuff:[function(t,e){"use strict";cc._RF.push(e,"9fb355Nhj9FSp39V7sACtYH","HoldBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super(),this.obj.setNoMove(!0)},end:function(){this._super(),this.obj.setNoMove(!1)}}),cc._RF.pop()},{Buff:"Buff"}],HpBar:[function(t,e){"use strict";cc._RF.push(e,"ffc40hCl6hLNY6/gZuhuRPR","HpBar"),cc.Class({extends:cc.Node,init:function(t,e,i){if(this.game=e,this.effectMgr=this.game.effectMgr,0==t.team)var a="ui/ingame/bar/hp";else a=t.elite?"ui/ingame/bar/hp_purple":"ui/ingame/bar/hp_red";var n=this.effectMgr.createFilledSprite(0,0,a,cc.Sprite.FillType.HORIZONTAL);this.addChild(n,10);var s=n.getComponent(cc.Sprite);s.fillStart=0,s.fillRange=1,this.hpBar=s;var o=this.effectMgr.createFilledSprite(0,0,"ui/ingame/bar/hp_flash",cc.Sprite.FillType.HORIZONTAL);this.addChild(o,1),this.hpBar2Node=o;var r=o.getComponent(cc.Sprite);r.fillStart=0,r.fillRange=1,this.hpBar2=r;var c=this.effectMgr.createSprite(0,0,"ui/ingame/bar/hp_bg");if(this.bg=c,this.addChild(c),t.elite){var h=this.effectMgr.createSprite(0,0,"ui/ingame/bar/hp_boss_icon");h.y=10,this.addChild(h,11)}this.reset(i);var d=this;s.schedule(function(){d.update(d)},.01),this.active=!1},reset:function(t){this.obj=t,this.sx=1,this.hpBar2.fillRange=1,this.osx=this.sx,this.enabled=!0},onRefresh:function(){var t=this.obj;this.refreshAction=null,t.hp<=0&&(this.enabled=!1)},refresh:function(){var t=this.obj;if(!(t.hp<=0)){var e=t.hp/t.hpMax;this.opacity=255,this.hpBar.fillRange=e,this.hpBar2Node.opacity=150;var i=cc.callFunc(function(){this.hpBar2.fillRange=e}.bind(this));this.hpBar2Node.runAction(cc.sequence(cc.fadeIn(.05),cc.fadeOut(.25),i)),this.onRefresh(),this.active=!0}},update:function(t){t.setPosition(t.obj.x,t.obj.y+60)}}),cc._RF.pop()},{}],HumanAvatar:[function(t,e){"use strict";cc._RF.push(e,"3681bvrhkBEerY26qaXFGIt","HumanAvatar"),cc.Class({extends:t("Avatar"),init:function(t,e,i){this.define=t,this.config=e,this.obj=e.obj,this.obj.shaderFunc&&(this.shaderFunc=this.obj.shaderFunc),this.game=i,this.effectMgr=this.game.effectMgr,this.moveSpd=0,this.atkSpd=1,this.initAnimeName(),this.initAnime(),this.initShader()},initAnime:function(){var t=this;t.game.effectMgr.createArmature(this.define.anime||"nanzhu",function(e,i,a){e&&alert(e),t.display=i;var n=t.display.armature();t.animation=n.animation,"nanzhu"==t.define.anime?t.animation.fadeIn("Pistol_stand",.1):t.animation.fadeIn("stand",.1),t.loadShader(),t.node.addChild(a,0),t.aniNode=a,i.addEventListener(dragonBones.EventObject.COMPLETE,t.onAnimeEvent,t)},this.define.anime||"nanzhu")},setReloadAnimeName:function(t){this.reloadAnimeName=t||"reload"},initCache:function(){},initAnimeName:function(){this.setAttackAnimeName(),this.setWalkAnimeName(),this.setStandAnimeName(),this.setReloadAnimeName()},reset:function(){this.node.color=cc.color(255,255,255)},onDestroy:function(){this.changedSlot&&(this.setDisplayByName(this.changedSlot),this.changedSlot=null)},update:function(){if(this.needRefresh&&this.aniNode){var t=this.obj,e=t.attribute,i=this.forcedRefresh,a=t.weapon&&t.weapon.define.anime,n="";if(a){if(n=a.prefix,this.forcedAnimeName)this.setAnime(this.forcedAnimeName,this.forcedAnimeSpd,i);else if(t.isDead)this.setUpperAnime("dead",this.forcedAnimeSpd,i),this.setLowerAnime("dead",this.forcedAnimeSpd,i);else{if(t.isMove){var s=t.spd/400*e.get("moveSpd");this.setLowerAnime(this.walkAnimeName,this.forcedAnimeSpd||s)}else this.setLowerAnime(this.standAnimeName,this.forcedAnimeSpd,i);if(t.isAttack){var o=e.get("atkSpd");this.isAttack?this.setUpperAnime(n+this.attackAnimeName,o,!0,1):this.lastUpperAnimName!=n+this.attackAnimeName&&this.setUpperAnime(n+this.aimAnimeName,o,this.forcedAnimeSpd,this.define.aimPlayTimes),this.isAttack=!1}else if((!t.weapon||t.weapon.canReload())&&t.isReload||t.isAutoReload){var r=t.bltTime;this.setUpperAnime(n+this.reloadAnimeName,this.forcedAnimeSpd||r,i)}else t.isMove&&this.animation.hasAnimation(n+this.walkAnimeName)?(s=t.spd/400*e.get("moveSpd"),this.setUpperAnime(n+this.walkAnimeName,this.forcedAnimeSpd||s,i)):this.setUpperAnime(n+this.standAnimeName,this.forcedAnimeSpd,i)}var c=a.res||a.display;if(t.isDead);else if(this.display&&c!=this.weaponSkin)if(c){if((l=this.display.armature().getSlot(a.slot)).attachment&&(l.attachment.destroy(),l.attachment=null),a.res){this.setDisplayByName(a.slot,"blank");var h=this.effectMgr.createSprite(0,0,a.res),d=l.getDisplay();l.attachment=h,d.addChild(h)}else this.setDisplayByName(a.slot,a.display);this.weaponSkin=c,this.weaponSlot=a.slot}else{var l;(l=this.weaponSlot).attachment&&(l.attachment.destroy(),l.attachment=null),this.setDisplayByName(l),this.weaponSkin=null,this.weaponSlot=null}}this.needRefresh=!1,this.forcedRefresh=!1}},setDisplayByName:function(t,e){var i=dragonBones.CCFactory.getInstance(),a=this.display.armature().getSlot(t);if(a)if(e){a.displayIndex;var n=a.rawDisplayDatas,s=i.getArmatureData(this.display.armatureName,this.display.dragonBoneName).defaultSkin.getDisplay(t,e);for(var o in a.oIndex||(a.oIndex=a.displayIndex),n)n[o]==s&&(a.displayIndex=o)}else a.oIndex&&(a.displayIndex=a.oIndex)},onAnimeEvent:function(t){t.type==dragonBones.EventObject.COMPLETE&&(this.forcedAnimeName||(t.animationState==this.lowerAnime?(this.lowerAniName=null,this.lowerAnime=null):t.animationState==this.upperAnime?(this.upperAniName=null,this.upperAnime=null):t.animationState==this.animation&&(this.aniName=null)))},setLowerAnime:function(){},setUpperAnime:function(t,e,i){var a=this.getArmature();if(a){var n=a.animation;if(i||this.upperAniName!=t){this.upperAniName=t;var s=n.fadeIn(this.upperAniName,.1,-1);s&&(this.upperAnime=s)}e&&this.upperAnime&&this.upperAnime&&(this.upperAnime.timeScale=e||1)}},setAnime:function(t,e,i){if(i||this.aniName!=t){this.aniName=t;var a=this.animation.play(t,this.forcedAnimeLoop||-1);this.state=a}a&&(a.timeScale=e)}}),cc._RF.pop()},{Avatar:"Avatar"}],HumanDefine:[function(t,e){"use strict";cc._RF.push(e,"528d1F/OX9BzLAcT9KzT2+b","HumanDefine");var i=t("HeroAvatar");window.HUMAN_RIFLEMAN="rifleman",window.HumanDefine={rifleman:{name:"rifleman",id:HUMAN_RIFLEMAN,avatar:{ctor:i,anime:"zhujue",ax:.5,ay:.5,atkIntervalAnime:"pull",sniper_reloadTimeK:.4},critChance:.05,faction:"dark",hp:600,shadowScale:2.1,ep:0,epRecover:0,epTimer:0,bltCt:20,bltTime:1.5,radius:30,weight:1e3,scale:1,aimOffsetX:15,aimMaxDegree:360,attack:10,speed:220,rttSpd:600,z:ZORDER.HERO,alwaysAttack:!1,aimBest:!0,attackSequence:[{t:1/30,x:0,y:120,blt:0},{t:1/30}],skill:[],ai:{ctor:t("HydraliskAI"),sr:1130,ar0:20,ar1:25,moveTime:.3,attackTime:3,aim:{deg:10,t:2,effect:"circle",l:600,dy:40,dx:18}}}},cc._RF.pop()},{HeroAvatar:"HeroAvatar",HydraliskAI:"HydraliskAI"}],Human:[function(t,e){"use strict";var i;cc._RF.push(e,"51d0cbvPXFKz7MVmw1bNL4W","Human"),t("Attribute");var a=t("Avatar"),n=t("Weapon");t("Ammo"),t("WeaponDefine"),t("Timer");var s=t("AI"),o=(t("Entity"),cc.Class(((i={extends:t("Entity"),init:function(t,e,i){this._super(t,e,i),this.isForcedSeeking=0,this.isForcedAutoFacing=1,this.isForcedAutoFacing&&(this.seekCD=.1,this.isAutoTarget=!0),this.config.me&&(i.hero=this)},initBltBar:function(){var e=new(t("BltBar"));e.init(this.config,this.game,this),e.reset(this,40),this.game&&this.game.camera.addChild(e,ZORDER.UI),this.bltBar=e},resetSeek:function(){},translateConfig:function(t,e){e.attribute=e.attribute||{}},onEnter:function(){},secInit:function(){var t=this.define,e=this.config;this.alwaysAttack=this.define.alwaysAttack,this.aimMaxDegree=this.define.aimMaxDegree||15,this.aimRange=this.define.aimRange||1500,DEBUG_ATTACK_RANGE_SCALE&&(this.aimRange*=DEBUG_ATTACK_RANGE_SCALE),this.noSeek=0,this.aimOffsetX=this.define.aimOffsetX,this.aimOffsetSwitch=this.define.aimOffsetSwitch,this.skills=[];for(var i=e.skill||kit.clone(t.skill),a=0;a<i.length;a++){var n=i[a];n&&n.ctor&&(this.skills[a]=new n.ctor(n,{obj:this,id:a}))}this.define.ai&&(this.isAIEnabled=!0,this.ai=new(this.define.ai.ctor||s),this.ai.init(this.define.ai,{obj:this},this.game)),this.initGear()},initAttribute:function(t,e){this._super(t,e);var i=this.attribute,a=this;i.init("reloadSpd",1+(t.reloadSpeedScale||0),1e5,0),i.init("recoilScale",1+(t.recoilScale||0),1e5,0),this.bltTime=this.config.bltTime||this.define.bltTime||1;var n=(this.define.bltCt||10)+(t.ammo||0);i.init("bltMaxCt",n,1e5,0,function(t){a.bltMaxCt=t}),this.bltCt=this.bltMaxCt,this.bltReload=this.bltTime,i.init("attackSlow",t.attackSlow||1,1e5,0),DEBUG_MOVSPD_SCALE&&i.mutScale("moveSpd",DEBUG_MOVSPD_SCALE),i.init("bltAtkScale",1)},initAvatar:function(){var t=this.define.avatar,e=new cc.Node;this.addChild(e,0),this.avatarNode=e,e.color=cc.color(0,0,0);var i=t.ctor||a;this.avatar=e.addComponent(i),this.avatar.init(t,{obj:this},this.game)},getHp:function(){return this.hp},refreshAvatar:function(t){this.avatar.refresh(t)},setForcedAnime:function(t,e,i){this.avatar.setForcedAnime(t,e,i)},setForcedAnimeSpd:function(t){this.avatar.setForcedAnimeSpd(t)},updateAvatar:function(t){this.avatar.update(t)},setShader:function(t){return this.avatar.setShader(t)},setAIEnabled:function(t){this._super(t),this.isSeeking=t},updateLogic:function(t){return this.isAIEnabled&&this.ai.updateLogic(t),this._super(t)},setTarget:function(t){this.target=t,t?this.isAutoTarget=!1:(this.isAutoTarget=!0,this.target||this.seekTarget())},updateAutoTarget:function(){!this.isMove&&this.target?this.isAutoTarget=!1:this.isAutoTarget=!0},seekTarget:function(){for(var t=g_sharedContactManager.contactList,e=this.x0,i=this.y0,a=this.aimRange*this.aimRange,n=1/0,s=null,o=1/0,r=null,c=[null,null],h=0;h<t.length;h++){var d=t[h],l=d.x0-e,u=d.y0-i;if(!d.isSensor&&d.team!=this.team&&d.canAutoAim&&!d.isDead){var f=l*l+u*u;f<a?f<n&&(n=f,s=d):0!==c[1]&&(d.y-this.y>this.aimRange?-1==c[1]?c[1]=0:c[1]=1:d.y-this.y<-this.aimRange&&(1==c[1]?c[1]=0:c[1]=-1)),f<o&&(o=f,r=d)}}this.target=s,null==c[1]&&(c[1]=1),this.watchDirection=c,this.watchingTarget=r,this.seekCD=.1,this.isAutoTarget=!0},setAutoAttack:function(t){t?(this.isForcedSeeking++,1!=this.isForcedSeeking||this.isSeeking||this.isAutoTarget||this.seekTarget()):(this.isForcedSeeking--,0!=this.isForcedSeeking||this.isAttack||this.isSeeking||(this.atkRad=null))},startAutoAttack:function(){this.noAutoAttack>0||(this.isSeeking=!0,this.isReload=!1,this.isDead=!1,this.seekTarget())},stopAutoAttack:function(){this.isSeeking=!1,this.moveRad=this.atkRad||this.moveRad,this.isAttack||(this.atkRad=null),this.atkRadTimer=1.5,this.refreshAvatar()},stopAttack:function(){this.isAttack=!1,this.atkRad=null,this.atkRadTimer=1.5,this.refreshAvatar()},onAttackEnd:function(){this.atkRad=null,this.atkRadTimer=1.5;var t=this.attackSequence[this.attackSequence.length-1].attackInterval;!this.isReload&&t&&(this.attackInterval=t,cc.log("onAttackEnd",this.attackInterval)),this._super()},callAttack:function(t){if(this.bltCt>0){if(this.reloadToAttackTimer>0)return;this.bltReload=this.bltTime,this.isReload=!1,(!this.attackInterval||this.attackInterval<=0)&&(this._super(t),cc.log("human callAttack",this.isAttack))}else this.weapon&&this.callReload(this.weapon)},canReload:function(t){return!(t=t||this.weapon)&&this.bltCt<this.bltMaxCt||t.canReload()},updateAttackSlow:function(){if(!!this.isAttack!=!!this.isAttackSlow){this.isAttackSlow=this.isAttack;var t=this.weapon&&this.weapon.selfSlow||.5;t=1-(1-t)*this.attribute.get("attackSlow"),this.attribute.mutScale("moveSpd",this.isAttackSlow&&t||1/t)}},showReloadEff:function(){if(this==this.game.hero&&this.game.controller&&!this.reloadSp){var t=this.effectMgr.createSprite(0,0,"uiz/ingame/reload2");this.game.camera.addChild(t,this.zIndex+100);var e=this.effectMgr.createFilledSprite(0,0,"uiz/ingame/reload1",cc.Sprite.FillType.HORIZONTAL);t.addChild(e);var i=e.getComponent(cc.Sprite);i.fillStart=0,i.fillRange=0,this.reloadSp=t,this.reloadSp.sp=i}this.reloadSp&&this.reloadSp.setPosition(this.x0,this.y0+45),this.reloadSp&&(this.reloadSp.active=!0)},updateAttack:function(t){if(this.updateAttackSlow(),this.weapon&&this.weapon.updateRecoil(t),this.attackInterval){var e=this.attribute.get("atkSpd");this.attackInterval-=t*e}if(this.isStun||!this.isReload&&!this.isAutoReload?this.reloadSp&&(this.reloadSp.active=!1,this.reloadSp.sp.fillRange=0):(this.bltBar&&this.bltBar.updateReloading(t),e=this.attribute.get("reloadSpd"),this.bltReload-=t*e,this.bltReload<=0&&(this.bltReload=this.bltTime,this.isReload=!1,this.isAutoReload=!1,this.reload())),this.reloadToAttackTimer>0)return this.reloadToAttackTimer-=t,void(this.reloadToAttackTimer<=0&&this.refreshAvatar());this._super(t),this.bltBar&&this.bltBar.refresh()}}).onAttackEnd=function(){this.attackIndex=0,this.isAttack=!1},i.attack=function(){var t=this.attackSequence[this.attackIndex];if(t.blt||0===t.blt){var e,i=this.blt[t.blt],a=t.x||0,n=t.y||0,s=this.x0,o=this.y0,r=this.deg,c=kit.degree2Radian(r),h=Math.sin(c),d=Math.cos(c),l=s+d*a+h*n,u=o-h*a+d*n,f=this.attribute,m=f.get("thrChance")+(i.thr||0),p=f.get("atkDmg")*f.get("bltAtkScale"),g=f.get("bltSpd"),v=f.get("critChance"),b=null;if(i.grenade){var k=this.target;(b=kit.norm(k.x0-this.x0,k.y0-this.y0))>i.l&&(b=null)}this.weapon&&(e=this.getRecoil(i),this.bltCt=this.weapon.fire("range"),this.callReload()),this.onAttackCb(this);var y=r+(t.deg||0);this.bltSize&&this.game.shake(2,2),Ammofactory(this,i,{critChance:v,x:l,y:u,te:this.team,obj:this,dmg:p,thr:m,spd:g,l:b,d:e,deg:y,size:this.bltSize},this.game),this.game.fastMode||(t.effect&&t.effect(l,u,this,this.game),t.noSound||this.game.effectMgr.play(this.attackSound||SoundEffectPath[EntityCN2EN[this.toString()]+"_weapon"],0));var S=this.game.controller;this==this.game.hero&&S.shotBtnStatus&&S&&(S.firstShot=!0),this.refreshAvatar()}},i.getRecoil=function(t){t=t||this.blt[0];var e=this.attribute.get("recoilScale")||1;return t?t.d+(this.weapon.recoil+(this.isMove&&this.weapon.recoilOnMove||0))*e:0},i.throwBomb=function(){var t=this.attackSequence[this.attackIndex];if(t.blt||0===t.blt){var e,i,a=this.blt[t.blt],n=t.x||0,s=t.y||0,o=this.x0,r=this.y0,c=this.deg,h=kit.degree2Radian(c),d=Math.sin(h),l=Math.cos(h),u=o+l*n+d*s,f=r-d*n+l*s,m=this.attribute,p=m.get("thrChance")+(a.thr||0),g=m.get("atkDmg"),v=m.get("bltSpd");this.target&&this.target&&(a.accurateDis?e=kit.norm(this.target.x0-u,this.target.y0-f):(e=kit.norm(this.target.x0-this.x0,this.target.y0-this.y0)+50,p>0?e+=e*(1+.2*Math.random())+200:a.fixedDis||(e=e*(1+.2*Math.random())+50)),e>a.l&&(e=null)),this.weapon&&(i=a.d+this.weapon.recoil,this.bltCt=this.weapon.fire("range"),this.callReload()),this.onAttackCb(this);var b=c+(t.deg||0);this.bltSize&&this.game.shake(2,2),Ammofactory(this,a,{x:u,y:f,te:this.team,obj:this,dmg:g,thr:p,spd:v,l:e,d:i,deg:b,size:this.bltSize},this.game),this.game.fastMode||(t.effect&&t.effect(u,f,this,this.game),this.game.effectMgr.play(this.attackSound||SoundEffectPath[EntityCN2EN[this.toString()]+"_weapon"],0));var k=this.game.controller;this==this.game.hero&&k.shotBtnStatus&&k&&(k.firstShot=!0,"stop"==k.shotBtnStatus&&this.game.controller.stopShot())}},i.realsetHp=function(t){PlayerData.getTalentLvl("health"),this.hpMax=HeroDefine.soldier_76.hp||1500,this.hp=parseInt(this.hpMax*t),this.hp>this.hpMax&&(this.hp=this.hpMax),this.hpBar.refresh(),PlayerData.setSaveHeroHp(this.hp)},i.getFirePos=function(t,e,i){var a=this.attackSequence[t||0];if(!a.blt&&0!==a.blt)return cc.v2(this.x0,this.y0);this.blt[a.blt];var n=(a.x||0)+(e||0),s=(a.y||0)+(i||0),o=this.x0,r=this.y0,c=this.deg,h=kit.degree2Radian(c),d=Math.sin(h),l=Math.cos(h),u=o+l*n+d*s,f=r-d*n+l*s;return cc.v2(u,f)},i.canWeaponReload=function(){return!0},i.callReload=function(t){this.bltTime<0?this.bltCt=this.bltMaxCt:!this.canWeaponReload()||this.isReload||!t&&0!=this.bltCt||(this.isReload=!0,this.attackIndex=0,this.onAttackEnd(),this.onCallReload&&this.onCallReload(),this.bltBar&&this.bltBar.refresh())},i.reload=function(t){var e=this.weapon.reload();e&&(this.bltCt=e,this==this.game.hero&&(t?(this.isReload=!1,this.bltBar&&this.bltBar.blt.stopAllActions(),this.bltBar&&(this.bltBar.blt.angle=0),this.bltBar&&this.bltBar.refresh(!0)):(this.reloadToAttackTimer=.3,this.bltBar&&this.bltBar.lockAndLoad()),this.game.effectMgr.play(SoundEffectPath.weapon_reload)),this.onReloadEnd&&this.onReloadEnd(),this.refreshAvatar(),this.triggerCb("onReload"))},i.revive=function(t,e,i){this._super(t,e),cc.log(""),g_sharedContactManager.setEntityEnabled(this,!0),this.avatar.reset(),this.hpBar.active=!0,this.setBuffById("invincibleBuff"),this.isInvincible--,i&&(this.runAction(cc.blink(i,Math.ceil(4*i))),this.game.effectMgr.play(SoundEffectPath.revive)),Effect.healNumber(this.hpMax,this,this.game),this.hpBar.refresh(),this.resetSeek(),this.isDead=!1},i.deathExplosion=function(){this.deadEff&&this.deadEff(this)||Effect.Death(this,0,0,1,this.game)},i.updateShootRange=function(){this.shootRange&&(this.shootRange.scale=this.aimRange/260)},i.deadEffect=function(){var t,e=this.define.deadEff||this.deadEff||Effect.Death;return this.isBoss?t=(e=Effect.BossDeath)(this,this.game)||.01:(t=e(this,1,1,1,this.game)||1,this.avatar&&this.avatar.deadDissolve()),t},i.onRemove=function(){for(var t=this.skills,e=0;e<3;e++)t[e]&&(t[e].callEnd(),this.game&&this.game.addUpdate(t[e]));this._super()},i.updateRecoil=function(){},i.initGear=function(){if(!this.weapon){var t=new n;t.init(WeaponDefine.AK47,{atkDmg:0}),this.equipWeapon(t)}},i.getCurrentWeapon=function(t){return this[t+"WeaponList"][this[t+"WeaponIndex"]]},i.checkNewWeapon=function(){},i.getUsingWeapon=function(t){var e=this[t+"WeaponIndex"];return this[t+"WeaponList"][e]},i.refillBlt=function(){for(var t in this.rangeWeaponList)this.rangeWeaponList[t].refill();this.weapon&&this.weapon.refill()},i.unequipWeapon=function(){if(this.weapon){var t=this.weapon;this.attribute.add("atkDmg",-(this.weapon.atkDmg||11)),this.attribute.mutScale("atkSpd",1/(this.weapon.atkSpdScale||1));var e=1-t.weight/this.define.weight*(this.config.attribute.weaponWeightScale||1);this.attribute.mutScale("moveSpd",1/e),this.config.attribute.rangeCrit&&"range"==this.weapon.type&&this.attribute.add("critChance",-this.config.attribute.rangeCrit),this.weapon.critChacne&&this.attribute.add("critChance",-this.weapon.critChance),this.config.attribute.meleeAtkSpd&&"melee"==this.weapon.type&&this.attribute.add("atkSpd",-this.config.attribute.meleeAtkSpd),this.isAttack=!1,this.updateAttackSlow(),this.triggerCb("onUnEquip",{obj:this,weapon:this.weapon}),this.weapon=null,cc.log("human unequip")}},i.updateWeapon=function(){var t=this.weapon;this.equipWeapon(t,t.define.type)},i.equipWeapon=function(t,e){if(this.unequipWeapon(this.weapon),this.weapon=t,t){var i=this.attribute,a=this;this.bltTime=this.weapon.reloadTime,i.init("bltMaxCt",this.weapon.bltMax,1e5,0,function(t){a.bltMaxCt=t}),i.add("atkDmg",this.weapon.atkDmg||11),i.mutScale("atkSpd",this.weapon.atkSpdScale||1),this.config.attribute.rangeCrit&&"range"==this.weapon.type&&this.attribute.add("critChance",this.config.attribute.rangeCrit),this.weapon.critChacne&&this.attribute.add("critChance",this.weapon.critChance),this.config.attribute.meleeAtkSpd&&"melee"==this.weapon.type&&this.attribute.add("atkSpd",this.config.attribute.meleeAtkSpd);var n=1-t.weight/this.define.weight*(this.config.attribute.weaponWeightScale||1);i.mutScale("moveSpd",n),this.aimRange=this.weapon.aimRange,DEBUG_ATTACK_RANGE_SCALE&&(this.aimRange*=DEBUG_ATTACK_RANGE_SCALE),this.updateShootRange(),this.bltCt=this.weapon.bltCt,this.bltReload=this.bltTime,this.autoReloadTimer=.5,this.recoil=0,this.recoilRate=this.weapon.recoilRate,this.recoilLimit=this.weapon.recoilLimit,this.recoilRecoverRate=this.weapon.recoilRecoverRate||.1,this.weaponType!=e?(this[this.weaponType+"AttackTimer"]=this.attackTimer,this.attackTimer=this[e+"AttackTimer"]||0,this[this.weaponType+"Index"]=this.attackIndex,this.attackIndex=this[e+"Index"]||0):this.attackIndex=0,this.updateAttackSeq(),this.isReload=!1,this.isAutoReload=!1,this.reloadSp&&this.reloadSp.setPosition(this.x0,this.y0+45),this.reloadSp&&(this.reloadSp.active=!0),this.aimMaxDegree=("melee"==this.weapon.type?360:this.define.aimMaxDegree)||10,this.onAttackEnd(),this.attackSound=this.weapon.attackSound,this.weapon.onEquip(this),this.define.weapon,this.triggerCb("onEquip",{obj:this,weapon:this.weapon,type:this.weapon.define.type,weaponId:this.weapon.define.id})}},i.updateAttackSeq=function(){if(this.isMove){var t=this.attackSequence[this.attackIndex].attackInterval;t&&(this.attackInterval=t),this.attackSequence=this.weapon.attackSequence2||this.weapon.attackSequence,this.blt=this.weapon.blt2||this.weapon.blt}else this.attackSequence=this.weapon.attackSequence,this.blt=this.weapon.blt;this.attackIndex=0},i.onMoveStateChange=function(t){this.weapon&&this.isMove!=t&&this.updateAttackSeq()},i.callMove=function(t){var e=this.isMove;this._super(t),this.onMoveStateChange(e),this.updateAutoTarget()},i.simpleHurt=function(){this._super.apply(this,arguments)},i.hurt=function(t,e,i,a){this._super(t,e,i,a)},i.hurtBlinkEffect=function(){this.hurtBlinkCD||(this.hurtBlinkCD=.1,this.avatar.hitFlash())},i.ChangeSecondATKSeq=function(){var t=this.define.weapon;if(this.weaponName){var e=new n;e.init(WeaponDefine[this.weaponName],{infiniteBltPrepare:1}),t&&t[e.define.animeType]&&t[e.define.animeType].attackSeq2&&(this.attackSequence=t[e.define.animeType].attackSeq2,this.attackIndex=0)}},i.ChangeFirstATKSeq=function(){var t=this.define.weapon;if(this.weaponName){var e=new n;e.init(WeaponDefine[this.weaponName],{infiniteBltPrepare:1}),t&&t[e.define.animeType]&&t[e.define.animeType].attackSeq&&(this.attackSequence=t[e.define.animeType].attackSeq,this.attackIndex=0)}},i.useItem=function(t){if(!(this.itemList[t].n<=0))return ITEM_CONFIG[t].useFunc(this),Quest.check("use",1,t),this.itemList[t].n--,this.itemList[t].n<=0?(delete this.itemList[t],!0):void 0},i.getStandardAtk=function(){return this.attribute.get("atkDmg")},i.getStandardAtkRatio=function(){return 1},i)));e.exports=o,cc._RF.pop()},{AI:"AI",Ammo:"Ammo",Attribute:"Attribute",Avatar:"Avatar",BltBar:"BltBar",Entity:"Entity",Timer:"Timer",Weapon:"Weapon",WeaponDefine:"WeaponDefine"}],HurtScaleOnAttackBuff:[function(t,e){"use strict";cc._RF.push(e,"82a39ATAYpD0p47Qdxh/XpX","HurtScaleOnAttackBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super()},excute:function(){this.obj.isAttack?this.isAdded||(this.isAdded=!0,this.obj.attribute.add("hurtScale",this.define.hurtScale)):this.isAdded&&(this.isAdded=!1,this.obj.attribute.add("hurtScale",-this.define.hurtScale))},end:function(){this._super(),this.isAdded&&(this.isAdded=!1,this.obj.attribute.add("hurtScale",-this.define.hurtScale))}}),cc._RF.pop()},{Buff:"Buff"}],HurtScale:[function(t,e){"use strict";cc._RF.push(e,"b3a83gRIx5NJYyIjeuTbjex","HurtScale"),cc.Class({extends:t("Buff"),begin:function(){this._super(),this.obj.attribute.mutScale("hurtScale",this.define.hurtScale)},end:function(){this._super(),this.obj.attribute.mutScale("hurtScale",1/this.define.hurtScale)}}),cc._RF.pop()},{Buff:"Buff"}],HurtStopBuff:[function(t,e){"use strict";cc._RF.push(e,"57998yvN45KSJspV4RQtaub","HurtStopBuff"),cc.Class({extends:t("Buff"),init:function(t,e){this._super(t,e),this.obj.stun(.3)},cover:function(){}}),cc._RF.pop()},{Buff:"Buff"}],HydraliskAI:[function(t,e){"use strict";cc._RF.push(e,"248874RhhtJPp0zjw9K3C9b","HydraliskAI");var i=cc.Class({extends:t("AI"),updateStatusSeek:function(t){var e=this.obj;if(this.moveTimer-=t,!e.isDead&&!e.isStun){this.seekCD-=t,(this.seekCD<=0||this.target&&this.target.isDead)&&(this.seekCD=1+Math.random(),this.seekTarget());var i=this.target;if(i){this.checkSkill(i);var a=this.define,n=e.x0-100+200*Math.random(),s=e.y0-100+200*Math.random();if(this.define.checkWall){var o=e.game.contactMgr,r=o.getCXY(n,s);if(!o.canFitPlace(r.x,r.y,2))return void(this.seekCD=.2+Math.random())}var c=n-e.x0,h=s-e.y0,d=i.radius+e.radius+a.sr,l=c*c+h*h;if(l<d*d&&this.moveTimer<=0){this.attackTimer=this.attackInterval;var u=kit.vector2Radian(i.y-e.y,i.x-e.x);e.setRotation(kit.radian2Degree(u)),this.callAttack(null,!0),this.changeStatus("Fight"),cc.log("attack")}else if(this.astarTimer-=t,this.astarTimer<=0||!e.isMove&&!e.noMove){this.seekOffsetTimer>0&&(this.seekOffsetTimer-=t,this.seekOffsetTimer<=0&&this.refreshSeekOffset());var f=a.ar0+a.ar1+10,m=l/(f*f);u=kit.vector2Radian(h,c),c+=this.seekOffsetX*m,h+=this.seekOffsetY*m,e.callMove({rad:u,s:1}),cc.log("moveTo",kit.radian2Degree(u),e.x,e.y),this.astarTimer=.5+1*Math.random()}}}}});e.exprots=i,cc._RF.pop()},{AI:"AI"}],HydraliskDefine:[function(t,e){"use strict";cc._RF.push(e,"d8c51PDprlGJJtJEGvs9Mcy","HydraliskDefine"),t("FrameAvatar");var i=t("SimpleAvatar"),a=t("RangeAI"),n=t("HydraliskAI"),s=t("RockBlt"),o=(t("Hydralisk"),t("DrillSkill")),r=(t("Grenade"),t("JumpSkill")),c=t("PullbackSkill"),h=t("PullBackBlt");t("Fire"),t("Effect"),t("resource"),window.HYDRALISK_1_100=21.1,window.HYDRALISK_1_200=21.2,window.HYDRALISK_PD1="pd1",window.HYDRALISK_PD2="pd2",window.HYDRALISK_1_100_100=21.11,window.HYDRALISK_1=21,window.HYDRALISK_JY_BOSS="boss_pd_jy",window.HYDRALISK_2=22,window.HYDRALISK_SL1=22.11,window.HYDRALISK_SL2=22.22,window.HYDRALISK_100_2=22.1,window.HYDRALISK_SL_BOSS="boss_sl",window.SL_BOSS_JY="sl_boss_jy",window.HYDRALISK_3=23,window.HYDRALISK_3_1=23.2,window.HYDRALISK_ZD_1="22_22",window.HYDRALISK_100_3=23.1,window.HYDRALISK_1_300=21.3,window.HYDRALISK_2_1="22_1",window.GDDM_BOSS_XS="gd_boss_xs",window.GDDM_BOSS="gd_boss",window.ZD_BOSS_JY="zd_boss_jy",window.HYDRALISK_2_2="22_2",window.HYDRALISK_2_3="22_3",window.GJCK_BOSS_JY="gjck_boss_jy",window.HYDRALISK_FLY="h_fly",window.HYDRALISK_FX_1="fly_1",window.HYDRALISK_FX_2="fly_2",window.HYDRALISK_FX_3="fly_3",window.HYDRALISK_FLY_BOSS="boss_fly",window.HYDRALISK_FLY_BOSS_2="boss_fly_2",window.HYDRALISK_FLY_BOSS_3="boss_fly_3",window.HYDRALISK_FLY_BOSS_4="boss_fly_4",window.HYDRALISK_FX_JY="fly_jy",window.FLY_BOSS_JY="fly_boss_jy",window.HYDRALISK_1_N="BOSS",window.HYDRALISK_SL1_N="",window.HYDRALISK_SL2_N="",window.HYDRALISK_100_N="",window.HYDRALISK_101_N="",window.HYDRALISK_2_N="",window.HYDRALISK_2_1_N="BOSS",window.HYDRALISK_3_N="",window.HYDRALISK_3_1_N="",window.HYDRALISK_300_N="BOSS",window.HYDRALISK_4_N="_",window.HYDRALISK_5_N="_",window.HYDRALISK_2_2_N="BOSS",window.HYDRALISK_2_3_N="",window.HYDRALISK_100_100_N="",window.HYDRALISK_100_3_N="",window.HYDRALISK_100_2_N="",EntityCN2EN[HYDRALISK_1]="hydralisk_1",EntityCN2EN[HYDRALISK_2]="hydralisk_2",EntityCN2EN[HYDRALISK_3]="hydralisk_3";var d={hydralisk_100:{id:HYDRALISK_1_100,avatar:{ctor:i,scale:1,anime:"green_zombie",shader:"shamo"},name:"",radius:40/1.2,weight:500,speed:170,hp:1900,z:100,scale:1.2,shadowScale:1.3,attack:160,power:1,atkSpd:1,exp:20,isRange:!0,dropGold:1.9,shaderFunc:"hue1",ai:{ctor:n,sr:1130,ar0:20,ar1:25,moveTime:.3},blt:[{name:"",sx:.4,sy:.4,sx1:1.4,sy1:1.4,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_1/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:800,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}],skill:[],attackSequence:[{t:.2},{t:1.2,x:0,y:90,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:2}],drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e}},hydralisk_200:{id:HYDRALISK_1_200,avatar:{ctor:i,scale:1,anime:"green_zombie",shader:"pm1"},name:"(1)",radius:40,weight:500,speed:100,hp:1900,z:100,scale:1,shadowScale:1.3,attack:160,power:1,exp:20,isRange:!0,dropGold:1.9,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},ai:{ctor:n,sr:1130,ar0:20,ar1:25,moveTime:2},blt:[{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_1/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,radius:20,spd:500,rnd:.8,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_1/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:.6,noBlend:!0,radius:20,spd:500,rnd:.8,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}],skill:[],attackSequence:[{t:.2},{t:1.2,x:0,y:90,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.8,x:0,y:90,blt:1,hurtStopTime:.4,hurtStopCD:2.5},{t:2}]},hydralisk_pd1:{id:HYDRALISK_PD1,avatar:{ctor:i,scale:1,anime:"green_zombie"},name:"(2)",radius:40,weight:500,speed:100,hp:1900,z:100,scale:1.1,shadowScale:1.3,attack:40,power:1,exp:20,isRange:!0,dropGold:1.9,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},ai:{ctor:n,sr:1130,ar0:20,ar1:25,moveTime:2},blt:[{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_1/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:3,wd:0,d:.5,noBlend:!0,radius:20,spd:500,rnd:.8,l:1600,kb:.01,skill:[],buff:BuffDefine.Poison_Monster,hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}],skill:[],attackSequence:[{t:.2},{t:1.2,x:0,y:90,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:1}]},hydralisk_pd2:{id:HYDRALISK_PD2,avatar:{ctor:i,scale:1,anime:"green_zombie",shader:"xuedi"},name:"()",radius:40,weight:500,speed:100,hp:1900,z:100,scale:1.2,shadowScale:1.3,attack:40,power:1,exp:20,isRange:!0,dropGold:1.9,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},ai:{ctor:n,sr:1130,ar0:20,ar1:25,moveTime:2},blt:[{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_1/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:3,wd:0,d:.5,noBlend:!0,radius:20,spd:500,rnd:.8,l:1600,kb:.01,skill:[],buff:BuffDefine.Poison_Monster,hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}],skill:[],attackSequence:[{t:.2},{t:1.2,x:0,y:90,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:1}]},hydralisk_100_elite:{id:HYDRALISK_1_100_100,avatar:{ctor:i,scale:1,anime:"green_zombie"},name:"()",radius:32,weight:500,speed:340,hp:3800,z:100,scale:1.4,shadowScale:1.3,attack:160,power:1,atkSpd:1.4,exp:20,isRange:!0,dropGold:1.9,shaderFunc:"hue1",ai:{ctor:n,sr:1130,ar0:20,ar1:25,moveTime:.7},blt:[{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_1/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:3,wd:0,d:.6,noBlend:!0,spd:900,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}],skill:[],attackSequence:[{t:.2},{t:1.2,x:0,y:90,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.7,x:0,y:90,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.2}]},hydralisk:{id:HYDRALISK_1,avatar:{ctor:i,scale:1,anime:"green_zombie",shader:"boss-1"},name:HYDRALISK_1_N,radius:120/3.5,weight:-1,speed:230,hp:37e3,z:100,scale:3.5,shadowScale:1.3,attack:160,power:1,exp:50,isRange:!0,atkSpd:1,dropGold:5,ai:{ctor:n,sr:1430,ar0:20,ar1:25,moveTime:1.5},blt:[{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_1/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:900,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:12,wd:1,d:6,noBlend:!0,spd:1200,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:7,wd:1,d:1.6,noBlend:!0,spd:1e3,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:1.5,sy1:1.5,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_1/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:1200,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:15,wd:1,d:6,noBlend:!0,spd:1200,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:8,wd:1,d:1.6,noBlend:!0,spd:1200,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}],skill:[],attackSequence:[{t:.4},{t:1,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:20},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-20},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:40},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-40},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:60},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-60},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:80},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-80},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-30},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:0,x:-20,y:120,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-60},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:60},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-30},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:2}],attackSequence2:[{t:3,animName:"stand",aimCB:function(t,e,i){Effect.PreShootCircle2(t,2,400,160,0,45,i)}},{t:1.4,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:10/60},{t:1/60,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:10},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-10},{t:10/60},{t:1/60,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:10},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-10},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:20},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-20},{t:10/60},{t:1/60,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:10},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-10},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:20},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-20},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-30},{t:10/60},{t:1/60,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:10},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-10},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:20},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-20},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-30},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:40},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-40},{t:10/60},{t:1/60,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:10},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-10},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:20},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-20},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-30},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:40},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-40},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:50},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-50},{t:10/60},{t:1/60,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:10},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-10},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:20},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-20},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-30},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:40},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-40},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:50},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-50},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:60},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-60},{t:10/60},{t:1/60,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:10},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-10},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:20},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-20},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-30},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:40},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-40},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:50},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-50},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:60},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-60},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:70},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-70},{t:10/60},{t:1/60,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:10},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-10},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:20},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-20},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-30},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:40},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-40},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:50},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-50},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:60},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-60},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:70},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-70},{t:0,x:20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:80},{t:0,x:-20,y:120,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:-80},{t:2}],attackSequence3:[{t:.4},{t:1,x:15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:20/60},{t:1/60,x:15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:20},{t:0,x:-15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-20},{t:20/60},{t:1/60,x:15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:40},{t:0,x:-15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-40},{t:20/60},{t:1/60,x:15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:60},{t:0,x:-15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-60},{t:20/60},{t:1/60,x:15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:80},{t:0,x:-15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-80},{t:20/60},{t:1/60,x:15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-30},{t:0,x:-15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:0,x:-15,y:120,blt:5,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:20/60},{t:1/60,x:15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-60},{t:0,x:-15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:60},{t:20/60},{t:1/60,x:15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-30},{t:0,x:-15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:20/60},{t:1/60,x:15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-15,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:2}],attackSeqNum:3,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e}},hydralisk_jypdboss:{id:HYDRALISK_JY_BOSS,avatar:{ctor:i,scale:1,anime:"green_zombie",shader:"boss-1"},name:"BOSS()",radius:120/3.5,weight:-1,speed:230,hp:4e4,z:100,scale:3.6,shadowScale:1.3,attack:160,power:1,exp:50,isRange:!0,atkSpd:1,dropGold:5,ai:{ctor:n,sr:1430,ar0:20,ar1:25,moveTime:1.5},blt:[{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_1/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:1100,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:12,wd:1,d:6,noBlend:!0,spd:1200,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:7,wd:1,d:1.6,noBlend:!0,spd:1300,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:1.5,sy1:1.5,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_1/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:1200,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:15,wd:1,d:6,noBlend:!0,spd:1200,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:8,wd:1,d:1.6,noBlend:!0,spd:1200,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:8,wd:0,d:2,noBlend:!0,spd:1200,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{ctor:t("GuidedMissileDirect"),turnSpdScale:1e-4,turnSpdChangeTime:.6,turnSpdScale2:.1,degOffset:0,autoDirection:0,name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.3,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_1/001",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:900,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}],skill:[],attackSequence:[{t:.4},{t:1,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:20},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-20},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:40},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-40},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:60},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-60},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:80},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-80},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-30},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:0,x:-20,y:120,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-60},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:60},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-30},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:20/60},{t:1/60,x:20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-20,y:120,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:2}],attackSequence2:[{t:3,animName:"stand",aimCB:function(t,e,i){Effect.PreShootCircle2(t,2,400,120,0,45,i)}},{t:10/60,x:15,y:120,blt:6,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:10/60,x:15,y:120,blt:6,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:10/60,x:15,y:120,blt:6,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:10/60,x:15,y:120,blt:6,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:10/60,x:15,y:120,blt:6,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:10/60,x:15,y:120,blt:6,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:10/60,x:15,y:120,blt:6,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:10/60,x:15,y:120,blt:6,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:10/60,x:15,y:120,blt:6,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:10/60,x:15,y:120,blt:6,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:10/60,x:15,y:120,blt:6,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:10/60,x:15,y:120,blt:6,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:2}],attackSequence3:[{t:.4},{t:1,x:15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:20/60},{t:1/60,x:15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:20},{t:0,x:-15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:-20},{t:20/60},{t:1/60,x:15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:40},{t:0,x:-15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:-40},{t:20/60},{t:1/60,x:15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:60},{t:0,x:-15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:-60},{t:20/60},{t:1/60,x:15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:80},{t:0,x:-15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:-80},{t:20/60},{t:1/60,x:15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:-30},{t:0,x:-15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:20/60},{t:1/60,x:15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:-60},{t:0,x:-15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:60},{t:20/60},{t:1/60,x:15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:-30},{t:0,x:-15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:20/60},{t:1/60,x:15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:-15,y:120,blt:7,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:2}],attackSeqNum:3,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e}},hydralisk_fast:{id:HYDRALISK_2,name:"",ep:0,epRecover:0,epTimer:0,radius:60/.7,weight:-1,attack:160,avatar:{ctor:i,anime:"touzhibing",shader:"shamo"},speed:60,hp:2250,z:500,scale:.7,shadowScale:1.3,hurtStopResist:1,atkSpd:1,exp:20,isRange:!0,dropGold:3,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},rttSpd:9,ai:{ctor:n,sr:750,ar0:100,ar1:130,moveTime:.5},blt:[{name:"",ctor:s,grenade:1,minradius:100,hurtradius:100,dmg:800,dmgk:0,l:2850,sx:.8,sy:.8,frm:"bullet/enemy/bottle",anchorY:.5,length:35,kb:15,n:1,wd:0,d:.15,spd:550,rnd:.3,bombEff:Effect.ExplosiveBlt,noBlend:!0,zOrder:1001,alert:!1,anim:{name:"bullet/enemy/1_5/001",frame:8,startNum:0,loop:1,digit:1,dt:.0125,scale:1.5}}],skill:[],attackSequence:[{t:.2},{t:.9,x:40,y:100,blt:0},{t:.75}]},hydralisk_fast_1:{id:HYDRALISK_SL1,name:"(2)",ep:0,epRecover:0,epTimer:0,radius:60/.7,weight:-1,attack:160,avatar:{ctor:i,anime:"touzhibing"},speed:60,hp:2250,z:500,scale:.8,shadowScale:1.3,hurtStopResist:1,atkSpd:1,exp:20,isRange:!0,dropGold:3,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},rttSpd:9,ai:{ctor:n,sr:750,ar0:100,ar1:130,moveTime:.5},blt:[{name:"",ctor:s,grenade:1,minradius:100,hurtradius:100,dmg:800,dmgk:0,l:2850,sx:.8,sy:.8,frm:"bullet/enemy/bottle",anchorY:.5,length:35,kb:15,n:1,wd:0,d:.15,spd:550,rnd:.3,bombEff:Fire.bombEff,bombEffCfg:{t:3,r:100},noBlend:!0,zOrder:1001,alert:!1,anim:{name:"bullet/enemy/1_5/001",frame:8,startNum:0,loop:1,digit:1,dt:.0125,scale:1.5}}],skill:[],attackSequence:[{t:.2},{t:.9,x:40,y:100,blt:0},{t:.75}]},hydralisk_fast_2:{id:HYDRALISK_SL2,name:"(3)",ep:0,epRecover:0,epTimer:0,radius:60/.7,weight:-1,attack:160,avatar:{ctor:i,anime:"touzhibing",shader:"xuedi"},speed:60,hp:2250,z:500,scale:.9,shadowScale:1.3,hurtStopResist:1,atkSpd:1,exp:20,isRange:!0,dropGold:3,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},rttSpd:9,ai:{ctor:n,sr:750,ar0:100,ar1:130,moveTime:3},blt:[{name:"",ctor:s,grenade:1,minradius:100,hurtradius:100,dmg:800,dmgk:0,l:2850,sx:.8,sy:.8,frm:"bullet/enemy/bottle",anchorY:.5,length:35,kb:15,n:1,wd:0,d:.15,spd:550,rnd:.3,bombEff:Fire.bombEff,bombEffCfg:{t:3,r:100},noBlend:!0,zOrder:1001,alert:!1,anim:{name:"bullet/enemy/1_5/001",frame:8,startNum:0,loop:1,digit:1,dt:.0125,scale:1.5}}],skill:[],attackSequence:[{t:.2},{t:.9,x:40,y:100,blt:0},{t:.4,x:40,y:100,blt:0,deg:25},{t:.4,x:40,y:100,blt:0,deg:-25},{t:.35}]},hydralisk_fast_elite:{id:HYDRALISK_100_2,name:"()",ep:0,epRecover:0,epTimer:0,radius:80,weight:-1,attack:160,avatar:{ctor:i,anime:"touzhibing",shader:"pm2"},speed:160,hp:4500,z:500,scale:.95,shadowScale:1.3,hurtStopResist:1,atkSpd:1.2,exp:20,isRange:!0,dropGold:3,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},rttSpd:9,ai:{ctor:n,sr:750,ar0:100,ar1:130,moveTime:.5},blt:[{name:"",ctor:s,grenade:1,minradius:100,hurtradius:100,dmg:800,dmgk:0,l:2850,sx:.8,sy:.8,frm:"bullet/enemy/bottle",anchorY:.5,length:35,kb:15,n:9,wd:1,d:6.28,spd:550,rnd:.3,bombEff:Fire.bombEff,bombEffCfg:{t:3,r:120},noBlend:!0,zOrder:1001,alert:!1,anim:{name:"bullet/enemy/1_5/001",frame:8,startNum:0,loop:1,digit:1,dt:.0125,scale:1.5}}],skill:[],attackSequence:[{t:.2},{t:.9,x:40,y:100,blt:0},{t:.75}]},hydralisk_fast_boss:{id:HYDRALISK_SL_BOSS,name:"BOSS",ep:0,epRecover:0,epTimer:0,radius:100/1.2,weight:-1,attack:160,avatar:{ctor:i,anime:"touzhibing",shader:"boss-2"},speed:260,hp:37e3,z:500,scale:1.2,shadowScale:1.3,hurtStopResist:1,atkSpd:1,exp:50,isRange:!0,dropGold:5,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},rttSpd:9,ai:{ctor:n,sr:750,ar0:100,ar1:130,moveTime:1,moveTimeRand:1},blt:[{name:"",ctor:s,grenade:1,minradius:100,hurtradius:100,dmg:800,dmgk:0,l:2850,sx:.8,sy:.8,frm:"bullet/enemy/bottle",anchorY:.5,length:35,kb:15,n:3,wd:1,d:.6,spd:550,rnd:.3,bombEff:Fire.bombEff,bombEffCfg:{t:6,r:140},noBlend:!0,zOrder:1001,alert:!1,anim:{name:"bullet/enemy/1_5/001",frame:8,startNum:0,loop:1,digit:1,dt:.0125,scale:1.5}},{name:"",ctor:s,grenade:1,minradius:100,hurtradius:100,dmg:800,dmgk:0,l:850,sx:.8,sy:.8,frm:"bullet/enemy/bottle",anchorY:.5,length:35,kb:15,n:1,wd:0,d:0,spd:550,rnd:0,bombEff:Fire.bombEff,bombEffCfg:{t:6,r:140},noBlend:!0,zOrder:1001,alert:!1,anim:{name:"bullet/enemy/1_5/001",frame:8,startNum:0,loop:1,digit:1,dt:.0125,scale:1.5}}],skill:[],attackSequence:[{t:.2},{t:.9,x:40,y:100,blt:0},{t:.35}],attackSequence2:[{t:.2},{t:.9,x:40,y:100,blt:1,deg:0},{t:0,x:40,y:100,blt:1,deg:45},{t:0,x:40,y:100,blt:1,deg:90},{t:0,x:40,y:100,blt:1,deg:135},{t:0,x:40,y:100,blt:1,deg:180},{t:0,x:40,y:100,blt:1,deg:225},{t:0,x:40,y:100,blt:1,deg:270},{t:0,x:40,y:100,blt:1,deg:325},{t:.35}],attackSequence3:[{t:.2},{t:.9,x:80,y:100,blt:1,deg:0},{t:.4,x:80,y:100,blt:1,deg:15},{t:.4,x:80,y:100,blt:1,deg:30},{t:.4,x:80,y:100,blt:1,deg:45},{t:.4,x:80,y:100,blt:1,deg:60},{t:.4,x:80,y:100,blt:1,deg:75},{t:.35}],attackSeqNum:3},sl_boss_jy:{id:SL_BOSS_JY,name:"BOSS()",ep:0,epRecover:0,epTimer:0,radius:100/1.2,weight:-1,attack:160,avatar:{ctor:i,anime:"touzhibing",shader:"boss-2"},speed:260,hp:4e4,z:500,scale:1.3,shadowScale:1.3,hurtStopResist:1,atkSpd:1,exp:50,isRange:!0,dropGold:5,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},rttSpd:9,ai:{ctor:n,sr:750,ar0:100,ar1:130,moveTime:1,moveTimeRand:1,attackSeq:{1:{attackTime:2,atkDeg:0,repeatIndex:1}}},blt:[{name:"",ctor:s,grenade:1,minradius:100,hurtradius:100,dmg:800,dmgk:0,l:2850,sx:.8,sy:.8,frm:"bullet/enemy/bottle",anchorY:.5,length:35,kb:15,n:1,wd:0,d:0,spd:550,rnd:.3,bombEff:Fire.bombEff,bombEffCfg:{t:6,r:140},noBlend:!0,zOrder:1001,alert:!1,anim:{name:"bullet/enemy/1_5/001",frame:8,startNum:0,loop:1,digit:1,dt:.0125,scale:1.5}},{name:"",ctor:s,grenade:1,minradius:100,hurtradius:100,dmg:800,dmgk:0,l:850,sx:.8,sy:.8,frm:"bullet/enemy/bottle",anchorY:.5,length:35,kb:15,n:1,wd:0,d:0,spd:550,rnd:0,bombEff:Fire.bombEff,bombEffCfg:{t:6,r:140},noBlend:!0,zOrder:1001,alert:!1,anim:{name:"bullet/enemy/1_5/001",frame:8,startNum:0,loop:1,digit:1,dt:.0125,scale:1.5}}],skill:[],attackSequence:[{t:1},{t:.1,x:40,y:100,blt:0}],attackSequence2:[{t:.2},{t:.9,x:40,y:100,blt:1,deg:0},{t:0,x:40,y:100,blt:1,deg:45},{t:0,x:40,y:100,blt:1,deg:90},{t:0,x:40,y:100,blt:1,deg:135},{t:0,x:40,y:100,blt:1,deg:180},{t:0,x:40,y:100,blt:1,deg:225},{t:0,x:40,y:100,blt:1,deg:270},{t:0,x:40,y:100,blt:1,deg:325},{t:.35}],attackSequence3:[{t:.2},{t:.9,x:80,y:100,blt:1,deg:0},{t:.4,x:80,y:100,blt:1,deg:15},{t:.4,x:80,y:100,blt:1,deg:30},{t:.4,x:80,y:100,blt:1,deg:45},{t:.4,x:80,y:100,blt:1,deg:60},{t:.4,x:80,y:100,blt:1,deg:75},{t:.35}],attackSequence4:[{t:.2},{t:.9,x:80,y:100,blt:1,deg:0},{t:.4,x:80,y:100,blt:1,deg:-15},{t:.4,x:80,y:100,blt:1,deg:-30},{t:.4,x:80,y:100,blt:1,deg:-45},{t:.4,x:80,y:100,blt:1,deg:-60},{t:.4,x:80,y:100,blt:1,deg:-75},{t:.35}],attackSeqNum:4},hydralisk_3:{id:HYDRALISK_3,name:"",avatar:{ctor:i,anime:"driller",iconScale:.4,walkAnime:"stand",aimAnime:"aim",aimPlayTimes:1,shader:"shamo"},radius:60/.55,weight:-1,speed:0,hp:2300,z:200,scale:.55,shadowScale:2,exp:20,isRange:!0,atkSpd:1,dropGold:2,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},dropMoneyFunc:function(t){return 3*(2e3*Math.pow(t-1,.95)+8e3)},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],attack:160,power:3,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=3e4*Math.pow(1.17,t-1),e},ai:{sr:4444,ar0:0,ar1:10,moveTime:.5,attackTime:1,moveTimeRand:.01},spawnEff:"WormOutSpawn",blt:[{name:"",sx:.4,sy:.4,sx1:.7,sy1:.7,st:.2,smoke:"effect/bullet_smoke",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_7/000",frame:3,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:1300,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}],skill:[{name:"",ctor:o,t:2,cd:3,cd0:4,r0:750,r1:70,k:.1,dmg:6,kb:15,l:800,spd:600,t0:7/24,t1:20/24}],attackSequence:[{t:32/24},{t:.25,x:0,y:130,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.5}]},hydralisk_4:{id:HYDRALISK_3_1,name:"(2)",avatar:{ctor:i,anime:"driller",iconScale:.4,walkAnime:"stand",aimAnime:"aim",aimPlayTimes:1},radius:60/.55,weight:-1,speed:0,hp:2300,z:200,scale:.65,shadowScale:2,exp:20,isRange:!0,atkSpd:1,dropGold:2,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},dropMoneyFunc:function(t){return 3*(2e3*Math.pow(t-1,.95)+8e3)},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],attack:160,power:3,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=3e4*Math.pow(1.17,t-1),e},ai:{sr:4444,ar0:0,ar1:10,moveTime:.5,attackTime:1,moveTimeRand:.01},spawnEff:"WormOutSpawn",blt:[{name:"",sx:.4,sy:.4,sx1:.7,sy1:.7,st:.2,smoke:"effect/bullet_smoke",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_7/000",frame:3,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:1300,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:.7,sy1:.7,st:.2,smoke:"effect/bullet_smoke",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_7/000",frame:3,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:3,wd:1,d:.3,noBlend:!0,spd:1300,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}],skill:[{name:"",ctor:o,t:2,cd:3,cd0:4,r0:750,r1:70,k:.1,dmg:6,kb:15,l:800,spd:600,t0:7/24,t1:20/24}],attackSequence:[{t:32/24},{t:.25,x:0,y:130,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.125},{t:.25,x:0,y:130,blt:1,hurtStopTime:.4,hurtStopCD:2.5},{t:.125}]},hydralisk_zd1:{id:HYDRALISK_ZD_1,name:"(3)",avatar:{ctor:i,anime:"driller",iconScale:.4,walkAnime:"stand",aimAnime:"aim",aimPlayTimes:1,shader:"xuedi"},radius:60/.55,weight:-1,speed:0,hp:2300,z:200,scale:.75,shadowScale:2,exp:20,isRange:!0,atkSpd:1,dropGold:2,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},dropMoneyFunc:function(t){return 3*(2e3*Math.pow(t-1,.95)+8e3)},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],attack:160,power:3,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=3e4*Math.pow(1.17,t-1),e},ai:{sr:4444,ar0:0,ar1:10,moveTime:.5,attackTime:1,moveTimeRand:.01},spawnEff:"WormOutSpawn",blt:[{name:"",sx:.4,sy:.4,sx1:.7,sy1:.7,st:.2,smoke:"effect/bullet_smoke",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_7/000",frame:3,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:1700,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:.7,sy1:.7,st:.2,smoke:"effect/bullet_smoke",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_7/000",frame:3,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:3,wd:1,d:.3,noBlend:!0,spd:1300,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}],skill:[{name:"",ctor:o,t:2,cd:3,cd0:4,r0:750,r1:70,k:.1,dmg:6,kb:15,l:800,spd:600,t0:7/24,t1:20/24}],attackSequence:[{t:32/24},{t:.25,x:0,y:130,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.125},{t:.25,x:0,y:130,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.125}]},hydralisk_3_elite:{id:HYDRALISK_100_3,name:"()",avatar:{ctor:i,anime:"driller",iconScale:.4,walkAnime:"stand",aimAnime:"aim",aimPlayTimes:1,shader:"pm2"},radius:100,weight:-1,speed:0,hp:4600,z:200,scale:.9,shadowScale:2,exp:20,isRange:!0,atkSpd:1,dropGold:2,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},dropMoneyFunc:function(t){return 3*(2e3*Math.pow(t-1,.95)+8e3)},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],attack:160,power:3,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=3e4*Math.pow(1.17,t-1),e},ai:{sr:4444,ar0:0,ar1:10,moveTime:.5,attackTime:1,moveTimeRand:.01},spawnEff:"WormOutSpawn",blt:[{name:"",sx:.4,sy:.4,sx1:.9,sy1:.9,st:.2,smoke:"effect/bullet_smoke",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_7/000",frame:3,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:1300,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:.7,sy1:.7,st:.2,smoke:"effect/bullet_smoke",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_7/000",frame:3,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:4,wd:1,d:.7,noBlend:!0,spd:1300,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}],skill:[{name:"",ctor:o,t:2,cd:3,cd0:4,r0:750,r1:70,k:.1,dmg:6,kb:15,l:800,spd:600,t0:7/24,t1:20/24}],attackSequence:[{t:32/24},{t:.25,x:0,y:130,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.25,x:0,y:130,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.25,x:0,y:130,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.25,x:0,y:130,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.5}]},hydralisk_300:{id:HYDRALISK_1_300,name:"BOSS",avatar:{ctor:i,anime:"driller",iconScale:.4,walkAnime:"stand",aimAnime:"aim",aimPlayTimes:1,shader:"pm2"},radius:80,weight:-1,speed:0,hp:24e3,z:200,scale:1.5,shadowScale:2,exp:50,isRange:!0,dropGold:5,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},dropMoneyFunc:function(t){return 3*(2e3*Math.pow(t-1,.95)+8e3)},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],attack:160,power:3,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=3e4*Math.pow(1.17,t-1),e},ai:{sr:4444,ar0:0,ar1:10,moveTime:1e-6,attackTime:0,moveTimeRand:1e-6},spawnEff:"WormOutSpawn",blt:[{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,radius:17,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:3,wd:0,d:1,noBlend:!0,spd:425,rnd:1,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,radius:17,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:4,wd:1,d:2,noBlend:!0,spd:850,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,radius:17,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:630,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,radius:17,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:3,wd:1,d:1.7,noBlend:!0,spd:850,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}],skill:[{name:"",ctor:o,t:2,cd:7,cd0:6,r0:750,r1:70,k:.1,dmg:6,kb:15,l:400,spd:600,t0:7/24,t1:20/24,drillOutTime:1}],attackSequence:[{t:.25,x:0,y:130,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.125,x:0,y:130,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:40},{t:.125,x:0,y:130,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-40},{t:.5},{t:1}],attackSequence2:[{t:2/24,x:0,y:130,blt:1,hurtStopTime:.4,hurtStopCD:2.5},{t:16/24},{t:2/24,x:0,y:130,blt:3,hurtStopTime:.4,hurtStopCD:2.5},{t:4/24},{t:1}],attackSequence3:[{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-60},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-48},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-36},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-24},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-12},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:12},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:24},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:36},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:48},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:60},{t:2/24},{t:1}],attackSeqNum:3},zd_boss:{id:ZD_BOSS_JY,name:"BOSS()",avatar:{ctor:i,anime:"driller",iconScale:.4,walkAnime:"stand",aimAnime:"aim",aimPlayTimes:1,shader:"pm2"},radius:80,weight:-1,speed:0,hp:32e3,z:200,scale:1.5,shadowScale:2,exp:50,isRange:!0,dropGold:5,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},dropMoneyFunc:function(t){return 3*(2e3*Math.pow(t-1,.95)+8e3)},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],attack:160,power:3,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=3e4*Math.pow(1.17,t-1),e},ai:{sr:4444,ar0:0,ar1:10,moveTime:1e-6,attackTime:0,moveTimeRand:1e-6},spawnEff:"WormOutSpawn",blt:[{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,radius:17,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:3,wd:0,d:1,noBlend:!0,spd:450,rnd:1,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,radius:17,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:6,wd:1,d:2,noBlend:!0,spd:900,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,radius:17,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:750,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,radius:17,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:5,wd:1,d:1.7,noBlend:!0,spd:900,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}],skill:[{name:"",ctor:o,t:2,cd:7,cd0:6,r0:750,r1:70,k:.1,dmg:6,kb:15,l:400,spd:600,t0:7/24,t1:20/24,drillOutTime:1}],attackSequence:[{t:.25,x:0,y:130,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.125,x:0,y:130,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:40},{t:.125,x:0,y:130,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-40},{t:.5},{t:1}],attackSequence2:[{t:2/24,x:0,y:130,blt:1,hurtStopTime:.4,hurtStopCD:2.5},{t:1.25},{t:2/24,x:0,y:130,blt:3,hurtStopTime:.4,hurtStopCD:2.5},{t:4/24},{t:1}],attackSequence3:[{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-55},{t:0,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:55},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-44},{t:0,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:44},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-33},{t:0,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:33},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-22},{t:0,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:22},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-11},{t:0,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:11},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:11},{t:0,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-11},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:22},{t:0,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-22},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:33},{t:0,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-33},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:44},{t:0,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-44},{t:2/24,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:55},{t:0,x:0,y:130,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-55},{t:2/24},{t:1}],attackSeqNum:3},hydralisk_fast_a:{id:HYDRALISK_2_1,name:"BOSS",avatar:{ctor:i,anime:"driller",aimAnime:"aim",aimPlayTimes:1,iconScale:.4,walkAnime:"stand",shader:"boss-3"},radius:130/1.5,weight:-1,speed:0,hp:37e3,z:200,scale:1.5,shadowScale:2,exp:50,isRange:!0,dropGold:5,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},dropMoneyFunc:function(t){return 3*(2e3*Math.pow(t-1,.95)+8e3)},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],attack:160,power:3,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=3e4*Math.pow(1.17,t-1),e},ai:{sr:4444,ar0:0,ar1:10,moveTime:0,attackTime:0,moveTimeRand:.01},spawnEff:"WormOutSpawn",blt:[{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:3,wd:0,d:1,noBlend:!0,spd:450,rnd:1,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffectRed,hitFloorEffect:Effect.PoisonHitEffectRed},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:600,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffectBlue,hitFloorEffect:Effect.PoisonHitEffectBlue},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:750,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffectRed,hitFloorEffect:Effect.PoisonHitEffectRed},{name:"",sx:.4,sy:.4,sx1:1,sy1:1,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:15,wd:0,d:6,noBlend:!0,spd:160,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffectRed,hitFloorEffect:Effect.PoisonHitEffectRed}],skill:[],attackSequence:[{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.5},{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.5},{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:60},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:90},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:120},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:150},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:180},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:210},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:240},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:270},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:300},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:330},{t:11/24},{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.5},{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0}],attackSeqNum:1},gddm_boss_xs:{id:GDDM_BOSS_XS,name:"BOSS()",avatar:{ctor:i,anime:"driller",aimAnime:"aim",aimPlayTimes:1,iconScale:.4,walkAnime:"stand",shader:"boss-3"},radius:130/1.5,weight:-1,speed:0,hp:37e3,z:200,scale:1.5,shadowScale:2,exp:50,isRange:!0,dropGold:5,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},dropMoneyFunc:function(t){return 3*(2e3*Math.pow(t-1,.95)+8e3)},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],attack:160,power:3,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=3e4*Math.pow(1.17,t-1),e},ai:{sr:4444,ar0:0,ar1:10,moveTime:0,attackTime:0,moveTimeRand:.01},spawnEff:"WormOutSpawn",blt:[{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:3,wd:0,d:1,noBlend:!0,spd:450,rnd:1,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffectRed,hitFloorEffect:Effect.PoisonHitEffectRed},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:600,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffectBlue,hitFloorEffect:Effect.PoisonHitEffectBlue},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:750,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffectRed,hitFloorEffect:Effect.PoisonHitEffectRed},{name:"",sx:.4,sy:.4,sx1:1,sy1:1,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:12,wd:0,d:6.28,noBlend:!0,spd:140,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffectRed,hitFloorEffect:Effect.PoisonHitEffectRed}],skill:[],attackSequence:[{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:14/24},{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:14/24},{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:14/24},{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:14/24},{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0}],attackSeqNum:1},gddm_boss:{id:GDDM_BOSS,name:"BOSS()",avatar:{ctor:i,anime:"driller",aimAnime:"aim",aimPlayTimes:1,iconScale:.4,walkAnime:"stand",shader:"boss-3"},radius:130/1.5,weight:-1,speed:0,hp:4e4,z:200,scale:1.5,shadowScale:2,exp:50,isRange:!0,dropGold:5,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},dropMoneyFunc:function(t){return 3*(2e3*Math.pow(t-1,.95)+8e3)},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],attack:160,power:3,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=3e4*Math.pow(1.17,t-1),e},ai:{sr:4444,ar0:0,ar1:10,moveTime:0,attackTime:0,moveTimeRand:.01},spawnEff:"WormOutSpawn",blt:[{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:3,wd:0,d:1,noBlend:!0,spd:450,rnd:1,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_2/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:600,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:750,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect},{name:"",sx:.4,sy:.4,sx1:1,sy1:1,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:26,wd:0,d:6.28,noBlend:!0,spd:160,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}],skill:[],attackSequence:[{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.5},{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.5},{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:60},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:90},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:120},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:150},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:180},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:210},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:240},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:270},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:300},{t:0,x:0,y:10,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:330},{t:11/24},{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.5},{t:.5,x:0,y:10,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:0}],attackSeqNum:1},hydralisk_fast_b:{id:HYDRALISK_2_2,name:"BOSS",ep:0,epRecover:0,epTimer:0,radius:60,weight:-1,attack:160,avatar:{ctor:i,anime:"cike",shader:"boss-4"},speed:60,hp:37e3,z:500,scale:2,shadowScale:1.3,hurtStopResist:1,atkSpd:1,exp:50,isRange:!0,dropGold:5,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},rttSpd:9,ai:{ctor:n,sr:750,ar0:100,ar1:130,moveTime:.5},blt:[{name:"",sx:.5,sy:.5,sx1:1.2,sy1:1.2,st:.2,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,rotateSpd:1440,frm:"bullet/enemy/hxb",length:20,dmg:27,n:3,wd:1,d:1,noBlend:!0,spd:1200,rnd:0,l:1600,kb:.01,skill:[],ctor:t("BounceBlt"),bounce:1},{name:"",sx:.5,sy:.5,sx1:.8,sy1:.8,st:.2,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,rotateSpd:1440,frm:"bullet/enemy/dao",length:20,dmg:27,n:2,wd:0,d:.35,noBlend:!0,spd:1400,rnd:0,l:1600,kb:.01,skill:[]}],skill:[{name:"",ctor:r,t:1,cd:1,r0:100,r1:200,k:.1,dmg:160,kb:100,l:400,streak:3,ai:"JumpSkill",t0:0,t1:.6,seq:[{deg:45},{deg:90},{deg:135},{deg:180},{deg:225},{deg:270},{deg:315},{deg:0}],blt:{name:"",sx:.5,sy:.5,sx1:1,sy1:1,st:.2,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,rotateSpd:1440,frm:"bullet/enemy/dao",length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:700,rnd:0,l:3e3,kb:.01,skill:[]}}],attackSequence:[{t:1},{t:1,x:40,y:100,blt:0},{t:1}],attackSequence2:[{t:2,animName:"stand",aimCB:function(t,e,i){Effect.PreShootCircle2(t,2,400,40,0,105,i)}},{t:.25,x:0,y:100,blt:1},{t:.25,x:0,y:100,blt:1},{t:.25,x:0,y:100,blt:1},{t:.25,x:0,y:100,blt:1},{t:.25,x:0,y:100,blt:1},{t:.25,x:0,y:100,blt:1},{t:.25,x:0,y:100,blt:1},{t:.25,x:0,y:100,blt:1},{t:.25,x:0,y:100,blt:1},{t:.25,x:0,y:100,blt:1},{t:.25,x:0,y:100,blt:1},{t:.25,x:0,y:100,blt:1},{t:.5}],attackSeqNum:2},gjck_boss:{id:GJCK_BOSS_JY,name:"BOSS()",ep:0,epRecover:0,epTimer:0,radius:60,weight:-1,attack:160,avatar:{ctor:i,anime:"cike",shader:"boss-4"},speed:60,hp:4e4,z:500,scale:2,shadowScale:1.3,hurtStopResist:1,atkSpd:1,exp:50,isRange:!0,dropGold:5,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},rttSpd:9,ai:{ctor:n,sr:750,ar0:100,ar1:130,moveTime:.5},blt:[{name:"",sx:.5,sy:.5,sx1:1.2,sy1:1.2,st:.2,anchorY:.5,anchorX:.5,radius:30,rotateSpd:1440,frm:"bullet/enemy/hxb",hurtStopTime:.4,hurtStopCD:2.5,length:20,dmg:27,n:3,wd:1,d:1.2,noBlend:!0,spd:900,rnd:0,l:1600,kb:.01,skill:[],ctor:t("BounceBlt"),bounce:3},{ctor:t("CustomBullet"),lifetime:10,customDef:"tornado_x",name:"(1)",sx:.5,sy:.5,sx1:1.2,sy1:1.2,st:.2,anchorY:.5,anchorX:.5,radius:30,rotateSpd:1440,frm:"bullet/enemy/hxb2",hurtStopTime:.4,hurtStopCD:2.5,length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:800,rnd:0,l:1600,kb:.01,skill:[]},{ctor:t("CustomBullet"),lifetime:10,customDef:"tornado_x2",name:"(2)",sx:.5,sy:.5,sx1:1.2,sy1:1.2,st:.2,anchorY:.5,anchorX:.5,radius:30,rotateSpd:1440,frm:"bullet/enemy/hxb2",hurtStopTime:.4,hurtStopCD:2.5,length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:800,rnd:0,l:1600,kb:.01,skill:[]}],skill:[{name:"",ctor:r,t:1,cd:1,r0:100,r1:200,k:.1,dmg:160,kb:100,l:400,streak:3,ai:"JumpSkill",t0:0,t1:.6,seq:[{deg:45},{deg:90},{deg:135},{deg:180},{deg:225},{deg:270},{deg:315},{deg:0}],blt:{name:"",sx:.5,sy:.5,sx1:1,sy1:1,st:.2,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,rotateSpd:1440,frm:"bullet/enemy/dao",length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:700,rnd:0,l:3e3,kb:.01,skill:[]}}],attackSequence:[{t:1},{t:1,x:40,y:100,blt:0},{t:16/24,x:40,y:100,blt:0,deg:40},{t:16/24,x:40,y:100,blt:0,deg:-40},{t:1}],attackSequence2:[{t:2,animName:"stand",aimCB:function(t,e,i){Effect.PreShootCircle2(t,2,400,40,0,105,i)}},{t:1,x:0,y:100,blt:1},{t:0,x:0,y:100,blt:2},{t:1,x:0,y:100,blt:1},{t:0,x:0,y:100,blt:2},{t:1,x:0,y:100,blt:1},{t:0,x:0,y:100,blt:2},{t:1,x:0,y:100,blt:1},{t:0,x:0,y:100,blt:2},{t:1,x:0,y:100,blt:1},{t:0,x:0,y:100,blt:2},{t:1,x:0,y:100,blt:1},{t:0,x:0,y:100,blt:2},{t:1,x:0,y:100,blt:1},{t:0,x:0,y:100,blt:2},{t:1,x:0,y:100,blt:1},{t:0,x:0,y:100,blt:2},{t:.5}],attackSeqNum:2},hydralisk_fast_c:{id:HYDRALISK_2_3,name:"BOSS()",ep:0,epRecover:0,epTimer:0,radius:50,weight:1e6,attack:170,atkSpd:2,exp:50,isRange:!0,avatar:{ctor:i,anime:"zengwu",shader:"pm1"},speed:220,hp:4e4,z:1001,scale:1.8,shadowScale:1.3,hurtStopResist:1,rttSpd:9,dropGold:5,ai:{ctor:a,sr:750,ar0:500,ar1:650},blt:[{ctor:t("CustomBullet"),lifetime:10,customDef:"straight",name:"",sx:.5,sy:.5,sx1:1.5,sy1:1.5,st:.2,anchorY:.5,anchorX:.5,radius:200,alwayThrough:1,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_10/123",frame:2,startNum:0,loop:1,digit:1,dt:.01,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:3e3,rnd:0,l:1200,kb:.01,skill:[]}],skill:[{ctor:c,t:3,dmg:1,cd:15,blt:{name:"",ctor:h,st:.3,frm:"effect/hook/hook",anchorY:.5,anchorX:.5,noBlend:!0,length:35,radius:40,minradius:40,hurtradius:120,dmg:8,dmgk:20,kb:45,n:1,wd:0,d:0,hurtStopTime:.3,hurtStopCD:.4,spd:2400,rnd:0,l:1600,ignoreWall:1,buff:BuffDefine.Stun}}],attackSequence:[{t:.5,x:-10,y:150,r:300,dmg:200,hurtStopTime:.7,hurtStopCD:1.5},{t:1}]},hydralisk_fly:{id:HYDRALISK_FLY,isFly:1,avatar:{ctor:i,anime:g_resources.anime.feixingbing,aimAnime:"aim"},name:"",shadowR:70,shadowH:120,shadowFlyHeight:50,radius:50/1.2,weight:500,speed:300,hp:1900,z:100,scale:1.2,shadowScale:1.3,attack:160,power:1,atkSpd:1,exp:20,isRange:!0,dropGold:1.9,shaderFunc:"hue1",ai:{ctor:t("FlyHydraliskAI"),sr:1130,ar0:20,ar1:25,moveTime:2.5,checkWall:1},blt:[{ctor:t("GuidedMissileDirect"),ignoreWall:1,name:"222",sx:1.9,sy:1.9,sx1:2.5,sy1:2.5,st:1,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:550,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.LaserHitFloor,hitFloorEffect:Effect.LaserHitFloor,turnSpdScale:1.8,turnSpdChangeTime:.5,turnSpdScale2:.05,degOffset:0,autoDirection:1}],skill:[],attackSequence:[{t:1},{t:.35,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.35,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:2.5}]},hydralisk_fx_1:{id:HYDRALISK_FX_1,isFly:1,avatar:{ctor:i,anime:g_resources.anime.feixingbing,aimAnime:"aim",shader:"xuedi"},name:"(3)",shadowR:70,shadowH:120,shadowFlyHeight:50,radius:50/1.2,weight:500,speed:300,hp:1900,z:100,scale:1.2,shadowScale:1.3,attack:160,power:1,atkSpd:1,exp:20,isRange:!0,dropGold:1.9,shaderFunc:"hue1",ai:{ctor:t("FlyHydraliskAI"),sr:1130,ar0:20,ar1:25,moveTime:2.5,checkWall:1},blt:[{ctor:t("GuidedMissileDirect"),turnSpdScale:2,turnSpdChangeTime:.25,turnSpdScale2:.1,degOffset:180,autoDirection:1,ignoreWall:1,name:"",sx:1.9,sy:1.9,sx1:2.5,sy1:2.5,st:1,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:.5,noBlend:!0,spd:600,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.LaserHitFloor,hitFloorEffect:Effect.LaserHitFloor}],skill:[],attackSequence:[{t:1},{t:.35,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.35,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:2.5}]},hydralisk_fx_3:{id:HYDRALISK_FX_3,isFly:1,avatar:{ctor:i,anime:g_resources.anime.feixingbing,aimAnime:"aim",shader:"xuedi"},name:"()",shadowR:70,shadowH:120,shadowFlyHeight:50,radius:50/1.2,weight:500,speed:300,hp:1900,z:100,scale:1.3,shadowScale:1.3,attack:160,power:1,atkSpd:1,exp:20,isRange:!0,dropGold:1.9,shaderFunc:"hue1",ai:{ctor:t("FlyHydraliskAI"),sr:1130,ar0:20,ar1:25,moveTime:2.5,checkWall:1,noLockTarget:1,attackSeq:{1:{attackTime:1.7,atkDeg:0,sweep:0,repeatIndex:1}}},blt:[{ctor:t("BulletLaser"),lifetime:.05,name:"",kb:.8,sx:.3,sy:.01,sx1:.05,sy1:.01,st:.05,anchorY:.5,frm:"bullet/sq/4",length:1,dmg:300,n:1,wd:1,d:0,spd:12222,rnd:0,l:3e3,hurtStopTime:.8,hurtStopCD:3.5,hitEffect:Effect.LaserHitFloor,hitFloorEffect:Effect.LaserHitFloor}],skill:[],attackSequence:[{t:1},{t:2/48,x:60,y:180,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a,1,2,1205,255)}}]},hydralisk_fx_jy:{id:HYDRALISK_FX_JY,isFly:1,avatar:{ctor:i,anime:g_resources.anime.feixingbing,aimAnime:"aim"},name:"()",shadowR:70,shadowH:120,shadowFlyHeight:50,radius:50/1.2,weight:500,speed:300,hp:3800,z:100,scale:1.3,shadowScale:1.3,attack:160,power:1,atkSpd:1,exp:20,isRange:!0,dropGold:1.9,shaderFunc:"hue1",ai:{ctor:t("FlyHydraliskAI"),sr:1130,ar0:20,ar1:25,moveTime:2.5,checkWall:1},blt:[{ctor:t("GuidedMissileDirect"),turnSpdScale:2,turnSpdChangeTime:.3,turnSpdScale2:.1,degOffset:180,autoDirection:1,ignoreWall:1,name:"",sx:1.9,sy:1.9,sx1:2.5,sy1:2.5,st:1,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:.5,noBlend:!0,spd:600,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.LaserHitFloor,hitFloorEffect:Effect.LaserHitFloor}],skill:[],attackSequence:[{t:1},{t:.35,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.35,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:2.5}]},hydralisk_fx_2:{id:HYDRALISK_FX_2,isFly:1,avatar:{ctor:i,anime:g_resources.anime.feixingbing,aimAnime:"aim"},name:"()",shadowR:70,shadowH:120,shadowFlyHeight:50,radius:50/1.2,weight:500,speed:300,hp:1900,z:100,scale:1.2,shadowScale:1.3,attack:160,power:1,atkSpd:1,exp:20,isRange:!0,dropGold:1.9,shaderFunc:"hue1",ai:{ctor:t("FlyHydraliskAI"),sr:1130,ar0:20,ar1:25,moveTime:1.5,checkWall:1},blt:[{ctor:t("CustomBullet"),lifetime:10,customDef:"circle",ignoreWall:1,name:"",sx:1.9,sy:1.9,sx1:2.5,sy1:2.5,st:1,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:530,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.LaserHitFloor,hitFloorEffect:Effect.LaserHitFloor,turnSpdScale:2.8,turnSpdChangeTime:.4,turnSpdScale2:.01,degOffset:0,autoDirection:1}],skill:[],attackSequence:[{t:1},{t:.15,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:.15,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5},{t:2.5}]},hydralisk_fly_boss:{id:HYDRALISK_FLY_BOSS,isFly:1,avatar:{ctor:i,anime:g_resources.anime.feixingbing,shader:"boss-4",aimAnime:"aim"},name:"BOSS()",shadowR:70,shadowH:120,shadowFlyHeight:50,radius:60,weight:500,speed:400,hp:37e3,z:100,scale:2,shadowScale:1.3,attack:160,power:1,atkSpd:1,exp:50,isRange:!0,dropGold:5,shaderFunc:"hue1",ai:{ctor:t("FlyHydraliskAI"),sr:1130,ar0:20,ar1:25,moveTime:2.5,checkWall:1},blt:[{ctor:t("CustomBullet"),lifetime:10,customDef:"straight_x",ignoreWall:1,name:"",sx:.5,sy:.5,sx1:.6,sy1:4,st:.5,anchorY:.5,anchorX:.5,radius:30,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:5,wd:1,d:1.8,noBlend:!0,spd:10,rnd:0,l:3e3,kb:.01,skill:[],hitEffect:Effect.LaserHitFloor,hitFloorEffect:Effect.LaserHitFloor},{ctor:t("CustomBullet"),lifetime:10,customDef:"straight_x",ignoreWall:1,name:"",sx:.5,sy:.5,sx1:.6,sy1:4,st:.5,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:4,wd:1,d:1.5,noBlend:!0,spd:200,rnd:0,l:3e3,kb:.01,skill:[]},{ctor:t("CustomBullet"),lifetime:10,customDef:"turnStraight_x3",ignoreWall:1,name:"",sx:.5,sy:.5,sx1:.8,sy1:4,st:.2,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:1600,rnd:0,l:3e3,kb:.01,skill:[]},{ctor:t("CustomBullet"),lifetime:10,customDef:"turnStraight_x4",ignoreWall:1,name:"",sx:.5,sy:.5,sx1:.8,sy1:4,st:.2,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:1600,rnd:0,l:3e3,kb:.01,skill:[]},{ignoreWall:1,name:"",sx:.5,sy:.5,sx1:1,sy1:4,st:.2,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:.1,noBlend:!0,spd:1600,rnd:0,l:3e3,kb:.01,skill:[]}],skill:[],attackSequence:[{t:.6},{t:.4,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.4,x:60,y:180,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.4,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.4,x:60,y:180,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.5}],attackSequence2:[{t:.6},{t:.4,x:60,y:180,blt:4,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-8},{t:0,x:60,y:180,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:8},{t:.3,x:60,y:180,blt:4,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-8},{t:0,x:60,y:180,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:8},{t:.3,x:60,y:180,blt:4,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-8},{t:0,x:60,y:180,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:8},{t:.3,x:60,y:180,blt:4,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:-8},{t:0,x:60,y:180,blt:3,hurtStopTime:.4,hurtStopCD:2.5,deg:8},{t:.5}],attackSeqNum:2},hydralisk_fly_boss_2:{id:HYDRALISK_FLY_BOSS_2,isFly:1,avatar:{ctor:i,anime:g_resources.anime.feixingbing,shader:"boss-2",aimAnime:"aim"},name:"BOSS()",shadowR:70,shadowH:120,shadowFlyHeight:50,radius:60,weight:500,speed:400,hp:37e3,z:100,scale:2,shadowScale:1.3,attack:160,power:1,atkSpd:1,exp:50,isRange:!0,dropGold:5,shaderFunc:"hue1",ai:{ctor:t("FlyHydraliskAI"),sr:1130,ar0:20,ar1:25,moveTime:2.5,checkWall:1},blt:[{ctor:t("CustomBullet"),lifetime:10,customDef:"circle_x",ignoreWall:1,name:"",sx:.5,sy:.5,sx1:2,sy1:2,st:.2,anchorY:.5,anchorX:.5,radius:40,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/001",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:300,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.LaserHitFloor,hitFloorEffect:Effect.LaserHitFloor}],skill:[],attackSequence:[{t:1},{t:.2,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:50},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-50},{t:.2,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:50},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-50},{t:.2,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:50},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-50},{t:.2,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:50},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-50},{t:.2,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:50},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-50},{t:.2,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:50},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:-50},{t:1.5}],attackSequence2:[{t:1},{t:.3,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:90},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:270},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:180},{t:.3,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:90},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:270},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:180},{t:.3,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:90},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:270},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:180},{t:1.5}],attackSequence3:[{t:1},{t:.3,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:90},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:270},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:180},{t:.3,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:45},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:135},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:315},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:225},{t:.3,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:90},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:270},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:180},{t:.3,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:45},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:135},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:315},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:225},{t:1.5}],attackSeqNum:3},hydralisk_fly_boss_3:{id:HYDRALISK_FLY_BOSS_3,isFly:1,avatar:{ctor:i,anime:g_resources.anime.feixingbing,shader:"xuedi",aimAnime:"aim"},name:"BOSS()",shadowR:70,shadowH:120,shadowFlyHeight:50,radius:60,weight:500,speed:400,hp:37e3,z:100,scale:2,shadowScale:1.3,attack:160,power:1,atkSpd:1,exp:50,isRange:!0,dropGold:5,shaderFunc:"hue1",ai:{ctor:t("FlyHydraliskAI"),sr:1130,ar0:20,ar1:25,moveTime:2.5,checkWall:1},blt:[{ctor:t("CustomBullet"),lifetime:10,customDef:"turnStraight",ignoreWall:1,name:"",sx:.5,sy:.5,sx1:2,sy1:2,st:.2,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:3,wd:1,d:1.2,noBlend:!0,spd:500,rnd:0,l:1e3,kb:.01,skill:[],hitEffect:Effect.LaserHitFloor,hitFloorEffect:Effect.LaserHitFloor},{ctor:t("CustomBullet"),lifetime:10,customDef:"turnStraight_x",ignoreWall:1,name:"",sx:.5,sy:.5,sx1:2,sy1:2,st:.2,anchorY:.5,anchorX:.5,radius:40,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:1e3,rnd:0,l:1600,kb:.01,skill:[]},{ctor:t("CustomBullet"),lifetime:10,customDef:"turnStraight_x2",ignoreWall:1,name:"",sx:.5,sy:.5,sx1:2,sy1:2,st:.2,anchorY:.5,anchorX:.5,radius:40,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:1e3,rnd:0,l:1600,kb:.01,skill:[]}],skill:[],attackSequence:[{t:.6},{t:.2,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.2,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.2,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.2,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.5}],attackSequence2:[{t:1},{t:.2,x:60,y:180,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.2,x:60,y:180,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.2,x:60,y:180,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.2,x:60,y:180,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.2,x:60,y:180,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.2,x:60,y:180,blt:1,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:2,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:.5}],attackSeqNum:2},hydralisk_fly_boss_4:{id:HYDRALISK_FLY_BOSS_4,isFly:1,avatar:{ctor:i,anime:g_resources.anime.feixingbing,shader:"boss-4",aimAnime:"aim"},name:"BOSS()",shadowR:70,shadowH:120,shadowFlyHeight:50,radius:60,weight:500,speed:300,hp:37e3,z:100,scale:2,shadowScale:1.3,attack:160,power:1,atkSpd:1,exp:50,isRange:!0,dropGold:5,shaderFunc:"hue1",ai:{ctor:n,sr:1130,ar0:20,ar1:25,moveTime:1.5,checkWall:1},blt:[{ignoreWall:1,name:"",sx:.2,sy:.5,sx1:.5,sy1:1.5,st:.2,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:500,rnd:0,l:1e3,kb:.01,skill:[],hitEffect:Effect.LaserHitFloor,hitFloorEffect:Effect.LaserHitFloor}],skill:[],attackSequence:[{t:.6},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:0},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:120},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:240},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:2},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:122},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:242},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:4},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:124},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:244},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:6},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:126},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:246},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:8},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:128},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:248},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:10},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:130},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:250},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:12},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:132},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:252},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:14},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:134},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:254},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:16},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:136},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:256},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:18},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:138},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:258},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:20},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:140},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:260},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:22},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:142},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:262},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:24},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:144},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:264},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:26},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:146},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:266},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:28},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:148},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:268},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:30},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:150},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:270},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:32},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:152},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:272},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:34},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:154},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:274},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:36},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:156},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:276},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:38},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:158},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:278},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:40},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:160},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:280},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:42},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:162},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:282},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:44},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:164},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:284},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:46},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:166},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:286},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:48},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:168},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:288},{t:.05,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:50},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:170},{t:0,x:60,y:180,blt:0,hurtStopTime:.4,hurtStopCD:2.5,deg:290},{t:.5}]},fly_boss_jy:{id:FLY_BOSS_JY,isFly:1,avatar:{ctor:i,anime:g_resources.anime.feixingbing,shader:"boss-4",aimAnime:"aim"},name:"BOSS()",shadowR:70,shadowH:120,shadowFlyHeight:50,radius:60,weight:500,speed:400,hp:4e4,z:100,scale:2.2,shadowScale:1.3,attack:160,power:1,atkSpd:1,exp:50,isRange:!0,dropGold:5,shaderFunc:"hue1",ai:{ctor:t("FlyHydraliskAI"),sr:1130,ar0:20,ar1:25,moveTime:2,checkWall:1,noLockTarget:1,attackSeq:{1:{attackTime:1.7,atkDeg:0,sweep:0,repeatIndex:1},2:{attackTime:1.7,atkDeg:0,sweep:0,repeatIndex:5}}},blt:[{ctor:t("GuidedMissileDirect"),turnSpdScale:1e-5,turnSpdChangeTime:.4,turnSpdScale2:.2,degOffset:0,autoDirection:0,ignoreWall:1,name:"",sx:.5,sy:.5,sx1:2,sy1:2,st:.4,anchorY:.5,anchorX:.5,radius:30,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:500,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.LaserHitFloor,hitFloorEffect:Effect.LaserHitFloor},{ctor:t("CustomBullet"),lifetime:10,customDef:"straight_x2",ignoreWall:1,name:"",sx:.5,sy:.5,sx1:.6,sy1:4,st:.5,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_11/000",frame:2,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:2,wd:0,d:6.28,noBlend:!0,spd:0,rnd:0,l:3e3,kb:.01,skill:[],hitEffect:Effect.LaserHitFloor,hitFloorEffect:Effect.LaserHitFloor},{ctor:t("BulletLaser"),lifetime:.05,name:"",kb:.8,sx:.3,sy:.01,sx1:.05,sy1:.01,ignoreWall:1,st:.05,anchorY:.5,frm:"bullet/sq/4",length:1,dmg:300,n:1,wd:1,d:0,spd:12222,rnd:0,l:3e3,hurtStopTime:.8,hurtStopCD:3.5,hitEffect:Effect.LaserHitFloor,hitFloorEffect:Effect.LaserHitFloor}],skill:[],attackSequence:[{t:1},{t:2/48,x:81,y:250,blt:2,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a,1,2,1205,255)}},{t:0,x:81,y:250,blt:1}],attackSequence2:[{t:1},{t:0,x:81,y:250,blt:0,deg:45},{t:0,x:81,y:250,blt:0,deg:135},{t:0,x:81,y:250,blt:0,deg:225},{t:0,x:81,y:250,blt:0,deg:315},{t:2/48,x:81,y:250,blt:2,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a,1,2,1205,255)}}],attackSeqNum:2}};window.HydraliskDefine=d,cc._RF.pop()},{BounceBlt:"BounceBlt",BulletLaser:"BulletLaser",CustomBullet:"CustomBullet",DrillSkill:"DrillSkill",Effect:"Effect",Fire:"Fire",FlyHydraliskAI:"FlyHydraliskAI",FrameAvatar:"FrameAvatar",Grenade:"Grenade",GuidedMissileDirect:"GuidedMissileDirect",Hydralisk:"Hydralisk",HydraliskAI:"HydraliskAI",JumpSkill:"JumpSkill",PullBackBlt:"PullBackBlt",PullbackSkill:"PullbackSkill",RangeAI:"RangeAI",RockBlt:"RockBlt",SimpleAvatar:"SimpleAvatar",resource:"resource"}],Hydralisk:[function(t,e){"use strict";cc._RF.push(e,"da3f0td/BtHlJxFmWeoKaH/","Hydralisk"),t("Ammo");var i=cc.Class({extends:t("Mob"),init:function(t,e,i){this._super(t,e,i),this.define.isFly&&this.setFly(!0)},initAvatar:function(){var t=this.define.avatar,e=new cc.Node;this.addChild(e,0);var i=t.ctor;this.avatar=e.addComponent(i),this.avatar.init(t,{obj:this},this.game)},attack:function(){var t=this.attackSequence[this.attackIndex];if(t.blt||0===t.blt){var e,i=this.blt[t.blt],a=t.x||0,n=t.y||0,s=this.x0,o=this.y0,r=this.deg,c=kit.degree2Radian(r),h=Math.sin(c),d=Math.cos(c),l=s+d*a+h*n,u=o-h*a+d*n;if(i.grenade){var f=this.ai.target;(e=kit.norm(f.x0-this.x0,f.y0-this.y0))>i.l&&(e=null)}var m=r+(t.deg||0);Ammofactory(this,i,{x:l,y:u,te:this.team,obj:this,dmg:this.attribute.get("atkDmg"),l:e,deg:m},this.game),t.effect&&t.effect(l,u,this,this.game),this.game.effectMgr.play(SoundEffectPath[EntityCN2EN[this.toString()]+"_weapon"])}}});e.exports=i,cc._RF.pop()},{Ammo:"Ammo",Mob:"Mob"}],IceShieldSkill:[function(t,e){"use strict";cc._RF.push(e,"6260bI1AXtP9qLkSVXYRbpT","IceShieldSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.mei_IceShield),this.reHp=this.define.reHp,this.r=this.define.r,this.moveScale=this.define.moveScale,this.msTime=this.define.msTime,this.dt=this.define.dt,this.idleTimer=0;var t=this.obj;this.orgW=t.weight,t.weight=-1,t.isInvincible++,t.setNoAttack(!0),t.setNoMove(!0),t.setNoRotate(!0),t.setNoSkills(!0),t.noAction++,t.refreshAvatar(),this.game.fastMode||(this.ice=Effect.IceBlock(t,1.5))},excute:function(t){this.idleTimer+=t,this.idleTimer<this.dt||(this.idleTimer=0,this.obj.heal(this.reHp))},end:function(){this._super();var t=this.obj;if(t.weight=this.orgW,t.isInvincible--,t.setNoAttack(!1),t.setNoMove(!1),t.setNoRotate(!1),t.setNoSkills(!1),t.noAction--,t.refreshAvatar(),this.game.effectMgr.play(SoundEffectPath.mei_IceShield2),this.define.reHpOnEnd){var e=t.hpMax;t.heal(e*this.define.reHpOnEnd)}if(this.msTime){this.symbol||(this.symbol=getUniqueSymbol());var i={ctor:SimpleMulAttrBuff,attr:"moveSpd",num:this.moveScale||.9,effect:Effect.ColdBuff,symbol:this.symbol,t:this.msTime};this.slowBuff=i}g_sharedContactManager.checkAliveEnemy(this,t.x,t.y,this.r,t.team,this.onCover),this.game.fastMode||this.ice.remove()},onCover:function(t){t.simpleHurt(this.define.dmg||0),this.msTime&&new this.slowBuff.ctor(this.slowBuff,{obj:t})}}),cc._RF.pop()},{Skill:"Skill"}],InGameUI:[function(t,e){"use strict";cc._RF.push(e,"3bf41Uwwk9Kxos27TX0KVTC","InGameUI"),t("BuffUI");var i=cc.Class({extends:cc.Component,init:function(t){i.instance=this,this.game=t,this.effectMgr=this.game.effectMgr,this.visibleCt=0,this.initDebug(),this.initMoney(),this.status="nimabi",this.infoMgr=new Effect.GameInfoManager,this.infoMgr.init()},initMoney:function(){var t=this.game.moneyGain,e=this.game.effectMgr.createLabel(0,0,"effect/numbar_light",t);e.opacity=0,e.setPosition(.3*-VIEW_SIZE.width,.495*VIEW_SIZE.height),this.moneyLabel=e,this.moneyLabel.showNum=t,this.moneyLabel.enable=!1,this.node.addChild(e)},initBuff:function(){},initProgress:function(){if(!this.progressNode){var t=new cc.Node;t.y=VIEW_SIZE.height-50,this.node.addChild(t),this.progressNode=t;var e=new cc.Node;e.y=VIEW_SIZE.height-50,this.anotherNode=e,this.node.addChild(e),this.CreateProgressContent(),this.deadLogo=this.effectMgr.createSprite(0,0,"uiz/main/dead"),this.deadLogo.active=!1,this.deadLogo.setScale(1.7),e.addChild(this.deadLogo)}},unUpdateProgressContent:function(){this.componentUpdate&&(this.progressContent.unschedule(this.componentUpdate),this.componentUpdate=null)},CreateProgressContent:function(){},NewPlayerGuide:function(){},ReMoveGuideNode:function(){this.guideNode1&&(this.guideNode1.destroy(),this.guideNode1=null),this.guideNode2&&(this.guideNode2.destroy(),this.guideNode2=null)},setNight:function(t){this.isNight=!0,this.status="night",this.CreateProgressContent(),this.deadLogo.active=!1,this.effectMgr.loadSprite(this.dayDescription.getComponent(cc.Sprite),"uiz/main/innight"),this.framenode.color=cc.color(0,168,236),this.unUpdateProgressContent(),this.progressContent.opacity=255,this.dayDescription.opacity=255,t||this.game.CreateChooseLayerNode(),this.progressContent.active=!0;var e=this,i=function(){e.game.SynthesisLayer.closeDayEndPop(),e.game.mainmn&&e.game.mainmn.startGame()};if(2!=this.game.lvl&&this.ProgressTo(15,i),t){var a=this.effectMgr.createSprite(.5*cc.winSize.width,.6*VIEW_SIZE.height,"loading");a.scale=1.5,a.color=cc.color(0,0,0),a.opacity=150,this.game.node.addChild(a,2);var n=Effect.NewSprite("props/text/heighgun",this.game.node,2,.5*cc.winSize.width,.6*VIEW_SIZE.height,.95,.95,this.game);n.runAction(cc.sequence(cc.scaleTo(.3,1),cc.scaleTo(.3,.85),cc.scaleTo(.3,1),cc.scaleTo(.3,.95),cc.scaleTo(.3,1)).repeat(5)),i=function(){propkit.setGuideStep(10),this.game.NewPlayerGuide("props/text/starnewday",333),this.setDay(),kit.checkSaveData(),n.destroy(),a.destroy()}.bind(this),this.ProgressTo(5,i)}this.game.controller.setCannotTouchScreen()},ProgressTo:function(t,e){this.progressContent.fillRange=1;var i=this;t=1/t,this.unUpdateProgressContent(),this.componentUpdate=i.progressContent.update=function(a){i.progressContent.fillRange>0?i.progressContent.fillRange-=a*t*i.game.timeScale:(i.progressContent.unschedule(i.progressContent.update),i.progressContent.fillRange=0,e())},i.progressContent.schedule(this.componentUpdate)},testDeathDay:function(t){switch(t){case 1:break;case 2:this.unUpdateProgressContent(),this.game.ReStart(1),this.game.defenceWork&&this.game.defenceWork.realsetHp(1)}},setDead:function(){var t=this;this.progressContent.fillRange,this.CreateProgressContent(),this.deadLogo.active=!0,this.status="dead",this.effectMgr.loadSprite(this.dayDescription.getComponent(cc.Sprite),"uiz/main/dead"),this.framenode.color=cc.color(248,0,0),this.dayDescription.opacity=0,this.game.levelInfolabel&&(this.game.levelInfolabel.opacity=0),this.ProgressTo(10,function(){t.ResumeCallFunc()})},ResumeCallFunc:function(){this.game.SynthesisLayer.closeDayEndPop(),this.game.ReStart(),this.game.defenceWork&&this.game.defenceWork.realsetHp(.25),proputils.showTipImgText(propres.tip_little_blood)},PauseProgress:function(){},ResumeProgress:function(){},setDay:function(){this.isNight=!1,this.status="day",this.game.controller.setCanTouchScreen(),this.CreateProgressContent(),this.deadLogo.active=!1,this.effectMgr.loadSprite(this.dayDescription.getComponent(cc.Sprite),"uiz/main/inday"),this.progressContent.opacity=255,this.dayDescription.opacity=255,this.unUpdateProgressContent(),this.progressContent.fillRange=1,this.framenode.color=cc.color(248,244,0)},updateProgress:function(){},initDebug:function(){DEBUG_MODE},onDebugWin:function(){this.game.winGame()},setVisible:function(t){t?this.visibleCt--:this.visibleCt++,this.visibleCt?cc.Node.prototype.setVisible.call(this,!1):cc.Node.prototype.setVisible.call(this,!0)},setPauseButtonVisible:function(){},initPauseBtn:function(){},updateEnemyPoint:function(){if(this.game.hero)for(var t=this.game.hero.team,e=this.game.gameCamera,i=this.game.camera.scale,a=this.game.offsetNode,n=(e.y+a.y)/i,s=(e.y+a.y+VIEW_SIZE.height)/i,o=e.x/i,r=(e.x+VIEW_SIZE.width)/i,c=g_sharedContactManager.contactList,h=c.length,d=0;d<h;d++){var l=c[d];if(l.canAutoAim&&(!l.isDead&&!l.noTeam&&t!=l.team||!l.isDead&&!l.noTeam&&t==l.team&&l.isHero)){var u=l.x0,f=l.y0;if(u>o&&u<r&&f>n&&f<s||!l){l._pointSp&&l._pointSp.destroy(),l._pointSp=null;continue}var m=l._pointSp||this.creatEnemyPoint(l.team,l.isHero,l.define.id),p=u,g=f;p<o&&(p=o,m.angle=-270),p>r&&(p=r,m.angle=-90),g<n&&(g=n,m.angle=-180),g>s&&(g=s,m.angle=0),p==o&&(g==s&&(m.angle=-315),g==n&&(m.angle=-225)),p==r&&(g==s&&(m.angle=-45),g==n&&(m.angle=-135)),m.x=p,m.y=g;var v=this.game.camera.convertToWorldSpaceAR(cc.v2(p,g)),b=e.getComponent(cc.Camera).getWorldToScreenPoint(v),k=this.node.convertToNodeSpaceAR(b);m.setPosition(k),l._pointSp=m}}},creatEnemyPoint:function(){var t=this.effectMgr.createSprite(0,0,"uiz/ingame/enemy_point");return this.node.addChild(t),t.setAnchorPoint(.5,1),t},update:function(){this.updateEnemyPoint(),this.checkRefreshPos()},checkRefreshPos:function(){this.needRefreshPos&&(this.needRefreshPos=!1)},enableDangerAlert:function(){var t=VIEW_SIZE.width,e=VIEW_SIZE.height,i=this.effectMgr.createSprite(0,0,"effect/dangerous");i.color=cc.color(0,0,0),i.setPosition(0,0);var a=e/i.getContentSize().height;i.scaleY=a,a=t/i.getContentSize().width,i.scaleX=a,this.node.addChild(i,-1),i.opacity=0;var n=this;this.dangerousAlertFunc=function(){var t=this.game.hero,e=n.visible;if(e&&t&&1==t.config.me&&t.hp<.3*t.hpMax&&!i.blink){i.blink=!0;var a=cc.fadeOut(.5),s=cc.delayTime(1),o=cc.fadeIn(.5),r=c=cc.sequence(o,a,s);i.runAction(r)}else if((!e||t&&t.hp>=.3*t.hpMax)&&i.blink)i.stopAllActions(),i.runAction(cc.fadeTo(.5,0)),i.blink=!1;else if(t&&t.hp<t.hpMax){i.blink=!0,i.stopAllActions(),a=cc.fadeOut(.5),s=cc.delayTime(.8),o=cc.fadeIn(.1);var c=cc.sequence(o,a,s);i.runAction(c)}}}});cc._RF.pop()},{BuffUI:"BuffUI"}],InGame_EnemyPoint:[function(t,e){"use strict";cc._RF.push(e,"df6bc5N3NRIob4N3y4Tj72A","InGame_EnemyPoint"),cc._RF.pop()},{}],InfiniteAmmoBuff:[function(t,e){"use strict";cc._RF.push(e,"3ac852x1MtJs7VTmjH7h5wN","InfiniteAmmoBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.weapon.bltDownRate=0},excute:function(t){if(this.cdTimer-=t,!(this.cdTimer>0)){var e=this.define;this.cdTimer=e.cd||0,this.obj.weapon.bltDownRate=0}},end:function(t){t||(this.obj.weapon.bltDownRate=1)}}),cc._RF.pop()},{Buff:"Buff"}],InvincibleOnDeadBuff:[function(t,e){"use strict";cc._RF.push(e,"3e2054gIAtInp96g0PxNNQJ","InvincibleOnDeadBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registOnDeadCb(this),this.cdTimer=0,this.cb=this.define.cb},onDeath:function(){if(this.cdTimer<=0){this.cdTimer=this.cdTime,this.obj.hp=0,this.obj.heal(this.obj.hpMax*this.define.healPercent);var e={ctor:t("InvincileBuff"),symbol:getUniqueSymbol(),t:this.define.duration,visual:1};this.obj.setBuff(e),Effect.HitTextImg("effect/text/revive",this.obj.game,this.obj),this.cdTime||this.callEnd(),this.cb&&this.cb()}},excute:function(t){this.cdTimer>0&&(this.cdTimer-=t)}}),cc._RF.pop()},{Buff:"Buff",InvincileBuff:"InvincileBuff"}],InvincibleOnHurtBuff:[function(t,e){"use strict";cc._RF.push(e,"9da76DBY/ZEVbETvjcfqpGd","InvincibleOnHurtBuff"),cc.Class({extends:t("OnHurtBuff"),begin:function(){this.obj.registOnHurtCb(this),this.cdTime=this.define.cdTime,this.cdTimer=0,this.hurtTimes=this.define.hurtTimes||0,this.hurtCt=0},onHurt:function(){if(this.hurtCt++,this.cdTimer<=0||this.hurtTimes&&this.hurtCt>=this.hurtTimes)return this.hurtCt=0,this.cdTimer=this.cdTime,0},end:function(){this.obj.unregistOnHurtCb(this)},excute:function(t){this.cdTimer>0&&(this.cdTimer-=t)}}),cc._RF.pop()},{OnHurtBuff:"OnHurtBuff"}],InvincileBuff:[function(t,e){"use strict";cc._RF.push(e,"0d667Ww+GpLALcFm5Bw2r9x","InvincileBuff"),cc.Class({extends:t("Buff"),begin:function(){var t=this.obj;if(t.isInvincible++,t.invincibleBuffEff&&t.stopAction(t.invincibleBuffEff),this.define.visual){var e=this.game.effectMgr.createAnimation("atlas/invincible",{speed:1,repeat:-1});this.obj.addChild(e),this.invincibleBuff=e,t.pushShader("golden")}},end:function(){var t=this.obj;t.isInvincible--,this.define.visual&&(this.invincibleBuff.destroy(),this.invincibleBuff=null,t.popShader("golden"))}}),cc._RF.pop()},{Buff:"Buff"}],ItemGainInfoUI:[function(t,e){"use strict";cc._RF.push(e,"b1ffd47/vVJwayI4ZBXz84Q","ItemGainInfoUI");var i=cc.Class({extends:cc.Node,init:function(){this.list=[]},newInfo:function(t,e,i){for(var a in this.list)this.list[a].runAction(cc.moveBy(.1,cc.v2(0,40))),this.list.length>=1&&a<this.list.length-1&&!this.list[a].isFading&&(this.list[a].runAction(cc.fadeOut(.1)),this.list[a].isFading=!0);var n=this.createInfo(t,e,i);n.x=200,this.node.addChild(n),this.list.push(n),n.runAction(cc.sequence(cc.moveBy(.1,cc.v2(-200,0)),cc.delayTime(3),cc.fadeOut(1),cc.callFunc(function(){for(var t in this.list)this.list[t]==n&&this.list.splice(t,1)},this),cc.destroySelf()))},createInfo:function(t,e,i){var a=new cc.Node,n=this.effectMgr.createSprite(0,0,"uiz/drop/pickup_bg");n.setAnchorPoint(1,.5),a.addChild(n),n.getContentSize();var s=this.game.createSysLabel(Math.floor(num),27);if(s.scale=.7,s.x=-25,s.setAnchorPoint(1,.5),i&&s.setColor(i),a.addChild(s),t){var o=this.effectMgr.createSprite(0,0,t);o.scale=.7,o.setAnchorPoint(1,.5),a.addChild(o),o.x=-30-s.getContentSize().width*o.scale}return a}});e.exports=i,cc._RF.pop()},{}],Item_attr_t_t:[function(t,e){"use strict";cc._RF.push(e,"ef4ber7f+dDP5N66IcBw8qE","Item_attr_t_t"),cc.Class({extends:cc.Component,properties:{attr_name:cc.Label,attr_data:cc.Label},onLoad:function(){var t=this.node.info;t?(this.attr_name.string=t.attr_name,this.attr_data.string="+"+t.attr_data):(this.attr_name.string="",this.attr_data.string="+1000")},start:function(){}}),cc._RF.pop()},{}],Item_attr:[function(t,e){"use strict";cc._RF.push(e,"94685gT29VDpYe4ST5ICHWG","Item_attr"),cc.Class({extends:cc.Component,properties:{curNode:cc.Node,nextVNode:cc.Node,desLab:cc.Label,curVLab:cc.Label,nextVLab:cc.Label},onLoad:function(){var t=this.node.info;if(t){var e=t.des;if(this.onlyDesTxt="buff"===t.type||e.indexOf("<[")>=0,"object"!=typeof t.cur)e=(e=e.replace("<[xxx]>%",parseInt(100*t.cur)+"%")).replace("<[xxx]>",t.cur);else for(var i in t.cur)e=(e=e.replace("<["+i+"]>%",parseInt(100*t.cur[i])+"%")).replace("<["+i+"]>",t.cur[i]);if(t.nextQaAttr){if(!this.onlyDesTxt){var a=1===t.nextQaAttr?t.next-t.cur:t.cur;a>0&&(e+=" + "+operutils.formatPercentNum(a))}this.desLab.node.color=new cc.Color(0,255,0,255)}else this.desLab.node.color=new cc.Color(255,255,255,255),this.updateAttr(t.cur,t.next);this.desLab.string=e}},updateAttr:function(t,e){if(!this.onlyDesTxt&&(this.curNode.active=!!t,t&&(this.curValue=t,this.curVLab.string="+ "+operutils.formatPercentNum(t)),e)){this.nextValue=e;var i=this.nextValue-this.curValue;i&&i>0?(this.nextVNode.active=!0,this.nextVLab.string="+ "+operutils.formatPercentNum(i)):this.nextVNode.active=!1}},updateAttrAfterAction:function(t,e,i){this.node.runAction(cc.sequence(cc.delayTime(.5),cc.spawn(cc.fadeIn(.25),cc.scaleTo(.25,1.5,1.5)).easing(cc.easeSineOut()),cc.scaleTo(.05,1,1).easing(cc.easeSineIn()),cc.callFunc(function(){this.updateAttr(t,e),i&&i(2)},this)))},showNewAction:function(t){this.node.runAction(cc.sequence(cc.delayTime(.5),cc.spawn(cc.fadeIn(.25),cc.scaleTo(.25,1.5,1.5)).easing(cc.easeSineOut()),cc.scaleTo(.05,1,1).easing(cc.easeSineIn()),cc.callFunc(function(){t&&t(1)})))},start:function(){}}),cc._RF.pop()},{}],Item_chapter:[function(t,e){"use strict";cc._RF.push(e,"b64c4vvoT9O9b+dUER12skD","Item_chapter"),cc.Class({extends:cc.Component,properties:{map:cc.Sprite,lock:cc.Node},onLoad:function(){this.node.opacity=255},start:function(){this.chapter=this.node.chapter,reskit.setSpNodeFrame(this.map,OperUrl.chapterMap(this.chapter));var t=operkit.getMaxWarChapter(),e=operkit.getMaxWarChapter(!0),i=this.node.limitC&&this.node.limitC-e>=0;(this.chapter-t>0||i)&&(this.map.node.color=new cc.Color(100,100,100,255),this.lock.active=!0,this.node.mLockEn=!0),this.node.runAction(cc.sequence(cc.moveBy(.8,0,5),cc.moveBy(.8,0,-5),cc.delayTime(.3)).repeatForever())},onEnterSrcollView:function(){this.node.opacity=255},onExitScrollView:function(){this.node.opacity=0},onPositionChange:function(){}}),cc._RF.pop()},{}],Item_collect:[function(t,e){"use strict";cc._RF.push(e,"6d925N7XvxOpqXrdy0m34KT","Item_collect"),cc.Class({extends:cc.Component,properties:{iconSp:cc.Sprite},onLoad:function(){this.node.idx&&reskit.setSpNodeFrame(this.iconSp,OperUrl.collectIcon(this.node.idx))},start:function(){},click:function(){this.node.cb&&this.node.cb(this.node.idx)}}),cc._RF.pop()},{}],Item_equip:[function(t,e){"use strict";cc._RF.push(e,"d2c01cNtjxPpY/Ug2b0ro0r","Item_equip"),cc.Class({extends:cc.Component,ctor:function(){this._k=0,this.sid=0,this.lv=1,this.maxLv=1,this.onTheBody=!1,this.qa=0,this.pos=0},properties:{reddotPre:cc.Prefab,equip_flag:cc.Sprite,equip_bg:cc.Sprite,equip_img:cc.Sprite,equip_level:cc.Label,pop_equip_details:cc.Prefab},onLoad:function(){this.operNode=cc.find("Canvas/Operate");var t=this;nodekit.addNodeTouchEvent(this.node,function(e){if(t._k)switch(e.type){case cc.Node.EventType.TOUCH_START:t.onTheBody?e.target.parent.setScale(.95):e.target.setScale(.95),t.startPosition=e.getLocation(),t.cancelClick=!1;break;case cc.Node.EventType.TOUCH_MOVE:t.movePosition=e.getLocation();var i=t.movePosition.x-t.startPosition.x,a=t.movePosition.y-t.startPosition.y;(Math.abs(a)>=25||Math.abs(i)>=25)&&(t.onTheBody?e.target.parent.setScale(1):e.target.setScale(1),t.cancelClick=!0);break;case cc.Node.EventType.TOUCH_END:t.onTheBody?e.target.parent.setScale(1):e.target.setScale(1),t.cancelClick||t.handleClick(e);break;case cc.Node.EventType.TOUCH_CANCEL:t.onTheBody?e.target.parent.setScale(1):e.target.setScale(1)}})},updateUI:function(t,e,i,a){t&&(this._k=t),e&&(this.sid=e),this.lv=i||operkit.getEquipLvByKSid(t,e),a&&(this.onTheBody=a),this._k&&(this.baseInfo=OperDefine.getBaseInfoByKey(this._k),this.qa=this.baseInfo.qa,this.maxLv=OperDefine.getMaxLvByQa(this.qa),this.pos=this.baseInfo.pos,reskit.setSpNodeFrame(this.equip_flag,OperUrl.eLatflag(this.pos)),reskit.setSpNodeFrame(this.equip_bg,OperUrl.eLatBg(this.qa)),reskit.setSpNodeFrame(this.equip_img,this.baseInfo.img),this.lv&&(this.equip_level.string="Lv."+this.lv)),this.checkRedNew()},handleClick:function(){this._k&&this.baseInfo&&(menuManager.pop("sub2#/operate/prefab/pop_equip_details",{equipJs:this,P2Js:this.P2Js}),this.newShowing&&this.removeReddot())},removeSelf:function(){this.node.destroy()},getEquipUpInfo:function(){var t={};t.gemK=OperDefine.getGemKByQa(this.qa),t.bookK=OperDefine.getBookKByPos(this.pos),t.ownGemNum=operkit.getMaterialNumByK(t.gemK),t.ownBookNum=operkit.getMaterialNumByK(t.bookK),t.ownGoldNum=operkit.getMoneyData(OperBridge.MONEY_TYPE.GOLD),t.gemNumber=OperDefine.equipQaList[this.qa].gemU,t.goldUNumber=OperDefine.equipQaList[this.qa].goldU,t.gemEn=t.ownGemNum-t.gemNumber>=0,t.goldUEn=t.ownGoldNum-t.goldUNumber>=0;var e=OperDefine.equipLvList[this.lv];return t.bookNumber=e.book,t.goldNumber=e.gold,t.bookEn=t.ownBookNum-t.bookNumber>=0,t.goldEn=t.ownGoldNum-t.goldNumber>=0,t.isMaxLv=this.lv-this.maxLv>=0,t.isMaxQa=!this.baseInfo.next,t},checkRedNew:function(){operkit.getReddotNewSidArr().indexOf(parseInt(this.sid))>=0&&this.showRedNew()},showRedUp:function(){if(!this.reddotJs){this.reddotJs=reddotkit.createReddotByPre(this.reddotPre);var t=this.node;this.reddotJs.init({pNode:t,type:window.REDDOT_TYPE.Arrow,pos:cc.v2(t.width/2-15,-45)})}this.reddotJs.node.scale=1/1.16,this.reddotJs.showDot()},showRedNew:function(){if(!this.reddotJs){this.reddotJs=reddotkit.createReddotByPre(this.reddotPre);var t=this.node;this.reddotJs.init({pNode:t,type:window.REDDOT_TYPE.New,pos:cc.v2(t.width/2-15,t.height/2-30)})}this.reddotJs.node.scale=1,this.reddotJs.showDot(),this.newShowing=!0,OperBridge.checkReddotById("tag_equip")},removeReddot:function(){this.reddotJs&&(this.reddotJs.removeDot(),this.reddotJs=void 0,this.newShowing=!1,this.newShowing||OperBridge.checkReddotById("tag_equip"))}}),cc._RF.pop()},{}],Item_lc_chapter:[function(t,e){"use strict";cc._RF.push(e,"2f74c3+IPtF/7UH3m8GRc4g","Item_lc_chapter"),cc.Class({extends:cc.Component,properties:{chapterSp:cc.Sprite,chapterLab:cc.Label},onLoad:function(){var t=this.node.chapter,e=operkit.isJYChapter()?OperDefine.chapterS:OperDefine.chapterA,i=t?operutils.formatNum2Capital(t)+".":"";this.chapterLab.string=i+e[t].title,reskit.setSpNodeFrame(this.chapterSp,OperUrl.chapterBg(t))},start:function(){}}),cc._RF.pop()},{}],Item_lc_reward_lat:[function(t,e){"use strict";cc._RF.push(e,"c14c47oziFEu7V+X+N880b9","Item_lc_reward_lat"),cc.Class({extends:cc.Component,properties:{button:cc.Button,traySp:cc.Sprite,boxSp:cc.Sprite,iconSp:cc.Sprite,numLab:cc.Label,boxPre:cc.Prefab},onLoad:function(){},updateUI:function(t,e,i,a,n){if(this.idx=t,this.boxK=e,this.useAd=a,this.number=n,"b1"==e||"b2"==e){this.numLab.string="b1"==e?"Supply Box":"Big Supply Box",this.boxSp.node.scale=.5;var s=OperUrl.getBoxUrlByK(e);if(1==i){if(!this.gxNode){var o=nodekit.createNode(this.boxPre);o.boxK=e,o.boxUrl=s,o.openType=1,o.y=15,o.parent=this.boxSp.node,this.gxNode=o}}else this.gxNode&&this.gxNode.destroy(),reskit.setSpNodeFrame(this.boxSp,2==i?s.box_2:s.box_1)}else{var r=OperDefine.getBaseInfoByKey(e);e-OperBridge.MONEY_TYPE.DIAMOND==0||e-OperBridge.MONEY_TYPE.GOLD==0?reskit.setSpNodeFrame(this.boxSp,OperUrl.getMoneyImgByNum(e,n)):reskit.setSpNodeFrame(this.boxSp,r.img),this.boxSp.node.scale=1;var c=OperDefine.getTypeByKey(e);this.numLab.string="e"==c?r.name:"x"+n}1==i?(this.clickEn=!0,this.button.transition=cc.Button.Transition.SCALE,this.button.zoomScale=1.1):(this.clickEn=!1,this.button.transition=cc.Button.Transition.NONE,this.toastStr=0==i?"Haven't reached this level yet":"Received"),reskit.setSpNodeFrame(this.traySp,OperUrl["p_tray"+i]),2==i?(this.iconSp.node.scale=1,reskit.setSpNodeFrame(this.iconSp,OperUrl.p_gou),this.boxSp.node.color=new cc.Color(130,130,130,255)):a&&(this.iconSp.node.scale=.8,reskit.setSpNodeFrame(this.iconSp,OperUrl.c_video))},clickSelf:function(){nodekit.playMusic(SoundEffectPath.op_click),this.clickEn?(this.clickEn=!1,this.useAd?cc.Platformsdk.showVideo(TJ.ADID.lc_reward,function(t){t?this.showReward(this.idx,this.boxK):this.clickEn=!0}.bind(this)):this.showReward(this.idx,this.boxK)):this.toastStr&&OperBridge.toastTip(this.toastStr)},showReward:function(){}}),cc._RF.pop()},{}],Item_lc_reward:[function(t,e){"use strict";cc._RF.push(e,"8c761nphjFH0ptGIl12o6gz","Item_lc_reward"),cc.Class({extends:cc.Component,properties:{dotBgSp:cc.Sprite,dotLab:cc.Label,c_lat:cc.Node,item_lat:cc.Prefab},onLoad:function(){this.latList={},this.chapter=this.node.chapter,this.dot=this.node.dot,this.dotLab.string=this.dot,this.checkRewardDot()},updateRewardLat:function(){var t=(operkit.isJYChapter()?OperDefine.chapterS:OperDefine.chapterA)[this.chapter].lc[this.dot],e=operkit.getReceivedIdxArr(this.chapter,this.dot),i=0,a=0;for(var n in t){var s=t[n].split("#"),o=parseInt(n)+1,r=s[0],c=parseInt(s[1]),h=c<1;r.indexOf("s")>=0&&(r=r.substring(1),h=!0);var d=e.indexOf(o)>=0?2:this.status;1==d&&h&&a++,1==d&&i++;var l=this.latList[o];if(!l){var u=nodekit.createNode(this.item_lat);u.parent=this.c_lat,(l=u.getComponent("Item_lc_reward_lat")).showReward=this.showItemReward.bind(this),this.latList[o]=l}l.updateUI(o,r,d,h,c)}reddotkit.setLcReddotNum(this.chapter,this.dot,a,!0),reddotkit.setLcReddotNum(this.chapter,this.dot,i)},checkRewardDot:function(){operkit.checkRewardDot(this.chapter,this.dot)?(this.status=1,reskit.setSpNodeFrame(this.dotBgSp,OperUrl.p_dotbg2)):this.status=0,this.updateRewardLat()},showItemReward:function(t,e){var i=window.curGuideStep,a=function(){operkit.setReceivedLcDot(this.chapter,this.dot,t),this.checkRewardDot(),OperBridge.checkReddotById("tag_menu1"),8!==window.curGuideStep&&9!==window.curGuideStep||operkit.setGuideStep1015(window.curGuideStep),OperBridge.checkNextGuide()}.bind(this);if("b1"===e||"b2"===e)"b1"===e&&0===this.chapter&&10===this.dot&&3===t?menuManager.pop("sub2#/operate/prefab/pop_open_box",{obj:{101:2e3},box:e,cb:a}):menuManager.pop("sub2#/operate/prefab/pop_open_box",{box:e,cb:a});else{var n=this.latList[t],s={};s[n.boxK]=n.number,menuManager.pop("sub2#/operate/prefab/pop_reward",{obj:s,cb:a})}i&&OperBridge.hideGuideLayer()}}),cc._RF.pop()},{}],Item_material:[function(t,e){"use strict";cc._RF.push(e,"8061cYu+WNI7pwChEtgGe3c","Item_material"),cc.Class({extends:cc.Component,ctor:function(){this.touchEn=!1,this._k=0,this.num=0},properties:{bgSp:cc.Sprite,iconSp:cc.Sprite,flagSp:cc.Sprite,rndSp:cc.Sprite,txtLab:cc.Label},onLoad:function(){if(this.touchEn){var t=this;nodekit.addNodeTouchEvent(this.node,function(e){switch(e.type){case cc.Node.EventType.TOUCH_START:e.target.setScale(.95),t.startPosition=e.getLocation(),t.cancelClick=!1;break;case cc.Node.EventType.TOUCH_MOVE:t.movePosition=e.getLocation();var i=t.movePosition.x-t.startPosition.x,a=t.movePosition.y-t.startPosition.y;(Math.abs(a)>=25||Math.abs(i)>=25)&&(e.target.setScale(1),t.cancelClick=!0);break;case cc.Node.EventType.TOUCH_END:e.target.setScale(1),t.cancelClick||t.click(e);break;case cc.Node.EventType.TOUCH_CANCEL:e.target.setScale(1)}})}this.bgSp=this.node.getComponent(cc.Sprite)},updateUI:function(t,e,i){if(this._k=t,this.num=e,this._k){this.baseInfo=OperDefine.getBaseInfoByKey(this._k);var a=OperDefine.getTypeByKey(this._k),n=OperUrl.latBg(0);if("r"===a){if(this.node.scale=.9,n=this.baseInfo.bgImg,this.num=0,i&&void 0!==i.showNameY){var s=new cc.Node;s.parent=this.node,s.scale=.8,s.setPosition(0,i.showNameY),s.addComponent(cc.Label).string=this.baseInfo.name}}else"e"===a?(n=OperUrl.eLatBg(this.baseInfo.qa),this.flagSp.node.active=!0,reskit.setSpNodeFrame(this.flagSp,OperUrl.eLatflag(this.baseInfo.pos))):(this.flagSp.node.active=!1,t-10>0&&t-20<0&&(n=OperUrl.latBg(this._k-10)));if(i&&i.hideBg?this.flagSp.node.active=!1:reskit.setSpNodeFrame(this.bgSp,n),1*this.num<0||i&&i.rndEn)this.rndSp.node.active=!0,this.txtLab.node.active=!1;else{this.rndSp.node.active=!1;var o=void 0;this.num&&(o="x"+this.num),!o&&i&&(o=i.str),o&&(this.iconSp.node.y=3,this.txtLab.node.active=!0,this.txtLab.string=o)}var r=this.baseInfo.img;i&&i.spUrl?r=i.spUrl:t-OperBridge.MONEY_TYPE.DIAMOND!=0&&t-OperBridge.MONEY_TYPE.GOLD!=0||this.rndSp.node.active||(r=OperUrl.getMoneyImgByNum(t,this.num)),reskit.setSpNodeFrame(this.iconSp,r)}},addAdorn:function(t){if(t){var e=nodekit.createSpriteNode(),i=e.getComponent(cc.Sprite);reskit.setSpNodeFrame(i,t),e.parent=this.node}},click:function(){menuManager.pop("sub#/operate/prefab/popwin/poplittlewin",{type:"material",_k:this._k,title:this.baseInfo.name,des:this.baseInfo.des})},removeSelf:function(){this.node.destroy()}}),cc._RF.pop()},{}],Item_reconfirm:[function(t,e){"use strict";cc._RF.push(e,"71e9bVn4q1DjZ7rke76uVHf","Item_reconfirm"),cc.Class({extends:cc.Component,properties:{img:cc.Sprite,text:cc.Label},onLoad:function(){reskit.setSpNodeFrame(this.img,this.node.imgPath),this.text.string="x"+this.node.textNum},start:function(){}}),cc._RF.pop()},{}],Item_relics:[function(t,e){"use strict";cc._RF.push(e,"85cb4CeT1pC5p9XrYSTOAcg","Item_relics"),cc.Class({extends:cc.Component,properties:{expNode:cc.Node,expLab:cc.Label,iconBg:cc.Sprite,iconImg:cc.Sprite,nameLab:cc.Label,reddotPre:cc.Prefab},onLoad:function(){},updateUI:function(t){this._k=t._k,this.unlock=t.unlock;var e=OperDefine.getBaseInfoByKey(this._k);if(e)if(reskit.setSpNodeFrame(this.iconBg,e.bgImg),reskit.setSpNodeFrame(this.iconImg,e.img),this.unlock){var i=e.lv?t.exp/e.lv:1,a=i>1?1:i,n=e.lv?t.exp+"/"+e.lv:"MAX";this.nameLab.string=e.name,this.expLab.string=n;var s=104*a;s&&(this.expNode.width=s),this.infoObj={},this.infoObj.baseInfo=e,this.infoObj.expPer=a,this.infoObj.expTxt=n,reddotkit.getNewRelicKey().indexOf(parseInt(this._k))>=0&&this.showRedNew()}else{this.nameLab.string="",this.expLab.string="",this.expNode.width=0,this.expNode.parent.active=!1;var o=this.iconImg.node.getComponent(cc.Button),r=this.iconBg.node.getComponent(cc.Button);o.enableAutoGrayEffect=!0,r.enableAutoGrayEffect=!0,this.nameLab.node.opacity=150}},showRedNew:function(){if(!this.reddotJs){this.reddotJs=reddotkit.createReddotByPre(this.reddotPre);var t=this.node;this.reddotJs.init({pNode:t,type:window.REDDOT_TYPE.New,pos:cc.v2(40,20)})}this.reddotJs.showDot()},removeReddot:function(){this.reddotJs&&(this.reddotJs.removeDot(),this.reddotJs=void 0)},clickSelf:function(){this.unlock?(menuManager.pop("sub2#/operate/prefab/pop_relics_detail",this.infoObj),reddotkit.delNewRelic(this._k),this.removeReddot()):OperBridge.toastTip("Not unlocked")}}),cc._RF.pop()},{}],Item_sign:[function(t,e){"use strict";cc._RF.push(e,"e2ff9hdIKxGxqjHHVx5+2yw","Item_sign"),cc.Class({extends:cc.Component,properties:{dayLab:cc.Label,day7Node:cc.Node,c_gift:cc.Node,item_material:cc.Prefab,signed:cc.Node,contentNode:cc.Node,bgSp:cc.Sprite,bgLightSp:cc.Sprite,nameLab:cc.Label,bg2Light:cc.Node,rewardLight:cc.Node},start:function(){},init:function(t){this.day=t.def.day,this.PopSign=t.PopSign;var e=t.def.goods.split(","),i=t.def.nums.split(",");for(var a in e){var n=e[a],s=i[a];OperBridge.createLatNodeByKey(n,{pNode:this.c_gift});var o=OperDefine.getTypeByKey(n),r=OperDefine.getBaseInfoByKey(n);this.nameLab.string="e"==o?r.name:"x"+s}7===this.day?(this.node.width=509,this.day7Node.active=!0,this.dayLab.string="",this.c_gift.x=62,this.c_gift.y=14,this.nameLab.node.x=62,this.nameLab.node.y=-50):(this.day7Node.active=!1,this.dayLab.string="Day "+this.day)},updateBtn:function(t){this.signed.active=!1;var e=OperUrl.getSignUrlByDay(this.day);if(1===t?(this.bgSp.node.y=7===this.day?-1:-6,this.dayLab.node.color=new cc.Color(0,0,0,255),reskit.setSpNodeFrame(this.bgSp,e.bg1),reskit.setSpNodeFrame(this.bgLightSp,e.bgLight),this.rewardLight.active=!0,this.rewardLight.x=this.c_gift.x+.5,this.rewardLight.y=this.c_gift.y-1,cc.find("rewardlight2",this.rewardLight).runAction(cc.sequence(cc.scaleTo(0,.9),cc.spawn(cc.scaleTo(.2,1).easing(cc.easeSineOut()),cc.fadeIn(.2)),cc.spawn(cc.scaleTo(.8,1.3).easing(cc.easeSineOut()),cc.fadeOut(.8)),cc.delayTime(.8)).repeatForever())):(this.bgSp.node.y=0,this.dayLab.node.color=new cc.Color(255,255,255,255),reskit.setSpNodeFrame(this.bgSp,e.bg0),this.rewardLight.active=!1,0===t&&(this.contentNode.opacity=120,this.signed.active=!0)),7===this.day&&0!==t){this.bg2Light.active=!0;var i=cc.find("light1",this.bg2Light),a=cc.find("light2",this.bg2Light);reskit.setSpNodeFrame(this.bgLightSp,e.bgLight),1===t?(this.bgLightSp.node.stopAllActions(),i.stopAllActions(),a.stopAllActions(),i.opacity=50,a.opacity=255):(this.bgLightSp.node.runAction(cc.sequence(cc.fadeTo(1.3,255),cc.fadeTo(.5,100).easing(cc.easeSineOut()),cc.delayTime(.2)).repeatForever()),i.runAction(cc.sequence(cc.fadeTo(1,210),cc.delayTime(.2),cc.fadeTo(.1,255),cc.fadeTo(.4,100),cc.delayTime(.3)).repeatForever()),a.runAction(cc.sequence(cc.fadeTo(1,100),cc.delayTime(.2),cc.fadeTo(.1,50),cc.fadeTo(.4,255),cc.delayTime(.3)).repeatForever()))}},btnClick:function(){nodekit.playMusic(SoundEffectPath.op_click),this.PopSign&&this.PopSign.itemCb(this.day,"sign")}}),cc._RF.pop()},{}],Item_skill:[function(t,e){"use strict";cc._RF.push(e,"bd275JSOpBIUKhEpjnAP3t4","Item_skill"),cc.Class({extends:cc.Component,properties:{iconSp:cc.Sprite,nameLab:cc.Label},onLoad:function(){var t=this.node.iconPath,e=this.node.skillName;t&&reskit.setSpNodeFrame(this.iconSp,t),e&&(this.nameLab.string=e)}}),cc._RF.pop()},{}],Item_store_box:[function(t,e){"use strict";cc._RF.push(e,"7feeejyTvNNzZHM2SvL4lKW","Item_store_box"),cc.Class({extends:cc.Component,ctor:function(){this.keyNum=0,this.countdown=0},properties:{reddotPre:cc.Prefab,timeBg:cc.Node,timeLab:cc.Label,boxSp:cc.Sprite,btnNode:cc.Node,btnImg:cc.Sprite,btnNum:cc.Label,boxPre:cc.Prefab,countLab:cc.Label},onLoad:function(){var t=this,e=function(e){switch(e.type){case cc.Node.EventType.TOUCH_START:e.target.name==t.node.name?e.target.setScale(1.02):e.target.setScale(.95),t.startPosition=e.getLocation(),t.cancelClick=!1;break;case cc.Node.EventType.TOUCH_MOVE:if(t.cancelClick)break;t.movePosition=e.getLocation();var i=t.movePosition.x-t.startPosition.x,a=t.movePosition.y-t.startPosition.y;(Math.abs(a)>=25||Math.abs(i)>=25)&&(e.target.setScale(1),t.cancelClick=!0);break;case cc.Node.EventType.TOUCH_END:e.target.setScale(1),t.cancelClick||t.handleClick(e);break;case cc.Node.EventType.TOUCH_CANCEL:e.target.setScale(1)}};nodekit.addNodeTouchEvent(this.node,e),nodekit.addNodeTouchEvent(this.btnNode,e)},init:function(t){this.obj=t;var e=OperUrl.getBoxUrlByK(this.obj.k),i=this.node.getComponent(cc.Sprite);reskit.setSpNodeFrame(i,e.store_box_bg);var a=nodekit.createNode(this.boxPre);if(a.boxK=this.obj.k,a.boxUrl=e,a.openType=1,a.scale=.67,a.parent=this.node,"b2"===this.obj.k?(this.boxDefine=OperDefine.storebox2,a.y=30,this.countLab.node.active=!0,this.countLab.string=10-operkit.getBoxOpenNum("b2")):(this.boxDefine=OperDefine.storebox1,this.countLab.node.active=!1,a.y=15),this.dmdNum=this.obj.dmdNum,this.keyNum=operkit.getBoxKeyNum(this.obj.k),this.obj.hasFree){var n=operkit.getBoxFreeTime(this.obj.k),s=this.obj.freeTime-operutils.disTimeS(n,1);this.countdown=s<=0?0:s}this.initQa4ArrByBox2(),this.countdown&&this.schedule(this.startCountDown,1,cc.macro.REPEAT_FOREVER,.1),this.checkReddot(),OperBridge.RedCheckFun["store_"+this.obj.k]=this.checkReddot.bind(this)},onDestroy:function(){delete OperBridge.RedCheckFun["store_"+this.obj.k]},startCountDown:function(){this.countdownIng=!0,0==this.countdown?(this.timeLab.string="",this.unschedule(this.startCountDown),this.countdownIng=!1,this.checkReddot()):(this.timeLab.string=operutils.formatTime3ByS(this.countdown)+"",this.countdown--)},updateData:function(){return this.timeBg.active=!0,this.btnImg.node.active=!0,this.btnImg.node.scale=1,this.btnImg.node.angle=0,this.useKey=!1,this.freeEn=!1,this.obj.hasFree&&this.countdown<=0?(this.obj.freeByAd?reskit.setSpNodeFrame(this.btnImg,OperUrl.c_video):this.btnImg.node.active=!1,this.timeBg.active=!1,this.btnNum.string="Obtain",void(this.freeEn=!0)):this.keyNum>0?(reskit.setSpNodeFrame(this.btnImg,this.obj.keyImg),this.btnNum.string="x"+this.keyNum,this.btnImg.node.scale=.7,this.btnImg.node.angle=-30,void(this.useKey=!0)):(reskit.setSpNodeFrame(this.btnImg,OperUrl.c_diamond1),void(this.btnNum.string="x"+this.dmdNum))},handleClick:function(){if(nodekit.playMusic(SoundEffectPath.op_click),this.useKey)operkit.useBoxKey(this.obj.k),this.showReward();else if(this.freeEn){var t=function(){operkit.updateBoxFreeTime(this.obj.k),this.countdown=this.obj.freeTime,this.countdownIng||this.schedule(this.startCountDown,1,cc.macro.REPEAT_FOREVER,.1);var t=this.showReward();"b2"===this.obj.k&&tjSDK.onEvent(TJ.eventId.free_box2,{rid:t+""})}.bind(this);this.obj.freeByAd?cc.Platformsdk.showVideo(TJ.ADID.store_box1,function(e){e&&t()}.bind(this)):t()}else OperBridge.useMoney(OperBridge.MONEY_TYPE.DIAMOND,this.dmdNum,function(t){if(t){var e=this.showReward();tjSDK.onEvent("b2"===this.obj.k?TJ.eventId.use_dmd_box2:TJ.eventId.use_dmd_box1,{num:this.dmdNum,rid:e})}}.bind(this))},showReward:function(){var t=this.getRewardIds();cc.log("-store box------",this.obj.k,t);var e={},i=!1;for(var a in t){var n=t[a];"b2"==this.obj.k&&this.box2Qa4Arr&&-1!=this.box2Qa4Arr.indexOf(n)&&(i=!0);var s=this.boxDefine[n],o=s.num;if(s.numArr){var r=s.numArr.split(","),c=operkit.getMaxWarChapter(!0);o=parseInt(c>r.length?r[r.length-1]:r[c-1])}o||(o=s.num),e[s.k]=o}return operkit.openBox(this.obj.k,i),this.countLab.node.active&&(this.countLab.string=10-operkit.getBoxOpenNum("b2")),menuManager.pop("sub2#/operate/prefab/pop_open_box",{obj:e,box:this.obj.k}),this.checkReddot(),t[0]},initQa4ArrByBox2:function(){if(!this.box2Qa4Arr)for(var t in this.box2Qa4Arr=[],this.boxDefine){var e=this.boxDefine[t],i=OperDefine.getBaseInfoByKey(e.k).qa;i&&4==i&&1*e.weight>0&&this.box2Qa4Arr.push(t)}},getRewardIds:function(){if("b2"==this.obj.k&&9==operkit.getBoxOpenNum(this.obj.k)){console.log(" ");var t=this.box2Qa4Arr.length,e=operutils.random(0,t-1),i=this.box2Qa4Arr[e],a=[];return a.push(i),a}return operutils.getTargetKeysByWeight(this.boxDefine)},checkReddot:function(){this.keyNum=operkit.getBoxKeyNum(this.obj.k),this.updateData();var t=0;if(this.keyNum?(t+=this.keyNum,reddotkit.setBoxKeyNum(this.obj.k,this.keyNum)):reddotkit.setBoxKeyNum(this.obj.k,0),this.countdown<=0?("b1"===this.obj.k&&this.obj.PageJs.pageInView&&cc.Platformsdk.videoBtnShow(TJ.ADID.store_box1),reddotkit.setBoxFree(this.obj.k,1),t+=1):reddotkit.setBoxFree(this.obj.k,0),t){if(!this.reddotJs){this.reddotJs=reddotkit.createReddotByPre(this.reddotPre);var e=this.btnNode;this.reddotJs.init({pNode:e,type:window.REDDOT_TYPE.RNum,pos:cc.v2(e.width/2-20,e.height/2-20)})}this.reddotJs.showDot(t)}else this.reddotJs&&this.reddotJs.hideDot();OperBridge.checkReddotById("tag_store")}}),cc._RF.pop()},{}],Item_store:[function(t,e){"use strict";cc._RF.push(e,"df468+X/9hFnaWoxnloJU6U","Item_store"),cc.Class({extends:cc.Component,properties:{reddotPre:cc.Prefab,title:cc.Label,btnNode:cc.Node,btnImg:cc.Sprite,btnNum:cc.Label,item_material:cc.Prefab,soldNode:cc.Node},onLoad:function(){this.operNode=cc.find("Canvas/Operate");var t=this,e=function(e){if(t.btnTouchEn)switch(e.type){case cc.Node.EventType.TOUCH_START:e.target.name==t.node.name?e.target.setScale(1.02):e.target.setScale(.95),t.startPosition=e.getLocation(),t.cancelClick=!1;break;case cc.Node.EventType.TOUCH_MOVE:if(t.cancelClick)break;t.movePosition=e.getLocation();var i=t.movePosition.x-t.startPosition.x,a=t.movePosition.y-t.startPosition.y;(Math.abs(a)>=25||Math.abs(i)>=25)&&(e.target.setScale(1),t.cancelClick=!0);break;case cc.Node.EventType.TOUCH_END:e.target.setScale(1),t.cancelClick||t.handleClick(e);break;case cc.Node.EventType.TOUCH_CANCEL:e.target.setScale(1)}};nodekit.addNodeTouchEvent(this.node,e),nodekit.addNodeTouchEvent(this.btnNode,e)},init:function(t){this.idx=t.idx,this.type=t.type,this.baseDef=t.baseDef,this.title.string=t.title,this.title.node.color=t.tColor,reskit.setSpNodeFrame(this.btnImg,t.btnImg)},updateUI:function(){var t=operkit.getStoreItemByIdx(this.idx).split("#");this.rkey=t[0];var e=this.baseDef[this.rkey];if(e.price&&(this.price=e.price),this.resetBtn("0"!=t[1]),!this.spJs){var i=nodekit.createNode(this.item_material);i.setPosition(-2.5,46.5),i.parent=this.node,i.scale=1.17,this.spJs=i.getComponent("Item_material")}var a=OperDefine.getFinalKey(e.k),n=e.num;if(e.numArr){var s=e.numArr.split(","),o=operkit.getMaxWarChapter(!0);n=parseInt(o>s.length?s[s.length-1]:s[o-1])}n||(n=e.num),this.spJs.updateUI(a,n),this.checkReddot()},resetBtn:function(t){t?(this.btnTouchEn=!1,this.btnNode.active=!1,this.soldNode.active=!0):(this.btnTouchEn=!0,this.btnImg.node.active=!0,this.soldNode.active=!1,this.btnNode.active=!0,this.btnNum.string=this.price?"x"+this.price:"Obtain"),this.checkReddot()},handleClick:function(){nodekit.playMusic(SoundEffectPath.op_click);var t=function(){this.showReward()}.bind(this);this.price?OperBridge.useMoney(this.type,this.price,function(e){if(e){t();var i=this.type===OperBridge.MONEY_TYPE.DIAMOND?TJ.eventId.use_dmd_store:TJ.eventId.use_gold_store;tjSDK.onEvent(i,{num:this.price,rid:this.rkey})}}.bind(this)):cc.Platformsdk.showVideo(TJ.ADID.store_free,function(e){e&&t()}.bind(this))},showReward:function(){if(this.spJs){var t={};t[this.spJs._k]=this.spJs.num,this.resetBtn(!0);var e=function(){operkit.setStoreCount(this.idx)}.bind(this);menuManager.pop("sub2#/operate/prefab/pop_reward",{obj:t,cb:e})}},checkReddot:function(){if(!this.price){if(this.btnTouchEn){if(reddotkit.setStoreFree(1),!this.reddotJs){this.reddotJs=reddotkit.createReddotByPre(this.reddotPre);var t=this.btnNode;this.reddotJs.init({pNode:t,type:window.REDDOT_TYPE.RNum,pos:cc.v2(t.width/2-20,t.height/2-20)})}this.reddotJs||(this.reddotJs=reddotkit.createReddotByPre(this.reddotPre)),this.reddotJs.showDot(1)}else reddotkit.setStoreFree(0),this.reddotJs&&this.reddotJs.hideDot();OperBridge.checkReddotById("tag_store")}}}),cc._RF.pop()},{}],Item_talent:[function(t,e){"use strict";cc._RF.push(e,"cace8wk5kpOd6hRaa9fY9lA","Item_talent"),cc.Class({extends:cc.Component,properties:{bg:cc.Sprite,icon:cc.Sprite,title:cc.Label,level:cc.Label},onLoad:function(){nodekit.addNodeTouchEvent(this.node,function(t){if(this.lv<=0)var e=!0;switch(t.type){case cc.Node.EventType.TOUCH_START:e||t.target.setScale(.95),this.startPosition=t.getLocation(),this.cancelClick=!1;break;case cc.Node.EventType.TOUCH_MOVE:this.movePosition=t.getLocation();var i=this.movePosition.x-this.startPosition.x,a=this.movePosition.y-this.startPosition.y;(Math.abs(a)>=25||Math.abs(i)>=25)&&(t.target.setScale(1),this.cancelClick=!0);break;case cc.Node.EventType.TOUCH_END:t.target.setScale(1),e?OperBridge.toastTip("Not unlocked"):!this.cancelClick&&this.handleClick&&this.handleClick(this.id,this.itemInfo.name+" Lv."+this.lv,this.itemInfo.des,operutils.formatPercentNum(this.itemInfo["lv"+this.lv]));break;case cc.Node.EventType.TOUCH_CANCEL:t.target.setScale(1)}}.bind(this))},init:function(t){t.id&&(this.id=t.id,this.node.talentid=this.id,this.itemInfo=OperDefine.talentInfo[this.id],this.lv=operkit.getTalentLvById(this.id),reskit.setSpNodeFrame(this.bg,OperUrl.talentBg(this.id)),this.lv>0?(reskit.setSpNodeFrame(this.icon,OperUrl.talentIcon(this.id)),this.title.string=this.itemInfo.name,this.setLevel()):reskit.loadSpriteFrame(OperUrl.talentLock1(this.id),function(t){this.lockNode=nodekit.createSpriteNode(t),this.lockNode.setPosition(-4,-4),this.lockNode.parent=this.node}.bind(this)))},setLevel:function(){9==this.id?this.level.string="Max":this.level.string="Lv."+this.lv},levelUP:function(){var t=cc.sequence(cc.scaleTo(0,1.5,1.5),cc.spawn(cc.scaleTo(.2,1,1),cc.fadeIn(.2)).easing(cc.easeSineIn()),cc.callFunc(function(){this.icon.node.runAction(cc.shake(.1,2,2))}.bind(this))),e=cc.sequence(cc.scaleTo(.1,2,2).easing(cc.easeSineOut()),cc.spawn(cc.scaleTo(.1,1,1),cc.fadeIn(.1)).easing(cc.easeSineIn()),cc.callFunc(function(){this.icon.node.runAction(cc.shake(.1,2,2))}.bind(this)),cc.delayTime(.1),cc.callFunc(function(){this.showUpPop()}.bind(this)));this.lv<=0?(this.lockNode&&this.lockNode.destroy(),this.icon.node.opacity=0,this.title.node.opacity=0,this.level.node.opacity=0,reskit.setSpNodeFrame(this.icon,OperUrl.talentIcon(this.id)),this.title.string=this.itemInfo.name,this.icon.node.runAction(cc.sequence(cc.scaleTo(0,0,0),cc.spawn(cc.scaleTo(.2,1,1),cc.fadeIn(.2)),cc.callFunc(function(){this.title.node.runAction(t.clone()),this.level.node.runAction(t.clone())}.bind(this)),cc.delayTime(.3),cc.callFunc(function(){this.showUpPop()}.bind(this))))):this.level.node.runAction(e),this.lv=operkit.talentUp(this.id),this.setLevel()},showUpPop:function(){menuManager.pop("sub2#/operate/prefab/pop_talent_up",{id:this.id,lv:this.lv})}}),cc._RF.pop()},{}],Joystick:[function(t,e){"use strict";var i,a;cc._RF.push(e,"8073eUgSdBKnpatTUZ8SUA7","Joystick"),cc.Class({extends:cc.Component,init:function(e,n){this.up=this.down=this.left=this.right=!1,i=i||t("Effect_Focus"),a=a||t("Effect_Focus2"),this.dx=0,this.dy=0,this.game=n,this.effectMgr=this.game.effectMgr,this.initJoystick(e),this.initKeyboard(),this.initTouch(),this.schedule(this.update,.1),this.guideState={},this.remindState={},this.guideStateOK={},this.guideText={},this.skillSound=[0,0,0],this.canRemindCircleEffect=!0,this.initWeapon()},updateJoystick:function(t){if(t){this.hero&&(this.hero.onCallReload=null,this.hero.onReloadDone=null),this.hero=t,this.touchListener&&this.touchListener.setEnabled(!0),this.keyListener&&this.keyListener.setEnabled(!0),this.setVisible(!0);var e=t[t.weaponType+"WeaponIndex"];this.equipWeapon(t.weaponType,e),this.hero.onCallReload=this.onCallReload.bind(this),this.hero.onReloadEnd=this.onReloadEnd.bind(this)}else this.touchListener&&this.touchListener.setEnabled(!1),this.keyListener&&this.keyListener.setEnabled(!1),this.setVisible(!1)},initJoystick:function(t){this.hero=t,this.hero.onCallReload=this.onCallReload.bind(this),this.hero.onReloadEnd=this.onReloadEnd.bind(this);var e=new cc.Node;e.opacity=200,e.scale=.8,e.setPosition(visibleRect.bottom(0,220)),e.ox=e.x,e.oy=e.y,1==cc.sys.isMobile&&this.node.addChild(e),(a=this.effectMgr.createSpriteSimple("joystick/btn")).setScale(1),e.addChild(a,2);var i=this.effectMgr.createSpriteSimple("joystick/ctrl_move_bg");i.setScale(1),e.addChild(i,0),i.opacity=205,this.moveBtn=a,this.moveBack=i,this.joystick=e;var a=this.effectMgr.createSpriteSimple("joystick/movebtn_arrow");this.joystick.addChild(a),this.moveBtnArrow=a,this.updateMoveBtnArrow()},updateMoveBtnArrow:function(t){void 0===t&&(t=0),this.moveBtnArrow.angle=-kit.radian2Degree(t),this.moveBtnArrow.x=150*Math.sin(t),this.moveBtnArrow.y=150*Math.cos(t)},initMeleeBtn:function(){var t=new cc.Sprite(SUB_DIR+"res/uiz/ingame/new/melee_btn.png");t.os=1,t.scale=1,t.setPosition(visibleRect.bottomRight(-215,75)),this.addChild(t),this.shotBtn2=t;var e=new cc.Sprite(SUB_DIR+"res/uiz/ingame/new/knife.png");e.scale=.7,e.x=54,e.y=55,t.content=e,t.addChild(e);var i=cc.LabelBMFont.create(0,"res/ui_number.fnt");i.setAnchorPoint(.5,.5),i.scale=.6,i.y=22,i.x=33,t.label=i,t.addChild(i);var a=new cc.Sprite(SUB_DIR+"res/uiz/ingame/switch.png");a.rotation=-90,a.x=20,a.y=55,t.addChild(a),t.switchWeaponBtn=a,(!GuideManager.isFirstLevelFinished()||this.hero.meleeWeaponList.length<2)&&(a.visible=!1);var n=cc.sequence(cc.spawn(cc.fadeOut(.15),cc.scaleBy(.15,1.1)),cc.spawn(cc.fadeIn(.15),cc.scaleBy(.15,1/1.1))).repeat(2);a.runAction(cc.repeatForever(cc.sequence(cc.delayTime(2),n)))},updateSkillBtn:function(){var t=this.hero.skills;for(var e in this.skillBtn)this.skillBtn[e].destroy();if(this.skillBtn=[],t&&!(t.length<1))for(var e in t){var i,a;if(i=t[e].constructor!=AirSupportSkill?WeaponDefine[t[e].config.id].colorPic:SUB_DIR+"res/uiz/weapon/airsupport.png",t[e].constructor!=AirSupportSkill)var n=this.loadSkillBtn(i);else(n=this.loadItemBtn(i)).itemID="air_support",n.updateNum(PlayerData.getItem(n.itemID));a=t[e].constructor!=AirSupportSkill?visibleRect.bottomRight(-215,75):visibleRect.bottomRight(-49,335),n.setPosition(a),this.addChild(n),this.skillBtn[e]=n,this.setSkillCD(e,this.hero.skills[e])}},highlightItemBtn:function(){var t=this.skillBtn[this.skillBtn.length-1];t&&"air_support"==t.itemID&&this.attention(t.x,t.y,80,80)},attention:function(t,e,i,a){var n=new cc.Sprite(SUB_DIR+"res/uiz/guide/press_btn.png"),s=n.getContentSize(),o=Math.min(.8*i/s.width,.8*a/s.height);n.x=t,n.y=e,n.scale=5,n.opacity=255,this.addChild(n);var r=cc.spawn(cc.scaleTo(.5,o),cc.fadeOut(.6)),c=cc.sequence(r,cc.destroySelf());n.runAction(c)},updateItemBtn:function(){var t=this.skillBtn[this.skillBtn.length-1];t&&"air_support"==t.itemID&&t.updateNum(PlayerData.getItem(t.itemID))},loadItemBtn:function(t){var e=new cc.Sprite(SUB_DIR+"res/uiz/main/skill_circle.png");e.oscale=e.scale=.8;var i=new cc.Sprite("res/air_support_btn_bg.png");i.scale=1.2,e.addChild(i,-1),i.x=34,i.y=56,(t=new cc.Sprite(t)).setScale(.91),e.addChild(t),t.x=54,t.y=56;var a=new cc.Sprite(SUB_DIR+"res/uiz/main/lvl_bg.png");a.x=7.28,a.y=63*.91,e.addChild(a,3);var n=cc.LabelBMFont.create(0,"res/ui_number.fnt");return n.x=7.28,n.y=63*.91,n.scale=.3,e.addChild(n,4),e.updateNum=function(t){n.setString(t)},e},loadSkillBtn:function(t){var e=new cc.Sprite(SUB_DIR+"res/uiz/ingame/new/melee_btn.png");return(t=new cc.Sprite(t)).setScale(.91),e.addChild(t),t.x=54,t.y=56,e},initKeyboard:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyPressed,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyReleased,this),setInterval(()=>{this.updateHeroPostion()},30),document.onkeydown=(()=>{this.onKeyPressed()}),document.onkeyup=(()=>{this.onKeyReleased()})},updateHeroPostion:function(e){var i=0,a=0,n=!1;if(this.up&&(a=150,n=!0),this.down&&(a=-233,n=!0),this.left&&(i=-238,n=!0),this.right&&(i=252,n=!0),n){try{this.touch[0]="move"}catch(i){}this.finishGuide("move");var s=kit.norm(i,a),o=s;o>100&&(o=100);try{this.moveBtn.setPosition(i/s*o,a/s*o)}catch(i){}var r=kit.vector2Radian(a,i);try{this.hero.callMove({rad:r,s:1}),this.movePos=t}catch(i){}}},onKeyPressed:function(t){switch(event.keyCode){case cc.macro.KEY.w:this.up=!0;break;case cc.macro.KEY.s:this.down=!0;break;case cc.macro.KEY.a:this.left=!0;break;case cc.macro.KEY.d:this.right=!0}},onKeyReleased:function(t){switch(event.keyCode){case cc.macro.KEY.w:this.up=!1;break;case cc.macro.KEY.s:this.down=!1;break;case cc.macro.KEY.a:this.left=!1;break;case cc.macro.KEY.d:this.right=!1;break;case cc.macro.KEY.space:this.touchSimulation(100,100)}0==this.up&&0==this.down&&0==this.left&&0==this.right&&(this.hero.callMove({rad:this.hero.moveRad,s:.001}),this.onTouchEnded(cc.v2(this.hero.getPosition().x,this.hero.getPosition().y),0))},touchSimulation:function(t,e){let i,a=window._cc?window._cc.inputManager:cc.internal.inputManager;(i=cc.view.getFrameSize()).left=0,i.top=0;let n=cc.view.getViewportRect(),s=cc.view.getScaleX(),o=cc.view.getScaleY(),r=cc.view.getDevicePixelRatio(),c=(t*s+n.x)/r+i.left,h=i.top+i.height-(e*o+n.y)/r,d=cc.v2(c,h);cc.log(`${d.x}, ${d.y}`);let l=a.getTouchByXY(d.x,d.y,i);a.handleTouchesBegin([l]),setTimeout(()=>{a.handleTouchesEnd([l])},200)},initTouch:function(){if(!this.haveInit){var t=this;this.haveInit=!0,this.node.on(cc.Node.EventType.TOUCH_START,function(e){var i=e.getLocation(),a=e.getID();return t.onTouchBegan(i,a)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var i=e.getLocation(),a=e.getID();t.onTouchMoved(i,a)}),this.node.on(cc.Node.EventType.TOUCH_END,function(e){var i=e.getLocation(),a=e.getID();t.onTouchEnded(i,a)}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(e){var i=e.getLocation(),a=e.getID();t.onTouchEnded(i,a)}),this.touch=[],this.noTouch=0}},touchCt:0,onTouchBegan:function(t,e){if(this.noTouch>0)return!1;this.touchCt++,this.joystick.x=t.x,this.joystick.y=t.y;var i=t.x-this.joystick.x,a=t.y-this.joystick.y;if(i*i+a*a<28900&&!this.noMove){if(cc.sys.os!=cc.sys.OS_ANDROID&&cc.sys.os!=cc.sys.OS_IOS||t.x>10&&t.y>10&&t.x+t.y>70){this.touch[e]="move";var n=kit.radian2Degree(kit.vector2Radian(a,i));this.guideStateOK.move="number"!=typeof this.guideMoveDeg||this.isInSector(n),this.updatePos(t),this.finishGuide("move")}return!0}return this.touch[e]||(this.touch[e]="choose"),!0},onTouchMoved:function(t,e){if(this.noTouch>0||"mainmenu"==this.game.state)return!1;if("move"==this.touch[e])if(cc.sys.os!=cc.sys.OS_ANDROID&&cc.sys.os!=cc.sys.OS_IOS||t.x>10&&t.y>10&&t.x+t.y>70){if(this.updatePos(t),"number"==typeof this.guideMoveDeg){var i=t.x-this.joystick.x,a=t.y-this.joystick.y,n=kit.radian2Degree(kit.vector2Radian(a,i));this.guideStateOK.move=this.isInSector(n),this.finishGuide("move")}}else this.resetPos(t),this.guideStateOK[this.touch[e]]=!1,this.mark_direction_yes&&(this.mark_direction_yes.destroy(),this.mark_direction_yes=null),this.mark_direction_no&&(this.mark_direction_no.destroy(),this.mark_direction_no=null),this.touch[e]="cancel";else"cancel"==this.touch[e]&&this.onTouchBegan(t,e)},onTouchEnded:function(t,e){if(this.touchCt--,this.touchCt,this.joystick.x=this.joystick.ox,this.joystick.y=this.joystick.oy,"move"==this.touch[e]&&this.noTouch<=0)this.resetPos(t),this.guideStateOK[this.touch[e]]=!1,this.mark_direction_yes&&(this.mark_direction_yes.destroy(),this.mark_direction_yes=null),this.mark_direction_no&&(this.mark_direction_no.destroy(),this.mark_direction_no=null);else if("shoot"==this.touch[e])this.stopShot(),this.guideStateOK[this.touch[e]]=!1;else if("choose"==this.touch[e])this.checkTarget(t);else if("reload"==this.touch[e])this.reload(),this.reloadBtn.setScale(.8);else for(var i=0;i<3;i++)if(this.touch[e]=="skill_"+i){this.stopSkill(i),this.guideStateOK[this.touch[e]]=!1;break}this.touch[e]=null},reload:function(){this.equipWeapon("range",this.rangeWeaponIndex),this.weaponType="range",this.hero.showReloadEff(),this.hero.callReload(!0)},onCallReload:function(){},onReloadEnd:function(){},enableTouch:function(t){t?this.noTouch--:this.noTouch++,this.enableMove(this.noTouch<=0),this.enableShoot(this.noTouch<=0),cc.log("enableTouch:"+this.noTouch),this.noTouch<=0||(cc.log("resetPos & stopShot"),this.stopShot(),this.resetPos(cc.v2(0,0)))},checkTarget:function(t){var e=this.game.camera.convertToNodeSpaceAR(t),i=this.hero,a=g_sharedContactManager.contactList;for(var n in a){var s=a[n],o=s.x0-e.x,r=s.y0-e.y,c=s.radius+50;if(s.team!==i.team&&o*o+r*r<c*c&&!s.isSensor&&s._isActiveContact)return this.target=s,this.focus.setPosition(s.x0,s.y0),void i.setTarget(s)}this.target=null,i.setTarget(null)},update:function(){if(this.focusNode||(this.focusNode=new cc.Node,this.game.camera.addChild(this.focusNode,2e3),this.focus=this.focusNode.addComponent(i),this.focus.init(this.hero,this.game)),this.focusNode2||(this.focusNode2=new cc.Node,this.game.camera.addChild(this.focusNode2,2),this.focus2=this.focusNode2.addComponent(a),this.focus2.init(this.hero,this.game)),this.target){var t=this.target;this.focus.runMaualAction(t),this.focus2.runMaualAction(t)}else t=this.hero.target,this.focus.runAutoAction(t),this.focus2.runAutoAction(t);!cc.sys.isObjectValid(t)||t.isDead||t.isRemoved?(this.target=null,this.focusNode.active=!1,this.focusNode2.active=!1):(this.focusNode.active=!0,this.focusNode2.active=!0,this.focusNode.setPosition(t.x0,t.y0),this.focusNode2.setPosition(t.x0,t.y0),this.focus2.scale=t.radius/this.focus2.getWidth()*2),this.isReload&&!this.hero.isReload&&this.onReloadEnd(),this.isReload=this.hero.isReload},initX:function(){},shine:function(){},setSkillCD:function(t,e){var i=this.skillBtn[t];i.cdCover&&(i.skill.refreshBtn=null,i.cdCover.destroy(),i.cdCover=null),i.skill=e;var a=e.cdTimer,n=e.castTimer||0,s=e.maxTimer;if(!(a<=0&&n<=0)){var o=new cc.ProgressTimer(new cc.Sprite(SUB_DIR+"res/uiz/ingame/new/ctrl_skill_mask.png"));if(o.setReverseDirection(!0),o.type=cc.ProgressTimer.TYPE_RADIAL,o.scale=1.6,o.setPosition(54,54),o.setOpacity(200),i.addChild(o,2),this.game.bindScheduler(o),e.isCast)var r=cc.sequence(cc.progressFromTo(n,100,100),cc.progressFromTo(a,a/s*100,0),cc.callFunc(function(){e.refreshBtn=null,i.cdCover=null,this.shine(t)},this),cc.destroySelf());else r=cc.sequence(cc.progressFromTo(a,a/s*100,0),cc.callFunc(function(){e.refreshBtn=null,i.cdCover=null,this.shine(t)},this),cc.destroySelf());o.runAction(r),i.cdCover=o,e.refreshBtn=function(t){r.step(t)}}},initWeapon:function(){this.meleeWeaponIndex=0,this.rangeWeaponIndex=0,this.weaponType="melee"},setCanTouchScreen:function(){},updateShotBtnVisible:function(){this.reloadBtn&&(this.reloadBtn.visible=this.shotBtn.visible=this.hero.getWeaponByIndex("range",0)),this.shotBtn2&&(this.shotBtn2.visible=this.hero.getWeaponByIndex("melee",0))},updateWeaponUI:function(t,e){if(this.meleeWeaponIndex=this.hero.meleeWeaponIndex,this.rangeWeaponIndex=this.hero.rangeWeaponIndex,this.weaponType=this.hero.weaponType,"range"==t){var i=this.hero.getWeaponByIndex("range",this.rangeWeaponIndex);this.shotBtn&&this.shotBtn.content.update(null,null,i.define.id),this.shotBtn&&this.shotBtn.content.setColor(cc.color(255,255,255)),e&&(this.shotBtn.content.visible=!0,this.shotBtn.content.runAction(cc.blink(.5,2)))}if("melee"==t&&this.shotBtn2){var a=(i=this.hero.getWeaponByIndex("melee",this.meleeWeaponIndex))&&(i.define.colorPic||i.define.ingameImage);a&&this.shotBtn2.content.setTexture(a),this.shotBtn2.content.setColor(cc.color(255,255,255)),e&&(this.shotBtn2.content.visible=!0,this.shotBtn2.content.runAction(cc.blink(.5,2)))}},equipWeaponById:function(t,e){var i=this.hero.getWeaponIndexById(t,e);return this.equipWeapon(t,i)},equipWeapon:function(t,e){var i=this.hero;this.skillSound[e]=0,cc.log("joystick equipWeapon:"+t+","+e);var a=i.equipWeaponByIndex(t,e,"joystick");a&&this.updateWeaponUI(t),a==Skill.yes&&(this.skillSound[e]=1)},enableWeaponSelectMenu:function(t,e){if(this.weaponSelectMenuEnabled=t,"range"==e&&this.shotBtn||this.shotBtn2)if(t)if("range"==e)if(this.shotBtn.selectMenu)for(var i in this.shotBtn.selectMenu.visible=!0,this.shotBtn.selectMenu.children){(c=this.shotBtn.selectMenu.children[i].label)&&c.setString(this.hero.rangeWeaponList[i].bltCt);var a=this.shotBtn.selectMenu.children[i].label2;a&&a.setString(this.hero.rangeWeaponList[i].getBltPrepared())}else{var n=new cc.Node;for(var i in this.shotBtn.selectMenu=n,this.shotBtn.addChild(n),this.shotBtn.selectMenu.conetent=[],this.hero.rangeWeaponList){var s=this.hero.getWeaponByIndex("range",i),o=new cc.Sprite(SUB_DIR+"res/uiz/ingame/new/item_base.png");n.addChild(o),o.x=-180*Math.floor(i/3)+80,o.y=i%3*105+210,this.shotBtn.selectMenu.conetent.push(o),(d=new cc.Sprite(s.define.colorPic||s.define.ingameImage||SUB_DIR+"res/uiz/ingame/new/gun.png")).scale=.9,d.x=80,d.y=40,o.addChild(d);var r=new cc.Sprite(s.define.bltImage||SUB_DIR+"res/uiz/ingame/new/bullet.png");r.scale=.6,r.x=13,r.y=5,r.setAnchorPoint(.5,0),o.addChild(r);var c,h={fontFilePath:CHR_FNT,fontSize:22,outlineSize:0,shadow:3,glyphs:0,customGlyphs:"",distanceFieldEnable:0};(c=kit.label(h,this.hero.rangeWeaponList[i].bltCt)).scale=1/.6,c.y=37,c.x=33,c.setAnchorPoint(cc.v2(0,.5)),o.label=c,r.addChild(c),h={fontFilePath:CHR_FNT,fontSize:14,outlineSize:0,shadow:3,glyphs:0,customGlyphs:"",distanceFieldEnable:0},(c=kit.label(h,this.hero.rangeWeaponList[i].getBltPrepared())).scale=1/.6,c.y=9,c.x=34,c.setAnchorPoint(cc.v2(0,.5)),o.label2=c,r.addChild(c),c.setColor(cc.color(120,120,120))}}else if(this.shotBtn2.selectMenu)for(var i in this.shotBtn2.selectMenu.visible=!0,this.shotBtn2.selectMenu.children)o=this.shotBtn2.selectMenu.children[i],m=(u=this.game.hero.meleeWeaponList[i]).bltCt/u.bltMax,u.bltMax<0&&(m=0),(f=o.durability).oRect.width=m*f.oWidth,f.setTextureRect(f.oRect),m<.25&&"red"!=f.colorStatus?(f.colorStatus="red",f.setColor(cc.color(255,0,0))):m<.5&&m>=.25&&"yellow"!=f.colorStatus?(f.colorStatus="yellow",f.setColor(cc.color(255,255,0))):m>=.5&&"white"!=f.colorStatus&&(f.colorStatus="white",f.setColor(cc.color(255,255,255))),u.bltCt<=0&&o.sp.setColor(cc.color(255,0,0));else for(var i in(n=new cc.Node).scale=1/.6,this.shotBtn2.selectMenu=n,this.shotBtn2.addChild(n),this.hero.meleeWeaponList){var d;s=this.hero.getWeaponByIndex("melee",i),o=new cc.Sprite(SUB_DIR+"res/uiz/ingame/new/item_base2.png"),n.addChild(o),o.scale=1.2,o.x=-70-110*i,o.y=48,(d=new cc.Sprite(s.define.colorPic||s.define.ingameImage||SUB_DIR+"res/uiz/ingame/new/knife.png")).scale=.55,d.x=45,d.y=35,o.sp=d,o.addChild(d);var l=new cc.Sprite(SUB_DIR+"res/uiz/ingame/new/melee_durability.png");l.rotation=-90,l.scale=.6,l.x=83,l.y=7,l.setAnchorPoint(0,.5),o.addChild(l),o.durability=l,o.durability.oRect=l.getTextureRect(),o.durability.oWidth=o.durability.oRect.width;var u,f,m=(u=this.game.hero.meleeWeaponList[i]).bltCt/u.bltMax;u.bltMax<0&&(m=0),(f=o.durability).oRect.width=m*f.oWidth,f.setTextureRect(f.oRect),m<.25&&"red"!=f.colorStatus?(f.colorStatus="red",f.setColor(cc.color(255,0,0))):m<.5&&m>=.25&&"yellow"!=f.colorStatus?(f.colorStatus="yellow",f.setColor(cc.color(255,255,0))):m>=.5&&"white"!=f.colorStatus&&(f.colorStatus="white",f.setColor(cc.color(255,255,255))),u.bltCt<=0&&d.setColor(cc.color(255,0,0))}else this.shotBtn.selectMenu&&(this.shotBtn.selectMenu.visible=!1),this.shotBtn2.selectMenu&&(this.shotBtn2.selectMenu.visible=!1)},startSkill:function(t){if(this.skillBtn[t].itemID){if(this.hero.skills[t].cdTimer>0)return;if(!PlayerData.useItem(this.skillBtn[t].itemID))return void MenuManager.pop(NoAmmoPopMenu);this.skillBtn[t].updateNum(PlayerData.getItem(this.skillBtn[t].itemID))}var e=this.hero,i=this.skillBtn[t].oscale||1;this.skillBtn[t].setScale(.9*i),this.skillSound[t]=0;var a=e.startSkill(t);if(cc.log("startSkill:"+a),a==Skill.yes)this.setSkillCD(t,e.skills[t]),this.skillSound[t]=1;else if(a==Skill.isAim)(n=this.skillBtn[t]).light&&n.light.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1)).repeatForever());else if(a==Skill.isCharge){var n;(n=this.skillBtn[t]).light&&n.light.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1)).repeatForever())}},stopSkill:function(t){var e=this.hero,i=this.skillBtn[t].oscale||1;this.skillBtn[t].setScale(i),e.stopSkill(t)==Skill.yes&&this.setSkillCD(t,e.skills[t])},updateShot:function(){this.meleeShotActivated&&this.startShot("melee"),this.rangeShotActivated&&this.startShot("range")},startShot:function(t){this.shotAction||(this[t+"ShotActivated"]=!0,this.startShot2(t))},startShot2:function(t){t!=this.weaponType&&(this.equipWeapon(t,this[t+"WeaponIndex"]),this.weaponType=t);var e="range"==t&&this.shotBtn||this.shotBtn2;e.setScale(.9*e.os),this.hero.startAutoAttack(),this.hero.setTarget(this.target),this.shotBtnStatus="start";var i=this.hero.getWeaponByIndex(t,this[t+"WeaponIndex"]);if(i&&i.bltCt<=0&&!i.canReload()){var a={str:"range"==t?"!!":"!!",t:2,e:1,id:1};EventAction.talk(a),SoundManager.playEffect("range"==t&&SoundEffectPath.no_ammo||SoundEffectPath.melee_broken),null!=PlayerData.getItem("air_support")&&(PlayerData.getItem("air_support")>0?this.highlightItemBtn():this.game.hero.skills[this.game.hero.skills.length-1].cdTimer||MenuManager.pop(NoAmmoPopMenu,{noAmmo:!0}))}},stopShot:function(){this.shotBtnStatus="stop",this.meleeShotActivated=!1,this.rangeShotActivated=!1,(this.firstShot||this.hero.isReload)&&this.shotBtnStatus&&(this.firstShot=!1,this.shotBtnStatus=!1,this.shotAction&&(this.stopAction(this.shotAction),this.shotAction=!1),this.shotBtn.setScale(this.shotBtn.os),this.shotBtn2&&this.shotBtn2.setScale(this.shotBtn2.os),this.hero.stopAutoAttack())},resetPos:function(t){if("noUpdate"!=this.lockMoveDirection){this.moveBtn.setPosition(0,0);var e=t&&t.x-this.joystick.x||0,i=t&&t.y-this.joystick.y||0,a=kit.vector2Radian(i,e);this.hero.callMove({rad:a}),this.movePos=!1,this.updateMoveBtnArrow(0)}},updatePos:function(t){if("noUpdate"!=this.lockMoveDirection){var e=t.x-this.joystick.x,i=t.y-this.joystick.y,a=kit.norm(e,i),n=a;n>100&&(n=100),this.moveBtn.setPosition(e/a*n,i/a*n);var s=n/40,o=kit.vector2Radian(i,e);s<.5?this.hero.callMove({rad:this.hero.moveRad,s:.001}):this.hero.callMove({rad:o,s:1}),this.movePos=t,this.updateMoveBtnArrow(o)}},enableMove:function(t){!t!=!!this.noMove&&(t?this.joystick.runAction(cc.sequence(cc.scaleTo(.1,1),cc.scaleTo(.05,.8))):this.joystick.scale=0,this.noMove=!t)},enableShoot:function(t,e){this.enableRange(t,e,!0),this.enableMelee(t,e,!0)},enableRange:function(t,e,i){if(this.shotBtn.visible=!e,!t!=!!this.noShoot){var a=t?-350:350;!i&&this.shotBtn.runAction(cc.moveBy(.3,cc.v2(a,0))),this.reloadBtn.visible=t,this.noShoot=!t}},enableMelee:function(t,e,i){if(this.shotBtn2&&(this.shotBtn2.visible=!e,!t!=!!this.noShoot2)){var a=t?-350:350;!i&&this.shotBtn2.runAction(cc.moveBy(.3,cc.v2(a,0))),this.noShoot2=!t}},enableSkill:function(){},enableAllSkill:function(t,e){this.enableSkill(0,t,e),this.enableSkill(1,t,e),this.enableSkill(2,t,e)},isConditionFinish:function(){var t=!1;for(var e in this.guideState)if(t=!0,!this.guideStateOK[e]){t=!1;break}return t},isInSector:function(){},finishGuide:function(t){if("number"==typeof this["remindTimer_"+t]){var e;switch(t){case"move":break;case"shoot":e=this.shotBtn}e&&e.circleEffect&&(e.circleEffect.destroy(),e.circleEffect=null)}if(this.isConditionFinish()){if(this.lockMoveDirection&&(this.lockMoveDirection="noUpdate"),this.guideMoveDeg=!1,this.guideMoveDegMark&&(this.guideMoveDegMark.destroy(),this.guideMoveDegMark=null),this.mark_direction_yes&&(this.mark_direction_yes.destroy(),this.mark_direction_yes=null),this.mark_direction_no&&(this.mark_direction_no.destroy(),this.mark_direction_no=null),this.cancelGuideBtn(),this.guideState={},"skill_"==t.substring(0,6)){var i=t.substring(6);this.skillBtn[i].clip.setGlobalZOrder(this.skillBtn[i].clip.preZOrder),this.skillBtn[i].cover.setGlobalZOrder(this.skillBtn[i].cover.preZOrder),this.lockMoveDirection&&(this.lockMoveDirection=!1,this.resetPos(this.joystick.x,this.joystick.y))}if(this.guideText)for(var a in this.guideText)this.guideText[a]&&(this.guideText[a].label.destroy(),this.guideText[a].destroy(),this.guideText[a]=null);this.guideFinger&&(this.guideFinger.destroy(),this.guideFinger=null)}},guideBtn:function(t,e,i,a,n){return this.setRemindCircleVisible(!1),this.guideLayer||(this.game.pushTimeScale(0),this.guideLayer=new cc.LayerColor(cc.color(0,0,0)),this.guideLayer.opacity=155,this.guideLayer.target={},this.game.addChild(this.guideLayer),this.guideLayer.setGlobalZOrder(1e5)),t.preZOrder=t.getGlobalZOrder(),t.setGlobalZOrder(1e5+1),this.guideLayer.target[n]=t,this.guideCircleEffect(t,e,i,a),this.guideLayer},cancelGuideBtn:function(){if(this.guideLayer){for(var t in this.game.popTimeScale(0),this.guideLayer.target)this.guideLayer.target[t].setGlobalZOrder(this.guideLayer.target[t].preZOrder),this.guideLayer.target[t].circleEffect&&(this.guideLayer.target[t].circleEffect.destroy(),this.guideLayer.target[t].circleEffect=null);this.guideLayer.destroy(),this.guideLayer=!1,this.setRemindCircleVisible(!0)}},setRemindCircleVisible:function(t){for(var e in this.remindState)if(this.remindState[e]){var i;switch(e){case"move":break;case"shoot":i=this.shotBtn}i.circleEffect&&(i.circleEffect.visible=t)}this.canRemindCircleEffect=t},guideCircleEffect:function(t,e,i,a){if(!t.circleEffect){if(this.game.isGameEnd)return null;e=e||0,i=i||0;var n=t.getContentSize().width,s=new cc.Sprite(SUB_DIR+"res/uiz/guide/press_btn.png"),o=s.getContentSize();a=a||.8,a=n/o.width*a,s.x=o.width/2+e,s.y=o.height/2+i,s.scale=3,s.opacity=255,t.addChild(s),t.circleEffect=s,s.setGlobalZOrder(1e5+.5);var r=cc.spawn(cc.scaleTo(.5,a),cc.fadeOut(.6)),c=cc.delayTime(.5),h=cc.callFunc(function(){s.scale=2.5,s.opacity=0,this.game.isGameEnd&&(s.stopAllActions(),s.destroy(),s=null)}),d=cc.sequence(h,cc.fadeIn(.01),r,c);return s.runAction(cc.repeatForever(d)),s}t.circleEffect.visible=!0},guideCircleEffectOnce:function(t,e,i,a){if(this.game.isGameEnd)return null;e=e||0,i=i||0;var n=t.getContentSize().width,s=new cc.Sprite(SUB_DIR+"res/uiz/guide/press_btn.png"),o=s.getContentSize();a=a||.8,a=n/o.width*a,s.x=o.width/2+e,s.y=o.height/2+i,s.scale=5,s.opacity=255,t.addChild(s),s.setGlobalZOrder(1e5+.5);var r=cc.spawn(cc.scaleTo(.5,a),cc.fadeOut(.6)),c=cc.sequence(r,cc.destroySelf());return s.runAction(c),s},finishMoveAndShoot:function(){this.moveShootSp.runAction(cc.sequence(cc.MoveBy(.3,cc.v2(VIEW_SIZE.width,0)),cc.callFunc(function(){this.game.popTimeScale(0),this.canClickGuideMoveShoot=!1,this.guideShoot(!0,"",300),this.guideMove(!0,""),this.remindMove(5),this.remindShoot(5)},this),cc.destroySelf()))}}),cc._RF.pop()},{Effect_Focus:"Effect_Focus",Effect_Focus2:"Effect_Focus2"}],JumpSkill:[function(t,e){"use strict";cc._RF.push(e,"c340bkoYLxM4pu5vGVMJvpg","JumpSkill"),cc.Class({extends:t("Skill"),cast:function(t){if(this._super())return!0;var e=this.obj;e.setFly(!0),e.attribute,this.obj.playAnim({anim:"attack"}),this.length=this.define.l||400,this.stunTime=this.define.stunTime,this.beforeTimer=this.define.t0,this.jumpTimer=this.define.t1,this.speed=this.length/this.jumpTimer,this.game&&this.game.hero==e&&this.game.controller&&(e.registOnKillCb(this),this.killCt=0,this.killHeroCt=0),this.obj,t&&t.target,e.setNoSkills(!0),e.setNoAttack(!0),e.setNoRotate(!0),e.setNoMove(!0),this.flylen=0,Effect.Smoke(e.x,e.y,this.game);var i=kit.degree2Radian(e.getRotation()),a=this.obj.x0+Math.sin(i)*this.length,n=this.obj.y0+Math.cos(i)*this.length;this.toX=a,this.toY=n,cc.log("actual fly rad",i)},onKill:function(t){this.killCt++,t.isHero&&this.killHeroCt++},excute:function(t){var e=this.obj,i=e.attribute;if(this.beforeTimer>=0)return this.beforeTimer-=t,void(this.beforeTimer<0&&(this.game.effectMgr.play(SoundEffectPath.winston_Jump),i.add("moveSpd",20)));if(this.jumpTimer>=0){var a=t;if(this.jumpTimer-=t,this.jumpTimer<0&&(this.attack(),i.add("moveSpd",-20),a+=this.jumpTimer),e.noMove>1)return;var n=kit.degree2Radian(e.getRotation()),s=this.speed;e.x0+=s*kit.sin(n)*a,e.y0+=s*kit.cos(n)*a,this.flylen+=kit.norm(s*kit.sin(n)*a,s*kit.cos(n)*a)}},onCover:function(t,e,i,a){var n=this.define,s=n.r0,o=n.k,r=n.dmg,c=-n.kb,h=this.define.buff,d=s+t.radius,l=Math.sqrt(e);if(l<d)t.hurt(r,this,DMG_TYPE.explo);else{var u=r-o*(l-d);u<0&&(u=0),t.hurt(u,this,DMG_TYPE.explo)}h&&new h.ctor(h,{obj:t}),t.knockback(c*i/(l*t.weight),c*a/(l*t.weight))},attack:function(){var t=this.define,e=this.obj.x,i=this.obj.y,a=this.obj,n=t.dmg;for(var s in this.define.seq)Ammofactory(a,t.blt,{x:e,y:i,obj:a,te:a.team,deg:this.define.seq[s].deg,dmg:n},this.game);Effect.Spawn(a.x,a.y,a,this.game,1)},end:function(){this._super();var t=this.obj,e=t.attribute;t.setNoSkills(!1),t.setNoAttack(!1),t.setNoRotate(!1),t.setNoMove(!1),cc.log("JumpSkill actual pos:"+this.obj.x0,this.obj.y0),t.playAnim(),t.setFly(!1),this.beforeTimer<0&&this.jumpTimer>=0&&e.addScale("moveSpd",-2),this.game&&this.game.hero==t&&this.game.controller&&t.unregistOnHitCb(this),cc.log("JumpSkill actual flylen:"+this.flylen)}}),cc._RF.pop()},{Skill:"Skill"}],Knife_doctor:[function(t,e){"use strict";cc._RF.push(e,"8663589Qw9PSb684a6O80MH","Knife_doctor");var i=cc.Class({extends:t("Ammo"),init:function(t,e,i){this._super(t,e,i);var a=kit.degree2Radian(this.obj.getRotation());this.knockBackX=this.knockBack*kit.sin(a),this.knockBackY=this.knockBack*kit.cos(a)},initSprite:function(){},onCover:function(t){var e=t.x,i=t.y;this.obj.hit(this.dmg,this,t);var a=1/t.weight;if(t.knockback&&t.knockback(this.knockBackX*a,this.knockBackY*a),this.game.fastMode||Effect.Slash(t,e,i),this.effectMgr.play(SoundEffectPath.knife_doctor_weapon),t.buffList){var n=this.buff;n&&(!n.chance||Math.random()<n.chance)&&new n.ctor(n,{obj:t,from:this.obj});for(var s=this.buffs,o=0;o<s.length;o++)new s[o].ctor(s[o],{obj:t,from:this.obj})}},updateLogic:function(){g_sharedContactManager.checkAliveEnemy(this,this.x,this.y,this.radius,this.team,this.onCover),this.remove()}});e.exports=i,cc._RF.pop()},{Ammo:"Ammo"}],Knife:[function(t,e){"use strict";cc._RF.push(e,"76da2GzqydD+ocr+/gNuWz6","Knife");var i=cc.Class({extends:t("Ammo"),init:function(t,e,i){this._super(t,e,i);var a=kit.degree2Radian(this.obj.getRotation());this.knockBackX=this.knockBack*kit.sin(a),this.knockBackY=this.knockBack*kit.cos(a)},initSprite:function(){},onCover:function(t){var e=t.x,i=t.y;this.obj.hit(this.dmg,this,t);var a=1/t.weight;t.knockback&&t.knockback(this.knockBackX*a,this.knockBackY*a),this.game.fastMode||Effect.Slash(t,e,i),this.effectMgr.play(SoundEffectPath.knife_weapon)},updateLogic:function(){g_sharedContactManager.checkAliveEnemy(this,this.x,this.y,this.radius,this.team,this.onCover),this.remove()}});e.exports=i,cc._RF.pop()},{Ammo:"Ammo"}],LaserEffect:[function(t,e){"use strict";cc._RF.push(e,"44fa4OGI7RNTJ/9Rok+o1LM","LaserEffect"),cc.Class({extends:t("RedDot"),init:function(t,e){cc.Node.prototype.ctor.apply(this,arguments);var i=game.effectMgr.createSprite(130,130,"effect/aimBlue");i.setAnchorPoint(.5,0),this.sp=i,this.node.addChild(this.sp),this.setOwner(t),this.baseHeight=i.getContentSize().height-35,this.scheduleUpdate(),this.range=e||555},hitEffect:function(t,e,i,a){Effect.ShootSmoke(t,e,i,a)},checkLineBlocked:function(t,e,i,a){for(var n=g_sharedContactManager,s=i-t,o=a-e,r=kit.norm(s,o)/30,c=0;c<=r;c++){var h=t+s*c/r,d=e+o*c/r,l=n.getCXY(h,d);if(!n.canPlace(l.x,l.y))return cc.v2(h,d);for(var u=0;u<n.contactList.length;u++){var f=n.contactList[u];if(f.team!=this.owner.team&&kit.norm(h-f.x,d-f.y)<=f.radius)return f}}},update:function(t){if(this.enable){this.alwaysOpen||(this.timer-=t),this.timer<0&&this.deactivate();var e=kit.degree2Radian(this.rotateOwner.angle);this.angle=this.rotateOwner.angle;var i=this.owner.x0+kit.sin(e)*this.range,a=this.owner.y0+kit.cos(e)*this.range,n=this.owner.x0,s=this.owner.y0,o=this.checkLineBlocked(n,s,i,a);if(o&&kit.timer(this,"effect",.05,t)){var r=kit.radian2Degree(kit.vector2Radian(a-s,i-n));this.hitEffect(o.x,o.y,r,this.game)}var c=o&&kit.norm(o.x-n,o.y-s)||this.range;this.sp.setScaleY(c/this.baseHeight)}},setOwner:function(t){t.addChild(this,1),this.owner=t,this.rotateOwner=t},setRotateOwner:function(t){this.rotateOwner=t}}),cc._RF.pop()},{RedDot:"RedDot"}],LaserManager:[function(t,e){"use strict";cc._RF.push(e,"d81cbH5sqpAhYBVSOiGR1oa","LaserManager"),cc.Class({extends:cc.Component,init:function(t,e){cc.Node.prototype.ctor.apply(this,arguments),this.game=e,this.effectMgr=this.game.effectMgr;var i=this.effectMgr.createSprite(0,0,"effect/aimBlue");i.setAnchorPoint(.5,0),this.sp=i,this.node.addChild(this.sp),this.setOwner(t),this.baseHeight=i.getContentSize().height-35,this.scheduleUpdate()},setBlt:function(t){this.blt=t,this.range=t.flyDistance||555},hitEffect:function(t,e,i,a){Effect.ShootSmoke(t,e,i,a)},activate:function(t,e,i){return this.setBlt(t),this.enable=!0,this.timer=e,this.alwaysOpen=i,this.sp.visible=!0,!0},deactivate:function(){this.enable=!1,this.sp.visible=!1,this.blt=!1},checkLineBlocked:function(t,e,i,a){for(var n=g_sharedContactManager,s=i-t,o=a-e,r=kit.norm(s,o)/30,c=0;c<=r;c++){var h=t+s*c/r,d=e+o*c/r,l=n.getCXY(h,d);if(!n.canPlace(l.x,l.y))return cc.v2(h,d);for(var u=0;u<n.contactList.length;u++){var f=n.contactList[u];if(f.team!=this.owner.team&&kit.norm(h-f.x,d-f.y)<=f.radius)return this.blt.x=f.x,this.blt.y=f.y,this.blt.hit(f,1),f}}},update:function(t){if(this.enable){this.alwaysOpen||(this.timer-=t),this.timer<0&&this.deactivate();var e=kit.degree2Radian(this.rotateOwner.node.angle);this.node.angle=this.rotateOwner.node.angle;var i=this.owner.x0+kit.sin(e)*this.range,a=this.owner.y0+kit.cos(e)*this.range,n=this.owner.x0,s=this.owner.y0,o=this.checkLineBlocked(n,s,i,a);if(kit.timer(this,"effect",.05,t)){var r=kit.radian2Degree(kit.vector2Radian(a-s,i-n));o?this.hitEffect(o.x,o.y,r,this.game):this.hitEffect(i,a,r,this.game)}var c=o&&kit.norm(o.x-n,o.y-s)||this.range;this.sp.setScaleY(c/this.baseHeight)}},setOwner:function(t){t.addChild(this,1),this.owner=t,this.rotateOwner=t},setRotateOwner:function(t){this.rotateOwner=t}}),cc._RF.pop()},{}],Laser:[function(t,e){"use strict";cc._RF.push(e,"fabd80X+FpJ9rUx3iDNLMIZ","Laser");var i=cc.Class({extends:t("Bullet"),move:function(){},updateLogic:function(t){this.dx=this.spdX*t,this.dy=this.spdY*t,this.updateSprite(t),this.timer<=0&&this.remove("maxLength"),this.timer-=t},updateBullet:function(t){var e=g_sharedContactManager,i=e.contactList,a=i.length,n=this;if(n._isActiveContact){var s=n.x,o=n.y,r=n.hw,c=n.hh,h=n.lx,d=n.ly,l=n.length,u=n.radius,f=1/(l*l);n._isFirstCheck||(s+=n.dx,o+=n.dy);var m=s+h,p=o+d;n.x=s,n.y=o;var g=n.ignoreWall,v=Math.floor(s/CELL_W),b=Math.floor(o/CELL_H),k=Math.floor(m/CELL_W),y=Math.floor(p/CELL_H);if(e.canPlaceBullet(k,y,g)){var S=!0;if(0!=h&&v!=k)for(var _=v-k>0?1:-1,x=Math.abs(v-k),w=1;w<=x;w++){var B=k+w*_;if(h<0)var C=B*CELL_W;else C=(B+1)*CELL_W;var A=p+(C-m)*d/h,T=Math.floor(A/CELL_H);if(!e.canPlaceBullet(B,T,g)){h=m-(s=C),d=p-(o=A),r=Math.abs(.5*h),c=Math.abs(.5*d),n.hitWall(s,o),S=!1;break}}if(S&&0!=d&&b!=y){var D=b-y>0?1:-1,q=Math.abs(b-y);for(w=1;w<=q;w++){var M=y+w*D;if(d<0)var E=M*CELL_H;else E=(M+1)*CELL_H;var R=m+(E-p)*h/d,I=Math.floor(R/CELL_H);if(!e.canPlaceBullet(I,M,g)){h=m-(s=R),d=p-(o=E),r=Math.abs(.5*h),c=Math.abs(.5*d),n.hitWall(s,o);break}}}}else n.hitWall(m,p,!0);for(var O=0;O<a;O++){var N=i[O];if(!N.canNotHurt&&N._isActiveContact&&n.team!=N.team){var L=N.x0,F=N.y0,P=N.radius;if(Math.abs(L-s-.5*h)<r+P+u&&Math.abs(F-o-.5*d)<c+P+u){var H=((L-s)*h+(F-o)*d)*f;if(H>1?H=1:H<0&&(H=0),(x=s+H*h-L)*x+(q=o+H*d-F)*q<(P+u)*(P+u)&&n.hit(N,H))break}}}n._isFirstCheck&&(n._isFirstCheck=!1,n.lx=-n.spdX*t,n.ly=-n.spdY*t,n.hw=Math.abs(.5*n.lx),n.hh=Math.abs(.5*n.ly),n.length=n.speed*t)}},initSprite:function(){this.sprite=!0},updateSprite:function(){},removeSprite:function(){},blockEffect:function(){}});e.exports=i,cc._RF.pop()},{Bullet:"Bullet"}],LevelLayer:[function(t,e){"use strict";cc._RF.push(e,"5c8cbEikPVIV6qZWuKsugPu","LevelLayer"),window.DropBoxLevel=[[3,9,12,19,25,26,34,39,41,49,55,58,65,67,75,76,81,87,91,98],[4,8,13,16,23,27,31,37,45,50,52,56,64,67,71,78,82,86,92,97],[3,6,14,17,22,28,32,39,45,47,53,56,64,69,74,79,84,89,95,96],[4,7,11,16,24,28,35,39,44,46,51,59,62,67,72,80,84,87,92,99],[5,9,14,20,22,26,32,36,41,48,51,60,64,66,74,76,83,88,93,100]],window.CheckDropArr=3,window.Hero_X=420,window.Hero_Y=300;var i=t("./Theme"),a=t("EffectManager");t("ContactManager"),t("Platformsdk"),t("SoundManager");var n,s,o=t("LevelManager");cc.game.on(cc.game.EVENT_HIDE,function(){console.log("EVENT_HIDE")}),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("EVENT_SHOW")});var r=cc.Class({extends:cc.Component,properties:{gameCamera:cc.Node},onLoad:function(){console.log("LevelLayer start"),this.map,this.refreshBorder(),this.initBlackBorder(),this.onceKilledCount=0,this.onceKilledCountMax=0,this.startMainMenu(),this.initBg(),console.log("LevelLayer init finish")},screenShot:function(){var t=cc.Canvas.instance.node,e=new cc.Node;e.parent=t;var i=e.addComponent(cc.Camera);e.y=this.gameCamera.y,i.cullingMask=2;var a=new cc.Node;a.parent=t;var n=a.addComponent(cc.Camera);n.cullingMask=1;var s=new cc.RenderTexture,o=cc.game._renderContext;s.initWithSize(cc.visibleRect.width,cc.visibleRect.height,o.STENCIL_INDEX8),i.targetTexture=s,n.targetTexture=s,i.render(),n.render(),s.readPixels(),e.destroy(),a.destroy();var r=this.effectMgr.createSpriteWithTexture2D(s);return r.scaleX=1,r.scaleY=-1,r.x=VIEW_SIZE.width/2,r.y=VIEW_SIZE.height/2,this.node.addChild(r,999),cc.log("-----",r,r.convertToWorldSpaceAR(cc.v2(0,0))),r.opacity=0,r.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){this.opacity=255},r))),r},clear:function(){},init:function(e,i){this.gameManager=i,console.log("LevelLayer init"),t("Hero"),t("NewDropBox"),this.gameManager=e.gameManager,t("InGameUI"),n=t("Joystick"),s=t("EventManager"),this.config=e,cc.log("----------------",this.config),this.updateList=[],this.deadBodies=[],this.updateCameraList=[],this.gameEndSwitch=[!1],this.allEntity={},this.deadCounter=[0,0],this.time=0,this.moneyGain=0,this.itemGain={},this.canPlaceDefenceWork=!0,this.skpressct=0,this.firstTimeHere=!0,this.guideTime=0,this.Sec_Menu_Num=0,this.map=this.config.map,this.eventMgr=new s,this.effectMgr=new a,this.effectMgr.initMap(this),this.initScheduler();var o=this.config.lvl;this.lvl=o,this.initLayers(),this.initCamera(),this.initMap()},gainItem:function(t,e){void 0===e&&(e=1),this.itemGain[t]||(this.itemGain[t]=0),this.itemGain[t]+=e,cc.log("",t,e)},initMap:function(){this.eventMgr.initMap(this,this.map),g_sharedContactManager.init(this),cc.log("initMap",this.map),g_sharedContactManager.initMap(this,this.map),this.contactMgr=g_sharedContactManager,this.levelMgr=new o,this.levelMgr.initMap(this,this.map,this.config.power,this.config.loadGame),this.initHero(this.map.entity)},start:function(){this.testStart()},startGuide:function(){var t=propkit.getGuideStep();t>=3&&t<5?(propkit.setGuideStep(11),this.ReStart()):t>=6&&t<10?(propkit.setGuideStep(6),isSoundOpened&&this.effectMgr.playMusic(BGMPath.campfire,!0),this.startMainMenu()):t>=10?2==this.lvl?(this.NewPlayerGuide("props/text/startgame",333,this.lvl),isSoundOpened&&this.effectMgr.playMusic(BGMPath.campfire,!0)):this.ReStart():(propkit.setGuideStep(5),this.NewPlayerGuide("props/text/startgame",666,this.lvl),isSoundOpened&&this.effectMgr.playMusic(BGMPath.campfire,!0)),this.checkUpdate()},getCurrentLv:function(){return this.lvl},SynShowCollecitonPop:function(){},setHadTouchScreen:function(){this.touchScreen=!0},updateTouchScreen:function(t){this.touchScreen=t},testStart:function(){cc.log("testStart")},startFight:function(){cc.log("startFight"),"fight"!=this.state&&(this.ChooseLayer&&(this.ChooseLayer=null),this.finishNewGuide(),this.skillbutton&&this.skillbutton.setSkillCanTouch(),this.touchScreen=!1,this.controller.setCanTouchScreen(),this.camera.stopAllActions(),this.state="fight",this.weaoponDropCt=1,this.inGameUi.updateProgress(),this.controller.visible||(this.controller.visible=!0),this.inGameUi.visible||(this.inGameUi.visible=!0),this.alreadyRevived=!1,this.controller.initTouch())},checkUpdate:function(){var t=this;if(window.wx){var e=wx.getUpdateManager();e.onCheckForUpdate(function(t){console.log("",t.hasUpdate)}),e.onUpdateReady(function(){t.popUpdate(function(){e.applyUpdate()}),t.pushTimeScale()})}},popUpdate:function(t){btn.on(cc.Node.EventType.TOUCH_END,function(){t()},this)},createSysLabel:function(t,e){var i=new cc.Node,a=i.addComponent(cc.Label);return a.string=t,a.fontSize=e,i},startMainMenu:function(t){window.wx&&wx.triggerGC(),this.controller&&this.controller.stopShot(),this.skillbutton&&this.skillbutton.setSkillCannotTouch(),this.moneyCollect=0,this.state="mainmenu",this.hero.refillBlt(),t?this.ReviveHero(1):this.ReviveHero(.5),this.hero.moveRad=0,this.lvl%5==0&&this.scheduleOnce(function(){},1),this.bossHpFrameCt=0,this.skillbutton&&this.skillbutton.refreshLockStatus(),this.startFight()},ReStart:function(t){for(var e in window.wx&&wx.triggerGC(),this.controller&&this.controller.stopShot(),this.initJumpGameLogo(),this.touchScreen=!1,cc.audioEngine.stopAll(),isSoundOpened&&this.effectMgr.playMusic(BGMPath.campfire,!0),this.moneyCollect=0,g_sharedContactManager.contactList){var i=g_sharedContactManager.contactList[e];i==this.hero||i.define.defenceWork||i.remove("clean"),this.hero.isDead&&i.define.defenceWork&&i.remove("clean")}this.controller.resetPos(),this.hero.refillBlt(),t?this.ReviveHero(1):this.ReviveHero(.5),this.hero.moveRad=0,this.lvl%5==0&&this.scheduleOnce(function(){},1),this.bossHpFrameCt=0,this.skillbutton&&this.skillbutton.setSkillCanTouch(),this.touchScreen=!1,this.controller.setCanTouchScreen(),this.effectMgr.play(SoundEffectPath.call_incoming),this.state="fight",this.weaoponDropCt=1,this.moneyGain=0,this.inGameUi.setDay(),this.inGameUi.updateProgress(),this.controller.active||(this.controller.active=!0),this.inGameUi.active||(this.inGameUi.active=!0),this.alreadyRevived=!1,this.CheckDropArray(),this.skillbutton&&this.skillbutton.refreshLockStatus()},getBossTotalHp:function(t){var e=t.hpMax,i=this.levelMgr.hpScale;return(e+this.getSplitHp(t.define)-t.define.hp)*i},getSplitHp:function(t){var e=t.split,i=t.hp;if(e)for(var a=e.n||1,n=1;n<=a;n++){var s=ENTITYS[e.id];i+=this.getSplitHp(s)}return i},onBossSpawn:function(e){var i=0;window.WIDE_SCREEN&&(i-=50);var a=t("BossHpFrame");this.bossHpFrameCt||(this.bossHpFrameCt=0),e.isBoss=!0;var n=e.define.name||"boss",s=new a(e,n);s.init(e,n,this),s.setHpMax(this.getBossTotalHp(e)),s.x=VIEW_SIZE.width/2,s.y=VIEW_SIZE.height-120-50*this.bossHpFrameCt+i,this.inGameUi.node.addChild(s,1e5),e.bossFrame=s,cc.log("onBossSpawn",s.convertToWorldSpace(cc.v2(0,0))),this.bossHpFrameCt++,this.enableExpFrame(!1)},enableExpFrame:function(t){this.gameManager&&this.gameManager.expFrame.enableVisible(t)},ReviveHero:function(t){if(this.hero.isDead){this.defenceWork?this.defenceWork.realsetHp(.25):this.canPlaceDefenceWork=!0;var e=t||.5;this.hero.revive(e),this.hero.heal(.5)}},getLevelMoney:function(){var t=100;return this.lvl>30?t=22704709*Math.pow(2.718,.2*(this.lvl-30)):this.lvl>6&&this.lvl<=30?t=47477*Math.pow(2.718,.255*(this.lvl-6)):this.lvl<=6&&LevelData[this.lvl]&&LevelData[this.lvl].dropMoney&&(t=LevelData[this.lvl].dropMoney),t},CreateChooseLayerNode:function(){},CreateDeathLayer:function(){this.controller.setCannotTouchScreen(),this.SynthesisLayer.showDayEndPop(2),this.inGameUi.setDead(),this.initInsertAd()},initSettingButton:function(){this.settingButton||(this.settingButton=this.effectMgr.createSprite(30,cc.winSize.height-110,"Setting/button"),this.node.addChild(this.settingButton,2),this.settingButton.on(cc.Node.EventType.TOUCH_END,this.showSetting,this))},showSetting:function(){this.settingMenu||(this.settingMenu=new cc.Node,this.settingMenu.setPosition(0,450),this.synthesis.addChild(this.settingMenu,2),this.settingMenu.addComponent(SettingMenu).init(this))},closeSetting:function(){this.settingMenu&&(this.settingMenu.destroy(),this.settingMenu=null)},initJumpGameLogo:function(){},showJumpGameMenu:function(){},showNewJumpGameMenu:function(){if(!(this.lvl<=3||this.hadShowNewJump)){if(this.newJumpNode)var t=this.newJumpNode.getComponent("NewjumpGameMenu");else this.newJumpNode=this.synthesis.getChildByName("newJump"),(t=this.newJumpNode.getComponent("NewjumpGameMenu")).init(this);t.ShowPop(),this.newJumpNode.zIndex=1200,this.hadShowNewJump=!0}},closeNewJumpGameMenu:function(){if(this.newJumpNode){var t=this.newJumpNode.getComponent("NewjumpGameMenu");t&&(t.CloseSelf(),this.hadShowNewJump=!1)}},updateSecMenuNum:function(t){this.Sec_Menu_Num+=t,this.updateSecMenu()},updateSecMenu:function(){this.Sec_Menu_Num<=0?(this.Sec_Menu_Num=0,this.initInsertAd(),this.closeNewJumpGameMenu()):this.showNewJumpGameMenu()},CloseJumpGameMenu:function(){},NewPlayerGuide:function(){},NewGuideTouch:function(){this.finishNewGuide(),this.inGameUi.ReMoveGuideNode()},finishNewGuide:function(){},checkNewTouchScreenOrNot:function(){this.touchScreen||this.scheduleOnce(function(){this.initGuideFinger("",1)},12)},initGuideFinger:function(){},HideDarkAndGuideFinger:function(){this.unschedule(this.HideDarkAndGuideFinger),this.GuiderFinger&&(this.GuiderFinger.active=!1),this.GuideCircle&&(this.GuideCircle.active=!1),this.Guidelab&&(this.Guidelab.active=!1),this.GuidelabBG&&(this.GuidelabBG.active=!1)},ShowDarkAndGuidFinger:function(){this.GuiderFinger&&(this.GuiderFinger.active=!0),this.GuideCircle&&(this.GuideCircle.active=!0),this.Guidelab&&(this.Guidelab.active=!0),this.GuidelabBG&&(this.GuidelabBG.active=!0)},initLayers:function(){this.controllerLayer=new cc.Node,this.controllerLayer.anchorX=0,this.controllerLayer.anchorY=0,this.controllerLayer.width=672,this.controllerLayer.height=1136,this.node.addChild(this.controllerLayer,1550);var t=new cc.Node;this.node.addChild(t,1600),cc.log("ingameui",t.y,t.convertToWorldSpaceAR(cc.v2(0,0)),t.convertToWorldSpace(cc.v2(0,0))),this.inGameUi=t.addComponent("InGameUI"),this.inGameUi.init(this)},moveInfoSection:function(t,e){this.inGameUi.infoMgr.move(t),e&&this.node.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){this.inGameUi.infoMgr.move(-t)},this)))},addToUI:function(t,e,i,a){i&&window.WIDE_SCREEN&&(t.y-=50),this.inGameUi.node.addChild(t,e),a&&this.inGameUi.infoMgr.add(t);var n=this.inGameUi.node.convertToNodeSpace(t);t.x=n.x*this.node.scale,t.y=n.y*this.node.scale},addWidet:function(t,e,i,a,n){var s=t.addComponent(cc.Widget);return s.isAlignTop=!!e,s.isAlignBottom=!!i,s.isAlignLeft=!!a,s.isAlignRight=!!n,s},setUpdateScale:function(t){this.updateScale=t},initSynthesisLayer:function(){var t=cc.Canvas.instance.node;this.synthesis=t.getChildByName("synthesis"),this.SynthesisLayer=this.synthesis.getComponent("SynthesisLayer")},PreparePool:function(){},freeTalentLocked:function(){this.talentLocked=!1},popTalentMenu:function(){if(!this.talentMenu){this.talentMenu=!0;var t=new TalentMenu;t.init(this),t.setPosition(.5*cc.winSize.width,280),this.synthesis.addChild(t,1200)}},showPopTip:function(t){var e=new cc.Node;this.synthesis.addChild(e,1300);var i=this.addWidet(e,null,null,!0,!0);i.left=0,i.right=0,e.setPosition(.5*cc.winSize.width,280);var a=this.effectMgr.createSprite(0,3,"props/bd_toast");e.addChild(a);var n=this.createSysLabel(t,30);e.addChild(n),e.runAction(cc.sequence(cc.delayTime(2),cc.destroySelf()))},updateGoldNum:function(){},initController:function(){this.controller=this.controllerLayer.addComponent(n),this.controller.init(this.hero,this)},addEntity:function(t,e){this.camera.addChild(t,e||0)},shuffle:function(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),a=[t[e],t[i]];t[i]=a[0],t[e]=a[1]}},nextLevel:function(){this.gameManager&&!this.nextingLevel&&(this.nextingLevel=!0,this.gameManager.nextLevel())},whiteFlash:function(t){if(this.whiteBlock){var e=this.whiteBlock;this.whiteBlock.getComponent(cc.Sprite),this.whiteBlock.width=cc.winSize.width,this.whiteBlock.height=cc.winSize.height}else(e=this.effectMgr.createSprite(0,0,"white_block",null,function(t,e){e.type=cc.Sprite.Type.SLICED})).sprite.onLoad=function(){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.node.x=this.node.width/2,this.node.y=this.node.height/2},this.node.addChild(e,12345);t=t||.05,e.opacity=0,e.runAction(cc.sequence(cc.fadeTo(t,255),cc.fadeTo(t,0)))},createAutoLevelPart:function(t,e,i,a,n){var s=[],o=t.content,r=t.power,c=t.fixed,h=t.massiveIncoming;for(var d in h&&!a.massiveIncoming&&(a.massiveIncoming=i),t.unitLimit&&(a.unitLimit||(a.unitLimit={}),a.unitLimit[i-1]=t.unitLimit),o){var l=o[d].i,u=o[d].n,f=o[d].boss,m=ENTITYS[l].power||ENTITYS[l].hp/10,p=o[d].drop,g=o[d].x,v=o[d].y,b=Math.floor(r/m);if("number"==typeof u)var k=(-1==u||b<u)&&b||u;else{if(b>=u[1]&&(b=u[1]),b<u[0])var y=b;else y=u[0];k=kit.rndInt(y,b)}for(var S=1;S<=k;S++)t={i:l},f&&(t.boss=f),p&&(t.drop=p),g&&v&&(t.spawnEff="WormOut"),o[d].wormout&&(g=kit.rndInt(1,n[0]-1)*CELL_W,v=kit.rndInt(1,n[1]-1)*CELL_H),g&&(t.x=g),v&&(t.y=v),t.d=o[d].fromDeg,t.deg=o[d].deg,s.push(t),r-=m}return c||this.shuffle(s),s},unitConfigFactory:function(t,e,i,a){var n=e.fromDeg,s=Math.floor(e.power/5);s+=Math.random()<e.power/5-Math.floor(e.power/5)?1:0;for(var o=i.length,r=Math.floor(o/s),c={},h=1;h<=s;h++)c[kit.rndInt(r*(h-1),r*h-1)]=!0;var d=e.dt||1,l=0;for(var h in i)i[h].boss&&(l+=0!=h?2.5:.5),i[h].t=h*d+.5+l,i[h].stage=t,null!=n&&null==i[h].d&&(i[h].d=n),a.push(i[h])},initBg:function(){this.theme=new i,this.theme.initMap(this,this.map)},initHero:function(){cc.log("initHeroes");var t=this.hero;if(!t){var e=ENTITYS.k,i=(e.ctor,{me:1,i:"k",team:0,x:this.map.config.width/2*CELL_W,y:150});t=this.levelMgr.createObject(e,i,null,!0,!0,!0,!0),this.hero=t}t.x=this.map.config.width/2*CELL_W,t.y=150,this.initController(),this.inGameUi.initBuff(t),t.seekTarget(),this.updateCamera(0,!0),this.initMapEquipment()},initMapEquipment:function(){if(cc.log("initMapEquipment",this.map),!this.gameManager){var e=t("Weapon"),i=EquipDefine.getE1Attrs(this.map.config.weapon||"1001");cc.log("equipment attr",i);var a=this.hero,n={};if(i){var s=!i.alreadyInit;for(var o in i.equipBonus&&i.atkDmg&&(i.atkDmg.v*=1+i.equipBonus.v,i.hpMax.v*=1+i.equipBonus.v),delete i.equipBonus,i){var r=i[o];"weaponId"!=o&&"buff"!=o&&"alreadyInit"!=o&&("weapon"==r.type?n[o]=r.v:(cc.log("initEquipment add stat",o,r.v),s&&("hurtScale"!=o&&"recoilScale"!=o||(r.v=-r.v),"bltAtkScale"==o&&(r.v-=1)),a.attribute.add(o,r.v)||a.attribute.init(o,r.v)))}if(i&&i.buff)for(var o in i.buff)cc.log("initEquipment add buff",i.buff[o]),a.setBuffById(i.buff[o].id,i.buff[o].v);if(i&&i.weaponId){var c=new e;cc.log("weaponCfg",n),c.init(WeaponDefine[i.weaponId],n),a.equipWeapon(c)}i.alreadyInit=!0}a.bltBar&&a.bltBar.updateBaseBltCt()}},changeCamera:function(t){this.hero=t},changeController:function(){this.controller&&(this.controllHero?(this.controllHero=null,this.hero.setAIEnabled(!0),this.controller.updateJoystick()):(this.controllHero=this.hero,this.hero.setAIEnabled(!1),this.controller.updateJoystick(this.hero)))},onWin:function(){this.controller&&this.hero&&this.config.modeType,this.config.onWin&&this.config.onWin()},onFail:function(){this.config.onFail&&this.config.onFail()},addTeammate:function(t){this.teamMate.push(t)},addDropUnlock:function(t){this.dropUnlock.push(t)},initBackground:function(t){LevelBgDefine[t]&&(t=c(LevelBgDefine[t][kit.rndInt(0,LevelBgDefine[t].length-1)])),console.log("initBackground:"+t);var e=g_sharedContactManager.getBorder();t="zombie_block/bg";var i=this.effectMgr.createSprite(.5*e.right,.5*e.top,t||"res/ground.png",null,function(t,e){e.type=cc.Sprite.Type.TILED});this.camera.addChild(i,-11111),i.sprite.texture;var a=this.effectMgr.createSprite(.5*e.right,.5*e.top,"zombie_block/shadow",null,function(t,e){e.type=cc.Sprite.Type.TILED});this.camera.addChild(a,111),this.bg=i},initBlackBorder:function(){this.borderOffset=0},resetBlackBorder:function(){},initImages:function(t){this.images=[];for(var e=this.hero&&this.hero.getLocalZOrder()||1e3,i=0;i<t.length;i++){var a=this.effectMgr.createSprite(t[i].x,t[i].y,LevelImageDefine[t[i].i].src),n=(t[i].fx,t[i].fy?-1:1);a.scale=(t[i].sx,(t[i].sy||1)*n),a.angle=-(t[i].ro||0),a.opacity=null==t[i].op?255:t[i].op,216==t[i].i?this.camera.addChild(a,0):this.camera.addChild(a,e+(t[i].z||0)),a.id=t[i].id,this.images.push(a)}this.initDark()},initDark:function(){},getImg:function(t){for(var e in this.images)if(t==this.images[e].id)return this.images[e]},startGame:function(){this.mainmn.startGame()},newEquipWeapon:function(t){this.hero.newEquipWeapon(t)},initScheduler:function(){var t=this._gameScheduler=new cc.Scheduler,e=cc.director._scheduler;this._gameActionManager=new cc.ActionManager,t.scheduleUpdate(this._gameActionManager,cc.Scheduler.PRIORITY_SYSTEM,!1);var i=dragonBones.CCFactory.getInstance();e.unscheduleUpdate(i),this.baseTimeScale=1,this.minTimeScale=1,this.timeScale=1,this.timeScaleStack=[]},bindScheduler:function(){},setTimeScale:function(t){this.baseTimeScale=t,this.timeScale=t*this.minTimeScale},pushTimeScale:function(t){t=t||0,this.timeScaleStack.push(t),t<this.minTimeScale&&(this.minTimeScale=t,this.timeScale=this.baseTimeScale*t)},popTimeScale:function(t){t=t||0;for(var e=this.timeScaleStack,i=0;i<e.length;i++)if(e[i]==t){e.splice(i,1);break}if(t<=this.minTimeScale){var a=1;for(i=0;i<e.length;i++)e[i]<a&&(a=e[i]);this.minTimeScale=a,this.timeScale=this.baseTimeScale*a}},startUltEffect:function(){},cancelUltEffect:function(){},initCamera:function(){this.isCameraLocked=0,this.shakeTimerX=0,this.shakePowerX=0,this.shakeTimerY=0,this.shakePowerY=0,this.offsetNode=new cc.Node,this.node.addChild(this.offsetNode),this.cameraWidth=VIEW_SIZE.width,this.cameraHeight=VIEW_SIZE.height;var t=new cc.Node;this.offsetNode.addChild(t),this.shakeNode=t;var e=new cc.Node;t.addChild(e),this.camera=e,this.camera.group="game",this.camera.scale=.7,this.camera.setPosition(0,0),this.cameraBorder={},this.cameraTarX=0,this.cameraTarY=0},addToCamera:function(t,e){void 0===e&&(e=0),this.camera.addChild(t,e)},refreshBorder:function(){var t=g_sharedContactManager.getBorder();this.cameraBorder.left=t.left,this.cameraBorder.right=t.right;var e=t.right+t.left;t.right-t.left<VIEW_SIZE.width&&(this.cameraBorder.right=e/2+VIEW_SIZE.width/2,this.cameraBorder.left=e/2-VIEW_SIZE.width/2),this.cameraBorder.bottom=t.bottom,this.cameraBorder.top=t.top,e=t.top+t.bottom,t.top-t.bottom<VIEW_SIZE.height&&(this.cameraBorder.top=e/2+VIEW_SIZE.height/2,this.cameraBorder.bottom=e/2-VIEW_SIZE.height/2),this.cameraBorder.top=t.top+1050,this.cameraBorder.bottom=t.bottom-1e3},shake:function(t,e,i){if(i)return i>this.shakePowerX&&(this.shakePowerX+=t),void(i>this.shakePowerY&&(this.shakePowerY+=t));this.shakePowerX+=t||0,this.shakePowerX=this.shakePowerX>40?40:this.shakePowerX,this.shakePowerY+=e||0,this.shakePowerY=this.shakePowerY>40?40:this.shakePowerY},resetShake:function(){this.gameCamera.x-=this.shakeX||0,this.gameCamera.y-=this.shakeY||0,this.shakeX=0,this.shakeY=0},updateShake:function(t){this.shakePowerX>0&&(this.shakeTimerX+=t,this.shakeX=this.shakePowerX*Math.sin(60*this.shakeTimerX),this.gameCamera.x+=this.shakeX,this.shakePowerX=.85*this.shakePowerX-t,this.shakePowerX<=0&&(this.shakeTimerX=0)),this.shakePowerY>0&&(this.shakeTimerY+=t,this.shakeY=this.shakePowerY*Math.sin(60*this.shakeTimerY),this.gameCamera.y+=this.shakeY,this.shakePowerY=.85*this.shakePowerY-t,this.shakePowerY<=0&&(this.shakeTimerY=0))},addUpdate:function(t){t._isInUpdateList||(t._isInUpdateList=!0,this.updateList.push(t)),t._needRemoveUpdate=!1},removeUpdate:function(t){t._needRemoveUpdate=!0},addDeadBody:function(t){t._isInDeadBodies||(t._isInDeadBodies=!0,this.deadBodies.push(t))},removeDeadBody:function(t){if(t._isInDeadBodies)for(var e=0;e<this.deadBodies.length;e++)if(t==this.deadBodies[e]){t._isInDeadBodies=!1,this.deadBodies.splice(e,1);break}},callCameraMoveBy:function(){},callCameraMoveTo:function(){},onCameraMoveEnd:function(){},addCameraList:function(t){t.__isInCamera||(t.__isInCamera=!0,this.updateCameraList.push(t))},cameraToGamePos:function(){var t=this.gameCamera;return{x:t.x+.5*VIEW_SIZE.width,y:t.y+.5*VIEW_SIZE.height}},updateCamera:function(t,e){if(this.resetShake(),0==this.isCameraLocked&&this.hero){var i=this.gameCamera,a=this.camera.scale,n=this.controller&&this.borderOffset||0,s=this.moveCameraToX||this.hero.x,o=this.moveCameraToY||this.hero.y,r=0,c=this.hero.watchingTarget;if(c&&this.hero.watchDirection){var h=kit.vector2Radian(c.y-o,c.x-s),d=kit.norm(c.y-o,c.x-s)/2;d>300&&(d=300),Math.sin(h),r=-d*Math.cos(h)*a}this.cameraTarX=0,this.cameraTarY=0,e&&(this.cameraTarY=r),s-=this.cameraTarX,o-=this.cameraTarY,i.x;var l=i.y,u=(VIEW_SIZE.width,o*a-.5*this.cameraHeight),f=.5*(this.hero.attribute.get("moveSpd")||1),m=function(t,a){var n=Math.abs(t-a);f+=n/10,!e&&n>f?i.y+=f*((t-a)/n):i.y=t}.bind(this),p=this.cameraBorder;for(var g in this.updateCameraList)this.updateCameraList[g].__isInCamera=!1;this.updateCameraList=[];var v=p.bottom+.5*this.cameraHeight/a-n/a,b=p.top-.5*this.cameraHeight/a+n/a,k=o<v,y=o>b;m(v>b?p.bottom/2+(p.top*a-this.cameraHeight)/2:k?p.bottom*a-n:y?p.top*a-this.cameraHeight+n:u,l)}this.updateShake(t)},update:function(t){if(!(this.timeScale<=0)){if(this.guideTime+=t,DEBUG_MODE){if(this.updateLogic(t),this.updateScale&&this.updateScale>1)for(var e=1;e<this.updateScale;e++)this.updateLogic(t)}else if(this.updateLogic(t),this.updateScale&&this.updateScale>1)for(e=1;e<this.updateScale;e++)this.updateLogic(t);this.onceKilledCount>this.onceKilledCountMax&&(this.onceKilledCountMax=this.onceKilledCount)}},showErrorMsg:function(t){var e=t.fileName+":"+t.lineNumber+"\n"+t.message+"\n\n"+t.stack,i=t.fileName.indexOf("\\src\\");-1==i&&(i=t.fileName.indexOf("/src/"));var a=t.fileName.substring(0,i+1);throw e=a+":\n"+e.replace(new RegExp(a,"g"),""),r._error=t,t},updateTimeLabel:function(t){this.timeLabel&&(this.timeLabel.string=Math.floor(t))},setTimeLabel:function(t){this.timeLabel=t},updateLogic:function(t){var e=t/DT*.015*this.timeScale;this.time+=e,this.updateTimeLabel(this.time),this._gameScheduler.update(e),this.levelMgr.update(e),this.gameManager&&this.gameManager.updateLogic(t),g_sharedContactManager.update0(e),dragonBones.CCFactory.getInstance().update(e),this.updateCamera(e);for(var i=this.updateList,a=0;a<i.length;a++){var n=i[a];(n._needRemoveUpdate||n.updateLogic(e))&&(n._isInUpdateList=!1,n._needRemoveUpdate=!1,i.splice(a,1),a--)}g_sharedContactManager.update1(e)},enableControllerUI:function(t){this.controller&&(this.controller.active=t)},failGame:function(){},loadGame:function(){cc.log("levelLayer winGame"),this.gameManager?(this.contactMgr.addEntrance(),this.showNextLevelEntrance(),this.theme&&this.theme.moveBorderTop()):cc.log("winGame,but need gameManager to showNextLevelEntrance!")},winGame:function(t){if(cc.log("levelLayer winGame"),this.gameManager){(!this.gameManager||"start"!=this.gameManager.getLevelType()&&"event"!=this.gameManager.getLevelType()&&this.gameManager.exp>0)&&this.effectMgr.play(SoundEffectPath.call_victory),this.isWin=!0;var e=this;this.gameManager&&this.gameManager.onWinGame(function(){e.contactMgr.addEntrance(),e.theme&&e.theme.moveBorderTop(),e.checkBonus()},t)}else cc.log("winGame,but need gameManager to showNextLevelEntrance!")},showNextLevelEntrance:function(){cc.log("showNextLevelEntrance");var t=this,e=g_sharedContactManager.getBorder(),i=e.right/2,a=e.top,n=this.effectMgr.createSprite(i,a,"white_block");n.opacity=0,this.camera.addChild(n,1e3),n.sprite.schedule(function(){t.hero&&kit.norm(t.hero.x-n.x,t.hero.y-n.y)<200&&t.nextLevel()},.1)},uploadScore:function(){var t=PlayerData.getBestScore();if(this.lvl>t){PlayerData.setBestScore(this.lvl);var e=PlayerData.getBestScore();if(e&&window.wx){var i=JSON.stringify({wxgame:{score:e,update_time:Math.round((new Date).getTime()/1e3)}});wx.setUserCloudStorage({KVDataList:[{key:"points",value:i}]})}}},levelup:function(){Effect.Lvlup(this.hero,this);var t=this.hero;t.attribute.get("upHpAdd")&&t.heal(t.attribute.get("upHpAdd"))},checkBonus:function(){this.gameManager&&(this.gameManager.talentPt?(this.gameManager.talentPt--,this.gameManager.talentPointUsed++,this.gameManager.setData("talentPointUsed",this.gameManager.talentPointUsed),this.chooseBonus(this.gameManager.talentPointUsed+1)):(this.gameManager.checkBonusFinish(),this.showNextLevelEntrance(),this.bonusChecked=!0))},chooseBonus:function(t){var e,i,a,n=["grenade_2","autoMissle"],s=(new Date,!0);if(this.gameManager&&0==this.gameManager.getChapter())switch(s=!1,t){case 2:e=[1,"grenade_2","6"],i="grenade_2",n=null;break;case 3:break;case 4:e=["2","autoMissle_3","reloadSpd"],a="autoMissle_3",n=null}menuManager.pop("prefab/chooseBonus",{game:this,fixOptions:e,changeOptions:s,lvl:t,noOptions:n,recommend:i,ad:a})},getMoneyDrop:function(){if(this.gameManager&&this.gameManager.levelPool&&this.gameManager.levelPool.define)return this.gameManager.levelPool.define.moneyDrop||1}}),c=function(t){return t};cc._RF.pop()},{"./Theme":"Theme",BossHpFrame:"BossHpFrame",ContactManager:"ContactManager",EffectManager:"EffectManager",EventManager:"EventManager",Hero:"Hero",InGameUI:"InGameUI",Joystick:"Joystick",LevelManager:"LevelManager",NewDropBox:"NewDropBox",Platformsdk:"Platformsdk",SoundManager:"SoundManager",Weapon:"Weapon"}],LevelManager:[function(t,e){"use strict";cc._RF.push(e,"90449vFyBBMn43Y7sRfz1rq","LevelManager"),window.STEP_TIME=.1,window.COND={MSG:0,TIMER:1,POS:2,DEED:3,STATUS:4,RANDOM:5,EVENT:6},window.INDEX_TYPE={INDEX:0,ID:1,TEAM:2,ME:3,ALL:9},window.DEED_TYPE={DEATH:0},window.ACT={MSG:0,CREATE:1,REMOVE:2,CAMERA:3,BORDER:4,STATUS:5,SWITCH:6,AVATAR:7,DELAY:8,EFFECT:9,CTRL:10,CHOSE:11,QUEST:12,SPAWN:13},window.QUEST_STR=[["{t}","{t}","{t}"],["{t}","{t}","{t}"],["","{v}","{v}"],[""]],window.STATUS_QUEST_STR={ep:"{t}",hp:"{t}"},window.POS_QUEST_STR={p1:"",p2:""},window.TIMER_QUEST_STR={df:"{v}",li:"{v}"},window.MSG_QUEST_STR={fi:""},window.DEED_QUEST_STR={ki:"{t}"},window.ENTITYS_VALUE={hp:{n:"HP",get:function(t){return t.hp},set:function(t,e,i){i?t.hp+=e:t.hp=e}},ep:{n:"Armor",get:function(t){return t.ep},set:function(t,e,i){i?t.ep+=e:t.ep=e}},"hp%":{n:"",get:function(t){return t.hp/t.hpMax},set:function(t,e,i){i?t.hp+=e*t.hpMax:t.hp=e*t.hpMax}},"ep%":{n:"",get:function(t){return t.ep/t.epMax},set:function(t,e,i){i?t.ep+=e*t.epMax:t.ep=e*t.epMax}},un:{n:"",set:function(t,e){t.undead=e}},no_hurt:{n:"",list:[{n:"",s:0},{n:"",s:1}],set:function(t,e){t.setStatus(NO_HURT,e)}},no_contact:{n:"",list:[{n:"",s:0},{n:"",s:1}],set:function(t,e){t.setStatus(NO_CONTACT,e)}},no_border:{n:"",list:[{n:"",s:0},{n:"",s:1}],set:function(t,e){t.setStatus(NO_BORDER,e)}},no_skill1:{n:"1",list:[{n:"",s:0},{n:"",s:1}],set:function(t,e){t.setStatus(NO_SKILL0,e)}},no_skill2:{n:"2",list:[{n:"",s:0},{n:"",s:1}],set:function(t,e){t.setStatus(NO_SKILL1,e)}},no_skill3:{n:"3",list:[{n:"",s:0},{n:"",s:1}],set:function(t,e){t.setStatus(NO_SKILL2,e)}},cd_skill1:{n:"1",list:[{n:"",s:0}],set:function(t,e){t.skills[0]&&t.skills[0].refreshCdTimer(e)}},cd_skill2:{n:"2",list:[{n:"",s:0}],set:function(t,e){t.skills[1]&&t.skills[1].refreshCdTimer(e)}},cd_skill3:{n:"3",list:[{n:"",s:0}],set:function(t,e){t.skills[2]&&t.skills[2].refreshCdTimer(e)}},team:{n:"",set:function(t,e){t.team=e;var i=t.avatar;if(i){i.initTeam();var a=i.hpBar;a&&a.initTeam()}}},pilot:{n:"",list:[{n:"",s:0},{n:"",s:1},{n:"ai",s:2}],set:function(t,e){var i=t.pilot;i&&(i.setEnabled(e),2==e&&i.initAssist(1))}}},window.ACT_EFFECT={winZoom:{n:"",avatar:1,func:function(t,e){EFFECT.showWinCloseUp.call(t,e)}},explosion:{n:"",func:function(t,e,i){EFFECT.explosion.call(t,e,i,100)}},teleport:{n:"",func:function(t,e,i){EFFECT.teleport.call(t,e,i,3)}}},window.ACT_EVENT={win:{n:"",func:function(t){if(!this.ended){this.ended=!0;var e=this.game;this.expGain,t||e.winGame(0)}}},fail:{n:"",func:function(){this.ended||(this.ended=!0,this.game.failGame())}}};var i,a=function(t,e){return ENTITYS_VALUE[t.valueType].get(e)==t.value},n=function(t,e){return ENTITYS_VALUE[t.valueType].get(e)>t.value},s=function(t,e){return ENTITYS_VALUE[t.valueType].get(e)<t.value},o=function(t,e){return e.x<t.left||e.x>t.right||e.y<t.bottom||e.y>t.top},r=function(t,e){return e.x>t.left&&e.x<t.right&&e.y>t.bottom&&e.y<t.top},c=function(t){return t.in<t.ct},h=function(t){return t.in==t.ct},d=function(t){return t.in>t.ct},l=function(t){this.runCreateObject(t.cfgData,t.remote)},u=function(t){this.game.core.c_random()<t.v.r?this.onTrigger(t):t.n>1&&(t.n--,this.listenRandom(t))};cc.Class({initMap:function(e,a,n,s){i=t("Mob"),t("Hero"),this.define={name:""},this.game=e,this.uniqueID=0,this.entityMap={},this.entityList=[],this.entityDataTable={},this.power=n,this.timers=[],this.delayFuncList=[],this.funcs=[];var o=a.config||{};this.noSkills=o.noSkills,this.gameTimer=o.time;var r=o.wf;1==r||4==r?this.winCheck=1:2==r||5==r?this.failCheck=2:3!=r&&6!=r||(this.winCheck=1,this.failCheck=2),r<4&&(this.heroCheck=!0),this.hpScale=this.power&&this.power.hp||o.hpScale||1,this.attackScale=this.power&&this.power.attack||o.attackScale||1,cc.log("hpScale",this.hpScale),this.teamCount=0,this.teamTable=[],this.teamObjs=[],this.eventMap={},this.msgTable={},this.listenTable={},this.listenTable[DEED_TYPE.DEATH]={},this.listenTable[DEED_TYPE.DEATH][INDEX_TYPE.INDEX]={},this.listenTable[DEED_TYPE.DEATH][INDEX_TYPE.ID]={},this.listenTable[DEED_TYPE.DEATH][INDEX_TYPE.TEAM]={},this.listenTable[DEED_TYPE.DEATH][INDEX_TYPE.ME]={},this.listenTable[DEED_TYPE.DEATH][INDEX_TYPE.ALL]={};var c=a.entity,h=e.remotes||{};for(var d in a.heroric&&this.setHeroMode(c,a.heroric),this.checkLoadGame(s),c){var u=c[d],f=h[d];0===u.t?(this.runCreateObject(u,f),cc.log("t:0 runCreateObject")):u.t>0&&this.timers.push({cfgData:u,remote:f,timer:u.t||0,timerFunc:l});var m=u.id;if(m&&(this.entityDataTable[m]=this.entityDataTable[m]||[]).push({cfgData:u,remote:f}),!this.heroCheck&&u.t>=0){var p=u.n||1,g=u.team||0;this.teamTable[g]?this.teamTable[g]+=p:(this.teamCount+=1,this.teamTable[g]=p)}}cc.log(":",this.teamTable[1]),this.checkEventObjectCount(a);var v=[],b=a.event;for(var d in b)u=b[d],this.createTrigger(u,v);for(var d in v)this.runTrigger(v[d]);cc.log("this.teamTable total:",this.teamTable),this.expGain=0},checkLoadGame:function(t){if(t){var e=ACT_EVENT.win;e&&e.func.call(this,!0)}},setHeroMode:function(t,e){var i=LevelPoolDefine[e];if(i.heroric){var a=[];for(var n in t){var s=t[n];i.heroric[s.i]&&(s.spawnID=n,a.push(s))}for(kit.shuffle(a),this.heroriciidMap={},this.heroricCt=i.heroric.ct,n=0;n<=this.heroricCt-1&&a[n];n++)this.heroriciidMap[a[n].spawnID]=i.heroric[a[n].i]}},checkEventObjectCount:function(t){this.teamTable[1];var e=t.event;for(var i in e){var a=e[i];if(!a.off){var n,s,o=a.act;for(var r in cc.log("checkEventObjectCount",o,ACT.CHOSE),o){var c=o[r];if(c.type!=ACT.CHOSE){if(r<=+n+s)c.addTeam=!0;else if(1==o[r].type){var h=o[r].i,d=this.entityDataTable[h];for(var l in d){var u=d[l].cfgData,f=0;if(-1!=a.repeat?(f=u.n||1,f*=a.repeat||1,c.addTeam=null):c.addTeam=!0,f){var m=u.team||0;this.teamTable[m]?this.teamTable[m]+=f:(this.teamCount+=1,this.teamTable[m]=f)}}}}else n=r,s=c.n}}}cc.log(":",this.teamTable[1]),cc.log("checkEventObjectCount total:",this.teamTable)},createTrigger:function(t,e){var i={id:t.id,off:t.off,repeat:t.repeat,cond:[],act:[]},a=t.cond;for(var n in a){var s=a[n];i.cond.push({event:i,v:s})}var o=t.act;for(var n in o){var r=o[n];i.act.push({event:i,v:r})}var c=i.id;c&&(this.eventMap[c]=this.eventMap[c]||[]).push(i),e.push(i)},runTrigger:function(t){if(!t.off&&!t.listened){var e=t.cond;if(e&&0!=e.length)for(var i in t.listened=!0,e){var a=e[i];if(void 0===a.active){a.active=0;var n=a.v.type;n==COND.TIMER?this.listenTimer(a):n==COND.DEED?this.listenEvent(a,DEED_TYPE.DEATH,a.v.t||0,a.v.i):n==COND.POS?this.listenPos(a):n==COND.STATUS?this.listenStatus(a):n==COND.MSG?this.listenMsg(a):n==COND.RANDOM&&(a.v.n<0?a.n=1/0:a.n=a.v.n||1,this.listenRandom(a),this.game.editMode||a.v.q)&&(a.str=" - ",this.game.editMode&&a.event.id&&(a.str="["+a.event.id+"]"+a.str),this.game.layer.callQuest(a,function(){var t=this.cond;return t.active?t.str+"":t.str+(t.timer?Math.round(10*t.timer):"")}))}}else this.runAllActs(t)}},listenStatus:function(t){var e=this,i=t.v;t.valueType=i.n,t.value=i.v,2==i.b?t.compareFunc=a:1==i.b?t.compareFunc=n:t.compareFunc=s,this.listenFunc(t);var o=i.q;if(this.game.editMode||o){if(o){var r=STATUS_QUEST_STR[o]+" - ";t.str=r.replace(/\{.+?\}/g,function(t){var a=t.substr(1,t.length-2);return"t"==a?e.getNameByIndex(i.t,i.i):"v"==a?i.v:void 0})}else t.str=" - ";this.game.editMode&&t.event.id&&(t.str="["+t.event.id+"]"+t.str),this.game.layer.callQuest(t,function(){var t=this.cond;return t.str+t.in+[">","<","=="][t.v.cb||0]+t.ct})}},listenPos:function(t){var e=this,i=t.v;t.left=void 0===i[1]?-1/0:i[1],t.right=void 0===i[2]?1/0:i[2],t.top=void 0===i[3]?1/0:i[3],t.bottom=void 0===i[4]?-1/0:i[4],1==i.b?t.compareFunc=o:t.compareFunc=r,this.listenFunc(t);var a=i.q;if(this.game.editMode||a){if(a){var n=POS_QUEST_STR[a]+" - ";t.str=n.replace(/\{.+?\}/g,function(t){var a=t.substr(1,t.length-2);return"t"==a?e.getNameByIndex(i.t,i.i):"v"==a?i.v:void 0})}else t.str=" - ";this.game.editMode&&t.event.id&&(t.str="["+t.event.id+"]"+t.str),this.game.layer.callQuest(t,function(){var t=this.cond;return t.str+t.in+"/"+(t.ct||1)}),this.game.layer.callArea(t)}},listenFunc:function(t){t.in=0,t.ct=t.v.c||0,1==t.v.cb?t.triggerFunc=c:2==t.v.cb?t.triggerFunc=h:t.triggerFunc=d,this.funcs.push(t)},checkFunc:function(t,e,i){e.call(this,t,i)&&t.in++},checkListFunc:function(t){var e=t.v.t,i=t.v.i,a=t.compareFunc;if(t.in=0,e==INDEX_TYPE.ME){var n=this.game.hero;this.checkFunc(t,a,n)}else for(var s=this.entityList,o=0,r=s.length;o<r;o++){var c=s[o];if(c.config){if(e==INDEX_TYPE.ALL);else if(e==INDEX_TYPE.ID){if((c.defineID||c.define.id)!=i)continue}else if(e==INDEX_TYPE.TEAM){if(c.team!=i)continue}else if(c.config.iid!=i)continue;this.checkFunc(t,a,c)}}if(t.triggerFunc(t)){if(!t.active)return this.onTrigger(t),t.event.off}else t.active&&(t.active=0)},updateFunc:function(){for(var t=this.funcs,e=0,i=t.length;e<i;e++){var a=t[e];this.checkListFunc(a)&&(t.splice(e,1),e-=1,i-=1)}},listenTimer:function(t){var e=t.v;t.timer=e.t||0,t.timerFunc=this.onTrigger,this.timers.push(t);var i=e.q;if(this.game.editMode||i){if(i){var a=TIMER_QUEST_STR[i]+" - ";t.str=a.replace(/\{.+?\}/g,function(t){if("v"==t.substr(1,t.length-2))return e.t})}else t.str=" - ";this.game.editMode&&t.event.id&&(t.str="["+t.event.id+"]"+t.str),this.game.layer.callQuest(t,function(){var t=this.cond,e=t.timer;return e=e>0?10*e:0,t.str+Math.round(e)/10})}},updateTimer:function(t){for(var e=this.timers,i=0,a=e.length;i<a;i++){var n=e[i];n.timer-=t,n.timer<=0&&(n.event&&-1==n.event.repeat&&n.event.off||n.timerFunc.call(this,n),e.splice(i,1),i-=1,a-=1)}},listenRandom:function(t){var e=t.v.t||0;e<=0?u.call(this,t):(t.timer=e,t.timerFunc=u,this.timers.push(t))},listenMsg:function(t){var e=t.v.ct;t.triggerCt=e||1;var i=t.v.n,a=this.msgTable;(a[i]=a[i]||[]).push(t),(this.game.editMode||t.v.q)&&(t.str=" - ",this.game.editMode&&t.event.id&&(t.str="["+t.event.id+"]"+t.str),this.game.layer.callQuest(t,function(){var t=this.cond,e=t.v.ct||1;return t.str+(e-t.triggerCt)+"/"+e}))},sendMsg:function(t){var e=t.v.n;if(void 0!==e){var i=t.v.s;this.send(t,this.msgTable[e],i);var a=ACT_EVENT[e];a&&(cc.log("",e),a.func.call(this))}},listenEvent:function(t,e,i,a){var n=this;if(i==INDEX_TYPE.ALL)a=0;else if(i==INDEX_TYPE.ME)a=0;else if(void 0===a)return;var s=t.v,o=s.ct;t.triggerCt=o||1;var r=this.listenTable[e][i];(r[a]=r[a]||[]).push(t);var c,h=s.q;if(this.game.editMode||s.q){if(h){var d=DEED_QUEST_STR[h]+" - ";t.str=d.replace(/\{.+?\}/g,function(t){var e=t.substr(1,t.length-2);return"t"==e?n.getNameByIndex(s.t,s.i):"v"==e?s.ct:void 0})}else t.str=((c=s).t==INDEX_TYPE.ME?"":c.t==INDEX_TYPE.ALL?"":c.t==INDEX_TYPE.TEAM?0==c.i?"":"":c.t==INDEX_TYPE.ID&&c.i?ENTITYS[c.i].name:"")+" - ";this.game.editMode&&t.event.id&&(t.str="["+t.event.id+"]"+t.str),this.game.layer.callQuest(t,function(){var t=this.cond,e=s.ct||1;return t.str+(e-t.triggerCt)+"/"+e})}},sendEvent:function(t,e,i,a){if(i==INDEX_TYPE.ALL)a=0;else if(i==INDEX_TYPE.ME)a=0;else if(void 0===a)return;this.send(t,this.listenTable[e][i][a])},send:function(t,e){if(e)for(var i=0,a=e.length;i<a;i++){var n=e[i];n.triggerCt&&(n.triggerCt--,n.triggerCt>0)||(this.onTrigger(n,t),e.splice(i,1),i--,a--)}},onTrigger:function(t){t.active=1;var e=t.event,i=e.cond;for(var a in i)if(!i[a].active)return;for(var a in i)delete(t=i[a]).active;e.listened=!1,this.runAllActs(e)},runAllActs:function(t){if(!t.off){t.repeat?t.repeat>0&&(t.repeat--,t.repeat<=0&&(t.off=1)):t.off=1;var e=0,i=0,a=0;for(var n in t.act){var s=t.act[n],o=s.v,r=o.type;if(r==ACT.DELAY)e=o.t||0;else if(r==ACT.CHOSE)(i=o.n)>0&&(a=kit.rndInt(0,i-1));else{if(i>0&&--i!=a)continue;e>0?(s.timer=e,s.timerFunc=this.runAct,this.timers.push(s)):this.runAct(s)}}this.runTrigger(t)}},runAct:function(t){var e=t.v,i=e.type;if(i==ACT.CREATE){var a;if(void 0===(c=e.i))return;void 0!==e.x&&(o=e.x||0,void 0!==e.rx&&(a=this.game.heroes[e.rx])&&(o+=a.x)),void 0!==e.y&&(r=e.y||0,void 0!==e.ry&&(a=this.game.heroes[e.rx])&&(r+=a.y)),this.runCreateObjectByIndex(c,o,r,null,e.addTeam)}else if(i==ACT.AVATAR)this.runActFunc(t,this.runAvatarFunc);else if(i==ACT.REMOVE)this.runActFunc(t,this.runRemoveFunc);else if(i==ACT.STATUS)this.runActFunc(t,this.runStatusFunc);else if(i==ACT.EFFECT){var n=e.e,s=ACT_EFFECT[n];if(!s)return;if(e.t||e.i)this.runActFunc(t,this.runEffectFunc);else if(!s.avatar){var o=e.x||0,r=e.y||0;s.func(this.game.effectMgr,o,r)}}else if(i==ACT.MSG)this.sendMsg(t);else if(i==ACT.SWITCH){var c=e.e,h=e.s,d=e.r;if(void 0===c)var l=[t.event];else if(!(l=this.eventMap[c]))return;for(var u in l){var f=l[u];if(!f)return;var m=f.off;f.off=2==h?f.off?0:1:h,this.runTrigger(f),d&&this.runAllActs(f),m!=f.off&&(1==f.off?this.addEventObject(f,-1):this.addEventObject(f,1))}}else if(i==ACT.CAMERA){var p=this.game.layer.camera;if(p)if(1==e.l)p.setZoom(void 0===e.dt?1:e.dt,void 0===e.x?p.tx:e.x,void 0===e.y?p.tx:e.y,void 0===e.s?p.scale:e.s);else if(2==e.l)p.setZoom(void 0===e.dt?-1:-e.dt);else{var g=this.getObjectByIndex(e.t,e.i);g&&p.setTarget(void 0===e.dt?1:e.dt,g,void 0===e.s?p.scale:e.s)}}else i==ACT.BORDER?this.game.contactMgr.setBorder(e[1],e[2],e[3],e[4]):i==ACT.CTRL?this.runActFunc(t,this.runCtrlFunc):i==ACT.QUEST?this.runQuest(t):i==ACT.SPAWN&&this.runActFunc(t,this.runSpawnFunc)},addEventObject:function(t,e){void 0===e&&(e=1);var i,a,n=t.act;for(var s in cc.log("addEventObject",t),n){var o=n[s].v;if(o.type!=ACT.CHOSE){if(s<=+i+a)o.addTeam=!0;else if(1==o.type){var r=o.i,c=this.entityDataTable[r];for(var h in c){var d=c[h].cfgData,l=0;if(-1!=t.repeat?(l=d.n||1,l*=t.repeat||1,d.addTeam=null):d.addTeam=1,l*=e){cc.log("addEventObject add",l);var u=d.team||0;this.teamTable[u]?this.teamTable[u]+=l:(this.teamCount+=1,this.teamTable[u]=l)}}}}else i=s,a=o.n}cc.log("addEventObject",this.teamTable)},getNameByIndex:function(t,e){if(cc.log("getNameByIndex",t,e),t==INDEX_TYPE.ME)return"";if(t==INDEX_TYPE.TEAM)return 0==e?"":"";if(t==INDEX_TYPE.ALL)return"";if(e&&t==INDEX_TYPE.ID)return UI_CONFIG[e].name;if(e){var i=this.entityDataTable[e][0].cfgData,a=i.i,n=i.c,s=this.game.heroList;return n&&s&&(a=s[n-1]),UI_CONFIG[a].name}return"??"},runQuest:function(t){var e,i=this,a=t.v;a.q&&(e=QUEST_STR[a.q-1][a.s||0].replace(/\{.+?\}/g,function(t){var e=t.substr(1,t.length-2);return"t"==e?i.getNameByIndex(a.t,a.i):"v"==e?a.n:void 0})),this.game.layer.callMainQuest(e)},runSkill:function(t,e,i){var a=t.skills[e];if(a){var n=t.pilot;if(void 0!==i.d)n.callAssist(i.a,i.d,1),n.callAssistTarget();else{var s=this.getObjectByIndex(i.t2,i.i2);n.callAssistTarget(s)}a.refreshCdTimer(0),t.callSkill(e,i.a)}},runSpawnFunc:function(t,e){var i=t.v;e.spawnUnit(),i.dt&&(e.spawnDt=i.dt,e.spawnTimer=e.spawnDt)},runCtrlFunc:function(t,e){var i=t.v,a=i.b,n=e;if(a>0&&a<4)this.runSkill(e,a-1,i);else if(9==a)n.setNextAttackSeq(i.a,null,i.d);else if(10==a){var s=i.x,o=i.y;void 0===s&&void 0===o?n.callMoveCancel():(void 0===s&&(s=e.x),void 0===o&&(o=e.y),n.callMoveTo(c_floor(s/CELL_W),c_floor(o/CELL_H)))}else e.callMove(i.d||0,1==i.a?1:0)},runEffectFunc:function(t,e){var i=t.v,a=i.e,n=ACT_EFFECT[a],s=e.avatar;if(s&&n){var o=i.x||0,r=i.y||0;n.avatar?n.func(this.game.effectMgr,s,o,r):n.func(this.game.effectMgr,o+s.x,r+s.y)}},runStatusFunc:function(t,e){var i=t.v,a=i.n,n=ENTITYS_VALUE[a];n&&n.set(e,i.v,i.o)},runRemoveFunc:function(t,e){t.v.k?e.remove():e.callDeath(this,0)},runAvatarFunc:function(t,e){var i=t.v,a=i.n,n=i.p,s=i.s,o=e.avatar;o&&(2==n?o.setForcedLowerAnime(a,s):1==n?o.setForcedUpperAnime(a,s):o.setForcedAnime(a,s),o.refresh(.1))},runActFunc:function(t,e){var i=t.v.t,a=t.v.i;if(i!=INDEX_TYPE.ME){if(void 0!==a||i==INDEX_TYPE.ALL)for(s=this.entityList,o=0;o<s.length;o++){var n=s[o];if(n.config){if(i==INDEX_TYPE.ALL);else if(i==INDEX_TYPE.ID){if((n.defineID||n.define.id)!=a)continue}else if(i==INDEX_TYPE.TEAM){if(n.team!=a)continue}else if(n.config.iid!=a)continue;e.call(this,t,n)}}}else for(var s=this.game.heroes,o=0;o<s.length;o++)e.call(this,t,s[o])},runCreateObjectByIndex:function(t,e,i,a,n){var s=this.entityDataTable[t];if(s)for(var o in s){var r=s[o];if(!r)return;this.runCreateObject(r.cfgData,r.remote,e,i,a,n)}},runCreateObject:function(t,e,i,a,n,s){var o=t.i,r=t.c,c=this.game.heroList;if(r&&c&&(o=c[r-1]),o){var h=this.checkHeroricSpawn(t.spawnID);o=h||o;var d=ENTITYS[o];if(d){var l={};l.iid=t.id,l.id=o,l.me=t.me,l.ai=t.ai,l.lvl=t.lvl,l.deg=void 0===t.deg?kit.rnd(0,360):t.deg,l.hp=t.hp,l.ep=t.ep,l.un=t.un,l.team=t.team,l.flipX=t.flipX,l.scale=t.scale,l.hpScale=t.hpScale,l.isBoss=t.isBoss,l.amr0=t.amr0,l.atk0=t.atk0,l.life=t.life,l.drop=t.drop,l.shader=t.shader,l.dropped=n,h&&(l.elite=!0),t.spawnID&&(l.spawnConfig={id:t.spawnID,dt:t.spawnDt,limit:t.spawnLimit,n:t.spawnN}),t.special&&d.specialTranslate&&(l[d.specialTranslate]=t.special),e&&(l.attribute=e.attrs,void 0!==e.hp&&(l.hp=e.hp,l.ep=e.ep),void 0!==e.cd&&(l.cd=e.cd),void 0!==e.ai&&(l.ai=e.ai));var u=!1;0==this.game.time&&(u=!0);var f=t.n||1;if(i=void 0===i?t.x:i,a=void 0===a?t.y:a,t.m)for(var m=0;m<f;m++){var p=t.r||100,g=kit.rnd(0,360),v=kit.rnd(0,p);l.x=i+c_degree2cos(g)*v,l.y=a+c_degree2sin(g)*v,this.createObject(d,l,n,s,u,u)}else if(f>1)for(p=t.r||100,m=0;m<f;m++)l.x=i+c_degree2cos(m/f*360)*p,l.y=a+c_degree2sin(m/f*360)*p,this.createObject(d,l,n,s,u,u);else l.x=i,l.y=a,this.createObject(d,l,n,s,u,u)}else cc.warn("runCreateObject "+o+" not defined!")}else cc.warn("runCreateObject no id!")},createObject:function(t,e,i,a,n,s,o){if(o||!this.ended){var r=this.game.contactMgr.getBorder();if(!(!s&&1==e.team&&e.x>r.left&&e.x<r.right&&e.y>r.bottom&&e.y<r.top))return this.createObject2(t,e,i,a,n);var c=this,h=Effect.PreSpawn(e.x,e.y,this.game);this.callDelayFunc({t:1,cb:function(){h.destroy(),c.createObject2(t,e,i,a,n)}})}},createObject2:function(t,e,a,n,s){var o=this.game,r=new(t.ctor||i);this.addEntity(r),r.init(t,e,o);var c=t.spawnEff;if(c&&!s&&Effect.SpawnEff(c,e.x,e.y,r,this.game),r.junkFlag)return o.eventMgr.regist(r,"deathEvent",this,this.deathEvent),o.eventMgr.regist(r,"removeEvent",this,this.removeEvent),r;var h=r.team;if(!e.summon)for(var d in this.heroCheck&&!r.heroFlag||(this.teamObjs.push(r),n&&(this.teamTable[h]?this.teamTable[h]+=1:(this.teamCount+=1,this.teamTable[h]=1),cc.log("LevelManager createObject 2 team1 left",this.teamTable[1]))),o.eventMgr.regist(r,"deathEvent",this,this.deathEvent),o.eventMgr.regist(r,"reviveEvent",this,this.reviveEvent),r.castDmgSum=0,r.castHealSum=0,r.skills)r.skills[d].castDmgSum=0;if(o.eventMgr.regist(r,"hurtEvent",this,this.hurtEvent),o.eventMgr.regist(r,"healEvent",this,this.healEvent),o.eventMgr.regist(r,"removeEvent",this,this.removeEvent),r.dmgSum=0,this.noSkills&&r.setStatus(NO_SKILLS,!0),this.hpScale&&!e.summon&&0!=e.team){var l=r.hp/r.hpMax,u=r.ep/r.epMax;r.attribute.addScale("hpMax",this.hpScale-1),r.attribute.addScale("epMax",this.hpScale-1),r.hp=l*r.hpMax,r.ep=u*r.epMax,r.attribute.mutScale("attackScale",this.attackScale),cc.log("attackScale",this.attackScale,e.team,r.team)}return r},checkHeroricSpawn:function(t){if(this.heroriciidMap&&this.heroriciidMap[t]&&this.heroricCt>0)return this.heroricCt--,this.heroriciidMap[t]},removeEvent:function(t){this.removeEntity(t)},removeEntity:function(t){delete this.entityMap[t.uniqueID];var e=this.entityList,i=e.indexOf(t);i>=0&&e.splice(i,1)},addEntity:function(t){this.uniqueID+=1;var e=t.uniqueID=this.uniqueID;this.entityMap[e]=t,this.entityList.push(t)},healEvent:function(t,e,i){e.getOwner().castHealSum+=i},hurtEvent:function(t,e,i,a){e.getOwner().castDmgSum+=i+a,t.dmgSum+=i+a;var n=e.getCaster();n.skillMark&&(n.castDmgSum+=i+a)},reviveEvent:function(t){var e=t.team;this.teamTable[e]+=1},deathEvent:function(t,e){this.lastDead=t,this.sendEvent(t,DEED_TYPE.DEATH,INDEX_TYPE.INDEX,t.config.iid);var i=t.defineID||t.define.id;this.sendEvent(t,DEED_TYPE.DEATH,INDEX_TYPE.ID,i),this.sendEvent(t,DEED_TYPE.DEATH,INDEX_TYPE.TEAM,t.team),this.sendEvent(t,DEED_TYPE.DEATH,INDEX_TYPE.ALL);var a=this.game;if(t==a.hero&&this.sendEvent(t,DEED_TYPE.DEATH,INDEX_TYPE.ME),a.hero&&t.team!=a.hero.team&&(this.expGain+=t.define.exp||0,a.gameManager&&a.gameManager.addExp(t.define.exp||0)),!t.junkFlag){var n=a.step*STEP_TIME;if(t.deadTime=n,t.team&&(!this.heroCheck||t.heroFlag)){var s=t.team;if(this.teamTable[s]-=1,cc.log("LevelManager team-"+s+" left",this.teamTable[s]),0==this.teamTable[s]){this.teamCount-=1;var o=a.team||0;if(o==s&&this.failCheck&&this.sendMsg({v:{n:"fail"}}),1==this.teamCount&&this.winCheck){var r;for(var c in cc.log("winCheck"),this.teamTable)if(this.teamTable[c]>0){r=c;break}o==r?this.sendMsg({v:{n:"win"}}):this.sendMsg({v:{n:"fail"}}),cc.log("=============================================="),e&&cc.log(""+t.define.name+""+e.getOwner().define.name),cc.log(" "+r+" .  "+Math.floor(10*n)/10+" "),cc.log(this.getLogs(" "))}}}}},getLogs:function(t){var e=this.game.step*STEP_TIME,i="",a=function(t,e){for(var i=t.length;i<e;)t+="",i+=1;return t},n=function(e,i){void 0===i&&(i=6);for(var a=""+Math.floor(e),n=a.length;n<i;)a=t+a,n+=1;return a};for(var s in this.teamObjs){var o=this.teamObjs[s];if(!o.obj&&o.skills&&o.skills[2]){var r=o.deadTime||e;i=i+(a(o.define.name,4)+" :")+n(o.team,2)+" : "+n(o.castDmgSum)+" ("+n(o.castDmgSum/r)+"|"+n(o.skills[0].castDmgSum/r)+"|"+n(o.skills[1].castDmgSum/r)+"|"+n(o.skills[2].castDmgSum/r)+") : "+n(o.dmgSum)+" ("+n(o.dmgSum/r)+") : "+n(o.castHealSum)+" ("+n(o.castHealSum/r)+")\n"}}return i},getCfgDataByIndex:function(t,e){if(t==INDEX_TYPE.ME)return this.game.heroes[e];if(void 0!==e||t==INDEX_TYPE.ALL)for(var i=this.entityList,a=0;a<i.length;a++){var n=i[a];if(n.config){if(t==INDEX_TYPE.ALL);else if(t==INDEX_TYPE.ID){if((n.defineID||n.define.id)!=e)continue}else if(t==INDEX_TYPE.TEAM){if(n.team!=e)continue}else if(n.config.iid!=e)continue;return n}}},getObjectByIndex:function(t,e){if(t==INDEX_TYPE.ME)return this.game.heroes[e];if(void 0!==e||t==INDEX_TYPE.ALL)for(var i=this.entityList,a=0;a<i.length;a++){var n=i[a];if(n.config){if(t==INDEX_TYPE.ALL);else if(t==INDEX_TYPE.ID){if((n.defineID||n.define.id)!=e)continue}else if(t==INDEX_TYPE.TEAM){if(n.team!=e)continue}else if(n.config.iid!=e)continue;return n}}},getObject:function(t){return this.entityMap[t]},callDelayFunc:function(t){this.delayFuncList.push(t)},updateDelayFunc:function(t){for(var e=this.delayFuncList,i=0;i<e.length;i++){var a=this.delayFuncList[i];a.t-=t,a.t<=0&&(a.cb(),e.splice(i,1),i--)}},update:function(t){if(this.updateFunc(t),this.updateTimer(t),this.updateDelayFunc(t),this.gameTimer&&this.gameTimer>0&&(this.gameTimer-=STEP_TIME,this.gameTimer<=0)){var e=[0,0];for(var i in this.teamObjs){var a=this.teamObjs[i];e[a.team]+=(a.hp+a.ep)/(a.hpMax+a.epMax)}if(cc.log(e),e[0]>e[1])var n=0;else n=1;(this.game.team||0)==n?this.sendMsg({v:{n:"win"}}):this.sendMsg({v:{n:"fail"}})}},onExit:function(){this.clear()},clear:function(){},getPrev:function(){return this},getOwner:function(){return this},getCaster:function(){return this},getCritChance:function(){return 0},getCritBonus:function(){return 1}}),cc._RF.pop()},{Hero:"Hero",Mob:"Mob"}],LevelPoolDefine:[function(t,e){"use strict";cc._RF.push(e,"b7ce57CiVBBw7yXbnM6La9G","LevelPoolDefine"),window.ExpDefine={playerLvl:[180,270,370,480,600,730,870,1020,1180],baseLvlReward:80},window.LevelPoolDefine={0:{length:10,expScale:1,start:801,bossInterval:10,eventInterval:5,levelInterval:10,baseAttackRatio:.05,baseHpRatio:.6,powerInterval:5,powerAttackRatio:[.01,.015],powerHpRatio:[.1,.2],moneyDrop:4,eventPool:[1101],special:{3:[1128],4:[1130],6:[1133],7:[1134],8:[1135],9:[1136]},level_1:[1128,1129,1130,1],level_2:[1132,1133,1134,1135,1136],bossPool:[1137],final_boss:1137,chapterExp:20,finishExp:20,theme:"snow",themeShader:["theme_desert_3","theme_desert_3","theme_desert_2"],themeWeather:["","rain","fog"],themeShaderInterval:10},1:{length:30,expScale:1.4,start:801,bossInterval:10,eventInterval:5,levelInterval:5,baseAttackRatio:.7,baseHpRatio:.85,powerInterval:5,powerAttackRatio:[.075,.15,.225,.3,.4],powerHpRatio:[.3,.63,1,1.4,1.73,2.06,2.43,2.8,3.2],moneyDrop:6,eventPool:[1101],dropRelicItem:10001,special:{21:[47,48],22:[45,46],23:[51,52],24:[49,50]},level_1:[1,2,3,4,5,6,7,8,9,10,16,17],level_2:[11,12,13,14,15,27,28,18],level_3:[19,20,21,22,23,24,25,26],level_4:[29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],level_5:[45,46,47,48,49,50,51,52],level_6:[53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70],bossPool:[91,292,100],final_boss:94,chapterExp:50,finishExp:50,theme:"desert",themeShader:["","theme_desert_3","theme_desert_2"],themeWeather:["","rain","fog"],themeShaderInterval:10,dropChance:.015},2:{expScale:.8,length:50,start:801,bossInterval:10,eventInterval:5,levelInterval:5,powerInterval:5,powerAttackRatio:[.075,.15,.225,.3,.4],powerHpRatio:[.3,.63,1,1.4,1.73,2.06,2.43,2.8,3.2],baseAttackRatio:1.4,baseHpRatio:1.3,moneyDrop:8,eventPool:[1101],dropRelicItem:10064,bossPool:[194,92,294,93],final_boss:295,special:{16:[221,222],17:[271,272]},level_1:[281,282,283,284,285,286,287],level_2:[205,206,207,208,209,210,211,212],level_3:[213,214,215,216,217,218,219,220],level_4:[223,224,225,226,227,228],level_5:[229,230,231,232,233,234,288],level_6:[235,236,237,238,239,240],level_7:[241,242,243,244,245,246,247,248],level_8:[249,250,251,252,253,254,255,256],level_9:[257,258,259,260,261,262,263,264],level_10:[265,266,267,268,269,270],chapterExp:65,finishExp:65,theme:"city2",themeShader:["","theme_desert_3","theme_desert_2"],themeWeather:["","fog","rain"],dropChance:.02},3:{expScale:.8,length:50,start:801,bossInterval:10,eventInterval:5,levelInterval:5,powerInterval:5,powerAttackRatio:[.075,.15,.225,.3,.4],powerHpRatio:[.3,.63,1,1.4,1.73,2.2,2.6,3,3.5],baseAttackRatio:2.2,baseHpRatio:1.6,moneyDrop:10,eventPool:[1101],dropRelicItem:10134,bossPool:[196,291,195,191],final_boss:197,special:{1:[109,110,111,112],2:[113,115,116],3:[127,128,129,130],4:[131,132,133,135],6:[134,136,137,138],7:[139,140,141,142],8:[105,106,107,108],9:[101,102,103,104]},level_1:[101,102,103,104,105,106,107,108],level_2:[109,110,111,112,113,122,115,116],level_3:[117,118,119,120,121],level_4:[123,124,125,126,149,181],level_5:[156,163,170,177,178,179,180],level_6:[143,144,145,146,147,148],level_7:[150,151,152,153,154,155],level_8:[157,158,159,160,161,162,114],level_9:[164,165,166,167,168,169],level_10:[171,172,173,174,175,176],chapterExp:80,finishExp:80,theme:"snow",themeShader:["","theme_desert_3","theme_desert_2"],themeWeather:["","","fog"],dropChance:.025},JY1:{expScale:.8,length:50,start:801,bossInterval:10,eventInterval:5,levelInterval:5,powerInterval:5,powerAttackRatio:[.075,.15,.225,.3,.4],powerHpRatio:[.3,.63,1,1.4,1.73,2.2,2.6,3,3.5],baseAttackRatio:2.6,baseHpRatio:2,moneyDrop:10,eventPool:[1101],dropRelicItem:10053,bossPool:[95,96,97,99],final_boss:98,level_1:[1201,1202,1203,1204,1205,71,72],level_2:[11,12,13,14,15,16,17,18],level_3:[19,20,21,22,23,24,25,26],level_4:[29,30,31,32,33,34,35,36],level_5:[45,46,47,48,49,50],level_6:[53,54,55,56,57,58],level_7:[27,28,37,38,39,40],level_8:[43,44,61,62,63,64],level_9:[67,68,69,70,65,66],level_10:[41,42,59,60,51,52],chapterExp:80,finishExp:80,heroric:{ct:1,1:"1.1",2:"2.1",941:"941.1",942:"942.1",22:"22.1",23:"23.1",21.1:"21.11",h_fly:"fly_jy",mob_bounce:"mob_bounce_s_3",9:9.2,3:"3.1"},theme:"desert",themeShader:["","theme_desert_3","theme_desert_2"],themeWeather:["","rain","fog"],themeShaderInterval:10,dropChance:.03},JY2:{expScale:.8,length:50,start:801,bossInterval:10,eventInterval:5,levelInterval:5,powerInterval:5,powerAttackRatio:[.075,.15,.225,.3,.4],powerHpRatio:[.3,.63,1,1.4,1.73,2.2,2.6,3,3.5],baseAttackRatio:3,baseHpRatio:2.5,moneyDrop:12,eventPool:[1101],dropRelicItem:10031,bossPool:[1110,1111,1112,1113],final_boss:1114,level_1:[281,282,283,284,285,286,287,288],level_2:[205,206,207,208,209,210],level_3:[215,216,217,218,219,220],level_4:[223,224,225,226,227,228],level_5:[229,230,231,232,233,234],level_6:[235,236,237,238,239,240],level_7:[241,242,243,244,245,246,247,248],level_8:[249,250,251,252,253,254,255,256],level_9:[257,258,259,260,261,262,263,264],level_10:[265,266,267,268,269,270],chapterExp:95,finishExp:95,heroric:{ct:2,1:"1.1",2:"2.1",941:"941.1",942:"942.1",22.11:"22.1",23.2:"23.1",pd1:"21.11",h_fly:"fly_jy",mob_bounce:"mob_bounce_s_3",9:9.2,3:"3.1"},theme:"city2",themeShader:["","theme_desert_3","theme_desert_2"],themeWeather:["","fog","rain"],dropChance:.03},JY3:{expScale:.8,length:50,start:801,bossInterval:10,eventInterval:5,levelInterval:5,powerInterval:5,powerAttackRatio:[.075,.15,.225,.3,.4],powerHpRatio:[.3,.63,1,1.4,1.73,2.2,2.6,3,3.5],baseAttackRatio:4,baseHpRatio:3,moneyDrop:14,eventPool:[1101],dropRelicItem:10011,bossPool:[196,1120,1121,1122],final_boss:1124,level_1:[101,102,103,104,105,106,107,108],level_2:[182,183,184,112,113,122,115,116],level_3:[117,118,119,120,121],level_4:[123,124,125,126,149,181],level_5:[156,163,170,177,178,179,180],level_6:[143,144,145,146,147,148],level_7:[1211,1212,1213,1214,1215,1216],level_8:[1217,1218,1219,1220,1221,1222,1223],level_9:[1224,1225,1226,1227,1228,1229,1236],level_10:[1230,1231,1232,1233,1234,1235,1237],chapterExp:110,finishExp:110,heroric:{ct:3,1:"1.1",2:"2.1",941:"941.1",942:"942.1",22.22:"22.1","22_22":"23.1",pd2:"21.11",h_fly:"fly_jy",mob_bounce:"mob_bounce_s_3",9:9.2,3:"3.1"},theme:"snow",themeShader:["","theme_desert_3","theme_desert_2"],themeWeather:["","","fog"],dropChance:.03}},cc._RF.pop()},{}],LevelPool:[function(t,e){"use strict";cc._RF.push(e,"24cbcjlZHhHJZE+bkeqo10t","LevelPool"),t("LevelPoolDefine"),cc.Class({initWithChapter:function(t){var e=LevelPoolDefine[t];this.chapter=t,this.init(e)},initWithLoadCfg:function(t){if(this.initWithChapter(t.chapter),this.index=t.index,this.bossPool=t.bossPool,t.levelPool){var e=Math.ceil(this.index/this.levelInterval);this.define["level_"+e]=t.levelPool,console.log("initWithLoadCfg level_"+e+":",t.levelPool)}},getSaveCfg:function(){var t=Math.ceil(this.index/this.levelInterval);return{index:this.index,chapter:this.chapter,bossPool:this.bossPool,levelPool:this.define["level_"+t]}},init:function(t){t=kit.clone(t),this.define=t,this.index=0,this.length=t.length,this.final_boss=t.final_boss,this.bossPool=t.bossPool,this.bossInterval=t.bossInterval,this.eventPool=t.eventPool,this.eventInterval=t.eventInterval,this.levelInterval=t.levelInterval||100,this.dropHealChance=.008},setGuide:function(){this.define.special[1]=[1102],this.define.special[2]=[1103]},getExpScale:function(){return this.define.expScale||1},getIndex:function(){return this.index},getPower:function(){if(!this.define.powerInterval)return{attack:1,hp:1};var t=Math.floor((this.index-1)/this.define.powerInterval),e=this.define.powerAttackRatio||0;if(Array.isArray(e))var i=(e[t]||e[e.length-1]||0)+1;else i=e*t+1;i*=this.define.baseAttackRatio||1;var a=this.define.powerHpRatio||0;if(Array.isArray(a))var n=(a[t]||a[a.length-1]||0)+1;else n=a*t+1;return n*=this.define.baseHpRatio||1,cc.log("LevelPool getPower",this.index,this.define.powerInterval,{attack:i,hp:n}),{attack:i,hp:n}},popRandom:function(t,e){var i=t.length;if(i){var a=kit.rndInt(0,i-1),n=t[a];return e||t.splice(a,1),n}},getCurrentLevelType:function(){return this.getLevel(null,!0)},getMoneyDrop:function(){return this.define.moneyDrop||1},checkDropHeal:function(){if(cc.log("checkDropHeal",this.dropHealChance),Math.random()<this.dropHealChance)return this.dropHealChance=.008,!0},isHeroric:function(){return this.define.heroric},getLevel:function(t,e){if(t=t||this.index,cc.log("getLevel index:"+t,"rtType",e),t>this.length)cc.log("getLevel","level finish");else{if(this.define.special&&this.define.special[t]){var i="level";if(this.bossInterval&&t%this.bossInterval==0&&(i="boss"),e)return i;var a=this.popRandom(this.define.special[t]);return cc.log("getLevel special",i+":"+a),this.dropHealChance+=.008,cc.log("checkDropHeal",this.dropHealChance),this.currentMapIndex=a,a}if(0==t)return e?"start":(a=this.define.start,this.currentMapIndex=a,a);if(t==this.length&&this.final_boss)return e?"finalboss":(cc.log("getLevel","finalboss:"+this.final_boss),this.currentMapIndex=this.final_boss,this.final_boss);if(this.bossInterval&&t%this.bossInterval==0)return e?"boss":(a=this.popRandom(this.bossPool),this.dropHealChance=0,cc.log("getLevel","boss:"+a),this.currentMapIndex=a,a);if(this.eventInterval&&t%this.eventInterval==0)return e?"event":(a=this.popRandom(this.eventPool,!0),this.dropHealChance=0,cc.log("getLevel","boss:"+a),this.currentMapIndex=a,a);var n=Math.ceil(t/this.levelInterval),s=this.define["level_"+n];if(s)return e?"level":(console.log("level_"+n+" pool",s),a=this.popRandom(s),cc.log("getLevel","level:"+a),this.dropHealChance+=.008,cc.log("checkDropHeal",this.dropHealChance),this.currentMapIndex=a,a);cc.log("getLevel","levelpool_"+n+" not exist!")}},nextLevel:function(){this.index++,cc.log("nextLevel",this.index)},getChapterExp:function(){return this.define.chapterExp||0},getChapterFinishExp:function(){return(this.define.chapterExp||0)+(this.define.finishExp||0)},getThemeShader:function(){var t=this.index;t<1&&(t=1);var e=this.define.themeShaderInterval||this.bossInterval,i=Math.floor((t-1)/e);return this.define.themeShader[i]},getThemeWeather:function(){var t=this.index;t<1&&(t=1);var e=this.define.themeShaderInterval||this.bossInterval,i=Math.floor((t-1)/e);return this.define.themeWeather[i]}}),cc._RF.pop()},{LevelPoolDefine:"LevelPoolDefine"}],LoadingMenu:[function(t,e){"use strict";cc._RF.push(e,"65b837bLHBH/YD9uG6fr2+L","LoadingMenu"),window.PRELOAD_SCENE={mainui:{preloadSubpack:["sub2"],preloadRes:["main_ui"]},chapter_0:{preloadSubpack:["sub"],preloadRes:["base_game","theme_snow"]},chapter_1:{preloadSubpack:["sub","sub2"],preloadRes:["base_game","theme_desert"]},chapter_2:{preloadSubpack:["sub","sub3"],preloadRes:["base_game","theme_city2"]},chapter_3:{preloadSubpack:["sub","sub3"],preloadRes:["base_game","theme_snow"]},chapter_JY1:{preloadSubpack:["sub","sub2","sub3"],preloadRes:["base_game","theme_desert"]},chapter_JY2:{preloadSubpack:["sub","sub3"],preloadRes:["base_game","theme_city2"]},chapter_JY3:{preloadSubpack:["sub","sub3"],preloadRes:["base_game","theme_snow"]}};var i={theme_snow:{subpack:"sub",sprite:["sub#/theme/snow/bg","sub#/theme/snow/block","sub#/theme/snow/entrance","sub#/theme/snow/exit","sub#/theme/snow/exit2","sub#/theme/snow/water"]},theme_desert:{subpack:"sub2",sprite:["sub2#/theme/desert/bg","sub2#/theme/desert/block","sub2#/theme/desert/entrance","sub2#/theme/desert/exit","sub2#/theme/desert/exit2","sub2#/theme/desert/water"]},theme_city2:{subpack:"sub3",sprite:["sub3#/theme/city2/bg","sub3#/theme/city2/block","sub3#/theme/city2/entrance","sub3#/theme/city2/exit","sub3#/theme/city2/exit2","sub3#/theme/city2/water"]},base_game:{subpack:"sub",sprite:["sub#/ui/checkpoint/checkpoint"],labelAtlas:["bullet/enemy/1_1/000","bullet/enemy/1_2/000","bullet/enemy/1_3/000","bullet/enemy/1_4/003","bullet/enemy/1_5/001","bullet/enemy/1_6/000","bullet/enemy/1_7/000","bullet/enemy/1_8/000","bullet/enemy/1_9/000","bullet/enemy/poison/duwu/duw","bullet/enemy/poison/qiu/qiu","effect/crow_dead","effect/shine","effect/smoke","effect/death/drswbx","effect/enemy/mouse_walk","effect/enemy/pashi_attack","effect/enemy/pashi_walk","effect/enemy/xingshi_walk","effect/fire/fire","effect/genji/hit/px","effect/genji/hit/zhan","effect/gunfire/fire_attack","effect/hit_effect/baodian_huangse","effect/rock/rock","effect/spawn/spawn","effect/zuandi/zuandi","theme/city2","theme/city2/water","effect/hit1","effect/hit3","atlas/dead"],sound:["sub#/sound/campfire"],anime:["bat","cike","crow","driller","pashi","touzhibing","xingshi","zhujue"]},main_ui:{subpack:"sub2",sprite:["sub2#/operate/ui/page3/chapter/i1","sub2#/operate/ui/page3/chapter/i2","sub2#/operate/ui/page3/chapter/i3"],labelAtlas:[],sound:[],anime:["sub2#human"]}};cc.Class({extends:t("Menu"),properties:{leftBlocks:[cc.Node],rightBlocks:[cc.Node],title:cc.Node},init:function(t){var e=cc.Canvas.instance.node;this.loadingContent=e.getChildByName("tiao"),this.nextSceneCb=t.nextSceneCb,this.nextScene=t.nextScene,this.nextSceneArg=t.nextSceneArg,console.log("LoadingMenu init"),this.mask={};var i=t.preloadID,a=PRELOAD_SCENE[i],n=a&&a.preloadRes;this.initPreloadRes(n);var s=a&&a.preloadSubpack;for(var o in this.initPreloadSubpack(s),this.downloadCheckTimer=8,this.title.getComponent(cc.Label).string=t.title||"Go to headquarters",this.finishTimer=1,this.leftBlocks)this.setBlockAction(this.leftBlocks[o],.3*o);for(var o in this.rightBlocks)this.setBlockAction(this.rightBlocks[o],.3*o);cc.sys.garbageCollect()},setBlockAction:function(t,e){t.opacity=0,t.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){t.runAction(cc.sequence(cc.fadeIn(.3),cc.delayTime(.3),cc.fadeOut(.3),cc.delayTime(.6)).repeatForever())})))},start:function(){closeBase()},update:function(t){if(!this.isDone){if(this.finishTimer-=t,this.firstUpdate)for(var e=1;e<=50;e++)this.loadResource(this.loadList[this.loadCt])&&this.loadCt++;this.firstUpdate=!0;var i=this.loadList.length?parseInt(this.loadCt/this.loadList.length*100):100;if(i=(i=i<100?i:100)<0?0:i,this.loadingContent.scaleX=i/100*.865,!this.preloadSubpackOK)return;i>=100&&this.finishTimer<=0&&(console.log("LoadingMenu loading finish,prepare to run",this.nextScene),menuManager.run(this.nextScene,this.nextSceneArg,!0,this.nextSceneCb),this.isDone=!0),this.downloadCheckTimer-=t,this.downloadCheckTimer<0&&(this.loadSubpacks(),this.downloadCheckTimer=8)}},initPreloadSubpack:function(t){this.preloadSubpack=t,this.preloadSubpack?(this.preloadSubpackOK=this.checkSubpacksReady(),this.loadSubpacks()):this.preloadSubpackOK=!0},checkSubpacksReady:function(){for(var t in this.preloadSubpack)if(!cc.assetManager.getBundle(this.preloadSubpack[t]))return;return!0},loadSubpacks:function(){var t=this,e=this,i=function(){console.log("LoadingMenu loadSubpack check:",t.preloadSubpack[a]);var i=t.preloadSubpack[a];if(cc.assetManager.getBundle(t.preloadSubpack[a]))return console.log("LoadingMenu loadSubpack exist:",t.preloadSubpack[a]),"continue";console.log("LoadingMenu loadSubpack start loading:",t.preloadSubpack[a]),LoadBundle(t.preloadSubpack[a],function(){console.log("LoadingMenu loadSubpack subpack ready",i),e.preloadSubpackOK=e.checkSubpacksReady(),e.checkPreloadRes()})};for(var a in this.preloadSubpack)i()},initPreloadRes:function(t){if(this.loadCt=0,this.loadList=[],this.preloadRes=[],t)for(var e in t){console.log("initPreloadRes",t[e]);var a=i[t[e]];this.preloadRes.push({loaded:!1,subpack:a.subpack,list:t[e]})}this.checkPreloadRes()},pushResourcesWithList:function(t){var e=i[t],a=[];for(var n in e.sprite)a.push({path:e.sprite[n]});for(var n in e.labelAtlas)a.push({path:e.labelAtlas[n],type:cc.LabelAtlas});for(var n in e.sound)a.push({sound:e.sound[n]});for(var n in e.anime)a.push({anime:e.anime[n]});this.pushResource(a),this.updateLoadList()},checkPreloadRes:function(){for(var t in this.preloadRes){var e=this.preloadRes[t];if(!e.loaded){var i=e.subpack;(!i||cc.assetManager.getBundle(i))&&(console.log("LoadingMenu checkPreloadRes pushResourcesWithList:",e.list),this.pushResourcesWithList(e.list),e.loaded=!0)}}},updateLoadList:function(){for(var t in this.mask)this.mask[t].loaded||(this.mask[t].loaded=!0,this.loadList.push(this.mask[t]))},pushResource:function(t,e){if(void 0===e&&(e=1),t)if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&this.pushResource(t[i],e);else if(cc.js.isString(t)){var a=t.indexOf("sound/");this.mask[t]=a<0?{path:t,type:cc.Texture2D}:{path:t,type:cc.AudioClip}}else if(t.path)this.mask[t.path]=t;else if(t.anime){var n=t.anime,s=(n.split("_"),"anime/"+n+"_ske"),o="anime/"+n+"_tex";this.mask[s]={path:s,type:dragonBones.DragonBonesAsset},this.mask[o]={path:o,type:dragonBones.DragonBonesAtlasAsset}}else if(t.particle){var r="particle/"+t.particle;this.mask[r]={path:r,type:cc.ParticleAsset}}else t.atlas?(r=t.atlas,this.mask[r]={path:r,type:cc.SpriteAtlas}):t.sound&&(r=t.sound,this.mask[r]={path:r,type:cc.AudioClip})},getDefaultName:function(t){if(t){if(t.indexOf("#")<=0){var e=resDefaultPathNameCheckNum,i=t.substr(0,e);resDefaultPathName[i]&&(t=resDefaultPathName[i]+"#"+t)}return t}},loadRes:function(t,e,i){if(t.indexOf("#")>0){var a=t.split("#");cc.log("loadRes bundle",a[0],t);var n=cc.assetManager.getBundle(a[0]);t=a[1],n&&n.load(t,e,i)}else cc.loader.loadRes(t,e,i)},loadResource:function(t){if(t){if(t.path)var e=t.path,i=t.type;else e=t,i=cc.Texture2D;return e=this.getDefaultName(e),(t=window.Cache[e])||(console.log("LoadingMenu loadResource",e),this.loadRes(e,i,function(t,i){t||(console.log("LoadingMenu loadResource Success",e),ENABLE_CACHE&&(window.Cache[e]=i))})),!0}}}),cc._RF.pop()},{Menu:"Menu"}],LootChestCard:[function(t,e){"use strict";cc._RF.push(e,"b963daSJolD8riSm0OFxKy7","LootChestCard"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},init:function(t,e,i,a){this.game=e,this.cardMenu=i,this.def=t,this.initAnimation(a),this.createItem(this.def,0,0),this.contrary=!0,this.canTouch=!1},setCanTouch:function(t){this.canTouch=t},setDef:function(t){this.content&&(this.content.destroy(),this.content=null),this.def=t},createItem:function(t,e,i){if(this.talentDef=null,!this.content){var a=new cc.Node;a.x=e,a.y=i,a.parent=this.node.getChildByName("icon");var n=("money"==t.type?101:"diamond"==t.type&&102)||"talent";if(cc.log("createItem",t),"talent"==n){var s=t.talent,o=this.game.effectMgr.createSprite(0,0,"operate/ui/common/lat0");return a.addChild(o),this.node.getChildByName("name").getComponent(cc.Label).string=s.title,(o=this.game.effectMgr.createSprite(0,0,"uiz/chooseBonus/"+s.content)).scale=1,a.addChild(o),void(this.talentDef=s)}var r={type:t.type};r.num="diamond"==t.type&&t.num||t.num*this.game.getMoneyDrop();var c=OperBridge.createLatNodeByKey(n,{pNode:a,x:0,y:0,scale:1});return r.num>1?this.node.getChildByName("name").getComponent(cc.Label).string="X"+r.num:this.node.getChildByName("name").getComponent(cc.Label).string=c.name,this.rInfo=r,this.baseInfo=c,r.type,"gold"==r.type&&OperBridge.MONEY_TYPE.GOLD||OperBridge.MONEY_TYPE.DIAMOND,this.content=a,a}},initAnimation:function(t){this.node.scale=0,this.node.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){this.game.effectMgr.play(SoundEffectPath.loot_card_pick)},this),cc.scaleTo(.1,1.2),cc.scaleTo(.1,1)).easing(cc.easeInOut(2)))},cover:function(){var t=this.game.effectMgr.createSprite(0,0,"npc/card2");this.node.addChild(t),this.coverNode=t},flipAnimation:function(t){if(this.contrary){i=.2,this.node.runAction(cc.sequence(cc.scaleTo(i,0,1),cc.scaleTo(i,1,1)).easing(cc.easeInOut(2))),this.node.runAction(cc.sequence(cc.moveBy(i,cc.v2(0,40)),cc.moveBy(i,cc.v2(0,-40))).easing(cc.easeInOut(2))),this.node.runAction(cc.sequence(cc.skewTo(i,-11,0),cc.callFunc(function(){this.skewX=11},this.node),cc.skewTo(i,0,0)).easing(cc.easeInOut(2)));var e=this;this.node.runAction(cc.sequence(cc.skewTo(i,0,-33),cc.callFunc(function(){this.skewY=33,e.cover()},this.node),cc.skewTo(i,0,0))),this.contrary=!1}else{t&&this.setDef(t),this.createItem(this.def,0,0);var i=.2;this.node.runAction(cc.sequence(cc.scaleTo(i,0,1),cc.scaleTo(i,1,1)).easing(cc.easeInOut(2))),this.node.runAction(cc.sequence(cc.moveBy(i,cc.v2(0,40)),cc.moveBy(i,cc.v2(0,-40))).easing(cc.easeInOut(2))),this.node.runAction(cc.sequence(cc.skewTo(i,11,0),cc.callFunc(function(){this.skewX=-11},this.node),cc.skewTo(i,0,0)).easing(cc.easeInOut(2))),this.node.runAction(cc.sequence(cc.skewTo(i,0,33),cc.callFunc(function(){this.skewY=-33},this.node),cc.skewTo(i,0,0)).easing(cc.easeInOut(2))),this.coverNode&&this.coverNode.runAction(cc.sequence(cc.delayTime(i),cc.destroySelf())),this.contrary=!0}this.game.effectMgr.play(SoundEffectPath.loot_card_flip)},flip:function(){if(this.canTouch)if(this.cardMenu&&this.cardMenu.flipCardCt>1)OperBridge.toastTip("Open up to two");else if(this.coverNode){var t=this.cardMenu.draw();cc.log("draw def",t),this.flipAnimation(t),this.cardMenu&&this.cardMenu.markAllCardForAd(),this.talentDef?(Talent.effect(this.game.hero,this.talentDef),Effect.ShowChooseBonusGain(this.game,this.talentDef)):(cc.log("addSomething",this.baseInfo.k,this.rInfo.num),101==this.baseInfo.k?DropMoney(this.cardMenu.npc.x,this.cardMenu.npc.y,this.rInfo.num,10,this.game):OperBridge.showHeadAndAddMoney(this.baseInfo.k,this.rInfo.num)),this.setCanTouch(!1)}},markForAd:function(){if(this.coverNode&&!this.coverNode.ad){var t=this.game.effectMgr.createSprite(0,0,"operate/ui/common/ad");this.coverNode.addChild(t),this.coverNode.ad=t}}}),cc._RF.pop()},{}],LootChestPopMenu:[function(t,e){"use strict";cc._RF.push(e,"1fcdcaFEQpCSIhwyp8RjwTC","LootChestPopMenu"),window.LootChestDefine=[{type:"money",num:60,power:1e3,name:"()"},{type:"money",num:120,power:320,name:"()"},{type:"money",num:180,power:150,name:"()"},{type:"diamond",num:10,power:400,name:"()"},{type:"diamond",num:15,power:100,name:"()"},{type:"diamond",num:20,power:30,name:"()"}],window.LootChestDefine2=[{type:"talent",num:1,power:40,name:"()"},{type:"talent",num:1,power:220,name:"()"},{type:"talent",num:1,power:320,name:""}],cc.Class({extends:t("Menu"),properties:{choosePrefab:{default:null,type:cc.Prefab}},onLoad:function(){},shuffle:function(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),a=[t[e],t[i]];t[i]=a[0],t[e]=a[1]}},start:function(){},draw:function(){var t=this.list,e=0;for(var i in t)e+=t[i].power,cc.log(t[i]);var a,n=Math.random()*e,s=0;for(var i in t)if(n<=(s+=t[i].power)){a=i;break}return this.list.splice(a,1)[0]},init:function(t){this.npc=t;var e=kit.clone(LootChestDefine);e=(e=kit.shuffle(e)).splice(0,3);var i=kit.clone(LootChestDefine2);this.list=e.concat(i),this.list=kit.shuffle(this.list),cc.log("concat list",this.list),this.game=t.game;var a=this.node.getChildByName("bgColor");cc.view.getVisibleSize(),a.width=cc.winSize.width,a.height=cc.winSize.height,this.game.pushTimeScale(),this.cards=[],this.rewardList=[];var n=Talent.getPool(),s=n[kit.rndInt(0,n.length-1)],o=Talent.getPool(ChestPool),r=[s,o[kit.rndInt(0,o.length-1)],TalentDefine.heal];kit.shuffle(r);for(var c=0,h=0;h<=5;h++)("talent"==this.list[h].type?"talent":"money"==this.list[h].type&&101)||this.list[h].type,"talent"==this.list[h].type&&(this.list[h].talent=r[c],cc.log(c,r[c]),c++),this.createItem(this.list[h],h%3*200-200,-270*Math.floor(h/3),.1*h);this.node.getChildByName("back").active=!1},createItem:function(t,e,i,a){var n=this,s=this;cc.loader.loadRes("prefab/lootChestCard",cc.Prefab,function(o,r){var c=cc.instantiate(r),h=c.getComponent("LootChestCard");h.init(t,n.game,n,a),c.y=100,c.ox=e,c.oy=i,s.node.addChild(c),s.cards.push(h),c.runAction(cc.sequence(cc.delayTime(a+1.5),cc.callFunc(function(){this.flipAnimation()},h))),s.cards.length>=6&&(s.isAniamtionReady=!0,s.cardsAniamtion(2))})},cardsAniamtion:function(t){for(var e in this.cards){this.cards[e].node.x,this.cards[e].node.y;var i=this.cards[e].node.ox,a=this.cards[e].node.oy;this.cards[e].node.runAction(cc.sequence(cc.moveTo(.2,cc.v2(i,a)),cc.delayTime(.1*e+t),cc.moveTo(.2,cc.v2(kit.rnd(-11,11),kit.rnd(-11,11)-70)).easing(cc.easeInOut(2)),cc.delayTime(1.6),cc.moveTo(.2,cc.v2(i,a)).easing(cc.easeInOut(2)),cc.callFunc(function(){this.setCanTouch(!0)},this.cards[e]))),2==e&&this.cards[e].node.runAction(cc.sequence(cc.delayTime(.1*e+t+.2+.8),cc.moveBy(.2,cc.v2(200,0)).easing(cc.easeInOut(2)),cc.callFunc(function(){this.zIndex=8888},this.cards[e].node),cc.moveBy(.2,cc.v2(-200,0)).easing(cc.easeInOut(2)))),5==e&&this.cards[e].node.runAction(cc.sequence(cc.delayTime(.1*e+t+.2+.6+.3),cc.moveBy(.2,cc.v2(-200,0)).easing(cc.easeInOut(2)),cc.callFunc(function(){this.zIndex=9999},this.cards[e].node),cc.moveBy(.2,cc.v2(200,0)).easing(cc.easeInOut(2))))}this.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(function(){this.node.getChildByName("back").active=!0},this)))},buyItem:function(){},close:function(){this.game.popTimeScale(),menuManager.close(),this.npc.onClose(),OperBridge.hideHead(!0)},markAllCardForAd:function(){for(var t in this.cards)this.cards[t].markForAd();this.flipCardCt||(this.flipCardCt=0),this.flipCardCt++}}),cc._RF.pop()},{Menu:"Menu"}],LuckyDrawMenu:[function(t,e){"use strict";var i;cc._RF.push(e,"ca38eitezlJtaN1owE/vnP4","LuckyDrawMenu"),cc.Class(((i={extends:t("Menu"),properties:{choosePrefab:{default:null,type:cc.Prefab},diamondLabel:cc.Node},onLoad:function(){},start:function(){},closeCb:function(){cc.Platformsdk.hideBanner()},init:function(e){this.npc=e,this.game=e&&e.game;var i=cc.winSize.width/672;this.node.scale=i,this.diamondLabel.getComponent(t("diamondFrame")).init(this.game.gameManager),this.game&&this.game.pushTimeScale(),this.adBtn=this.node.getChildByName("buyAd"),this.backBtn=this.node.getChildByName("back"),this.btn=this.node.getChildByName("buy"),this.currentFrameIndex=0,this.selectFrame=cc.find("board/select",this.node),this.selectFrame.active=!1,this.itemsNode=cc.find("board/item_bg",this.node),this.itemList=[],this.prepareLightEff(!0),this.initSideLight()},initSideLight:function(){this.leftLight=cc.find("board/left",this.node),this.rightLight=cc.find("board/right",this.node),this.sideLightTimer=0,this.setSideLightStateSeq(1)},setSideLightStateSeq:function(t){this.sideLightStateIndex=0,this.sideLightTimer=0,1==t?this.sideLightStateSeq=[{t:.4,state:1},{t:.4,state:2},{t:.4,state:3}]:2==t?this.sideLightStateSeq=[{t:.1,state:1},{t:.1,state:2},{t:.1,state:3}]:3==t&&(this.sideLightTimer=.2,this.sideLightStateSeq=[{t:.25,state:0},{t:.25,state:4}])},updateSideLight:function(t){this.sideLightTimer-=t,this.sideLightTimer<=0&&(this.setSideLightState(this.sideLightStateSeq[this.sideLightStateIndex].state),this.sideLightStateIndex++,this.sideLightStateIndex>this.sideLightStateSeq.length-1&&(this.sideLightStateIndex=0),this.sideLightTimer=this.sideLightStateSeq[this.sideLightStateIndex].t)},setSideLightState:function(t){this.lightState!=t&&(this.lightState=t,this.game.effectMgr.loadSprite(this.leftLight.getComponent(cc.Sprite),"ui/luckydraw/d"+t),this.game.effectMgr.loadSprite(this.rightLight.getComponent(cc.Sprite),"ui/luckydraw/d"+t))},prepareLightEff:function(t){this.prepareLight?(this.prepareLight.opacity=0,this.prepareLight.active=t):(this.prepareLight=cc.find("board/blue_light",this.node),this.prepareLight.runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)).repeatForever()))}}).start=function(){var t=this.npc.bossChest;t?(this.luckyDrawList=OperDefine.getLuckyDrawListByPos(3),this.luckyDrawList2=OperDefine.getLuckyDrawListByPos(4)):(this.luckyDrawList=OperDefine.getLuckyDrawListByPos(1),this.luckyDrawList2=OperDefine.getLuckyDrawListByPos(2)),t?this.nextPhase():this.initItemsByList(this.luckyDrawList),cc.Platformsdk.showBanner()},i.initTalentDef=function(t){if(this.talentDef||(this.talentDef={}),this.talentUniqueExist||(this.talentUniqueExist={}),!this.talentDefaultPool){var e=Talent.getPoolById("default");this.talentDefaultPool=e,cc.log("",this.talentDefaultPool.length)}if(this.talentIdExist||(this.talentIdExist={}),t.id)var i=TalentDefine[t.id];else{var a=t.pool||"normal";if(!this.talentDef[a]){var n=this.game.gameManager&&this.game.gameManager.getChapterProgress();this.talentDef[a]=Talent.getPoolById(t.pool,n)}cc.log("",a,"",this.talentDefaultPool.length);var s=this.talentDef[a];kit.rndInt(0,s.length-1),i=Talent.pickFromPool(s,1,this.talentUniqueExist,this.talentDefaultPool,this.talentIdExist)[0]}cc.log("initTalentDef",i),t.talent=i},i.initItemsByList=function(t){var e;this.rewardList&&(e=this.rewardList),this.rewardList=t;for(var i=1;i<=8;i++){var a=cc.find(""+i,this.itemsNode);this.itemList.push(a),"talent"==t[i-1].type&&this.initTalentDef(t[i-1]);var n=this.initItem(t[i-1],a,.1*i);n&&(a.reward=n),e&&"same"==t[i-1].type&&(t[i-1].power=e[i-1].power)}this.game.effectMgr.play(SoundEffectPath.luckydraw_show)},i.replaceItem=function(t,e){return e.content.runAction(cc.sequence(cc.moveBy(.5,cc.v2(0,-150)).easing(cc.easeInOut(2)),cc.destroySelf())),e.content=null,!0},i.initItem=function(t,e,i){if(cc.log("initItem",e.x,e.y),"same"!=t.type){var a;e.content&&this.replaceItem(t,e,i);var n=new cc.Node;this.content=n,n.y=150,n.runAction(cc.sequence(cc.delayTime(.01),cc.moveBy(.5,cc.v2(0,-150)).easing(cc.easeInOut(2)))),e.addChild(n),e.content=n;var s=this.game.effectMgr.createLabel2(0,-57,"",20);n.addChild(s,333),n.label=s.label;var o=s.addComponent(cc.LabelOutline);o.width=3,o.color=cc.color(0,0,0);var r=("money"==t.type?101:"diamond"==t.type&&102)||"talent";if(cc.log("createItem",t),"talent"==r){var c=t.talent;n.label.string=c.title,n.label.node.color=RarityTextColor[c.rarity],cc.log("talent icon","uiz/chooseBonus/icon/"+c.content);var h=this.game.effectMgr.createSprite(0,10,"uiz/chooseBonus/icon/"+c.content);return h.scale=1,n.addChild(h),{type:"talent",def:c}}var d={type:t.type};d.num="diamond"==t.type&&t.num||t.num*this.game.getMoneyDrop();var l=t.pic>=0&&OperUrl.getMoneyImgByType(r,t.pic),u=OperBridge.createLatNodeByKey(r,{pNode:n,x:0,y:10,scale:1,hideBg:1,spUrl:l});return d.num>1?n.label.string="X"+d.num:n.label.string=u.name,a={type:"item",rInfo:d,baseInfo:u},d.type,a}},i.buyItem=function(){},i.close=function(){this.game&&this.game.popTimeScale(),menuManager.close(),this.npc&&this.npc.onClose()},i.draw=function(t){if(t){this.adBtn.active=!1,this.backBtn.active=!1,this.prepareLightEff(!1),this.selectFrame.active=!0,this.btn.active=!1;var e=this.rewardList,i=0;for(var a in e)i+=e[a].power;var n=Math.random()*i;cc.log("rand:"+n);var s,o=0;for(var a in e)if(o+=e[a].power,cc.log("currentPower:"+o),n<=o){s=a;break}cc.log("LuckDrawMenu draw-targetIndex:"+s),this.targetFrameIndex=parseInt(s),this.nextFrameCt=40+this.targetFrameIndex+(e.length-this.currentFrameIndex),this.currentFrameCt=0,this.updateSelectFrame(),this.startDrawAnimation()}},i.startDrawAnimation=function(){this.startDraw=!0,this.setSideLightStateSeq(2)},i.update=function(t){if(this.updateSideLight(t),this.startDraw){var e=1,i=this.nextFrameCt-10;e=this.currentFrameCt>i?(this.currentFrameCt-i)/(this.nextFrameCt-i)*.7+.1:.1,this.currentFrameCt>this.nextFrameCt-4&&(e+=.5-.1*(this.nextFrameCt-this.currentFrameCt)),kit.timer(this,"drawUpdate",.5*e,t)&&(this.currentFrameCt++,this.currentFrameIndex++,this.game.effectMgr.play(SoundEffectPath.luckydraw_roll),this.currentFrameIndex>=this.itemList.length&&(this.currentFrameIndex=0),this.currentFrameCt==this.nextFrameCt&&(this.startDraw=!1,this.selectFrame.runAction(cc.sequence(cc.delayTime(.2),cc.blink(2,4))),this.claimReward(this.currentFrameIndex)),this.updateSelectFrame())}},i.updateSelectFrame=function(){this.selectFrame.x=this.itemList[this.currentFrameIndex].x,this.selectFrame.y=this.itemList[this.currentFrameIndex].y},i.claimReward=function(t){var e=this.itemList[t].reward;"talent"==e.type?(Talent.effect(this.game.hero,e.def),Effect.ShowChooseBonusGain(this.game,e.def),cc.log("claimReward addTalent",e.def)):(cc.log("addSomething",e.baseInfo.k,e.rInfo.num),101==e.baseInfo.k?this.npc&&DropMoney(this.npc.x,this.npc.y,e.rInfo.num,10,this.game):(OperBridge.addSomethingByK(e.baseInfo.k,e.rInfo.num),OperBridge.addMoneyAction(this.diamondLabel,8))),this.node.runAction(cc.sequence(cc.delayTime(2.2),cc.callFunc(this.nextPhase,this))),this.setSideLightStateSeq(3),this.game.effectMgr.play(SoundEffectPath.luckydraw_get)},i.nextPhase=function(){this.secondPhase?this.close():(this.selectFrame.active=!1,this.secondPhase=!0,this.adBtn.active=!0,this.initItemsByList(this.luckyDrawList2),this.prepareLightEff(!0),this.setSideLightStateSeq(1),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){this.backBtn.active=!0},this))),cc.Platformsdk.videoBtnShow(TJ.ADID.war_lucky_draw))},i.drawNormal=function(){return this.draw(!0)},i.drawAd=function(){cc.Platformsdk.showVideo(TJ.ADID.war_lucky_draw,this.draw.bind(this))},i)),cc._RF.pop()},{Menu:"Menu",diamondFrame:"diamondFrame"}],MainMenu:[function(t,e){"use strict";var i;cc._RF.push(e,"0d1dbQ5A1FOq64ycCbBXMEU","MainMenu"),cc.Class(((i={extends:t("Menu"),start:function(){},init:function(){this.checkLoadGame()}}).start=function(){var e=t("EffectManager");this.effectMgr=new e,this.effectMgr.playMusic(BGMPath.mainTheme,!0)},i.startGame=function(e){if(this.saveGameExist)cc.log("");else{e=e||1;var i=new(t("GameEntrance")),a=new(t("LevelPool"));a.initWithChapter(e),cc.log("equipment attr",EquipDefine.getAllAttrs()),cc.log("--------startGame--------",e);var n=operkit.loadWarData("isInGameGuideFinish");n||a.setGuide(),i.start("test",{chapterProgress:operkit.getCurWarChapter(),guide:!n,levelPool:a,equipment:EquipDefine.getAllAttrs()},!0),cc.Platformsdk.hideBanner(),cc.Platformsdk.hideCustom(),this.effectMgr.stopBGM()}},i.checkLoadGame=function(){cc.log("checkLoadGame");var t=operkit.loadWarData("saveProgressConfig"),e=this;if(t){var i=function(t){t?this.loadGame():(operkit.saveWarData("saveProgressConfig","",1),e.saveGameExist=!1,OperBridge.checkNextGuide("resumegame"))}.bind(this);return menuManager.pop("sub#/operate/prefab/popwin/poplittlewin",{type:"resumegame",cb:i}),this.saveGameExist=!0,!0}},i.loadGame=function(){var e=operkit.loadWarData("saveProgressConfig");if(e){var i=new(t("GameEntrance")),a=JSON.parse(e);cc.log("loadgame success!",a);var n=new(t("LevelPool"));n.initWithLoadCfg(a.levelPool),a.levelPool=n,i.start("test",{saveData:a.saveData,chapterProgress:operkit.getCurWarChapter(),alreadyRevived:a.alreadyRevived,levelPool:n,equipment:EquipDefine.getAllAttrs(),hp:a.hp,exp:a.exp,playerLvl:a.playerLvl,moneyGain:a.moneyGain,talent:a.talent,loadGame:!0,loadLvl:a.currentLvl,itemGain:a.itemGain},!0),cc.Platformsdk.hideBanner(),cc.Platformsdk.hideCustom(),this.effectMgr.stopBGM()}},i.startEditMode=function(){menuManager.run("editor/editorList")},i.onMenuBlock=function(){},i)),cc._RF.pop()},{EffectManager:"EffectManager",GameEntrance:"GameEntrance",LevelPool:"LevelPool",Menu:"Menu"}],ManholeCover:[function(t,e){"use strict";cc._RF.push(e,"4770bRL8tpE0btuCUGE2LlK","ManholeCover"),t("Entity");var i=cc.Class({extends:t("Spawner"),init:function(t,e,i){this._super(t,e,i),this._isActiveContact=!1,this.canAutoAim=!1,this.isInvincible++},initAvatar:function(){this.avatarBase=this.effectMgr.createSprite(this.x,this.y,this.define.avatar.base||"avatar/egg_base"),this.avatarBase.scale=this.define.scale,this.game.camera.addChild(this.avatarBase,5),this.avatar=this.effectMgr.createSprite(this.x,this.y,this.define.avatar.frm||"avatar/egg").sprite,this.avatar.node.scale=this.define.scale,this.game.camera.addChild(this.avatar.node,this.define.z||6)},deadEffect:function(){return this.avatar.node.opacity=0,1}});e.exports=i,cc._RF.pop()},{Entity:"Entity",Spawner:"Spawner"}],MasterPopMenu:[function(t,e){"use strict";cc._RF.push(e,"d8dc4gXW7dAWL9PodJWnqOv","MasterPopMenu"),t("TalentDefine"),cc.Class({extends:t("Menu"),properties:{textLabel:cc.Label},onLoad:function(){},shuffle:function(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),a=[t[e],t[i]];t[i]=a[0],t[e]=a[1]}},start:function(){cc.Platformsdk.showBanner()},closeCb:function(){cc.Platformsdk.hideBanner()},cancel:function(){this.game.popTimeScale(),this.npc.onClose(),menuManager.close()},init:function(t){var e=t.game;if(this.npc=t,this.game=e,this.game.pushTimeScale(),Math.random()<.5){this.define=TalentDefine.master_atk;var i="ui/ingame/master_atk",a=this.define.showValue,n="ATK+"+Math.floor(e.hero.attribute.get("atkDmg")*a);this.textLabel.string="Hone your marksmanship"}else{var s=e.hero;s.oHpMax||(s.oHpMax=s.hpMax),this.define=TalentDefine.master_hp,i="ui/ingame/master_hp",a=this.define.showValue;var o=s.attribute.get("hpMax"),r=s.attribute.getK("hpMax","s_add");a=o*(this.define.showValue/r),n="Maximum health +"+Math.floor(a),this.textLabel.string="Increase the health capacity?"}var c=this.node.getChildByName("content").getComponent(cc.Sprite);e.effectMgr.loadSprite(c,i),this.node.getChildByName("des").getComponent(cc.Label).string=n,cc.Platformsdk.videoBtnShow(TJ.ADID.war_strengthen)},initTalent:function(){var t=Math.random()<.5&&[TalentDefine[2]]||[TalentDefine[6]];return this.chooseArray=t,t},getCardByVideo:function(){cc.Platformsdk.showVideo(TJ.ADID.war_strengthen,this.getCard.bind(this))},getCard:function(t){if(t){this.game.popTimeScale();var e=this.define;Talent.effect(this.game.hero,e),this.npc.onClose(),menuManager.close()}}}),cc._RF.pop()},{Menu:"Menu",TalentDefine:"TalentDefine"}],Master:[function(t,e){"use strict";cc._RF.push(e,"eae0fr1qbRPn5kjCG7/V7ze","Master");var i=cc.Class({extends:t("Npc"),initAvatar:function(){this.avatarNode=this.effectMgr.createSprite(0,0,"npc/master"),this.addChild(this.avatarNode)},activateNpc:function(){menuManager.pop("prefab/masterPopMenu",this)}});e.exports=i,cc._RF.pop()},{Npc:"Npc"}],Menu:[function(t,e){"use strict";function i(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=a(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=t[Symbol.iterator]()).next.bind(i)}function a(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}cc._RF.push(e,"b91e66TOV9CRpnBUlaY3FhJ","Menu"),t("menuManager"),cc.Class({extends:cc.Component,properties:{topNodes:[cc.Node]},resizeBackground:function(){var t=this.node.getChildByName("bg"),e=cc.size(1280,800),i=cc.size(e.height*cc.winSize.width/cc.winSize.height,e.height);t&&i.width>e.width&&t.setScale(i.width/e.width)},init:function(t){if(this.args=t,this.initStatus(t),cc.winSize.width/cc.winSize.height>2)for(var e,a=i(this.topNodes);!(e=a()).done;)e.value.getComponent(cc.Widget).top+=50},initStatus:function(){},onMenuClose:function(t){this.node.destroy(),this.closeCb&&this.closeCb.call(this,t)},onMenuLeave:function(){},onMenuBack:function(){},onMenuBlock:function(t,e){if(t)if(this.blockCover)this.removingBlockCover&&(this.blockCover.stopAction(this.removingBlockCover),this.removingBlockCover=null,this.blockCover.opacity=225),(a=this.blockCover).zIndex=t-1;else{var i=this.node.getChildByName("bg");if(i)(a=cc.instantiate(i)).opacity=0,a.color=cc.color(180,180,180),a.runAction(cc.fadeTo(.2,240)),a.group=this.node.group;else{var a,n=(a=new cc.Node).addComponent(cc.Sprite);cc.loader.loadRes("white_block",cc.SpriteFrame,function(t,e){n.spriteFrame=e,n.type=cc.Sprite.Type.SLICED,a.width=cc.winSize.width,a.height=cc.winSize.height}),a.opacity=0,a.color=cc.color(0,0,0),e||a.runAction(cc.fadeTo(.2,225))}this.node.addChild(a,t-1),a.addComponent(cc.BlockInputEvents),this.blockCover=a}else this.blockCover&&(this.removingBlockCover=this.blockCover.runAction(cc.sequence(cc.fadeOut(.1),cc.destroySelf(),cc.callFunc(function(){this.removingBlockCover=null,delete this.blockCover},this))))},onMenuCover:function(){},onMenuReappear:function(){},onClose:function(){menuManager.close(this)},onBack:function(){menuManager.back()}}),cc._RF.pop()},{menuManager:"menuManager"}],MerchantPopMenu:[function(t,e){"use strict";cc._RF.push(e,"b7583jJrBRCLKbXKWdgVIfT","MerchantPopMenu"),cc.Class({extends:t("Menu"),properties:{cards:[cc.Node],diamondNum:cc.Node},onLoad:function(){},updateMoney:function(){var t="game_money"==this.moneyShow&&this.game.moneyGain||operkit.getMoneyData(OperBridge.MONEY_TYPE.DIAMOND);for(var e in this.diamondNum.getComponent(cc.Label).string=Math.round(t),this.items){var i=this.items[e];i.price&&t<i.price&&(i.costLabel.color=cc.color(255,0,0))}},shuffle:function(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),a=[t[e],t[i]];t[i]=a[0],t[e]=a[1]}},start:function(){cc.Platformsdk.showBanner(),this.updateMoney()},closeCb:function(){cc.Platformsdk.hideBanner()},init:function(t){this.npc=t,this.game=t.game,this.game.pushTimeScale(),this.items=[];var e=this.game.gameManager.getChapter(),i=Talent.getPoolById("merchant",e);if(kit.shuffle(i),i[0]){var a={talent:i[0],type:"ad",price:0};this.items.push(this.createItem(a,0,150))}var n=LevelPoolDefine[e].moneyDrop;if(i[1]){var s=i[1].price||0;a={talent:i[1],type:"game_money",price:s*n},this.items.push(this.createItem(a,0,-40))}i[2]&&(s=i[2].price||0,a={talent:i[2],type:"game_money",price:s*n},this.items.push(this.createItem(a,0,-230))),this.moneyShow="game_money"},createItem:function(t,e,i){var a=new cc.Node;a.x=e,a.y=i,a.parent=this.node;var n=this.game.effectMgr.createSprite(0,-0,"npc/merchant/frame");if(a.addChild(n),"object"==typeof t){var s=(c=t).talent;(n=this.game.effectMgr.createSprite(-195,8,"uiz/chooseBonus/bg_"+s.rarity)).scale=.5,a.addChild(n),n=this.game.effectMgr.createSprite(-195,8,"sub3#ui/merchant/"+s.content),a.addChild(n);var o=s.title;(d=(h=this.game.effectMgr.createLabel2(-40,45,o,25)).addComponent(cc.LabelOutline)).width=2,d.color=cc.color(0,0,0),a.addChild(h),o=s.des,(h=this.game.effectMgr.createLabel2(-20,0,o,17)).color=cc.color(0,0,0),a.addChild(h),h.label.overflow=cc.Label.Overflow.RESIZE_HEIGHT,h.width=240,h.label.lineHeight=30;var r="ad"}else{var c,h,d,l=(c=OperDefine.traderSell[t]).k,u=OperDefine.getFinalKey(l),f=OperBridge.createLatNodeByKey(u,{pNode:a,x:-165,y:12,scale:1,str:c.num>1&&"x"+c.num});r="ad",record.isRecordReady()&&"ad"==r&&Math.random()<.5&&(r="shareRecord"),o=f.name,(d=(h=this.game.effectMgr.createLabel2(-40,5,o,25)).addComponent(cc.LabelOutline)).width=2,d.color=cc.color(0,0,0),a.addChild(h)}var m=this.game.effectMgr.createSprite(180,0,"npc/btn_yellow");m.y=-0,m.scale=.8,m.rkey=t;var p=m.addComponent(cc.Button);p.transition=cc.Button.Transition.SCALE,p.zoomScale=.95,m.on("click",this.buyItem),m.menu=this,a.btn=m,m.baseInfo=f,m.rInfo=c,m.costType=r,m.effectMgr=this.game.effectMgr,a.addChild(m),e=("shareRecord"==r?-45:"ad"!=r&&-40)||0;var g=("gold"==r||"game_money"==r)&&window.OperUrl.c_gold1||"ad"==r&&OperUrl.c_video||"shareRecord"==r&&"sub#ui/record/btn"||window.OperUrl.c_diamond1,v=this.game.effectMgr.createSprite(e,5,g);if("gold"==r&&"game_money"==r||(v.scale=1.3),m.addChild(v),"ad"==r)return cc.Platformsdk.videoBtnShow(TJ.ADID.war_trader),a;var b="shareRecord"==r?"":c.price,k=30;i=-6,"shareRecord"==r&&(v.scale=.6,k=25,i=-18);var y=this.game.effectMgr.createLabel2(15,-6,b,k),S=y.addComponent(cc.LabelOutline);return S.width=3,S.color=cc.color(0,0,0),m.addChild(y),a.costLabel=y,a.price=c.price,"shareRecord"==r?a:(r="gold"==c.type&&OperBridge.MONEY_TYPE.GOLD||OperBridge.MONEY_TYPE.DIAMOND,"game_money"==c.type?this.game.moneyGain<c.price&&(y.color=cc.color(255,0,0)):operkit.getMoneyData(r)<c.price&&(y.color=cc.color(255,0,0)),a)},buyItem:function(t){var e=t.node,i=(e.rkey,e.baseInfo),a=e.rInfo;cc.Platformsdk.showVideo(TJ.ADID.war_trader,function(t){if(t){a.talent?Talent.effect(e.menu.game.hero,a.talent):OperBridge.addSomethingByK(i.k,a.num),OperBridge.toastTip("The purchase is successful!"),e.active=!1;var n=e.effectMgr.createSprite(180,10,"npc/merchant/sold");n.scale=4,n.opacity=128,n.runAction(cc.spawn(cc.fadeIn(.2),cc.scaleTo(.2,1))),e.parent.addChild(n),e.menu.updateMoney()}})},close:function(){this.game.popTimeScale(),menuManager.close(),this.npc.onClose&&this.npc.onClose()}}),cc._RF.pop()},{Menu:"Menu"}],Merchant:[function(t,e){"use strict";cc._RF.push(e,"63394D+F1NDGoI5wUg9y7ey","Merchant");var i=cc.Class({extends:t("Npc"),initAvatar:function(){this.avatarNode=this.effectMgr.createSprite(0,0,"npc/merchant"),this.addChild(this.avatarNode)},activateNpc:function(){menuManager.pop("prefab/merchantPopMenu",this)}});e.exports=i,cc._RF.pop()},{Npc:"Npc"}],MercyFlySkill:[function(t,e){"use strict";cc._RF.push(e,"a6200BzrTlJhKUVjD4A7Jio","MercyFlySkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.mercy_MercyFly),this.s=this.define.s||2,this.a=this.define.a||20,this.re=this.define.re||20,this.canShot=this.define.canShot,this.idleTimer=1;var t=this.obj,e=t.attribute;t.setFly(!0),!this.canShot&&t.setNoAttack(!0),t.avatar.runAction(cc.scaleTo(.5,1.3)),t.isAngel||(t.avatar.setWalkAnimeName("walk_2"),t.avatar.setStandAnimeName("walk_2"),t.avatar.setAttackAnimeName("attack_2"),t.isAngel=0),t.isAngel++,t.refreshAvatar(),e.mutScale("moveSpd",this.s),e.add("armorLevel",this.a),this.game.fastMode||this.startEffect()},startEffect:function(){var t,e=this.game.effectMgr.createParticle(0,0,"mercy_fly");this.particle=e,(t=e.getComponent(cc.ParticleSystem)).positionType=cc.ParticleSystem.PositionType.RELATIVE,this.game.camera.addChild(e,this.obj.getLocalZOrder()+1),(e=this.game.effectMgr.createParticle(60,-25,"mercy_fly_wing")).angle=-20,(t=e.getComponent(cc.ParticleSystem)).positionType=cc.ParticleSystem.PositionType.RELATIVE,t.autoRemoveOnFinish=!0,this.obj.addChild(e,this.obj.getLocalZOrder()+1),(t=(e=this.game.effectMgr.createParticle(-60,-25,"mercy_fly_wing")).getComponent(cc.ParticleSystem)).positionType=cc.ParticleSystem.PositionType.RELATIVE,t.autoRemoveOnFinish=!0,e.angle=20,this.obj.addChild(e,this.obj.getLocalZOrder()+1)},endEffect:function(){var t,e;this.particle.destroy(),(e=(t=this.game.effectMgr.createParticle(60,-25,"mercy_fly_wing")).getComponent(cc.ParticleSystem)).positionType=cc.ParticleSystem.PositionType.RELATIVE,e.autoRemoveOnFinish=!0,t.angle=-30,this.obj.addChild(t,this.obj.getLocalZOrder()+1),(e=(t=this.game.effectMgr.createParticle(-60,-25,"mercy_fly_wing")).getComponent(cc.ParticleSystem)).positionType=cc.ParticleSystem.PositionType.RELATIVE,e.autoRemoveOnFinish=!0,t.angle=30,this.obj.addChild(t,this.obj.getLocalZOrder()+1)},excute:function(t){kit.timer(this,"sound",.5,t)&&this.game.effectMgr.play(SoundEffectPath.mercy_MercyFlyPersist),this.particle&&this.particle.setPosition(this.obj.getPosition()),this.idleTimer+=t,this.idleTimer<1||(this.idleTimer=0,this.obj.heal(this.re))},end:function(){this._super();var t=this.obj,e=t.attribute;t.setFly(!1),!this.canShot&&t.setNoAttack(!1),t.avatar.runAction(cc.scaleTo(.2,1)),t.isAngel--,t.isAngel||(t.avatar.setWalkAnimeName(),t.avatar.setStandAnimeName(),t.avatar.setAttackAnimeName()),t.refreshAvatar(),e.mutScale("moveSpd",1/this.s),e.add("armorLevel",-this.a),this.game.fastMode||this.endEffect()}}),cc._RF.pop()},{Skill:"Skill"}],MobDefine:[function(t,e){"use strict";cc._RF.push(e,"a671d8+Hi9FNoHcrhU5iU7o","MobDefine");var i=t("FrameAvatar"),a=t("SimpleAvatar"),n=t("PounceSkill"),s=t("JumpSkill"),o=t("PullbackSkill"),r=t("PullBackBlt"),c=(t("PoisonGrenade"),t("ExplosiveMob")),h=(t("RampageSkill"),t("DrillSkill"),t("HydraliskAI"));t("Mob"),t("StreakSpeedUpSkill"),t("BuffDefine"),t("resource"),window.MOB_DOG=1,window.MOB_DOG_100=1.1,window.MOB_SMALLDOG=2,window.MOB_SMALLDOG_100=2.1,window.PX_BOSS="px_boss",window.MOB_BIGDOG=3,window.MOB_BIGDOG_100=3.1,window.MOB_DOG_F2=1.02,window.MOB_DOG_1=19,window.MOB_FASTDOG=4,window.MOB_FASTDOGS=4.01,window.ZW_BOSS="zw_boss",window.MOB_WOLF=5,window.MOB_WOLF_BOSS=5.1,window.MOB_DOG_F1=1.01,window.MOB_EXPLOSIVEDOG=9,window.MOB_EXPLOSIVEDOG_BZ1=9.1,window.MOB_EXPLOSIVEDOG_BZ2=9.2,window.MOB_BOUNCE="mob_bounce",window.JQR_FL_1="jqr_fl_1",window.MOB_BOUNCE_BOSS="mob_bounce_boss",window.MOB_BOUNCE_S_1="mob_bounce_s_1",window.MOB_BOUNCE_S_2="mob_bounce_s_2",window.MOB_BOUNCE_JY="mob_bounce_s_3",window.JQR_JY_FL_1="jqr_jy_fl_1",window.JQR_BOSS="jqr_boss_jy",window.JQR_BOSS_FL1="jqr_boss_jy_fl1",window.JQR_BOSS_FL2="jqr_boss_jy_fl2",window.MOB_BIGBOSS="bigboss",window.MOB_BIGBOSS_JY="bigboss_jy",window.MOB_SPIDER_FIRE="MOB_SPIDER_FIRE",window.MOB_SPIDER_FROST="MOB_SPIDER_FROST",window.MOB_SPIDER_ELETRIC="MOB_SPIDER_ELETRIC",window.MOB_SPIDER_POISON="MOB_SPIDER_POISON",window.MOB_DOG_N="",window.MOB_DOG_F1_N="",window.MOB_DOG_F2_N="BOSS",window.MOB_SMALLDOG_N="",window.MOB_BIGDOG_N="",window.MOB_FASTDOG_N="",window.MOB_FASTDOGS_N="",window.MOB_DOG_100_N="",window.MOB_SMALLDOG_100_N="",window.MOB_BIGDOG_100_N="",window.MOB_BOUNCE_N="",window.MOB_EXPLOSIVEDOG_N="",window.BIG_MOBDOG_N="",window.BIG_MOBSMALLDOG_N="",window.BIG_MOBBIGDOG_N="",window.MOB_SLOWDOG_N="",window.MOB_RUSHDOG_N="",window.MOB_BOOMDOG_N="",window.MOB_STUPIDDOG_N="",window.MOB_DOG_PROLOGUE_N="",window.MOB_DOG_PROLOGUE0_N="",window.BIG_MOBEXPLOSIVEDOG_N="",window.HUMAN_HUNHUN_N="",window.MOB_CXY_N="",window.MOB_YJY_N="",window.MOB_DOG_1_N="",window.MOB_DOG_2_N="",window.MOB_ZW_N="",window.DOG_GD_N="",EntityCN2EN[MOB_DOG_N]="dog",EntityCN2EN[MOB_SMALLDOG_N]="smalldog",EntityCN2EN[MOB_BIGDOG_N]="bigdog",EntityCN2EN[BIG_MOBDOG_N]="BIG_MOBDOG",EntityCN2EN[BIG_MOBSMALLDOG_N]="BIG_MOBSMALLDOG",EntityCN2EN[BIG_MOBBIGDOG_N]="BIG_MOBBIGDOG",EntityCN2EN[MOB_FASTDOG_N]="fastdog",EntityCN2EN[MOB_SLOWDOG_N]="slowdog",EntityCN2EN[MOB_EXPLOSIVEDOG_N]="explosivedog",EntityCN2EN[MOB_RUSHDOG_N]="rushdog",EntityCN2EN[MOB_BOOMDOG_N]="boomdog",EntityCN2EN[MOB_STUPIDDOG_N]="stupiddog",EntityCN2EN[MOB_DOG_PROLOGUE_N]="dog_prologue",EntityCN2EN[MOB_DOG_PROLOGUE0_N]="dog_prologue0",EntityCN2EN[BIG_MOBEXPLOSIVEDOG_N]="mobexplosivedog",EntityCN2EN[HUMAN_HUNHUN_N]="human_hunhun",EntityCN2EN[MOB_CXY_N]="cxy",EntityCN2EN[MOB_YJY_N]="yjy",EntityCN2EN[MOB_DOG_1_N]="dog_1",EntityCN2EN[MOB_DOG_2_N]="dog_2",EntityCN2EN[MOB_ZW_N]="zw";var d={dog:{id:MOB_DOG,name:"",radius:40/.6,weight:490,speed:160,hp:2600,z:101,scale:.6,shadowScale:2.3,attack:160,hurtStopResist:.25,atkSpd:.6,dropGold:1,isRange:!1,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],power:1,exp:20,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},ai:{sr:30,ar0:100,ar1:250},skill:[],attackSequence:[],avatar:{ctor:a,anime:"xingshi"}},dog_elite:{id:MOB_DOG_100,name:"",radius:40/.65,weight:490,speed:280,hp:5200,z:101,scale:.75,shadowScale:2.3,attack:160,hurtStopResist:.25,atkSpd:.6,dropGold:1,isRange:!1,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],power:1,exp:20,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},ai:{sr:30,ar0:100,ar1:250},skill:[],attackSequence:[],avatar:{ctor:a,anime:"xingshi",skin:{rnd:[{slot:"body",display:["body_2","body_3","body_4"]},{slot:"head",display:["head2","head2_3","head2_2","head2_4"]}]},suit:[[{slot:"body",display:"body_2"}]]}},dog2:{id:MOB_SMALLDOG,name:MOB_SMALLDOG_N,radius:40/.65,weight:460,speed:520,hp:2100,z:10,scale:.65,hurtStopResist:.3,attack:155,power:1,dropGold:1.6,exp:20,isRange:!1,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},avatar:{ctor:a,scale:1.6,anime:"pashi"},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.2}],statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},skill:[],shadowScale:4,shadowScaleY:7,ai:{ctor:t("ChargeAndWanderAI"),moveTime:6,chargeTime:3,astarTime:1,astarTimeRand:1,moveRange:200,moveRangeRand:140},attackSequence:[]},dog2_elite:{id:MOB_SMALLDOG_100,name:MOB_SMALLDOG_100_N,radius:40/.7,weight:460,speed:520,hp:4200,z:10,scale:.8,hurtStopResist:.3,attack:155,power:1,dropGold:1.6,exp:20,isRange:!1,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},avatar:{ctor:a,scale:1.6,anime:"pashi"},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.2}],statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},skill:[],shadowScale:4,shadowScaleY:7,ai:{ctor:t("ChargeAndWanderAI"),moveTime:1,chargeTime:6,astarTime:1,astarTimeRand:1,moveRange:200,moveRangeRand:140},attackSequence:[]},px_boss:{id:PX_BOSS,name:"BOSS",radius:80/1.2,weight:460,speed:520,hp:37e3,z:10,scale:1.2,hurtStopResist:.3,attack:155,power:1,dropGold:5,exp:50,isRange:!1,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},avatar:{ctor:a,scale:1.6,anime:"pashi"},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.2}],statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},skill:[],shadowScale:4,shadowScaleY:7,ai:{ctor:t("ChargeAndWanderAI"),moveTime:3,chargeTime:3,astarTime:1,astarTimeRand:1,moveRange:200,moveRangeRand:140,bltSeqOnTime:1,bltTime:3},attackSequence:[{t:.33,x:0,y:100,blt:0,deg:90},{t:0,x:0,y:100,blt:0,deg:270},{t:0,x:0,y:100,blt:0,deg:0},{t:0,x:0,y:100,blt:0,deg:180}],blt:[{ctor:t("CustomBullet"),lifetime:10,customDef:"circle_x2",name:"",sx:.4,sy:.4,sx1:2,sy1:2,st:.2,frm:"bullet/enemy/enemybullet_04",hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:850,rnd:0,l:1600,kb:.01,skill:[],hitEffect:Effect.PoisonHitEffect,hitFloorEffect:Effect.PoisonHitEffect}]},dog3:{id:MOB_BIGDOG,name:MOB_BIGDOG_N,avatar:{ctor:a,anime:"cike"},ep:0,epRecover:0,epTimer:0,radius:56.25,weight:500,speed:160,hp:2350,z:10,scale:.8,hurtStopResist:.2,attack:155,power:2,exp:20,dropGold:2,isRange:!0,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.13}],statFunc:function(t){var e={};return e.attackScale=2*t,e.hpScale=1500*Math.pow(1.17,t-1),e},skill:[{name:"",ctor:s,t:1,cd:3,r0:100,r1:200,k:.1,dmg:155,kb:100,l:400,ai:"JumpSkill",t0:0,t1:.6,seq:[{deg:90},{deg:180},{deg:270},{deg:0}],blt:{name:"",sx:.5,sy:.5,sx1:.65,sy1:.65,st:.2,anchorY:.5,anchorX:.5,radius:40,hurtStopTime:.4,hurtStopCD:2.5,rotateSpd:1440,frm:"bullet/enemy/dao",length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:700,rnd:0,l:1600,kb:.01,skill:[]}}],shadowScale:2,ai:{ctor:h,moveTime:3},attackSequence:[]},dog3_elite:{id:MOB_BIGDOG_100,name:MOB_BIGDOG_100_N,avatar:{ctor:a,anime:"cike"},ep:0,epRecover:0,epTimer:0,radius:45/.85,weight:500,speed:160,hp:4700,z:10,scale:.95,hurtStopResist:.2,attack:155,power:2,exp:20,isRange:!0,dropGold:2,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.13}],statFunc:function(t){var e={};return e.attackScale=2*t,e.hpScale=1500*Math.pow(1.17,t-1),e},skill:[{name:"",ctor:s,t:1,cd:1,r0:100,r1:200,k:.1,dmg:119,kb:100,l:400,streak:3,ai:"JumpSkill",t0:0,t1:.6,seq:[{deg:45},{deg:90},{deg:135},{deg:180},{deg:225},{deg:270},{deg:325},{deg:360}],blt:{name:"",sx:.5,sy:.5,sx1:.7,sy1:.7,st:.2,anchorY:.5,anchorX:.5,radius:40,hurtStopTime:.4,hurtStopCD:2.5,rotateSpd:1440,frm:"bullet/enemy/dao",length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:700,rnd:0,l:1600,kb:.01,skill:[]}}],shadowScale:2,ai:{ctor:h,moveTime:2},attackSequence:[]},cike_boss:{id:MOB_DOG_F2,name:MOB_DOG_F2_N,avatar:{ctor:a,anime:"cike",shader:"hue180"},ep:0,epRecover:0,epTimer:0,radius:80,weight:1e7,speed:160,hp:37e3,z:10,scale:1.5,hurtStopResist:.2,attack:160,power:2,exp:50,isRange:!0,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.13}],statFunc:function(t){var e={};return e.attackScale=2*t,e.hpScale=1500*Math.pow(1.17,t-1),e},skill:[{name:"",ctor:s,t:1,cd:1,r0:100,r1:200,k:.1,dmg:160,kb:100,l:400,streak:3,ai:"JumpSkill",t0:0,t1:.6,seq:[{deg:45},{deg:90},{deg:135},{deg:180},{deg:225},{deg:270},{deg:315},{deg:0}],blt:{name:"",sx:.5,sy:.5,sx1:.8,sy1:.8,st:.2,anchorY:.5,anchorX:.5,radius:40,hurtStopTime:.4,hurtStopCD:2.5,rotateSpd:1440,frm:"bullet/enemy/dao",length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:700,rnd:0,l:1600,kb:.01,skill:[]}}],shadowScale:2,ai:{ctor:h,moveTime:1},attackSequence:[]},fastdog:{id:MOB_FASTDOG,name:MOB_FASTDOG_N,radius:75,weight:-1,speed:180,hp:37e3,z:1001,scale:1.6,shadowScale:4,rttSpd:15,hurtStopResist:1,score:6,attack:165,power:6,atkSpd:.75,exp:50,dropGold:5,isRange:!1,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},statFunc:function(t){var e={};return e.attackScale=3*t,e.hpScale=3e4*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 5*(2e3*Math.pow(t-1,.95)+8e3)},drop_holiday_christmas:[{type:"cloth",chance:.8},{type:"steel",chance:.5}],drop_holiday_newyear:[{type:"newyear",chance:.7}],ai:{sr:140,ar0:100,ar1:250,attackInterval:1},skill:[{ctor:o,t:3,dmg:1,cd:9,blt:{name:"",ctor:r,st:.3,frm:"effect/hook/hook",anchorY:.5,anchorX:.5,noBlend:!0,length:35,radius:40,minradius:40,hurtradius:120,dmg:8,dmgk:20,kb:45,n:1,wd:0,d:0,hurtStopTime:.3,hurtStopCD:.4,spd:2400,rnd:0,l:1600,ignoreWall:1,buff:BuffDefine.Stun}}],attackSequence:[{t:.5,x:-10,y:150,r:300,dmg:200,hurtStopTime:.7,hurtStopCD:1.5},{t:1}],avatar:{ctor:a,anime:"zengwu"}},fastdog_S:{id:MOB_FASTDOGS,name:MOB_FASTDOGS_N,radius:80,weight:-1,speed:180,hp:37e3,z:1001,scale:1.5,shadowScale:4,rttSpd:15,hurtStopResist:1,score:6,attack:165,power:6,atkSpd:.75,exp:50,dropGold:5,isRange:!1,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},statFunc:function(t){var e={};return e.attackScale=3*t,e.hpScale=3e4*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 5*(2e3*Math.pow(t-1,.95)+8e3)},drop_holiday_christmas:[{type:"cloth",chance:.8},{type:"steel",chance:.5}],drop_holiday_newyear:[{type:"newyear",chance:.7}],ai:{sr:140,ar0:100,ar1:250,attackInterval:5},skill:[],attackSequence:[{t:.5,x:-10,y:150,r:300,dmg:200,hurtStopTime:.7,hurtStopCD:1.5},{t:1}],avatar:{ctor:a,anime:"zengwu"}},zw_boss:{id:ZW_BOSS,name:"BOSS()",radius:75,weight:-1,speed:220,hp:4e4,z:1001,scale:1.8,shadowScale:4,rttSpd:15,hurtStopResist:1,score:6,attack:165,power:6,atkSpd:.75,exp:50,dropGold:5,isRange:!1,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},statFunc:function(t){var e={};return e.attackScale=3*t,e.hpScale=3e4*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 5*(2e3*Math.pow(t-1,.95)+8e3)},drop_holiday_christmas:[{type:"cloth",chance:.8},{type:"steel",chance:.5}],drop_holiday_newyear:[{type:"newyear",chance:.7}],ai:{sr:140,ar0:100,ar1:250,attackInterval:.5},skill:[{ctor:o,t:3,dmg:1,cd:9,blt:{name:"",ctor:r,st:.3,frm:"effect/hook/hook",anchorY:.5,anchorX:.5,noBlend:!0,length:35,radius:40,minradius:40,hurtradius:120,dmg:8,dmgk:20,kb:45,n:1,wd:0,d:0,hurtStopTime:.3,hurtStopCD:.4,spd:2400,rnd:0,l:1600,ignoreWall:1,buff:BuffDefine.Stun}}],attackSequence:[{t:.5,x:-10,y:150,r:300,dmg:200,hurtStopTime:.7,hurtStopCD:1.5},{t:1}],avatar:{ctor:a,anime:"zengwu"}},dog_19:{id:MOB_DOG_1,name:MOB_DOG_1_N,radius:37.5,weight:380,speed:350,shadowScaleY:2,hp:10,z:9,scale:.8,attack:130,exp:4,shadowScale:.01,dropGold:.3,isRange:!1,hurtStopResist:.25,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.02}],ai:{sr:30,ar0:100,ar1:250},skill:[],attackSequence:[],power:1,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=250*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},avatar:{ctor:i,frame:{walk:{name:"effect/enemy/mouse_walk",frame:7,startNum:0,loop:1,digit:1,dt:.1}},anime:"mouse"}},wolf:{id:MOB_WOLF,name:DOG_GD_N,radius:40.625,weight:460,speed:320,hp:2600,z:10,hurtStopResist:.3,attack:100,power:1,exp:20,isRange:!1,dropGold:3,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},avatar:{ctor:a,scale:1.6,anime:"wolf",jump_1:"jump"},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.2}],statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},skill:[{name:"",ctor:n,t:1.5,cd:1.5,cd0:1.5,r0:750,r1:70,k:.1,dmg:6,kb:15,spd:700,t0:7/24,t1:20/24,ai:"PounceSkill"}],shadowScale:1.5,shadowScaleY:1.5,ai:{moveTime:2.5},attackSequence:[]},wolf_boss:{id:MOB_WOLF_BOSS,name:"BOSS",radius:50,weight:460,speed:320,hp:37e3,z:10,hurtStopResist:.3,attack:100,power:1,exp:50,isRange:!1,scale:2,dropGold:3,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},avatar:{ctor:a,anime:"wolf",shader:"m4"},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.2}],statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},skill:[{name:"",ctor:n,t:1.5,cd:1.5,cd0:1.5,r0:750,r1:70,k:.1,dmg:6,kb:15,spd:700,t0:7/24,t1:20/24,ai:"PounceSkill"}],shadowScale:1.5,shadowScaleY:1.5,ai:{moveTime:2.5},attackSequence:[]},MobExplosive:{id:MOB_EXPLOSIVEDOG,avatar:{ctor:a,anime:g_resources.anime.zibaoguai},ctor:c,name:"()",preCastTime:.3,radius:35,weight:133,speed:430,hp:1700,z:10,hpRand:.2,hurtStopResist:.4,shadowScale:1.2,attack:170,ai:{sr:135,ar0:100,ar1:150,moveTimeRand:.1,moveTime:.1},power:2,exp:20,isRange:!1,attackSequence:[{t:.1,x:0,y:50,r:100,atkDmg:100,hurtStopTime:.3,hurtStopCD:2,blt:0}],blt:[{ctor:t("Grenade"),name:"",kb:0,minradius:80,hurtradius:180,length:80,dmg:1,dmgk:10,frm:"bullet/player/playerbullet_03.png",n:1,t:.5,tr:0,l:1,bombEff:Effect.ExplosiveBlt,hitSound:"fire",dmgType:4}]},MobExplosive_bz1:{id:MOB_EXPLOSIVEDOG_BZ1,avatar:{ctor:a,anime:g_resources.anime.zibaoguai,shader:"chengshi"},ctor:c,name:"()",preCastTime:.8,radius:35,weight:133,speed:370,hp:1700,z:10,hpRand:.2,hurtStopResist:.4,shadowScale:1.2,attack:170,ai:{sr:135,ar0:100,ar1:150,moveTimeRand:.1,moveTime:.1},power:2,exp:20,isRange:!1,attackSequence:[{t:.1,x:0,y:50,r:100,atkDmg:100,hurtStopTime:.3,hurtStopCD:2,blt:0}],blt:[{ctor:t("Grenade"),name:"",kb:0,minradius:80,hurtradius:180,length:80,dmg:1,dmgk:10,frm:"bullet/player/playerbullet_03.png",n:1,t:.5,tr:0,l:1,bombEff:Effect.ExplosiveBlt,hitSound:"fire",dmgType:4}]},MobExplosive_bz2:{id:MOB_EXPLOSIVEDOG_BZ2,avatar:{ctor:a,anime:g_resources.anime.zibaoguai,shader:"chengshi"},ctor:c,name:"()",preCastTime:.3,radius:35,weight:133,speed:450,hp:3e3,z:10,scale:1.1,hpRand:.2,hurtStopResist:.4,shadowScale:1.2,attack:170,ai:{sr:135,ar0:100,ar1:150,moveTimeRand:.1,moveTime:.1},power:2,exp:20,isRange:!1,attackSequence:[{t:.1,x:0,y:50,r:100,atkDmg:100,hurtStopTime:.3,hurtStopCD:2,blt:0}],blt:[{ctor:t("Grenade"),noTeam:1,name:"",kb:0,minradius:80,hurtradius:240,length:80,dmg:1,dmgk:10,frm:"bullet/player/playerbullet_03.png",n:1,t:.5,tr:0,l:1,bombEff:Effect.ExplosiveBlt,hitSound:"fire",dmgType:4}]},mob_bounce:{id:MOB_BOUNCE,ctor:t("BounceMob"),name:MOB_BOUNCE_N,radius:35,weight:490,speed:370,hp:1800,z:101,scale:1.2,shadowScale:2.3,attack:160,hurtStopResist:.25,atkSpd:.6,dropGold:1,power:1,exp:20,isRange:!1,split:{id:JQR_FL_1,n:2},statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},ai:{sr:30,ar0:100,ar1:250,ctor:t("BounceAI")},skill:[],attackSequence:[{t:2/24,x:0,y:60,deg:180,blt:0}],avatar:{ctor:a,anime:"sub3#fantanguai"}},mob_bounce_fl1:{id:JQR_FL_1,ctor:t("BounceMob"),name:"(1)",radius:35,weight:490,speed:450,hp:800,z:101,scale:.9,shadowScale:2.3,attack:80,hurtStopResist:.25,atkSpd:.6,dropGold:1,power:1,exp:1,isRange:!1,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},ai:{sr:30,ar0:100,ar1:250,ctor:t("BounceAI")},skill:[],attackSequence:[{t:2/24,x:0,y:60,deg:180,blt:0}],avatar:{ctor:a,anime:"sub3#fantanguai"}},mob_bounce_jy:{id:MOB_BOUNCE_JY,ctor:t("BounceMob"),name:"()",radius:35,weight:490,speed:400,hp:4e3,z:101,scale:1.3,shadowScale:2.3,attack:160,hurtStopResist:.25,atkSpd:.6,dropGold:1,power:1,exp:20,isRange:!1,split:{id:JQR_JY_FL_1,n:2},statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},ai:{sr:30,ar0:100,ar1:250,ctor:t("BounceAI")},skill:[],attackSequence:[{t:2/24,x:0,y:60,deg:180,blt:0}],avatar:{ctor:a,anime:"sub3#fantanguai"}},mob_bounce_jy_fl1:{id:JQR_JY_FL_1,ctor:t("BounceMob"),name:"(,1)",radius:35,weight:490,speed:470,hp:2e3,z:101,scale:.9,shadowScale:2.3,attack:160,hurtStopResist:.25,atkSpd:.6,dropGold:1,power:1,exp:1,isRange:!1,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},ai:{sr:30,ar0:100,ar1:250,ctor:t("BounceAI")},skill:[],attackSequence:[{t:2/24,x:0,y:60,deg:180,blt:0}],avatar:{ctor:a,anime:"sub3#fantanguai"}},mob_bounce_boss:{id:MOB_BOUNCE_BOSS,ctor:t("BounceMob"),name:"BOSS",radius:80/1.5,weight:1600,speed:300,hp:13e3,z:101,scale:1.5,shadowScale:2,attack:160,hurtStopResist:.25,atkSpd:.6,dropGold:5,power:1,exp:50,isRange:!1,split:{id:MOB_BOUNCE_S_1,n:2},statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},ai:{sr:30,ar0:100,ar1:250,ctor:t("BounceAI"),bltTime:4.6,bltSeqIndex:1},skill:[],attackSequence:[{t:2/24,x:0,y:60,deg:180,blt:0}],blt:[{ctor:t("GuidedMissileDirect"),turnSpdScale:2.8,turnSpdChangeTime:.2,turnSpdScale2:.1,degOffset:180,autoDirection:1,name:"",sx:1.9,sy:1.9,sx1:2.5,sy1:2.5,st:1,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:.5,noBlend:!0,spd:400,rnd:0,l:1200,kb:.01,skill:[]}],avatar:{ctor:a,anime:"sub3#fantanguai",shader:"m4"}},mob_bounce_s_1:{id:MOB_BOUNCE_S_1,ctor:t("BounceMob"),name:"BOSS1",radius:50,weight:1600,speed:400,hp:5e3,z:101,scale:1,shadowScale:2,attack:120,hurtStopResist:.25,atkSpd:.6,dropGold:4,power:1,exp:0,isRange:!1,split:{id:MOB_BOUNCE_S_2,n:2},statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},ai:{sr:30,ar0:100,ar1:250,ctor:t("BounceAI"),bltTime:5.3,bltSeqIndex:1},skill:[],attackSequence:[{t:2/24,x:0,y:60,deg:180,blt:0}],blt:[{ctor:t("GuidedMissileDirect"),turnSpdScale:2.8,turnSpdChangeTime:.2,turnSpdScale2:.1,degOffset:180,autoDirection:1,name:"",sx:1.3,sy:1.3,sx1:2,sy1:2,st:1,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:.5,noBlend:!0,spd:400,rnd:0,l:1200,kb:.01,skill:[]}],avatar:{ctor:a,anime:"sub3#fantanguai",shader:"m4"}},mob_bounce_s_2:{id:MOB_BOUNCE_S_2,ctor:t("BounceMob"),name:"BOSS2",radius:40,weight:1600,speed:500,hp:2100,z:101,scale:.8,shadowScale:2,attack:80,hurtStopResist:.25,atkSpd:.6,dropGold:3,power:1,exp:0,isRange:!1,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},ai:{sr:30,ar0:100,ar1:250,ctor:t("BounceAI"),bltTime:6.8,bltSeqIndex:1},skill:[],attackSequence:[{t:2/24,x:0,y:60,deg:180,blt:0}],blt:[{ctor:t("GuidedMissileDirect"),turnSpdScale:2.8,turnSpdChangeTime:.2,turnSpdScale2:.1,degOffset:180,autoDirection:1,name:"",sx:1.1,sy:1.1,sx1:1.5,sy1:1.5,st:1,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:.5,noBlend:!0,spd:400,rnd:0,l:1200,kb:.01,skill:[]}],avatar:{ctor:a,anime:"sub3#fantanguai",shader:"m4"}},jqr_boss:{id:JQR_BOSS,ctor:t("BounceMob"),name:"BOSS()",radius:80/1.5,weight:1600,speed:350,hp:16e3,z:101,scale:1.5,shadowScale:2.1,attack:160,hurtStopResist:.25,atkSpd:.6,dropGold:5,power:1,exp:50,isRange:!1,split:{id:JQR_BOSS_FL1,n:2},statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},ai:{sr:30,ar0:100,ar1:250,ctor:t("BounceAI"),bltTime:7,bltSeqIndex:1},skill:[],attackSequence:[{t:2/24,x:0,y:60,deg:45,blt:0},{t:0,x:0,y:60,deg:135,blt:0},{t:0,x:0,y:60,deg:225,blt:0},{t:0,x:0,y:60,deg:325,blt:0}],blt:[{ctor:t("GuidedMissileDirect"),turnSpdScale:1e-5,turnSpdChangeTime:.4,turnSpdScale2:.2,degOffset:0,autoDirection:0,name:"",sx:1.9,sy:1.9,sx1:2.5,sy1:2.5,st:.4,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:300,rnd:0,l:1200,kb:.01,skill:[]}],avatar:{ctor:a,anime:"sub3#fantanguai",shader:"m4"}},jqr_boss_fl1:{id:JQR_BOSS_FL1,ctor:t("BounceMob"),name:"BOSS()1",radius:50,weight:1600,speed:450,hp:6250,z:101,scale:1,shadowScale:2,attack:120,hurtStopResist:.25,atkSpd:.6,dropGold:4,power:1,exp:0,isRange:!1,split:{id:JQR_BOSS_FL2,n:2},statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},ai:{sr:30,ar0:100,ar1:250,ctor:t("BounceAI"),bltTime:6.5,bltSeqIndex:1},skill:[],attackSequence:[{t:2/24,x:0,y:60,deg:90,blt:0},{t:0,x:0,y:60,deg:270,blt:0}],blt:[{ctor:t("GuidedMissileDirect"),turnSpdScale:1e-5,turnSpdChangeTime:.4,turnSpdScale2:.15,degOffset:0,autoDirection:0,name:"",sx:1.3,sy:1.3,sx1:2,sy1:2,st:.4,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:450,rnd:0,l:1200,kb:.01,skill:[]}],avatar:{ctor:a,anime:"sub3#fantanguai",shader:"m4"}},jqr_boss_fl2:{id:JQR_BOSS_FL2,ctor:t("BounceMob"),name:"BOSS2",radius:40,weight:1600,speed:550,hp:2900,z:101,scale:.8,shadowScale:2,attack:80,hurtStopResist:.25,atkSpd:.6,dropGold:3,power:1,exp:0,isRange:!1,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},ai:{sr:30,ar0:100,ar1:250,ctor:t("BounceAI"),bltTime:6,bltSeqIndex:1},skill:[],attackSequence:[{t:2/24,x:0,y:60,deg:0,blt:0}],blt:[{ctor:t("GuidedMissileDirect"),turnSpdScale:1e-5,turnSpdChangeTime:.4,turnSpdScale2:.2,degOffset:0,autoDirection:0,name:"",sx:1.1,sy:1.1,sx1:1.5,sy1:1.5,st:.4,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:600,rnd:0,l:1200,kb:.01,skill:[]}],avatar:{ctor:a,anime:"sub3#fantanguai",shader:"m4"}},doggy:{id:MOB_DOG_F1,name:"",radius:65,weight:1e8,speed:0,hp:2500,z:101,scale:.6,shadowScale:2.3,attack:100,hurtStopResist:.25,atkSpd:.6,drop:{drop:0,moneyChance:.1,moneyMax:100,moneyMin:10},drop_holiday_christmas:[{type:"cloth",chance:0},{type:"steel",chance:.15}],power:1,exp:2,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},ai:{sr:30,ar0:100,ar1:250},skill:[],attackSequence:[],avatar:{ctor:a,anime:"xingshi"}},spider_fire:{id:MOB_SPIDER_FIRE,avatar:{ctor:a,anime:"mob_spider",shader:"pm2",spdK:150},ctor:c,name:MOB_EXPLOSIVEDOG_N,radius:35,weight:1,speed:380,hp:1,z:10,scale:.6,hpRand:.2,hurtStopResist:.4,shadowScale:1.2,attack:11,ai:{sr:35,ar0:100,ar1:150,moveTimeRand:.1,moveTime:.1},power:2,exp:20,attackSequence:[{t:.1,x:0,y:50,r:100,atkDmg:100,hurtStopTime:.3,hurtStopCD:2,blt:0}],blt:[{ctor:t("Grenade"),name:"",kb:0,minradius:80,hurtradius:320,length:80,dmg:1,dmgk:10,frm:"bullet/player/playerbullet_03.png",n:1,t:.5,tr:0,l:1,bombEff:Effect.ExplosiveBlt,hitSound:"fire",dmgType:4}]},spider_frost:{id:MOB_SPIDER_FROST,avatar:{ctor:a,anime:"mob_spider",shader:"pm4",spdK:150},ctor:c,name:MOB_EXPLOSIVEDOG_N,radius:35,weight:1,speed:380,hp:1,z:10,scale:.6,hpRand:.2,hurtStopResist:.4,shadowScale:1.2,attack:11,ai:{sr:35,ar0:100,ar1:150,moveTimeRand:.1,moveTime:.1},power:2,exp:20,attackSequence:[{t:.1,x:0,y:50,r:100,atkDmg:100,hurtStopTime:.3,hurtStopCD:2,blt:0}],blt:[{ctor:t("Grenade"),name:"",kb:0,minradius:80,hurtradius:360,length:80,dmg:1,dmgk:10,frm:"bullet/player/playerbullet_03.png",n:1,t:.5,tr:0,l:1,hitSound:"frost",dmgType:5}]},spider_poison:{id:MOB_SPIDER_POISON,avatar:{ctor:a,anime:"mob_spider",spdK:150,shader:"poison2"},ctor:c,name:MOB_EXPLOSIVEDOG_N,radius:35,weight:1,speed:380,hp:1,z:10,scale:.6,hpRand:.2,hurtStopResist:.4,shadowScale:1.2,attack:11,ai:{sr:35,ar0:100,ar1:150,moveTimeRand:.1,moveTime:.1},power:2,exp:20,attackSequence:[{t:.1,x:0,y:50,r:100,atkDmg:100,hurtStopTime:.3,hurtStopCD:2,blt:0}],blt:[{ctor:t("Grenade"),name:"",kb:0,minradius:80,hurtradius:320,length:80,dmg:0,dmgk:10,frm:"bullet/player/playerbullet_03.png",n:1,t:.5,tr:0,l:1,bombEff:Effect.WidowBombS,hitSound:"poison",dmgType:2}]},spider_eletric:{id:MOB_SPIDER_ELETRIC,avatar:{ctor:a,anime:"mob_spider",skin:{rnd:[{slot:"21",display:["2","3"]},{slot:"2",display:["","4"]}]},spdK:150},ctor:c,name:MOB_EXPLOSIVEDOG_N,radius:35,weight:1,speed:380,hp:1,z:10,scale:.6,hpRand:.2,hurtStopResist:.4,shadowScale:1.2,attack:11,ai:{sr:35,ar0:100,ar1:150,moveTimeRand:.1,moveTime:.1},power:2,exp:20,attackSequence:[{t:.1,x:0,y:50,r:100,atkDmg:100,hurtStopTime:.3,hurtStopCD:2,blt:0}],blt:[{ctor:t("Grenade"),name:"",kb:0,minradius:80,hurtradius:240,length:80,dmg:1,dmgk:10,frm:"bullet/player/playerbullet_03.png",n:1,t:.5,tr:0,l:1,bombEff:Effect.EletricHit,hitSound:"eletric",dmgType:3}]},bigboss:{ctor:t("Boss"),id:MOB_BIGBOSS,name:"",radius:150,weight:-1,speed:0,hp:12e4,z:661,scale:1.5,shadowScale:2.3,attack:160,hurtStopResist:.25,dropGold:1,power:1,exp:20,isRange:!0,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},skill:[],blt:[{ctor:t("BulletLaser"),lifetime:.05,name:"",kb:.8,sx:.3,sy:.01,sx1:.05,sy1:.01,st:.05,anchorY:.5,frm:"bullet/sq/4",length:1,dmg:300,n:1,wd:1,d:0,spd:12222,rnd:0,l:3e3,hurtStopTime:.8,hurtStopCD:3.5,hitFloorEffect:Effect.LaserHitFloor},{name:"",ctor:t("GrenadeFromAbove"),explodeTime:1.5,noBlend:!0,anchorY:.01,minradius:20,hurtradius:100,dmg:100,dmgk:20,l:1,accurateDis:1,st:0,frm:"bullet/enemy/turret.png",length:35,kb:35,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:"ExplosiveBlt",zOrder:1e3,alert:!0},{name:"",ctor:t("Grenade"),noBlend:!0,anchorY:.01,minradius:333,hurtradius:333,dmg:100,dmgk:20,l:1,accurateDis:1,st:0,frm:"bullet/enemy/turret.png",length:35,kb:35,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:"ExplosiveBlt",zOrder:1e3},{name:"",kb:.8,sx:.3,sy:.5,sx1:1,sy1:1,st:.05,anchorY:.2,anim:{name:"bullet/enemy/1_4/003",frame:9,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:65,dmg:300,n:1,wd:1,d:.04,spd:1e3,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"effect/bullet_smoke"},{name:"",kb:.8,sx:.3,sy:.5,sx1:1,sy1:1,st:.05,anchorY:.2,anim:{name:"bullet/enemy/1_4/003",frame:9,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:65,dmg:300,n:3,wd:0,d:3,spd:1e3,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"effect/bullet_smoke"},{name:"()",kb:.8,sx:.3,sy:.5,sx1:1,sy1:1,st:.05,anchorY:.2,anim:{name:"bullet/enemy/1_4/003",frame:9,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:65,dmg:300,n:4,wd:0,d:3,spd:1600,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"effect/bullet_smoke"},{name:"()",kb:.8,sx:.3,sy:.5,sx1:1,sy1:1,st:.05,anchorY:.2,anim:{name:"bullet/enemy/1_4/003",frame:9,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:65,dmg:300,n:1,wd:0,d:0,spd:1600,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"effect/bullet_smoke"},{name:"",kb:.8,sx:.3,sy:.5,sx1:1,sy1:1,st:.05,anchorY:.2,anim:{name:"bullet/enemy/1_4/003",frame:9,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:65,dmg:300,n:5,wd:1,d:.8,spd:1600,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"effect/bullet_smoke"}],attackSeqNum:1,attackSequence:[{target:200,anim:"attack_9",t:0,x:40,y:-20,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{target:200,anim:"attack_9",t:.01,x:-40,y:-20,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{t:.49},{target:200,anim:"attack_9",t:0,x:40,y:-40,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{target:200,anim:"attack_9",t:.01,x:-40,y:-40,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{t:.49},{target:200,anim:"attack_9",t:0,x:40,y:-60,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{target:200,anim:"attack_9",t:.01,x:-40,y:-60,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{t:.49},{target:200,anim:"attack_9",t:0,x:40,y:-80,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{target:200,anim:"attack_9",t:.01,x:-40,y:-80,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{t:.49},{target:200,anim:"attack_9",t:0,x:40,y:-100,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{target:200,anim:"attack_9",t:.01,x:-40,y:-100,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{t:.49},{t:3}],attackSequence2:[{t:1.875,anim:"attack_6",animForced:1},{t:1/48,x:0,y:0,ay:210,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a,1,2,1205,255)}}],attackSequence3:[{t:1.5625,anim:"attack_7",animForced:1},{t:1/48,x:0,y:0,ay:210,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a,1,2,1205,255)}}],attackSequence4:[{t:1.0625,anim:"attack_4",animForced:1},{anim:"no",t:1/48,x:0,ay:300,blt:2,effect:function(){}},{t:0,blt:3,atkDeg:0,y:300,ay:50},{t:0,blt:3,atkDeg:45,y:300,ay:50},{t:0,blt:3,atkDeg:90,y:300,ay:50},{t:0,blt:3,atkDeg:135,y:300,ay:50},{t:0,blt:3,atkDeg:180,y:300,ay:50},{t:0,blt:3,atkDeg:225,y:300,ay:50},{t:0,blt:3,atkDeg:270,y:300,ay:50},{t:0,blt:3,atkDeg:315,y:300,ay:50},{t:0,blt:3,atkDeg:360,y:300,ay:50},{t:0,blt:3,atkDeg:22.5,y:300,ay:50},{t:0,blt:3,atkDeg:67.5,y:300,ay:50},{t:0,blt:3,atkDeg:112.5,y:300,ay:50},{t:0,blt:3,atkDeg:157.5,y:300,ay:50},{t:0,blt:3,atkDeg:202.5,y:300,ay:50},{t:0,blt:3,atkDeg:247.5,y:300,ay:50},{t:0,blt:3,atkDeg:292.5,y:300,ay:50},{t:.1,blt:3,atkDeg:337.5,y:300,ay:50},{t:1/48}],attackSequence5:[{t:1.0625,anim:"attack_2",animForced:1},{t:.2,anim:"attack_3",blt:4,y:100}],attackSequence6:[{t:1.5625,anim:"attack_1",animForced:1},{t:0,blt:7,atkDeg:0,x:100,y:-50,ay:50,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a,1,2,1205,255)}},{t:0,blt:7,atkDeg:0,x:-100,y:-50,ay:50,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a,1,2,1205,255)}},{t:1/48,x:0,y:0,ay:180,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a,1,2,1205,255)}}],attackSequence7:[{t:1.0625,anim:"attack_8",animForced:1},{t:.2,anim:"attack_3",blt:5,y:100}],attackSequence8:[{t:1.0625,anim:"attack_4",animForced:1},{anim:"no",t:1/48,x:0,ay:300,blt:2,effect:function(){}},{t:0,blt:6,atkDeg:0,y:300,ay:50},{t:0,blt:6,atkDeg:22.5,y:300,ay:50},{t:0,blt:6,atkDeg:45,y:300,ay:50},{t:0,blt:6,atkDeg:67.5,y:300,ay:50},{t:0,blt:6,atkDeg:90,y:300,ay:50},{t:0,blt:6,atkDeg:112.5,y:300,ay:50},{t:0,blt:6,atkDeg:135,y:300,ay:50},{t:0,blt:6,atkDeg:157.5,y:300,ay:50},{t:0,blt:6,atkDeg:180,y:300,ay:50},{t:0,blt:6,atkDeg:202.5,y:300,ay:50},{t:0,blt:6,atkDeg:225,y:300,ay:50},{t:0,blt:6,atkDeg:247.5,y:300,ay:50},{t:0,blt:6,atkDeg:270,y:300,ay:50},{t:0,blt:6,atkDeg:292.5,y:300,ay:50},{t:0,blt:6,atkDeg:315,y:300,ay:50},{t:0,blt:6,atkDeg:337.5,y:300,ay:50},{t:0,blt:6,atkDeg:360,y:300,ay:50},{t:1/48},{t:1.7,anim:"attack_4"},{anim:"no",t:1/48,x:0,ay:300,blt:2,effect:function(){}},{t:0,blt:6,atkDeg:0,y:300,ay:50},{t:0,blt:6,atkDeg:45/4,y:300,ay:50},{t:0,blt:6,atkDeg:33.75,y:300,ay:50},{t:0,blt:6,atkDeg:45,y:300,ay:50},{t:0,blt:6,atkDeg:56.25,y:300,ay:50},{t:0,blt:6,atkDeg:67.5,y:300,ay:50},{t:0,blt:6,atkDeg:78.75,y:300,ay:50},{t:0,blt:6,atkDeg:90,y:300,ay:50},{t:0,blt:6,atkDeg:101.25,y:300,ay:50},{t:0,blt:6,atkDeg:112.5,y:300,ay:50},{t:0,blt:6,atkDeg:123.75,y:300,ay:50},{t:0,blt:6,atkDeg:135,y:300,ay:50},{t:0,blt:6,atkDeg:146.25,y:300,ay:50},{t:0,blt:6,atkDeg:157.5,y:300,ay:50},{t:0,blt:6,atkDeg:168.75,y:300,ay:50},{t:0,blt:6,atkDeg:180,y:300,ay:50},{t:0,blt:6,atkDeg:191.25,y:300,ay:50},{t:0,blt:6,atkDeg:202.5,y:300,ay:50},{t:0,blt:6,atkDeg:213.75,y:300,ay:50},{t:0,blt:6,atkDeg:225,y:300,ay:50},{t:0,blt:6,atkDeg:236.25,y:300,ay:50},{t:0,blt:6,atkDeg:247.5,y:300,ay:50},{t:0,blt:6,atkDeg:258.75,y:300,ay:50},{t:0,blt:6,atkDeg:270,y:300,ay:50},{t:0,blt:6,atkDeg:281.25,y:300,ay:50},{t:0,blt:6,atkDeg:292.5,y:300,ay:50},{t:0,blt:6,atkDeg:303.75,y:300,ay:50},{t:0,blt:6,atkDeg:315,y:300,ay:50},{t:0,blt:6,atkDeg:326.25,y:300,ay:50},{t:0,blt:6,atkDeg:337.5,y:300,ay:50},{t:0,blt:6,atkDeg:348.75,y:300,ay:50},{t:1/48}],ai:{sr:3110,ar0:100,ar1:250,ctor:t("BossStandAI"),attackSeq:{2:{attackTime:3,atkDeg:-30,sweep:65,repeatIndex:1},3:{attackTime:3,atkDeg:45,sweep:-75,repeatIndex:1},5:{attackTime:3,repeatIndex:1},6:{attackTime:2,atkDeg:0,repeatIndex:3},7:{attackTime:2,atkDeg:0,repeatIndex:1}}},avatar:{ctor:a,anime:g_resources.anime.BIGBOY,iconScale:.3}},bigboss_jy:{ctor:t("Boss"),id:MOB_BIGBOSS_JY,name:"()",radius:150,weight:-1,speed:0,hp:24e4,z:661,scale:1.5,shadowScale:2.3,attack:160,hurtStopResist:.25,dropGold:1,power:1,exp:20,isRange:!0,statFunc:function(t){var e={};return e.attackScale=t,e.hpScale=1500*Math.pow(1.17,t-1),e},dropMoneyFunc:function(t){return 2e3*Math.pow(t-1,.95)+8e3},skill:[],blt:[{ctor:t("BulletLaser"),lifetime:.05,name:"",kb:.8,sx:.3,sy:.01,sx1:.05,sy1:.01,st:.05,anchorY:.5,frm:"bullet/sq/4",length:1,dmg:300,n:1,wd:1,d:0,spd:12222,rnd:0,l:3e3,hurtStopTime:.8,hurtStopCD:3.5,hitFloorEffect:Effect.LaserHitFloor},{name:"",ctor:t("GrenadeFromAbove"),explodeTime:1.5,noBlend:!0,anchorY:.01,minradius:20,hurtradius:100,dmg:100,dmgk:20,l:1,accurateDis:1,st:0,frm:"bullet/enemy/turret.png",length:35,kb:35,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:"ExplosiveBlt",zOrder:1e3,alert:!0},{name:"",ctor:t("Grenade"),noBlend:!0,anchorY:.01,minradius:333,hurtradius:333,dmg:100,dmgk:20,l:1,accurateDis:1,st:0,frm:"bullet/enemy/turret.png",length:35,kb:35,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:"ExplosiveBlt",zOrder:1e3},{name:"",kb:.8,sx:.3,sy:.5,sx1:1,sy1:1,st:.05,anchorY:.2,anim:{name:"bullet/enemy/1_4/003",frame:9,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:65,dmg:300,n:1,wd:0,d:0,spd:1e3,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"effect/bullet_smoke"},{name:"",kb:.8,sx:.3,sy:.5,sx1:1,sy1:1,st:.05,anchorY:.2,anim:{name:"bullet/enemy/1_4/003",frame:9,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:65,dmg:300,n:5,wd:0,d:3,spd:1e3,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"effect/bullet_smoke"},{name:"()",kb:.8,sx:.3,sy:.5,sx1:1,sy1:1,st:.05,anchorY:.2,anim:{name:"bullet/enemy/1_4/003",frame:9,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:65,dmg:300,n:6,wd:0,d:3,spd:1600,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"effect/bullet_smoke"},{name:"()",kb:.8,sx:.3,sy:.5,sx1:1,sy1:1,st:.05,anchorY:.2,anim:{name:"bullet/enemy/1_4/003",frame:9,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:65,dmg:300,n:1,wd:0,d:0,spd:1600,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"effect/bullet_smoke"},{name:"",kb:.8,sx:.3,sy:.5,sx1:1,sy1:1,st:.05,anchorY:.2,anim:{name:"bullet/enemy/1_4/003",frame:9,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:65,dmg:300,n:5,wd:1,d:.8,spd:1600,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"effect/bullet_smoke"},{ctor:t("GuidedMissileDirect"),turnSpdScale:1e-5,turnSpdChangeTime:.1,turnSpdScale2:.15,degOffset:0,autoDirection:0,name:"",sx:1.3,sy:1.3,sx1:2,sy1:2,st:.4,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:650,rnd:0,l:1200,kb:.01,skill:[]},{ctor:t("GuidedMissileDirect"),turnSpdScale:1e-5,turnSpdChangeTime:.4,turnSpdScale2:.15,degOffset:0,autoDirection:0,name:"",sx:1.3,sy:1.3,sx1:2,sy1:2,st:.4,anchorY:.5,anchorX:.5,radius:30,hurtStopTime:.4,hurtStopCD:2.5,anim:{name:"bullet/enemy/1_9/000",frame:4,startNum:0,loop:1,digit:1,dt:.05,scale:1.5},length:20,dmg:27,n:1,wd:0,d:0,noBlend:!0,spd:650,rnd:0,l:1200,kb:.01,skill:[]}],attackSeqNum:1,attackSequence:[{target:200,anim:"attack_9",t:0,x:40,y:-20,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{target:200,anim:"attack_9",t:.01,x:-40,y:-20,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{t:.49},{target:200,anim:"attack_9",t:0,x:40,y:-40,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{target:200,anim:"attack_9",t:.01,x:-40,y:-40,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{t:.49},{target:200,anim:"attack_9",t:0,x:40,y:-60,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{target:200,anim:"attack_9",t:.01,x:-40,y:-60,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{t:.49},{target:200,anim:"attack_9",t:0,x:40,y:-80,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{target:200,anim:"attack_9",t:.01,x:-40,y:-80,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{t:.49},{target:200,anim:"attack_9",t:0,x:40,y:-100,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{target:200,anim:"attack_9",t:.01,x:-40,y:-100,blt:1,effect:function(t,e,i,a){Effect.FireLight(t,e,{deg:i.deg-180,zIndex:i.zIndex},0,33,null,a)},dx:0,dy:0},{t:.49},{t:3}],attackSequence2:[{t:1.875,anim:"attack_6",animForced:1},{t:1/48,x:0,y:0,ay:210,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a,1,2,1205,255)}}],attackSequence3:[{t:1.5625,anim:"attack_7",animForced:1},{t:1/48,x:0,y:0,ay:210,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a,1,2,1205,255)}}],attackSequence4:[{t:1.0625,anim:"attack_4",animForced:1},{anim:"no",t:1/48,x:0,ay:300,blt:2,effect:function(){}},{t:.1,blt:3,atkDeg:-40,y:300,ay:50},{t:.1,blt:3,atkDeg:-30,y:300,ay:50},{t:.1,blt:3,atkDeg:-20,y:300,ay:50},{t:.1,blt:3,atkDeg:-10,y:300,ay:50},{t:.1,blt:3,atkDeg:0,y:300,ay:50},{t:.1,blt:3,atkDeg:10,y:300,ay:50},{t:.1,blt:3,atkDeg:20,y:300,ay:50},{t:.1,blt:3,atkDeg:30,y:300,ay:50},{t:.1,blt:3,atkDeg:40,y:300,ay:50},{t:.1,blt:3,atkDeg:30,y:300,ay:50},{t:.1,blt:3,atkDeg:20,y:300,ay:50},{t:.1,blt:3,atkDeg:10,y:300,ay:50},{t:.1,blt:3,atkDeg:0,y:300,ay:50},{t:.1,blt:3,atkDeg:-10,y:300,ay:50},{t:.1,blt:3,atkDeg:-20,y:300,ay:50},{t:.1,blt:3,atkDeg:-30,y:300,ay:50},{t:.1,blt:3,atkDeg:-40,y:300,ay:50},{t:1/48}],attackSequence5:[{t:1.0625,anim:"attack_2",animForced:1},{t:.2,anim:"attack_3",blt:4,y:100}],attackSequence6:[{t:1.5625,anim:"attack_1",animForced:1},{t:0,blt:8,atkDeg:0,x:100,y:-50,ay:50,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a,1,2,1205,255)}},{t:0,blt:8,atkDeg:0,x:-100,y:-50,ay:50,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a,1,2,1205,255)}},{t:1/48,x:0,y:0,ay:180,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a,1,2,1205,255)}}],attackSequence7:[{t:1.0625,anim:"attack_8",animForced:1},{t:.1,anim:"attack_3",blt:5,y:100}],attackSequence8:[{t:1.0625,anim:"attack_4",animForced:1},{anim:"no",t:1/48,x:0,ay:300,blt:2,effect:function(){}},{t:0,blt:6,atkDeg:0,y:300,ay:50},{t:0,blt:6,atkDeg:22.5,y:300,ay:50},{t:0,blt:6,atkDeg:45,y:300,ay:50},{t:0,blt:6,atkDeg:67.5,y:300,ay:50},{t:0,blt:6,atkDeg:90,y:300,ay:50},{t:0,blt:6,atkDeg:112.5,y:300,ay:50},{t:0,blt:6,atkDeg:135,y:300,ay:50},{t:0,blt:6,atkDeg:157.5,y:300,ay:50},{t:0,blt:6,atkDeg:180,y:300,ay:50},{t:0,blt:6,atkDeg:202.5,y:300,ay:50},{t:0,blt:6,atkDeg:225,y:300,ay:50},{t:0,blt:6,atkDeg:247.5,y:300,ay:50},{t:0,blt:6,atkDeg:270,y:300,ay:50},{t:0,blt:6,atkDeg:292.5,y:300,ay:50},{t:0,blt:6,atkDeg:315,y:300,ay:50},{t:0,blt:6,atkDeg:337.5,y:300,ay:50},{t:0,blt:6,atkDeg:360,y:300,ay:50},{t:1/48},{t:1.7,anim:"attack_4"},{anim:"no",t:1/48,x:0,ay:300,blt:2,effect:function(){}},{t:0,blt:6,atkDeg:0,y:300,ay:50},{t:0,blt:6,atkDeg:45/4,y:300,ay:50},{t:0,blt:6,atkDeg:33.75,y:300,ay:50},{t:0,blt:6,atkDeg:45,y:300,ay:50},{t:0,blt:6,atkDeg:56.25,y:300,ay:50},{t:0,blt:6,atkDeg:67.5,y:300,ay:50},{t:0,blt:6,atkDeg:78.75,y:300,ay:50},{t:0,blt:6,atkDeg:90,y:300,ay:50},{t:0,blt:6,atkDeg:101.25,y:300,ay:50},{t:0,blt:6,atkDeg:112.5,y:300,ay:50},{t:0,blt:6,atkDeg:123.75,y:300,ay:50},{t:0,blt:6,atkDeg:135,y:300,ay:50},{t:0,blt:6,atkDeg:146.25,y:300,ay:50},{t:0,blt:6,atkDeg:157.5,y:300,ay:50},{t:0,blt:6,atkDeg:168.75,y:300,ay:50},{t:0,blt:6,atkDeg:180,y:300,ay:50},{t:0,blt:6,atkDeg:191.25,y:300,ay:50},{t:0,blt:6,atkDeg:202.5,y:300,ay:50},{t:0,blt:6,atkDeg:213.75,y:300,ay:50},{t:0,blt:6,atkDeg:225,y:300,ay:50},{t:0,blt:6,atkDeg:236.25,y:300,ay:50},{t:0,blt:6,atkDeg:247.5,y:300,ay:50},{t:0,blt:6,atkDeg:258.75,y:300,ay:50},{t:0,blt:6,atkDeg:270,y:300,ay:50},{t:0,blt:6,atkDeg:281.25,y:300,ay:50},{t:0,blt:6,atkDeg:292.5,y:300,ay:50},{t:0,blt:6,atkDeg:303.75,y:300,ay:50},{t:0,blt:6,atkDeg:315,y:300,ay:50},{t:0,blt:6,atkDeg:326.25,y:300,ay:50},{t:0,blt:6,atkDeg:337.5,y:300,ay:50},{t:0,blt:6,atkDeg:348.75,y:300,ay:50},{t:1/48}],attackSequence9:[{t:1.0625,anim:"attack_4",animForced:1},{anim:"no",t:1/48,x:0,ay:300,blt:2,effect:function(){}},{t:.1,blt:9,atkDeg:45,y:300,ay:50},{t:0,blt:9,atkDeg:15,y:300,ay:50},{t:0,blt:9,atkDeg:-15,y:300,ay:50},{t:0,blt:9,atkDeg:-45,y:300,ay:50},{t:1/48}],ai:{sr:3110,ar0:100,ar1:250,ctor:t("BossStandAI"),attackSeq:{2:{attackTime:3,atkDeg:-30,sweep:65,repeatIndex:1},3:{attackTime:3,atkDeg:45,sweep:-75,repeatIndex:1},5:{attackTime:3,repeatIndex:1},6:{attackTime:2,atkDeg:0,repeatIndex:3},7:{attackTime:2,atkDeg:0,repeatIndex:1}}},avatar:{ctor:a,anime:g_resources.anime.BIGBOY,iconScale:.3}}};window.MobDefine=d,cc._RF.pop()},{Boss:"Boss",BossStandAI:"BossStandAI",BounceAI:"BounceAI",BounceMob:"BounceMob",BuffDefine:"BuffDefine",BulletLaser:"BulletLaser",ChargeAndWanderAI:"ChargeAndWanderAI",CustomBullet:"CustomBullet",DrillSkill:"DrillSkill",ExplosiveMob:"ExplosiveMob",FrameAvatar:"FrameAvatar",Grenade:"Grenade",GrenadeFromAbove:"GrenadeFromAbove",GuidedMissileDirect:"GuidedMissileDirect",HydraliskAI:"HydraliskAI",JumpSkill:"JumpSkill",Mob:"Mob",PoisonGrenade:"PoisonGrenade",PounceSkill:"PounceSkill",PullBackBlt:"PullBackBlt",PullbackSkill:"PullbackSkill",RampageSkill:"RampageSkill",SimpleAvatar:"SimpleAvatar",StreakSpeedUpSkill:"StreakSpeedUpSkill",resource:"resource"}],MobSkill:[function(t,e){"use strict";cc._RF.push(e,"62726Pz6KxOl6JDdxZdmRGQ","MobSkill"),cc._RF.pop()},{}],Mob:[function(t,e){"use strict";cc._RF.push(e,"06d0cWl90VB5ajmVWANMNRj","Mob");var i=t("AI"),a=(t("Entity"),cc.Class({extends:t("Entity"),init:function(t,e,a){this._super(t,e,a),this.game=a,this.effectMgr=this.game.effectMgr,t=this.define,e=this.config,this.skills=[];var n=kit.clone(t.skill);if(n)for(var s=0;s<n.length;s++){var o=n[s];o&&(this.skills[s]=new o.ctor,this.skills[s].init(o,{obj:this,id:s},this.game))}this.isAIEnabled=!0,this.ai=new(this.define.ai.ctor||i),this.ai.init(this.define.ai,{obj:this},this.game),this.define.aiCantMove&&(this.isAIEnabled=!1)},initAvatar:function(){var t=this.define.avatar,e=new cc.Node;this.addChild(e,0);var i=t.ctor;this.avatar=e.addComponent(i),this.avatar.init(t,{obj:this},this.game)},refreshAvatar:function(t){this.avatar&&this.avatar.refresh(t)},setForcedAnime:function(t,e){this.avatar&&this.avatar.setForcedAnime(t,e)},setForcedAnimeSpd:function(t){this.avatar&&this.avatar.setForcedAnimeSpd(t)},updateAvatar:function(t){this.avatar.update(t)},setShader:function(t){return this.avatar.setShader(t)},deadEffect:function(){var t,e=this.define.deadEff||this.deadEff||Effect.Death;return this.isBoss?t=(e=Effect.BossDeath)(this,this.game)||.01:(t=e(this,1,1,1,this.game)||1,this.avatar&&this.avatar.deadDissolve()),t},getAlarmed:function(){var t=this.effectMgr.createSprite(0,0,"effect/alarm");t.x=this.x+20,t.y=this.y+this.radius+20;var e=this;t.getComponent(cc.Sprite).schedule(function(){if(!e)return e.destroy();this.x=e.x+20,this.y=e.y+e.radius+20}),t.runAction(cc.sequence(cc.blink(1,4),cc.destroySelf())),this.game.camera.addChild(t,1e5)},updateLogic:function(t){return this.isAIEnabled&&this.ai.updateLogic(t),this._super(t)},attack:function(){this._super();var t=this.attackSequence[this.attackIndex];if(t){if(null!=t.blt)return this.rangeAttack();var e=t.x,i=t.y;if(e||i){var a=kit.degree2Radian(this.deg),n=Math.sin(a),s=Math.cos(a),o=this.x0+s*e+n*i,r=this.y0-n*e+s*i,c=this.team,h=t.r||30,d=g_sharedContactManager.contactList;for(var l in d){var u=d[l];if(!u.isSensor&&u._isActiveContact&&!u.isDead&&!u.isFly&&c!=u.team&&u.canAutoAim&&(e=o-u.x0)*e+(i=r-u.y0)*i<=h*h){this.hit(this.attribute.get("atkDmg"),{obj:this,define:{hurtStopTime:t.hurtStopTime,hurtStopCD:t.hurtStopCD}},u);var f=t.buff;f&&(new f.ctor).init(f,{obj:u,from:this})}}}}},rangeAttack:function(){var t=this.attackSequence[this.attackIndex];if(t.blt||0===t.blt){var e,i=this.blt[t.blt],a=t.x||0,n=t.y||0,s=this.x0,o=this.y0,r=this.deg,c=kit.degree2Radian(r),h=Math.sin(c),d=Math.cos(c),l=s+d*a+h*n,u=o-h*a+d*n;if(i.grenade){var f=this.ai.target;(e=kit.norm(f.x0-this.x0,f.y0-this.y0))>i.l&&(e=null)}var m=r+(t.deg||0);Ammofactory(this,i,{x:l,y:u,te:this.team,obj:this,dmg:this.attribute.get("atkDmg"),l:e,deg:m},this.game),this.game.effectMgr.play(SoundEffectPath[EntityCN2EN[this.toString()]+"_weapon"])}}}));e.exports=a,cc._RF.pop()},{AI:"AI",Entity:"Entity"}],MoreGameManager:[function(t,e){"use strict";cc._RF.push(e,"fc23eQWGURPiYCQzJJ324YL","MoreGameManager"),cc.Class({extends:cc.Component,properties:{moreGameNode:cc.Node,wxGame1:cc.Node,more9Pre:cc.Prefab},start:function(){window.tt?(this.moreGameNode.active=cc.Platformsdk.moreGameEnable(),this.wxGame1.active=!1):window.wx?(this.moreGameNode.active=!0,this.wxGame1.active=!1):(this.moreGameNode.active=!1,this.wxGame1.active=!1)},moreGame:function(){if(window.tt)cc.Platformsdk.showMoreGame(),tjSDK.onEvent(TJ.eventId.byte_click_more,{});else if(window.wx&&this.more9Pre){var t=cc.instantiate(this.more9Pre);t.parent=cc.find("Canvas");var e=t.getComponent("pop_more9");this.getGameList(function(t){if(t&&!(t.length<=0))for(var i in cc.Platformsdk.hideCustom(),t){var a=t[i];a.mPlace="",e.addItem(a)}}.bind(this))}},updateWxGame1:function(){this.getGameOne(function(t){if(t&&!(t.length<=0)){var e=t[0];e.mPlace="",this.wxGame1Icon.mpsdkAdCfg=e;var i=this.wxGame1Icon.parent.parent,a=this.wxGame1Icon.getComponent(cc.Sprite);i.runAction(cc.sequence(cc.callFunc(function(){a.spriteFrame=e.icon},this),cc.scaleTo(.1,1.2),cc.scaleTo(.2,1)))}}.bind(this))},iconClick:function(t){t.node.mpsdkAdCfg&&qmSDK.adClick(t.node.mpsdkAdCfg)},addIcon:function(t,e,i,a,n){if(e){var s=new cc.Node;s.mpsdkAdCfg=e;var o=s.addComponent(cc.Sprite);if(e.icon&&(o.spriteFrame=e.icon),s.scale=i/144,a&&s.setPosition(a),s.parent=t,s.addComponent(cc.Button),s.on("click",this.iconClick),n){var r=new cc.Node;r.addComponent(cc.Label).string=""+e.name,r.parent=s}return s}},getGameOne:function(t){qmSDK.getRecommendInfo(function(e){var i=[];if(e){var a=e;reskit.loadSpriteFrameByUrl(a.icon,function(e){if(e){var n={};n.name=a.title,n.game=n.name,n.appId=a.appid,n.icon=e,n.path="",n.ad=a,i.push(n),t&&t(i)}}.bind(this))}else t&&t(i)}.bind(this))},getGameList:function(t,e,i){qmSDK.getSuggestList(function(e){var i=this,a=[];if(e){var n=e.length;cc.log("--len:",n);var s=function(){var s=e[o];reskit.loadSpriteFrameByUrl(s.icon,function(e){if(e){var i={};i.name=s.title,i.game=i.name,i.appId=s.appid,i.icon=e,i.path="",i.ad=s,a.push(i),a.length==n&&t&&t(a)}}.bind(i))};for(var o in e)s()}else t&&t(a)}.bind(this),e,i)},getGameEList:function(t,e,i){qmSDK.getExcitationList(function(e){e||t&&t([])}.bind(this),e,i)}}),cc._RF.pop()},{}],MovingProtectSkill:[function(t,e){"use strict";cc._RF.push(e,"bd1dbZhyyhPNZV9KNJCFa38","MovingProtectSkill"),cc.Class({extends:t("ProtectSkill"),cast:function(){this._super.apply(this,arguments)},setSheildPos:function(){this.x=this.obj.x0,this.y=this.obj.y0,this.game.fastMode||this.eff.setPosition(this.x,this.y)}}),cc._RF.pop()},{ProtectSkill:"ProtectSkill"}],MultiAttackSkill:[function(t,e){"use strict";cc._RF.push(e,"40cdez7nJpDRoSM9c+AITLU","MultiAttackSkill");var i=cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.hanzo_Mul);var t=this.obj,e=t.attribute;if(t.bltCt=t.bltMaxCt,e.add("thrChance",1),t.setNoSkills(!0),t.setAutoAttack(!0),this.replaceBlt(),!this.game.fastMode){var i=this.effectMgr.createSprite(0,0,"effect/tracer/light2");if(i.scale=0,!this.obj)return;this.obj.addChild(i,1e5);var a=cc.Sequence(cc.Spawn(cc.ScaleTo(.2,8),cc.FadeOut(.4)),cc.CallFunc(function(){i.destroy()}));i.runAction(a);var n=i.getComponent(cc.Sprite);n.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,n.dstBlendFactor=cc.macro.BlendFactor.ONE,this.timer=.1}this.bone=this.obj.avatar.upperArmature.getBone("arrow")},excute:function(){this.bone.changeDisplayWithIndex(1,!1)},replaceBlt:function(){var t=this.obj;t.onAttackEnd(),t.bltReload=0;var e=[kit.clone(this.define.blt)];this.define.extraArrow&&(e[0].n+=this.define.extraArrow,e[0].d+=.1*this.define.extraArrow),this.backupBlt=t.blt,t.blt=e,t.attribute.cover("atkDmg",this.define.dmg)},restoreBlt:function(){var t=this.obj;t.blt=this.backupBlt,t.attribute.cover("atkDmg")},end:function(){this._super();var t=this.obj;t.attribute.add("thrChance",-1),t.setNoSkills(!1),t.setAutoAttack(!1),this.bone.changeDisplayWithIndex(0,!1),this.restoreBlt()}});e.exports=i,cc._RF.pop()},{Skill:"Skill"}],MyLabel:[function(t,e){"use strict";cc._RF.push(e,"e9570RbzvZOqqgDE4177oJ6","MyLabel"),cc._RF.pop()},{}],NewAvatar:[function(t,e){"use strict";cc._RF.push(e,"06085MzOHlPyoE5B+gZO6VI","NewAvatar"),cc._RF.pop()},{}],NewDropBox:[function(t,e){"use strict";cc._RF.push(e,"2d4cbB+oUZKCIXC+CkuYMAV","NewDropBox"),cc.Class({extends:cc.Node,init:function(t){this.game=t,this.effectMgr=this.game.effectMgr,this.plane()},plane:function(){var t=this.effectMgr.createSprite(0,0,"effect/dropbox/plane_shadow");t.scale=2,t.opacity=150,this.game.camera.addChild(t,1111);var e=this.game.map.size[0]*CELL_W;t.x=.2*e*Math.random()+this.x;var i=1.3*e+this.y,a=.35*e*Math.random()+this.x;t.y=.35*-VIEW_SIZE.height;var n=Math.random();if(t.angle=-Math.atan((a-t.x)/(i-t.y))/(Math.PI/180),n<.5){var s=t.y;t.y=i,i=s,t.angle=-Math.atan((a-t.x)/(i-t.y))/(Math.PI/180)+180}var o=cc.callFunc(function(){this.game.map.size[1],CELL_H;var t=[[this.game.map.size[0]/2*CELL_W*.32,this.game.map.size[1]/2*CELL_H-130],[this.game.map.size[0]/2*CELL_W*.32,this.game.map.size[1]/2*CELL_H-140],[this.game.map.size[0]/2*CELL_W*.32-110,this.game.map.size[1]/2*CELL_H+(80*Math.random()-40)]],e=parseInt(3*Math.random());this.land(t[e][0],t[e][1],this)}.bind(this));t.runAction(cc.sequence(cc.moveTo(1.2,cc.v2(a,i)),cc.delayTime(1),o,cc.destroySelf())),this.game.effectMgr.play(SoundEffectPath.plane)},land:function(t,e){var i;this.game.effectMgr.play(SoundEffectPath.parachute),(i=this.effectMgr.createSprite(0,0,"effect/dropbox/parachute")).x=t,i.y=e,i.scale=0,i.runAction(cc.sequence(cc.delayTime(.2),cc.scaleTo(.25,1),cc.moveBy(.5,cc.v2(-90,0)).easing(cc.easeIn(.5)),cc.moveBy(.35,cc.v2(80,0)).easing(cc.easeOut(.5)),cc.moveBy(.35,cc.v2(80,0)).easing(cc.easeIn(.5)),cc.moveBy(.35,cc.v2(-50,0)).easing(cc.easeOut(.5)),cc.moveBy(.35,cc.v2(-50,0)).easing(cc.easeIn(.5)),cc.moveBy(.5,cc.v2(30,0)),cc.fadeOut(.4))),this.game.camera.addChild(i,10001),(i=this.effectMgr.createSprite(0,0,"effect/dropbox/shadow")).x=t,i.y=e,i.scale=0,this.game.camera.addChild(i,1111);var a=cc.callFunc(function(){this.CreateBox(t,e)}.bind(this));i.runAction(cc.sequence(cc.delayTime(.45),cc.moveBy(2.4,cc.v2(60,55)))),i.runAction(cc.sequence(cc.delayTime(.2),cc.scaleTo(.25,1.5),cc.moveBy(.5,cc.v2(-90,0)).easing(cc.easeIn(.5)),cc.moveBy(.35,cc.v2(80,0)).easing(cc.easeOut(.5)),cc.moveBy(.35,cc.v2(80,0)).easing(cc.easeIn(.5)),cc.moveBy(.35,cc.v2(-50,0)).easing(cc.easeOut(.5)),cc.moveBy(.35,cc.v2(-50,0)).easing(cc.easeIn(.5)),cc.moveBy(.5,cc.v2(30,0)),a,cc.fadeOut(.4)))},CreateBox:function(t,e){var i=this,a=this.effectMgr.createSprite(t+5,e,"effect/dropbox/dropbox");a.setName("smallBox"),a.setScale(.8),this.game.camera.addChild(a,2e3);var n=this.effectMgr.createSprite(t+5,e,"effect/dropbox/halo");n.setName("halo"),this.game.camera.addChild(n,1e3),n.runAction(cc.sequence(cc.fadeIn(1),cc.fadeOut(1)).repeatForever()),this.game.bindScheduler(a);var s=0,o=a.getComponent(cc.Sprite);this.dropupdate=function(t){(s+=t)>=60&&this.callEnd()}.bind(this),o.schedule(this.dropupdate),this.game.SynthesisLayer.hasEmptyTray()&&o.scheduleOnce(function(){i.callEnd();var t=a.convertToWorldSpaceAR(cc.v2(0,0));i.game.SynthesisLayer.boxFromBackyard(1,t)},.5),a.on(cc.Node.EventType.TOUCH_START,function(){var t=a.convertToWorldSpaceAR(cc.v2(0,0));i.game.SynthesisLayer.hasEmptyTray()?(i.callEnd(),i.game.SynthesisLayer.boxFromBackyard(1,t)):Effect.textLabel(t,game)},this)},callEnd:function(){var t=this.game.camera.getChildByName("smallBox"),e=this.game.camera.getChildByName("halo");t.getComponent(cc.Sprite).unschedule(this.dropupdate),t.runAction(cc.sequence(cc.fadeOut(.2),cc.destroySelf())),this.game.box.destroy(),this.game.box=null,e.destroy()}}),cc._RF.pop()},{}],NewDunHpBar:[function(t,e){"use strict";cc._RF.push(e,"f440eI4VbNG46ium5NkeOob","NewDunHpBar"),cc.Class({extends:cc.Node,init:function(t,e){this.game=e,this.effectMgr=this.game.effectMgr;var i=this.effectMgr.createFilledSprite(0,0,"uiz/ingame/dunhpbar",cc.Sprite.FillType.VERTICAL);i.setScale(1.5);var a=i.getComponent(cc.Sprite);a.fillStart=0,a.fillRange=1,this.hpBar=a,this.addChild(i,2);var n=this.effectMgr.createFilledSprite(0,0,"uiz/ingame/dunhpbar",cc.Sprite.FillType.VERTICAL);n.setScale(1.5);var s=n.getComponent(cc.Sprite);s.fillStart=0,s.fillRange=1,this.hpBar2=s,this.addChild(n,1);var o=this.effectMgr.createSprite(0,0,"uiz/ingame/dunhpbar_bg");o.setScale(1.5),this.bg=o,this.addChild(o);var r=this;a.schedule(function(){r.update(r)},.1)},reset:function(t){this.obj=t,this.sx=1,this.hpBar2.fillRange=1,this.osx=this.sx,this.enabled=!0},onRefresh:function(){var t=this.obj;this.refreshAction=null,t.hp<=0&&(this.enabled=!1)},refresh:function(){var t=this.obj;if(!(t.hp<=0)){var e=t.hp/t.hpMax;this.opacity=255,this.hpBar2.node.stopAllActions(),this.hpBar.fillRange=e,this.hpBar2.node.opacity=150;var i=cc.callFunc(function(){this.hpBar2.fillRange=e}.bind(this));this.hpBar2.node.runAction(cc.sequence(cc.fadeIn(.05),cc.fadeOut(.25),i)),this.onRefresh()}},update:function(){this.setPosition(this.obj.x0+10,this.obj.y0)}}),cc._RF.pop()},{}],NewHpBar:[function(t,e){"use strict";cc._RF.push(e,"d75189uRftJgJjxW9t9wq4I","NewHpBar"),cc.Class({extends:cc.Node,init:function(t,e,i){this.game=e,this.effectMgr=this.game.effectMgr;var a=this.effectMgr.createSprite(0,0,"ui/ingame/bar/hp_bg");a.setScale(1),this.bg=a,this.addChild(a);var n=this.effectMgr.createFilledSprite(0,0,"ui/ingame/bar/hp",cc.Sprite.FillType.HORIZONTAL);n.setScale(1),a.addChild(n,2),this.hpNode=n;var s=n.getComponent(cc.Sprite);s.fillStart=0,s.fillRange=1,this.hpBar=s;var o=this.effectMgr.createFilledSprite(0,0,"ui/ingame/bar/hp_flash",cc.Sprite.FillType.HORIZONTAL);o.setScale(1),o.opacity=0,a.addChild(o,1),this.hpBar2Node=o;var r=o.getComponent(cc.Sprite);r.fillStart=0,r.fillRange=1,this.hpBar2=r;var c=this;s.schedule(function(){c.update(c)},.01);var h=this.effectMgr.createLabel2(0,0,0,30);h.y=5;var d=h.addComponent(cc.LabelOutline);d.width=3,d.color=cc.color(0,0,0),this.addChild(h,2),this.hpLabel=h.label,this.reset(i),this.updateHpBarLine()},updateHpBarLine:function(){var t=this.obj.hpMax;this.oct||(this.oct=t),this.bg.scaleX=(t-this.oct)/this.oct*.2+1,this.bg.scaleX=this.bg.scaleX>1.5?1.5:this.bg.scaleX},reset:function(t){this.obj=t,this.sx=1,this.hpBar2.fillRange=1,this.osx=this.sx,this.enabled=!0,this.hpLabel.string=Math.ceil(this.obj.hp)},onRefresh:function(){var t=this.obj;this.refreshAction=null,t.hp<=0&&(this.enabled=!1)},refresh:function(){var t=this.obj,e=t.hp/t.hpMax;this.opacity=255,this.hpBar.fillRange=e,this.hpBar2Node.opacity=150;var i=cc.callFunc(function(){this.hpBar2.fillRange=e}.bind(this));this.hpBar2Node.runAction(cc.sequence(cc.fadeIn(.05),cc.fadeOut(.25),i)),this.onRefresh(),this.active=!0,this.hpLabel.string=Math.ceil(this.obj.hp)},update:function(t){t.setPosition(t.obj.x,t.obj.y+80)}}),cc._RF.pop()},{}],NpcDefine:[function(t,e){"use strict";cc._RF.push(e,"5cd38D9Qb5IEKr4UNYcTDLU","NpcDefine");var i=t("Survivor"),a=t("Demon"),n=t("Chest"),s=t("Merchant"),o=t("Healbox"),r=t("SoldierNpc"),c=t("WeaponTrialNpc"),h={reliclNpc:{id:"reliclNpc",name:"",avatar:"npc/master",activateCB:function(t){operkit.addRelics(10021);var e=t.game.gameManager.getRelics();e&&menuManager.pop("sub3#/prefab/relicPopMenu",{game:t.game,fixOptions:e})},radius:50,weight:-1,scale:1.3,hp:1e3,rttSpd:20,seek:{sr:360,ar0:100,ar1:150},firstDialogue:"5"},weaponTrialNpc:{id:"weaponTrialNpc",name:"",ctor:c,radius:50,weight:-1,scale:1.3,hp:1e3,rttSpd:20,seek:{sr:360,ar0:100,ar1:150}},weaponTrialNpc2:{id:"weaponTrialNpc2",name:"",ctor:c,radius:50,weight:-1,scale:1.3,hp:1e3,rttSpd:20,seek:{sr:360,ar0:100,ar1:150},avatar:"npc/lootbox"},soldierNpc:{id:"soldierNpc",name:"",ctor:r,radius:50,weight:-1,scale:1.3,hp:1e3,rttSpd:20,seek:{sr:360,ar0:100,ar1:150},firstDialogue:"2"},survivor:{id:"survivor",name:"",ctor:i,radius:50,weight:-1,scale:1.5,hp:1e3,rttSpd:20,seek:{sr:360,ar0:100,ar1:150}},demon:{id:"demon",name:"",ctor:a,radius:25,weight:-1,scale:2,hp:1e3,rttSpd:20,seek:{sr:360,ar0:100,ar1:150},z:500},chest:{id:"chest",name:"",ctor:n,radius:50,weight:-1,scale:1,hp:1e3,rttSpd:20,seek:{sr:360,ar0:100,ar1:150},z:500,firstDialogue:"11"},merchant:{id:"merchant",name:"",ctor:s,radius:50,weight:-1,scale:1.5,hp:1e3,rttSpd:20,seek:{sr:360,ar0:100,ar1:150},z:500},master:{id:"master",name:"",ctor:t("Master"),radius:50,weight:-1,scale:1.3,hp:1e3,rttSpd:20,seek:{sr:360,ar0:100,ar1:150},z:500},healbox:{id:"healbox",name:"",ctor:o,radius:50,weight:-1,scale:1,hp:2500,rttSpd:20,seek:{sr:360,ar0:100,ar1:150},deadEff:Effect.ExplosiveDeath}};window.NpcDefine=h,cc._RF.pop()},{Chest:"Chest",Demon:"Demon",Healbox:"Healbox",Master:"Master",Merchant:"Merchant",SoldierNpc:"SoldierNpc",Survivor:"Survivor",WeaponTrialNpc:"WeaponTrialNpc"}],Npc:[function(t,e){"use strict";cc._RF.push(e,"dde41YRcw9OjqUS2BFIOmHf","Npc"),t("Entity");var i=cc.Class({extends:t("Entity"),init:function(t,e,i){this._super(t,e,i),this.game=i,this.effectMgr=this.game.effectMgr,t=this.define,e=this.config,this.isAIEnabled=!1,this.isInvincible++,this.initAlert(),this.showEffect(),this.activateTimer=.7,this.activateRange=150},flashWhite:function(){if(this.game,this.u_gray>0)this.u_gray=1;else{var t;this.u_gray=1,this.game.effectMgr.bindShader(this.avatarNode.sprite,"hitFlash");var e=this;this.avatarNode.sprite.schedule(function i(){e.u_gray-=.015,e.u_gray<0?(e.u_gray=0,t.setProperty("u_gray",e.u_gray),this.unschedule(i),e.game.effectMgr.bindShader(e.avatarNode.sprite,"normal")):(t=e.avatarNode.sprite.getMaterial(0)).setProperty("u_gray",e.u_gray)},.01)}},showEffect:function(){this.avatarNode.scaleX=0,this.avatarNode.scaleY=.5,this.avatarNode.runAction(cc.scaleTo(.7,1));var t=this.game.effectMgr.createAnimation("atlas/npcShow",{repeat:"r"});t.scale=6,t.x=this.x,t.y=this.y,this.game.addEntity(t,1e3),this.flashWhite()},removeEffect:function(){var t=this.game.effectMgr.createAnimation("atlas/npcShow",{});t.scale=6,t.x=this.x,t.y=this.y,this.game.addEntity(t,1e3)},initAlert:function(){if(!this.activated){var t=this.effectMgr.createSprite(20,70,"npc/alert");t.x=this.x+25,t.y=this.y+75,this.game.addEntity(t,1e3),this.alert=t,t.anchorY=0,t.scale=0,t.runAction(cc.sequence(cc.delayTime(.6),cc.scaleTo(.1,1.5),cc.moveBy(.1,cc.v2(-15,0)),cc.moveBy(.5,cc.v2(15,0)).easing(cc.easeElasticOut()),cc.delayTime(.6)).repeatForever())}},initAura:function(){},initAvatar:function(){this.define.avatar&&(this.avatarNode=this.effectMgr.createSprite(0,0,this.define.avatar),this.addChild(this.avatarNode))},activateNpc:function(){},checkNpc:function(){var t=this;if(this.define.firstDialogue&&!operkit.loadWarData("first_npc_dialogue_"+this.define.id)){t.game.pushTimeScale(0);var e=ChatDefine.first_dialogue[this.define.firstDialogue];menuManager.pop("sub2#/operate/npc/pop_chat",{noBlack:!0,chatObj:e,cb:function(){t.game.popTimeScale(0),t.define.activateCB&&t.define.activateCB(t),t.activateNpc(),operkit.loadWarData("first_chat_end")||(tjSDK.onEvent("first_chat_end"),operkit.saveWarData("first_chat_end",!0,!0),tjSDK.onEventQm(114))}},null,function(){t.game.popTimeScale(0),t.activateNpc(),operkit.loadWarData("first_chat_end")||(tjSDK.onEvent("first_chat_end"),operkit.saveWarData("first_chat_end",!0,!0),tjSDK.onEventQm(114))}),operkit.saveWarData("first_npc_dialogue_"+this.define.id,!0)}else t.define.activateCB&&t.define.activateCB(t),this.activateNpc();operkit.loadWarData("first_soldierNpc")||"soldierNpc"!=this.define.id||(tjSDK.onEvent("first_soldierNpc"),operkit.saveWarData("first_soldierNpc",!0,!0),tjSDK.onEventQm(113))},updateLogic:function(t){if(this.activateTimer-=t,!this.activated&&this.game.hero&&this.activateTimer<=0){var e=this.game.hero;kit.norm(e.x-this.x,e.y-this.y)<this.activateRange&&(this.checkNpc(),this.activated=!0,this.alert.destroy())}},onClose:function(){this.remove(),this.removeEffect()}});e.exports=i,cc._RF.pop()},{Entity:"Entity"}],ObstacleDefine:[function(t,e){"use strict";cc._RF.push(e,"e016c3UOg1P47N8Zh7M+VNw","ObstacleDefine"),t("Obstacle");var i=t("BounceBall");window.BOUNCE_BALL="bounceball",window.OBSTACLE_NORMAL=401,window.OBSTACLE_NORMAL2=402,window.OBSTACLE_NORMAL3=403,window.OBSTACLE_NORMAL4=404,window.OBSTACLE_NORMAL5=405,window.OBSTACLE_NORMAL6=406,window.ObstacleDefine={bounceball:{ctor:i,id:BOUNCE_BALL,name:"",radius:40,hp:5e6,weight:-1,avatar:{frm:"avatar/bounceball"},z:300,deathSound:"no"},obstacle:{id:OBSTACLE_NORMAL,noTeam:1,name:"",radius:40,hp:5e6,weight:-1,a:"blocks/city/box_wood"},obstacle2:{id:OBSTACLE_NORMAL2,noTeam:1,name:"",radius:40,hp:1e6,weight:-1,a:"blocks/youtong"},obstacle3:{id:OBSTACLE_NORMAL3,noTeam:1,name:"1",radius:40,hp:1e6,weight:1e4,a:"blocks/yanshiD"},obstacle4:{id:OBSTACLE_NORMAL4,noTeam:1,name:"2",radius:40,hp:1e6,weight:1e4,a:"blocks/yanshiE"},obstacle5:{id:OBSTACLE_NORMAL5,noTeam:1,name:"3",radius:40,hp:1e6,weight:1e4,a:"blocks/yanshiF"},obstacle6:{id:OBSTACLE_NORMAL6,noTeam:1,name:"",radius:1,hp:1e6,weight:-1,a:"blocks/fasheqi_light2"}},cc._RF.pop()},{BounceBall:"BounceBall",Obstacle:"Obstacle"}],Obstacle:[function(t,e){"use strict";cc._RF.push(e,"a486cbug9BORqX7KdtWjFPo","Obstacle");var i=cc.Class({extends:t("Entity"),init:function(t,e,i){this._super(t,e,i),this.noBorder=!0,this.canAutoAim=!1,this.noStun++},initHpBar:function(){},initAvatar:function(){this.appearance=this.define.a,this.armature=this.effectMgr.createSprite(0,0,this.appearance),this.node.addChild(this.armature)},updateAvatar:function(){this.needRefreshAvatar&&(this.needRefreshAvatar=!1,this.isDead&&this.armature.setTexture("shadow"))},onDead:function(){g_sharedContactManager.removeEntity(this),this.moveTimer=0,this.zIndex=-100,this.refreshAvatar(),this.remove()}});e.exports=i,cc._RF.pop()},{Entity:"Entity"}],OnDeathBonusAttackBuff:[function(t,e){"use strict";cc._RF.push(e,"9b12cri9aNG9ZU0HWXTJM5r","OnDeathBonusAttackBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registOnDeadCb(this),this.cdTimer=0},end:function(){this.obj.unregistOnDeadCb(this)},onDeath:function(){if(!(this.cdTimer>0)){var t=this.define;this.cdTimer=t.cd||0;var e=this.obj,i=g_sharedContactManager.contactList;for(var a in i){var n,s=i[a];s.isHero&&e.team==s.team&&!s.isDead&&(new((n={symbol:getUniqueSymbol(),ctor:SimpleAddAttrBuff,attr:"atkDmg",name:"revenge-atkDmg",num:t.atkDmg||0,t:t.duration||5}).ctor)(n,{obj:s}),new((n={symbol:getUniqueSymbol(),ctor:SimpleAddAttrBuff,attr:"attackScale",name:"revenge-attackScale",num:t.attackScale||0,t:t.duration||5}).ctor)(n,{obj:s}))}}}}),cc._RF.pop()},{Buff:"Buff"}],OnFirstBulletBuff:[function(t,e){"use strict";cc._RF.push(e,"aaa4cNqIt5PJ5ZQKBA0MwIF","OnFirstBulletBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super();var t=this.obj;this.obj.registOnAttackCb(this),this.updateBuff(),this.triggerType=this.define.triggerType,this.triggerType&&t.registCb(this,this.triggerType),this.buffTime=this.buffTime||this.define.buffTime||0},onReload:function(){this.updateBuff()},updateBuff:function(){this.obj.bltCt==this.obj.bltMaxCt?this.getBuff():this.removeBuff()},onAttack:function(){this.updateBuff()},removeBuff:function(){this.buff&&(this.buff.callEnd(),this.buff=!1,this.getBuff2())},getBuff:function(){if(!this.buff){var t=this.define.spawnBuff;this.buff=this.obj.setBuffById(t)}},getBuff2:function(){var t=this.define.spawnBuff2;t&&this.obj.setBuffById(t,{t:this.buffTime})},end:function(){this._super(),this.removeBuff(),this.obj.unregistOnAttackCb(this),this.triggerType&&this.obj.unregistCb(this,this.triggerType)},cover:function(t){this.buffTime=this.define.buffTime||0,this.buffTime+=t.buffTime}}),cc._RF.pop()},{Buff:"Buff"}],OnHitArmorPentrationForWidowBuff:[function(t,e){"use strict";cc._RF.push(e,"04837w07B1KoKpLnjGP6Kwt","OnHitArmorPentrationForWidowBuff"),cc.Class({extends:t("OnHitEnemyBuff"),begin:function(){this._super.apply(this,arguments),this.buffDef={name:"OnHitArmorPentrationForWidowBuff-Proc",ctor:AttributeBuff,symbol:this.define.buff.symbol,add:[["armorLevel",-this.define.armorReduction||0]],t:this.define.debuffDuration||5}},onHit:function(t,e,i){if(!(this.cdTimer>0)&&i.buffList){var a=this.define;if(this.cdTimer=a.cd||0,Math.random()<a.chance){var n=this.buffDef;n&&(n.symbol||(n.symbol=this.subcc.sys.bol),new n.ctor(n,{obj:i}))}}}}),cc._RF.pop()},{OnHitEnemyBuff:"OnHitEnemyBuff"}],OnHitBuff:[function(t,e){"use strict";cc._RF.push(e,"c50255n2DdFLrLxA/rrd0m/","OnHitBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registOnHitCb(this),this.cdTimer=0},onHit:function(){},end:function(){this.obj.unregistOnHitCb(this)},excute:function(t){this.cdTimer>0&&(this.cdTimer-=t)}}),cc._RF.pop()},{Buff:"Buff"}],OnHitCountBuff:[function(t,e){"use strict";cc._RF.push(e,"98020ob0P1Bj5T4fHPz2b2t","OnHitCountBuff"),cc.Class({extends:t("OnHitBuff"),onHit:function(t,e,i){if(!(this.cdTimer>0)&&i.buffList){this.count?this.count++:this.count=1;var a=this.define;if(!(this.count<a.count)){this.count=0,this.cdTimer=a.cd||0;var n=a.buff;n&&new n.ctor(n,{obj:this.obj})}}}}),cc._RF.pop()},{OnHitBuff:"OnHitBuff"}],OnHitEnemyBuff:[function(t,e){"use strict";cc._RF.push(e,"1929ausXOZJ65gxWxQGsPUX","OnHitEnemyBuff"),cc.Class({extends:t("OnHitBuff"),begin:function(){this._super.apply(this,arguments),this.subSymbol=getUniqueSymbol()},onHit:function(t,e,i){if(!(this.cdTimer>0)&&i.buffList){var a=this.define;if(this.cdTimer=a.cd||0,Math.random()<a.chance){var n=a.buff;n&&(n.symbol||(n.symbol=this.subSymbol),new n.ctor(n,{obj:i}))}}}}),cc._RF.pop()},{OnHitBuff:"OnHitBuff"}],OnHitGetBuffBuff:[function(t,e){"use strict";cc._RF.push(e,"0e6e8ELuN9KYJaMG7MwoRcO","OnHitGetBuffBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registOnHitCb(this),this.chance=this.define.chance||1,this.bonusChance=this.define.bonusChance||0},onHit:function(){Math.random()<this.chance?(this.buff(),this.chance=this.define.chance||1):this.chance+=this.bonusChance},end:function(){this.obj.unregistOnHitCb(this)},excute:function(){},buff:function(){var t=this.define.spawnBuff,e={t:this.define.buffTime};this.define.attrIndex&&(e.addScale=[[this.define.attrIndex,this.define.attrNum]]),this.obj.setBuffById(t,e)}}),cc._RF.pop()},{Buff:"Buff"}],OnHitHpHighMulAttrBuff:[function(t,e){"use strict";cc._RF.push(e,"a673bDUfkVAcpsKsRY/5PHe","OnHitHpHighMulAttrBuff"),cc.Class({extends:t("OnHitBuff"),begin:function(){this._super.apply(this,arguments)},onHit:function(t,e,i){var a=this.define;this.obj,i.hp>-a.hpRate*i.hpMax&&i.hurt(t*a.num,e)}}),cc._RF.pop()},{OnHitBuff:"OnHitBuff"}],OnHitSelfBuff:[function(t,e){"use strict";cc._RF.push(e,"1d93bUDZqpORJ2ieMcvOGeT","OnHitSelfBuff"),cc.Class({extends:t("OnHitBuff"),onHit:function(t,e,i){if(!(this.cdTimer>0)&&i.buffList){var a=this.define;if(this.cdTimer=a.cd||0,Math.random()<a.chance){var n=a.buff;n&&(new n.ctor).init(n,{obj:this.obj})}}}}),cc._RF.pop()},{OnHitBuff:"OnHitBuff"}],OnHitSlowBuff:[function(t,e){"use strict";cc._RF.push(e,"08f0au7rjlAFIZdSB429a1C","OnHitSlowBuff"),cc.Class({extends:t("OnHitBuff"),begin:function(){this._super.apply(this,arguments),this.subcc.sys.bol=getUniqueSymbol()},onHit:function(t,e,i){if(!(this.cdTimer>0)&&i.buffList){var a=this.define;if(this.cdTimer=a.cd||0,Math.random()<a.chance){var n={name:"OnHitSlowBuff-Proc",ctor:AttributeBuff,symbol:this.subcc.sys.bol,mutScale:[["moveSpd",this.define.slow||.5]],t:this.define.slowDuration};n&&new n.ctor(n,{obj:i})}}}}),cc._RF.pop()},{OnHitBuff:"OnHitBuff"}],OnHitSuddenKillBuff:[function(t,e){"use strict";cc._RF.push(e,"cfd49XKKBtBtKRPSHv4vgmG","OnHitSuddenKillBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registOnHitCb(this),this.cdTimer=0,this.chance=this.define.chance||0},onHit:function(t,e,i){if(!i.isBoss&&Math.random()<this.chance)return Effect.HitTextImg("effect/text/headshot",this.game,i),1.2*i.hpMax},end:function(){this.obj.unregistOnHitCb(this)},excute:function(t){this.cdTimer>0&&(this.cdTimer-=t)}}),cc._RF.pop()},{Buff:"Buff"}],OnHpHighMulAttrBuff:[function(t,e){"use strict";cc._RF.push(e,"d6505aUuR9NVZC+uFnKEUim","OnHpHighMulAttrBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super.apply(this,arguments),this.buffDef={name:"OnHpLowMulAttrBuff-sub",symbol:getUniqueSymbol(),ctor:SimpleMulAttrBuff,attr:this.define.attr||"armorLevel",num:this.define.num||1,t:1}},excute:function(t){if(this.cdTimer-=t,!(this.cdTimer>0)){var e=this.define;this.cdTimer=e.cd||0;var i=this.obj;if(i.hp>e.hpRate*i.hpMax){var a=this.buffDef;a&&new SimpleMulAttrBuff(a,{obj:this.obj})}}}}),cc._RF.pop()},{Buff:"Buff"}],OnHpLowBuff:[function(t,e){"use strict";cc._RF.push(e,"fdecaSAIH1DgYIVs15umi22","OnHpLowBuff"),cc.Class({extends:t("OnHurtBuff"),onHurt:function(){if(!(this.cdTimer>0)){var t=this.define;this.cdTimer=t.cd||0;var e=this.obj;if(e.hp<t.hpRate*e.hpMax){var i=t.buff;i&&new i.ctor(i,{obj:this.obj})}}}}),cc._RF.pop()},{OnHurtBuff:"OnHurtBuff"}],OnHpLowMulAttrBuff:[function(t,e){"use strict";cc._RF.push(e,"51384+pJspF9qCEOMNnXrBD","OnHpLowMulAttrBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super.apply(this,arguments),this.buffDef={name:"OnHpLowMulAttrBuff-sub",symbol:getUniqueSymbol(),ctor:SimpleMulAttrBuff,attr:this.define.attr||"armorLevel",num:this.define.num||1,t:1}},excute:function(t){if(this.cdTimer-=t,!(this.cdTimer>0)){var e=this.define;this.cdTimer=e.cd||0;var i=this.obj;if(i.hp<e.hpRate*i.hpMax){var a=this.buffDef;a&&new SimpleMulAttrBuff(a,{obj:this.obj})}}}}),cc._RF.pop()},{Buff:"Buff"}],OnHurtBonusAttributeBuff:[function(t,e){"use strict";cc._RF.push(e,"345c03P1P9AYLjjAWbxgCGM","OnHurtBonusAttributeBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registOnHurtCb(this),this.obj.registCb(this,"onHeal"),this.scale=0,this.updateScale()},addAttr:function(t){var e=this.obj.attribute,i=this.define.add,a=this.define.addScale;if(i)for(var n=0;n<i.length;n++)e.add(i[n][0],i[n][1]*t);if(a)for(n=0;n<a.length;n++)e.addScale(a[n][0],a[n][1]*t)},updateScale:function(){var t=this.obj.hp/this.obj.hpMax,e=Math.floor((1-t)/.01);this.addAttr(-this.scale),this.addAttr(e),this.scale=e},onHurt:function(){this.updateScale()},onHeal:function(){this.updateScale()},end:function(){this.obj.unregistOnHurtCb(this),this.obj.unregistCb(this,"onHeal")},excute:function(t){this.cdTimer>0&&(this.cdTimer-=t)}}),cc._RF.pop()},{Buff:"Buff"}],OnHurtBuff:[function(t,e){"use strict";cc._RF.push(e,"7c275Xu49lCVpKB0gLdyAsY","OnHurtBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registOnHurtCb(this),this.cdTimer=0},onHurt:function(){},end:function(){this.obj.unregistOnHurtCb(this)},excute:function(t){this.cdTimer>0&&(this.cdTimer-=t)}}),cc._RF.pop()},{Buff:"Buff"}],OnHurtGetBuffBuff:[function(t,e){"use strict";cc._RF.push(e,"61865plfvdBU4qPWj1Lhd5m","OnHurtGetBuffBuff"),cc.Class({extends:t("OnHurtBuff"),begin:function(){this.obj.registOnHurtCb(this),this.cdTime=this.define.cdTime||0,this.cdTimer=0,this.buff=kit.clone(this.define.buff),this.target=this.define.target||"self"},onHurt:function(t,e){if(this.cdTimer<=0){this.cdTimer=this.cdTime;var i={t:this.define.buffTime};this.define.attrIndex&&(i.addScale=[[this.define.attrIndex,this.define.attrNum]]),"enemy"==this.target&&e&&e.obj&&e.obj.setBuff(this.buff,i),"self"==this.target&&this.obj.setBuff(this.buff,i)}},end:function(){this.obj.unregistOnHurtCb(this)},excute:function(t){this.cdTimer>0&&(this.cdTimer-=t)}}),cc._RF.pop()},{OnHurtBuff:"OnHurtBuff"}],OnKillBltSpawnBuff:[function(t,e){"use strict";cc._RF.push(e,"9a711OOS4xJ4LxdpODQ7tLp","OnKillBltSpawnBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registOnKillCb(this),this.chance=this.define.chance||1,this.dmg=this.define.dmg||0,this.config.from&&this.define.dmgScaleRate?this.dmgScaleWithAttack=this.config.from.getStandardAtk()*this.define.dmgScaleRate:this.dmgScaleWithAttack=0,this.dmg+=this.dmgScaleWithAttack},onKill:function(t,e){Math.random()<this.chance&&this.attack(e)},end:function(){this.obj.unregistOnKillCb(this)},excute:function(){},attack:function(t){this.define.blt;var e=t;if(e){var i=kit.radian2Degree(kit.vector2Radian(e.y0-this.obj.y0,e.x0-this.obj.x0));cc.log("distance",void 0),Ammofactory(this.obj,this.define.blt,{l:1,x:e.x,y:e.y,obj:this.obj,te:this.obj.team,deg:i,dmg:this.dmg},this.game)}}}),cc._RF.pop()},{Buff:"Buff"}],OnKillBuff:[function(t,e){"use strict";cc._RF.push(e,"51dd8v8AZ9LVomXcVqlK0Kp","OnKillBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registOnKillCb(this),this.cdTimer=0},onKill:function(){},end:function(){this.obj.unregistOnKillCb(this)},excute:function(t){this.cdTimer>0&&(this.cdTimer-=t)}}),cc._RF.pop()},{Buff:"Buff"}],OnKillCountBuff:[function(t,e){"use strict";cc._RF.push(e,"f32c2aDjL1NGLSktOhubJ7u","OnKillCountBuff"),cc.Class({extends:t("OnKillBuff"),onKill:function(){if(!(this.cdTimer>0)){this.count?this.count++:this.count=1;var t=this.define;if(!(this.count<t.count)){this.count=0,this.cdTimer=t.cd||0;var e=t.buff;e&&new e.ctor(e,{obj:this.obj})}}}}),cc._RF.pop()},{OnKillBuff:"OnKillBuff"}],OnKillGetBuffBuff:[function(t,e){"use strict";cc._RF.push(e,"3c119CnVv1E+rmWNZm4GdWc","OnKillGetBuffBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registOnKillCb(this),this.chance=this.define.chance||1,this.bonusChance=this.define.bonusChance||0},onKill:function(){Math.random()<this.chance?(this.buff(),this.chance=this.define.chance||1):this.chance+=this.bonusChance},end:function(){this.obj.unregistOnKillCb(this)},excute:function(){},buff:function(){var t=this.define.spawnBuff,e={t:this.define.buffTime};this.define.attrIndex&&(e.addScale=[[this.define.attrIndex,this.define.attrNum]]),this.obj.setBuffById(t,e)}}),cc._RF.pop()},{Buff:"Buff"}],OnKillRegenBuff:[function(t,e){"use strict";cc._RF.push(e,"8e1676DKz9ChqRgUCPDcll0","OnKillRegenBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registOnKillCb(this),this.fixN=this.define.fixN||0,this.percent=this.define.percent||0},onKill:function(){console.log("OnKillRegenBuff",this.fixN,this.obj.hpMax,this.percent,this.obj.hp),this.obj.heal(this.fixN+this.obj.hpMax*this.percent),console.log("OnKillRegenBuff2",this.obj.hp)},end:function(){this.obj.unregistOnKillCb(this)},excute:function(){}}),cc._RF.pop()},{Buff:"Buff"}],OnKillSpawnDropBuff:[function(t,e){"use strict";cc._RF.push(e,"ca62eFtJV1JXJutU609vu1p","OnKillSpawnDropBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registOnKillCb(this),this.chance=this.define.chance||1,this.dropId=this.define.drop,this.bonusChance=this.define.bonusChance||0},onKill:function(t,e){Math.random()<this.chance?(this.drop(e),this.chance=this.define.chance||1):this.chance+=this.bonusChance},end:function(){this.obj.unregistOnKillCb(this)},excute:function(){},drop:function(t){DropItemById(this.dropId,t,this.game,10)}}),cc._RF.pop()},{Buff:"Buff"}],OnMedicineBuff:[function(t,e){"use strict";cc._RF.push(e,"3f015ufqHFMqpRCBMTl0Lli","OnMedicineBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registCb(this,"onMedicine"),this.cdTime=this.define.cdTime,this.cdTimer=0},excute:function(t){this.healNum&&this.healTime>0&&kit.timer(this.obj,"OnMedicineBuff",2,t)&&(this.obj.heal(this.healNum),this.healTime-=2)},end:function(){this.obj.unregistOnHurtCb(this)},onMedicine:function(t){this.healNum=t*this.define.healPercent,this.healTime=this.define.healTime}}),cc._RF.pop()},{Buff:"Buff"}],OnMeleeHitEnemyBuff:[function(t,e){"use strict";cc._RF.push(e,"680c8Y4/2lPbb7EvleIBRkE","OnMeleeHitEnemyBuff"),cc.Class({extends:t("OnHitBuff"),begin:function(){this._super.apply(this,arguments),this.subSymbol=getUniqueSymbol()},onHit:function(t,e,i){if(!(this.cdTimer>0)&&i.buffList&&"melee"==e.obj.weapon.type){var a=this.define;if(this.cdTimer=a.cd||0,Math.random()<a.chance){var n=a.buff;n&&(n.symbol||(n.symbol=this.subSymbol),new n.ctor(n,{obj:i,from:this.obj}))}}}}),cc._RF.pop()},{OnHitBuff:"OnHitBuff"}],OnMoveBuff:[function(t,e){"use strict";cc._RF.push(e,"4a03b7ndZJG047ZnWxcioy9","OnMoveBuff"),cc.Class({extends:t("Buff"),begin:function(){this.timer=0,this.buffTime=this.buffTime||this.define.buffTime||0},excute:function(t){if(this.obj.isMove){this.timer+=t;var e=this.define;if(this.timer>e.moveTime){var i=e.buff;if(i){var a={t:this.buffTime};this.define.attrIndex&&(a.addScale=[[this.define.attrIndex,this.define.attrNum]]),this.buff=this.obj.setBuff(i,a)}this.timer=0}}else this.timer=0},cover:function(t){this.buffTime=this.define.buffTime||0,this.buffTime+=t.buffTime}}),cc._RF.pop()},{Buff:"Buff"}],OnStandBuff:[function(t,e){"use strict";cc._RF.push(e,"99302JDYW5Isoj6cly9sJvh","OnStandBuff"),cc.Class({extends:t("Buff"),begin:function(){this.timer=0},excute:function(t){if(this.obj.isMove)this.timer=0,this.buff&&(this.buff.callEnd(),this.buff=null);else{this.timer+=t;var e=this.define;if(this.timer>e.standTime){var i=e.buff;if(i){var a={t:this.define.buffTime};this.define.attrIndex&&(a.addScale=[[this.define.attrIndex,this.define.attrNum]]),this.buff=this.obj.setBuff(i,a)}this.timer=0}}}}),cc._RF.pop()},{Buff:"Buff"}],OperBridge:[function(t,e){"use strict";cc._RF.push(e,"bc820Sj31ZOtKfh0cXRXHp3","OperBridge");var i={};window.OperBridge=i,i.MONEY_TYPE={GOLD:101,DIAMOND:102,LEG:103,EXP:104},i.convert2ChByType=function(t){var e={101:"Gold",102:"Diamond",103:"Power",104:"EXP"};return e.hasOwnProperty(t)?e[t]:t},i.addMoney=function(t,e,a,n){if(e*=1,isNaN(e))return"addMoney NaN";0===e?a&&a(!0):(t===i.MONEY_TYPE.EXP?operkit.addRoleExp(e):(operkit.setMoneyData(t,operkit.getMoneyData(t)+e,!0),t==i.MONEY_TYPE.GOLD&&cc.game.emit("p4_update")),cc.game.emit("head_add_money",t,e,a,n))},i.checkMoney=function(t,e){return e*=1,operkit.getMoneyData(t)-e>=0},i.useMoney=function(t,e,a,n){if(e*=1,isNaN(e))return console.log("useMoney NaN"),!1;if(0===e)a&&a(!0);else{var s=operkit.getMoneyData(t)-e;if(s<0)return i.toastTip(i.convert2ChByType(t)+" insufficient"),a&&a(!1),!1;operkit.setMoneyData(t,s),cc.game.emit("head_use_money",t,e,a,n),t==i.MONEY_TYPE.GOLD&&cc.game.emit("p4_update")}return!0},i.addBoxKey=function(t){operkit.addBoxKey("b"+t)},i.addEquipByK=function(t,e){if(isNaN(1*e))return"addEquipByK NaN";if(OperDefine.equip.hasOwnProperty(t)){if(e||(e=1),isNaN(Number(e)))return;for(var a=0;a<1*e;a++){var n=operkit.addEquip(t);n&&(tjSDK.onEvent(TJ.eventId.obtain_equip,{equipkey:t+""}),cc.game.emit("p2_add_equip",t,n))}}else i.toastTip(t+":No such equipment")},i.removeEquip=function(t,e,i,a){operkit.delEquip(t,e,i),cc.game.emit("p2_remove_equip",t,e,i,a)},i.putOnEquip=function(t,e,i){tjSDK.onEvent(TJ.eventId.put_on_equip,{equipkey:t+""}),cc.game.emit("p2_on_equip",t,e,i)},i.takeOffEquip=function(t){cc.game.emit("p2_off_equip",t)},i.addMaterialByK=function(t,e){if(isNaN(1*e))return"addMaterialByK NaN";OperDefine.material.hasOwnProperty(t)?(e||(e=1),operkit.addMaterialNum(t,1*e),cc.game.emit("p2_update_material",t)):i.toastTip(t+":No such material")},i.useMaterialByK=function(t,e){if(isNaN(1*e))return"useMaterialByK NaN";e||(e=1),operkit.useMaterialNum(t,1*e),cc.game.emit("p2_update_material",t)},i.addSomethingByK=function(t,e,a){if(isNaN(1*e))return"addSomethingByK NaN";e=Math.round(e),t=OperDefine.getFinalKey(t);var n=OperDefine.getTypeByKey(t);"r"===n?operkit.addRelics(t):"e"===n?i.addEquipByK(t,e):"m"===n?i.addMaterialByK(t,e):"q"===n?i.addMoney(t,e):"k"===n&&i.addBoxKey(t-200),a&&a(n)},i.showHeadAndAddMoney=function(t,e,a){i.showHead(a),setTimeout(function(){i.addSomethingByK(t,e)},100)},i.showHead=function(t){cc.find("Canvas/head_temp")||reskit.loadPrefab("sub2#/operate/prefab/entity/head",function(e){var i=nodekit.createNode(e);i.parent=cc.find("Canvas"),i.name="head_temp",i.zIndex=10001,t||(i.opacity=0,i.runAction(cc.sequence(cc.moveBy(0,cc.v2(0,200)),cc.fadeIn(0),cc.moveBy(.5,cc.v2(0,-200)))))})},i.hideHead=function(t){var e=cc.find("Canvas/head_temp");e&&(t?e.destroy():e.runAction(cc.sequence(cc.moveBy(.5,cc.v2(0,200)),cc.fadeOut(0),cc.moveBy(0,cc.v2(0,-200)),cc.destroySelf())))},i.toastTip=function(t){reskit.loadPrefab("sub2#/operate/prefab/entity/toast_tip",function(e){var i=cc.find("Canvas"),a=nodekit.createNode(e);a.zIndex=10001,a.parent=i,a.getChildByName("lab").getComponent(cc.Label).string=t,a.runAction(cc.sequence(cc.moveBy(.6,cc.v2(0,20)),cc.destroySelf()))}),!i.showGiftBargaining&&""===t&&operkit.checkGiftBargain()&&(i.showGiftBargaining=!0,menuManager.pop("sub#/operate/prefab/popwin/poplittlewin",{type:"gift_bargain",cb:function(){i.showGiftBargaining=!1}.bind(this)}))},i.toEquipTab=function(t,e,i){i||(i=.8);var a=cc.find("Canvas");t.zIndex=10001,t.parent=a,e?t.setPosition(a.convertToNodeSpaceAR(e)):t.setPosition(0,0),t.runAction(cc.sequence(cc.scaleBy(.2,1.15),cc.delayTime(.3),cc.spawn(cc.moveTo(.2,cc.v2(-cc.winSize.width/5,-cc.winSize.height/2+50)),cc.scaleBy(.2,i)),cc.destroySelf()))},i.addMoneyAction=function(t,e){for(var i=e<20?e:20,a=cc.find("Canvas"),n=cc.v2(0,0),s=a.convertToNodeSpaceAR(t.convertToWorldSpaceAR(cc.v2(0,0))),o=0;o<i;o++){var r=o,c=cc.instantiate(t);c.zIndex=OperDefine.zIdx.MAX,c.parent=a,c.scale=1,c.x=n.x+operutils.random(-20,20),c.y=n.y+operutils.random(-20,20),c.runAction(cc.sequence(cc.jumpTo(.5+.05*r,n.x+operutils.random(-130,130),n.y-20,60,2).easing(cc.easeOut(1)),cc.moveTo(.3,s.x,s.y),cc.destroySelf()))}nodekit.playEffect(SoundEffectPath.get_money)},i.createLatNodeByKey=function(t,e,i){t=OperDefine.getFinalKey(t);var a=OperDefine.getBaseInfoByKey(t);return!!a&&(reskit.loadPrefab("sub2#/operate/prefab/item/item_material",function(n){var s=nodekit.createNode(n);e.pNode&&(s.parent=e.pNode),e.x&&(s.x=e.x),e.y&&(s.y=e.y),e.scale&&(s.scale=e.scale),s.getComponent("Item_material").updateUI(t,0,e),i&&i({node:s,info:a})}),a)},i.createMaskLayerByNode=function(t,e){e||(e={});var a=e.showAction,n=e.arrowType,s=e.cb,o=e.txt||"";if(!t)return!1;var r=nodekit.getBoxRectByNode(t),c=cc.v2(r.x+r.width/2,r.y+r.height/2);i.createMaskLayer(c,t.width+6,t.height+6,o,a,n,s)},i.createMaskLayer=function(t,e,a,n,s,o,r){i.guideLayerMask&&i.guideLayerMask.node&&i.guideLayerMask.stage?(i.guideLayerMask.showByWorldPos(t,e,a,!s,o,n),r&&r(i.guideLayerMask)):reskit.loadPrefab("sub2#/operate/prefab/entity/guide_layer",function(c){var h=cc.find("Canvas"),d=nodekit.createNode(c);d.parent=h,i.guideLayerMask=d.getComponent("GuideLayer"),i.guideLayerMask.showByWorldPos(t,e,a,!s,o,n),r&&r(i.guideLayerMask)})},i.hideGuideLayer=function(){i.guideLayerMask&&i.guideLayerMask.node&&i.guideLayerMask.hideGuide()},i.removeGuideLayer=function(){i.setMainuiTouchEn(!0),i.guideLayerMask&&i.guideLayerMask.node&&i.guideLayerMask.closeSelf()},i.checkNextGuide=function(t){cc.game.emit("check_next_guide",t)},i.setMainuiTouchEn=function(t){cc.game.emit("main_ui_touch_enabled",t)},i.RedCheckFun={},i.checkReddotById=function(t){var e=i.RedCheckFun[t];e&&"function"==typeof e&&e(),operkit.saveToLocal(1)},i.TouchTimeByName={},i.isTouchEnByName=function(t,e){e||(e=500);var a=i.TouchTimeByName[t+""+e];if(a){var n=(new Date).getTime()-a;if(n<0&&(wxSDK.loadVideoTime=(new Date).getTime()),n<e)return!1}return i.TouchTimeByName[t+""+e]=(new Date).getTime(),!0},cc._RF.pop()},{}],OperDefine:[function(t,e){"use strict";cc._RF.push(e,"7e8bap5+SlI256G34tb3Udd","OperDefine");var i={};for(var a in window.OperDefine=i,i.DEBUG=0,i.zIdx={REDDOT:10,GUIDE:6666,MENUPOP:1e3,UIPOP:9999,BACK2MAIN:1e4,POP_REWARD:1e4,TOUCHACTION:1e4,DEBUG:1e4,MAX:10001},i.codeVersion="1.1.0",i.STORE_BOX1_TIME=1800,i.STORE_BOX2_TIME=86400,i.GIFT_BARGAIN_TIME=21600,i.TALENT_MAX_LV=10,i.MAX_LEG=20,i.LEG_AUTO_TIME=720,i.LEG_AUTO_NUM=1,i.OFFLINE_DEFAULT_NUM=7,i.zhongqiu={1:{day:1,time:"2020-10-1",goods:"103,101,102",nums:"10,5888,68"},2:{day:2,time:"2020-10-2",goods:"104,102",nums:"100,88"},3:{day:3,time:"2020-10-3",goods:"1011,1,101",nums:"1,10,6888"},4:{day:4,time:"2020-10-4",goods:"2011,2,101",nums:"1,10,6888"},5:{day:5,time:"2020-10-5",goods:"3001,3,101",nums:"1,10,6888"},6:{day:6,time:"2020-10-6",goods:"4001,4,101",nums:"1,10,6888"},7:{day:7,time:"2020-10-7",goods:"11,102",nums:"10,188"},8:{day:8,time:"2020-10-8",goods:"12,101,102",nums:"8,12888,288"}},i.propInWar={1:{k:1001,num:1,weight1:60,weight2:60,weight3:75,weightJY1:75,weightJY2:80,weightJY3:80},2:{k:1002,num:1,weight1:0,weight2:0,weight3:5,weightJY1:5,weightJY2:8,weightJY3:8},3:{k:1011,num:1,weight1:60,weight2:60,weight3:75,weightJY1:75,weightJY2:80,weightJY3:80},4:{k:1012,num:1,weight1:0,weight2:0,weight3:5,weightJY1:5,weightJY2:8,weightJY3:8},5:{k:1021,num:1,weight1:60,weight2:60,weight3:75,weightJY1:75,weightJY2:80,weightJY3:80},6:{k:1022,num:1,weight1:0,weight2:0,weight3:5,weightJY1:5,weightJY2:8,weightJY3:8},7:{k:2001,num:1,weight1:60,weight2:60,weight3:75,weightJY1:75,weightJY2:80,weightJY3:80},8:{k:2002,num:1,weight1:0,weight2:0,weight3:5,weightJY1:5,weightJY2:8,weightJY3:8},9:{k:2011,num:1,weight1:60,weight2:60,weight3:75,weightJY1:75,weightJY2:80,weightJY3:80},10:{k:2012,num:1,weight1:0,weight2:0,weight3:5,weightJY1:5,weightJY2:8,weightJY3:8},11:{k:2021,num:1,weight1:60,weight2:60,weight3:75,weightJY1:75,weightJY2:80,weightJY3:80},12:{k:2022,num:1,weight1:0,weight2:0,weight3:5,weightJY1:5,weightJY2:8,weightJY3:8},13:{k:3001,num:1,weight1:60,weight2:60,weight3:75,weightJY1:75,weightJY2:80,weightJY3:80},14:{k:3002,num:1,weight1:0,weight2:0,weight3:5,weightJY1:5,weightJY2:8,weightJY3:8},15:{k:3011,num:1,weight1:60,weight2:60,weight3:75,weightJY1:75,weightJY2:80,weightJY3:80},16:{k:3012,num:1,weight1:0,weight2:0,weight3:5,weightJY1:5,weightJY2:8,weightJY3:8},17:{k:3021,num:1,weight1:60,weight2:60,weight3:75,weightJY1:75,weightJY2:80,weightJY3:80},18:{k:3022,num:1,weight1:0,weight2:0,weight3:5,weightJY1:5,weightJY2:8,weightJY3:8},19:{k:4001,num:1,weight1:60,weight2:60,weight3:75,weightJY1:75,weightJY2:80,weightJY3:80},20:{k:4002,num:1,weight1:0,weight2:0,weight3:5,weightJY1:5,weightJY2:8,weightJY3:8},21:{k:4011,num:1,weight1:60,weight2:60,weight3:75,weightJY1:75,weightJY2:80,weightJY3:80},22:{k:4012,num:1,weight1:0,weight2:0,weight3:5,weightJY1:5,weightJY2:8,weightJY3:8},23:{k:4021,num:1,weight1:60,weight2:60,weight3:75,weightJY1:75,weightJY2:80,weightJY3:80},24:{k:4022,num:1,weight1:0,weight2:0,weight3:5,weightJY1:5,weightJY2:8,weightJY3:8},25:{k:11,num:1,weight1:900,weight2:800,weight3:0,weightJY1:0,weightJY2:0,weightJY3:0},26:{k:11,num:2,weight1:0,weight2:100,weight3:0,weightJY1:0,weightJY2:0,weightJY3:0},27:{k:11,num:3,weight1:0,weight2:20,weight3:50,weightJY1:100,weightJY2:0,weightJY3:0},28:{k:12,num:1,weight1:0,weight2:0,weight3:600,weightJY1:500,weightJY2:80,weightJY3:80},29:{k:12,num:2,weight1:0,weight2:0,weight3:0,weightJY1:60,weightJY2:500,weightJY3:200},30:{k:12,num:3,weight1:0,weight2:0,weight3:0,weightJY1:0,weightJY2:0,weightJY3:500},31:{k:13,num:1,weight1:0,weight2:0,weight3:0,weightJY1:100,weightJY2:100,weightJY3:0},32:{k:13,num:2,weight1:0,weight2:0,weight3:0,weightJY1:0,weightJY2:0,weightJY3:80},33:{k:13,num:3,weight1:0,weight2:0,weight3:0,weightJY1:0,weightJY2:0,weightJY3:20},34:{k:14,num:1,weight1:0,weight2:0,weight3:0,weightJY1:0,weightJY2:0,weightJY3:0},35:{k:14,num:2,weight1:0,weight2:0,weight3:0,weightJY1:0,weightJY2:0,weightJY3:0},36:{k:14,num:3,weight1:0,weight2:0,weight3:0,weightJY1:0,weightJY2:0,weightJY3:0},37:{k:9,num:1,weight1:1400,weight2:200,weight3:0,weightJY1:0,weightJY2:0,weightJY3:0},38:{k:9,num:2,weight1:0,weight2:1200,weight3:300,weightJY1:0,weightJY2:0,weightJY3:0},39:{k:9,num:3,weight1:0,weight2:0,weight3:1200,weightJY1:200,weightJY2:0,weightJY3:0},40:{k:9,num:4,weight1:0,weight2:0,weight3:0,weightJY1:1400,weightJY2:200,weightJY3:100},41:{k:9,num:5,weight1:0,weight2:0,weight3:0,weightJY1:0,weightJY2:1500,weightJY3:200},42:{k:9,num:6,weight1:0,weight2:0,weight3:0,weightJY1:0,weightJY2:0,weightJY3:1400}},i.boxInWar={1:{pos:1,name:"",k:"101",type:"money",num:60,weight:1e3,pic:0},2:{pos:1,name:"",k:"102",type:"diamond",num:5,weight:15,pic:0},3:{pos:1,name:"",k:"101",type:"money",num:120,weight:450,pic:1},4:{pos:1,name:"",k:"101",type:"money",num:180,weight:200,pic:2},5:{pos:1,name:"",k:"101",type:"money",num:60,weight:1e3,pic:0},6:{pos:1,name:"",k:"102",type:"diamond",num:10,weight:5,pic:1},7:{pos:1,name:"",k:"101",type:"money",num:180,weight:200,pic:2},8:{pos:1,name:"",k:"101",type:"money",num:120,weight:450,pic:1},9:{pos:2,name:"",k:"102",type:"diamond",num:5,weight:400,pic:0},10:{pos:2,name:"",k:"101",type:"money",num:120,weight:180,pic:1},11:{pos:2,name:"",k:"102",type:"diamond",num:10,weight:140,pic:1},12:{pos:2,name:"",k:"pool#chest",type:"talent",num:1,weight:80,pic:-1},13:{pos:2,name:"",k:"102",type:"diamond",num:5,weight:400,pic:0},14:{pos:2,name:"",k:"101",type:"money",num:180,weight:120,pic:2},15:{pos:2,name:"",k:"102",type:"diamond",num:20,weight:30,pic:2},16:{pos:2,name:"",k:"",type:"talent",num:1,weight:80,pic:-1},17:{pos:3,name:"",k:"pool#chest",type:"talent",num:1,weight:800,pic:-1},18:{pos:3,name:"",k:"101",type:"money",num:60,weight:840,pic:0},19:{pos:3,name:"100%",k:"id#heal_10",type:"talent",num:1,weight:200,pic:-1},20:{pos:3,name:"",k:"101",type:"money",num:120,weight:200,pic:1},21:{pos:3,name:"",k:"",type:"talent",num:1,weight:100,pic:-1},22:{pos:3,name:"",k:"101",type:"money",num:60,weight:400,pic:0},23:{pos:3,name:"50%",k:"id#heal_5",type:"talent",num:1,weight:540,pic:-1},24:{pos:3,name:"",k:"101",type:"money",num:180,weight:30,pic:2},25:{pos:4,name:"",k:"",type:"talent",num:1,weight:300,pic:-1},26:{pos:4,name:"",k:"102",type:"diamond",num:5,weight:80,pic:0},27:{pos:4,name:"",k:"pool#chest",type:"talent",num:1,weight:1e3,pic:-1},28:{pos:4,name:"",k:"101",type:"money",num:120,weight:220,pic:1},29:{pos:4,name:"",k:"",type:"talent",num:1,weight:300,pic:-1},30:{pos:4,name:"",k:"102",type:"diamond",num:10,weight:20,pic:1},31:{pos:4,name:"50%",k:"id#heal",type:"talent",num:1,weight:550,pic:-1},32:{pos:4,name:"",k:"101",type:"money",num:180,weight:120,pic:2}},i.offlineEx={1:{k:11,num:1,weight:1e3},2:{k:12,num:1,weight:340},3:{k:13,num:1,weight:100},4:{k:14,num:1,weight:0},5:{k:1,num:5,weight:1200},6:{k:2,num:5,weight:1300},7:{k:3,num:5,weight:1400},8:{k:4,num:5,weight:1300},9:{k:104,num:100,weight:800}},i.chapter={1:{title:"Introduction",id:"0",limit:-1,des:"Suddenly, play happily and casually",num:10,lc:"10[101=1000&1=6&b1=0]",gift:""},2:{title:"Wasteland",id:"1",limit:0,des:"A large number of aliens suddenly appeared\nin the wasteland to stop them",num:30,lc:"10[1=10],15[2001=1&101=1000],20[2=10&s101=5000],25[104=100&102=50&b2=0],30[102=300]",gift:"5[102=10],10[102=10],15[102=10],20[102=10]"},3:{title:"Ruined City",id:"2",limit:1,des:"The city is deserted, but there may be resources",num:50,lc:"10[b1=1],20[102=50&1012=1],30[1=20&3001=1&b2=0],40[b1=1],50[102=100&4002=1&b2=0]",gift:"5[102=15],10[102=15],15[102=15],20[102=15],25[102=15],30[102=15]"},4:{title:"Silent Snow Field",id:"3",limit:2,des:"Murder in the quiet snow",num:50,lc:"10[102=50],20[102=50&1022=1],30[102=50&3001=1&b2=0],40[102=50],50[102=100&4002=1&b2=0]",gift:"5[102=20],10[102=20],15[102=20],20[102=20],25[102=20],30[102=20]"},5:{title:"Wasteland",id:"JY1",limit:2,des:"A large number of aliens suddenly appeared\nin the wasteland to stop them",num:50,lc:"10[102=50],20[102=50&b1=1],30[102=50&b1=1&b2=0],40[102=50],50[102=100&b1=1&b2=0]",gift:"5[102=25],10[102=25],15[102=25],20[102=25],25[102=25],30[102=25],35[102=35],40[102=35]"},6:{title:"Ruined City",id:"JY2",limit:2,des:"The city is deserted, but there may be resources",num:50,lc:"10[102=50],20[102=50&b1=1],30[102=50&b1=1&b2=0],40[102=50],50[102=100&b1=1&b2=0]",gift:"5[102=30],10[102=30],15[102=30],20[102=30],25[102=30],30[102=30],35[102=40],40[102=40]"},7:{title:"Silent Snow Field",id:"JY3",limit:2,des:"Murder in the quiet snow",num:50,lc:"10[102=50],20[102=50&b1=1],30[102=50&b1=1&b2=0],40[102=50],50[102=100&b1=1&b2=0]",gift:"5[102=35],10[102=35],15[102=35],20[102=35],25[102=35],30[102=35],35[102=45],40[102=45],45[102=45],50[102=55]"}},i.storebox1={1:{k:101,num:1e3,numArr:"",weight:100},2:{k:1001,num:1,numArr:"",weight:50},3:{k:1002,num:1,numArr:"",weight:30},4:{k:1011,num:1,numArr:"",weight:45},5:{k:1012,num:1,numArr:"",weight:25},6:{k:1021,num:1,numArr:"",weight:45},7:{k:1022,num:1,numArr:"",weight:25},8:{k:2001,num:1,numArr:"",weight:200},9:{k:2002,num:1,numArr:"",weight:80},10:{k:2011,num:1,numArr:"",weight:200},11:{k:2012,num:1,numArr:"",weight:80},12:{k:3001,num:1,numArr:"",weight:200},13:{k:3002,num:1,numArr:"",weight:80},14:{k:3011,num:1,numArr:"",weight:200},15:{k:3012,num:1,numArr:"",weight:80},16:{k:4001,num:1,numArr:"",weight:100},17:{k:4002,num:1,numArr:"",weight:50},18:{k:4011,num:1,numArr:"",weight:100},19:{k:4012,num:1,numArr:"",weight:50},20:{k:11,num:1,numArr:"",weight:1e3},21:{k:11,num:2,numArr:"",weight:300},22:{k:12,num:1,numArr:"",weight:600},23:{k:12,num:2,numArr:"",weight:140},24:{k:13,num:1,numArr:"",weight:0},25:{k:13,num:2,numArr:"",weight:0},26:{k:14,num:1,numArr:"",weight:0},27:{k:14,num:2,numArr:"",weight:0},28:{k:9,num:5,numArr:"5,8,11",weight:3e3},29:{k:9,num:10,numArr:"10,14,18",weight:1400},30:{k:9,num:15,numArr:"15,20,25",weight:500},31:{k:103,num:10,numArr:"",weight:2e3},32:{k:104,num:100,numArr:"",weight:800}},i.storebox2={1:{k:101,num:2e3,numArr:"",weight:0},2:{k:1002,num:1,numArr:"",weight:1e3},3:{k:1003,num:1,numArr:"",weight:70},4:{k:1004,num:1,numArr:"",weight:1},5:{k:1012,num:1,numArr:"",weight:1e3},6:{k:1013,num:1,numArr:"",weight:70},7:{k:1014,num:1,numArr:"",weight:1},8:{k:1022,num:1,numArr:"",weight:1e3},9:{k:1023,num:1,numArr:"",weight:70},10:{k:1024,num:1,numArr:"",weight:1},11:{k:2002,num:1,numArr:"",weight:1190},12:{k:2003,num:1,numArr:"",weight:110},13:{k:2004,num:1,numArr:"",weight:1},14:{k:2012,num:1,numArr:"",weight:1190},15:{k:2013,num:1,numArr:"",weight:110},16:{k:2014,num:1,numArr:"",weight:1},17:{k:2022,num:1,numArr:"",weight:1190},18:{k:2023,num:1,numArr:"",weight:110},19:{k:2024,num:1,numArr:"",weight:1},20:{k:3002,num:1,numArr:"",weight:1190},21:{k:3003,num:1,numArr:"",weight:110},22:{k:3004,num:1,numArr:"",weight:1},23:{k:3012,num:1,numArr:"",weight:1190},24:{k:3013,num:1,numArr:"",weight:110},25:{k:3014,num:1,numArr:"",weight:1},26:{k:3022,num:1,numArr:"",weight:1190},27:{k:3023,num:1,numArr:"",weight:110},28:{k:3024,num:1,numArr:"",weight:1},29:{k:4002,num:1,numArr:"",weight:1190},30:{k:4003,num:1,numArr:"",weight:110},31:{k:4004,num:1,numArr:"",weight:1},32:{k:4012,num:1,numArr:"",weight:1190},33:{k:4013,num:1,numArr:"",weight:110},34:{k:4014,num:1,numArr:"",weight:1},35:{k:4022,num:1,numArr:"",weight:1190},36:{k:4023,num:1,numArr:"",weight:110},37:{k:4024,num:1,numArr:"",weight:1},38:{k:5002,num:1,numArr:"",weight:0},39:{k:5003,num:1,numArr:"",weight:0},40:{k:5004,num:1,numArr:"",weight:0},41:{k:6002,num:1,numArr:"",weight:0},42:{k:6003,num:1,numArr:"",weight:0},43:{k:6004,num:1,numArr:"",weight:0},44:{k:11,num:1,numArr:"",weight:0},45:{k:11,num:2,numArr:"",weight:0},46:{k:12,num:1,numArr:"",weight:1200},47:{k:12,num:2,numArr:"",weight:120},48:{k:13,num:1,numArr:"",weight:100},49:{k:13,num:2,numArr:"",weight:10},50:{k:14,num:1,numArr:"",weight:0},51:{k:14,num:2,numArr:"",weight:0},52:{k:9,num:10,numArr:"13,17,21",weight:600},53:{k:9,num:20,numArr:"20,25,30",weight:450},54:{k:9,num:30,numArr:"30,36,42",weight:300},55:{k:103,num:20,numArr:"",weight:0},56:{k:104,num:300,numArr:"",weight:0}},i.freeStore={1:{k:102,num:20,numArr:"",weight:200},2:{k:11,num:2,numArr:"",weight:50},3:{k:12,num:1,numArr:"",weight:20},4:{k:103,num:10,numArr:"",weight:500},5:{k:104,num:100,numArr:"",weight:500},6:{k:9,num:5,numArr:"5,7,9",weight:800},7:{k:1001,num:1,numArr:"",weight:10},8:{k:1011,num:1,numArr:"",weight:10},9:{k:1021,num:1,numArr:"",weight:10},10:{k:2001,num:1,numArr:"",weight:15},11:{k:2011,num:1,numArr:"",weight:15},12:{k:2021,num:1,numArr:"",weight:15},13:{k:3001,num:1,numArr:"",weight:15},14:{k:3011,num:1,numArr:"",weight:15},15:{k:3021,num:1,numArr:"",weight:15},16:{k:4001,num:1,numArr:"",weight:15},17:{k:4011,num:1,numArr:"",weight:15},18:{k:4021,num:1,numArr:"",weight:15}},i.goldStore={1:{k:1001,num:1,price:3e3,weight:50},2:{k:1002,num:1,price:6e3,weight:0},3:{k:1011,num:1,price:3600,weight:50},4:{k:1012,num:1,price:7200,weight:0},5:{k:1021,num:1,price:3900,weight:50},6:{k:1022,num:1,price:7800,weight:0},7:{k:2001,num:1,price:2400,weight:70},8:{k:2002,num:1,price:4800,weight:0},9:{k:2011,num:1,price:2400,weight:70},10:{k:2012,num:1,price:4800,weight:0},11:{k:3001,num:1,price:2400,weight:70},12:{k:3002,num:1,price:4800,weight:0},13:{k:3011,num:1,price:2400,weight:70},14:{k:3012,num:1,price:4800,weight:0},15:{k:4001,num:1,price:2700,weight:70},16:{k:4002,num:1,price:5400,weight:0},17:{k:4011,num:1,price:2700,weight:70},18:{k:4012,num:1,price:5400,weight:0},19:{k:11,num:1,price:6e3,weight:500},20:{k:12,num:1,price:6e3,weight:0},21:{k:1,num:1,price:100,weight:400},22:{k:2,num:1,price:100,weight:400},23:{k:3,num:1,price:100,weight:400},24:{k:4,num:1,price:100,weight:400},25:{k:9,num:20,price:9e3,weight:700}},i.dmdStore={1:{k:1002,num:1,price:200,weight:20},2:{k:1003,num:1,price:900,weight:9},3:{k:1004,num:1,price:2800,weight:4},4:{k:1012,num:1,price:200,weight:20},5:{k:1013,num:1,price:900,weight:9},6:{k:1014,num:1,price:2800,weight:4},7:{k:1022,num:1,price:200,weight:20},8:{k:1023,num:1,price:900,weight:9},9:{k:1024,num:1,price:2800,weight:4},10:{k:2002,num:1,price:160,weight:50},11:{k:2003,num:1,price:800,weight:10},12:{k:2004,num:1,price:2440,weight:0},13:{k:2012,num:1,price:160,weight:50},14:{k:2013,num:1,price:800,weight:10},15:{k:2014,num:1,price:2440,weight:0},16:{k:2022,num:1,price:160,weight:50},17:{k:2023,num:1,price:800,weight:10},18:{k:2024,num:1,price:2440,weight:0},19:{k:3002,num:1,price:160,weight:60},20:{k:3003,num:1,price:800,weight:15},21:{k:3004,num:1,price:2440,weight:0},22:{k:3012,num:1,price:160,weight:60},23:{k:3013,num:1,price:800,weight:15},24:{k:3014,num:1,price:2440,weight:0},25:{k:3022,num:1,price:160,weight:60},26:{k:3023,num:1,price:800,weight:15},27:{k:3024,num:1,price:2440,weight:0},28:{k:4002,num:1,price:180,weight:45},29:{k:4003,num:1,price:860,weight:9},30:{k:4004,num:1,price:2520,weight:0},31:{k:4012,num:1,price:180,weight:45},32:{k:4013,num:1,price:860,weight:9},33:{k:4014,num:1,price:2520,weight:0},34:{k:4022,num:1,price:180,weight:45},35:{k:4023,num:1,price:860,weight:9},36:{k:4024,num:1,price:2520,weight:0},37:{k:5002,num:1,price:400,weight:0},38:{k:5003,num:1,price:1e3,weight:0},39:{k:5004,num:1,price:2700,weight:0},40:{k:6002,num:1,price:400,weight:0},41:{k:6003,num:1,price:1e3,weight:0},42:{k:6004,num:1,price:2700,weight:0},43:{k:11,num:2,price:300,weight:300},44:{k:12,num:1,price:480,weight:200},45:{k:13,num:1,price:800,weight:100},46:{k:9,num:20,price:400,weight:400}},i.traderSell={1:{k:1001,num:1,price:3e3,type:"gold",weight:0},2:{k:1011,num:1,price:3600,type:"gold",weight:0},3:{k:1021,num:1,price:3900,type:"gold",weight:0},4:{k:2001,num:1,price:2400,type:"gold",weight:0},5:{k:2011,num:1,price:2400,type:"gold",weight:0},6:{k:2021,num:1,price:2400,type:"gold",weight:0},7:{k:3001,num:1,price:2400,type:"gold",weight:0},8:{k:3011,num:1,price:2400,type:"gold",weight:0},9:{k:3021,num:1,price:2400,type:"gold",weight:0},10:{k:4001,num:1,price:2700,type:"gold",weight:0},11:{k:4011,num:1,price:2700,type:"gold",weight:0},12:{k:4021,num:1,price:2700,type:"gold",weight:0},13:{k:11,num:3,price:6e3,type:"gold",weight:0},14:{k:12,num:3,price:6e3,type:"gold",weight:0},15:{k:9,num:10,price:13500,type:"gold",weight:0},16:{k:1002,num:1,price:200,type:"diamond",weight:300},17:{k:1003,num:1,price:900,type:"diamond",weight:40},18:{k:1004,num:1,price:2800,type:"diamond",weight:5},19:{k:1012,num:1,price:200,type:"diamond",weight:300},20:{k:1013,num:1,price:900,type:"diamond",weight:40},21:{k:1014,num:1,price:2800,type:"diamond",weight:5},22:{k:1022,num:1,price:200,type:"diamond",weight:300},23:{k:1023,num:1,price:900,type:"diamond",weight:40},24:{k:1024,num:1,price:2800,type:"diamond",weight:5},25:{k:2002,num:1,price:160,type:"diamond",weight:450},26:{k:2003,num:1,price:800,type:"diamond",weight:55},27:{k:2004,num:1,price:2440,type:"diamond",weight:6},28:{k:2012,num:1,price:160,type:"diamond",weight:450},29:{k:2013,num:1,price:800,type:"diamond",weight:55},30:{k:2014,num:1,price:2440,type:"diamond",weight:6},31:{k:2022,num:1,price:160,type:"diamond",weight:450},32:{k:2023,num:1,price:800,type:"diamond",weight:55},33:{k:2024,num:1,price:2440,type:"diamond",weight:6},34:{k:3002,num:1,price:160,type:"diamond",weight:450},35:{k:3003,num:1,price:800,type:"diamond",weight:55},36:{k:3004,num:1,price:2440,type:"diamond",weight:6},37:{k:3012,num:1,price:160,type:"diamond",weight:450},38:{k:3013,num:1,price:800,type:"diamond",weight:55},39:{k:3014,num:1,price:2440,type:"diamond",weight:6},40:{k:3022,num:1,price:160,type:"diamond",weight:450},41:{k:3023,num:1,price:800,type:"diamond",weight:55},42:{k:3024,num:1,price:2440,type:"diamond",weight:6},43:{k:4002,num:1,price:180,type:"diamond",weight:450},44:{k:4003,num:1,price:860,type:"diamond",weight:55},45:{k:4004,num:1,price:2520,type:"diamond",weight:6},46:{k:4012,num:1,price:180,type:"diamond",weight:450},47:{k:4013,num:1,price:860,type:"diamond",weight:55},48:{k:4014,num:1,price:2520,type:"diamond",weight:6},49:{k:4022,num:1,price:180,type:"diamond",weight:450},50:{k:4023,num:1,price:860,type:"diamond",weight:55},51:{k:4024,num:1,price:2520,type:"diamond",weight:6},52:{k:5002,num:1,price:400,type:"diamond",weight:0},53:{k:5003,num:1,price:1e3,type:"diamond",weight:0},54:{k:5004,num:1,price:2e3,type:"diamond",weight:0},55:{k:6002,num:1,price:400,type:"diamond",weight:0},56:{k:6003,num:1,price:1e3,type:"diamond",weight:0},57:{k:6004,num:1,price:2e3,type:"diamond",weight:0},58:{k:13,num:1,price:800,type:"diamond",weight:100},59:{k:12,num:1,price:30,type:"diamond",weight:50},60:{k:11,num:1,price:15,type:"diamond",weight:75},61:{k:1,num:5,price:5,type:"diamond",weight:400},62:{k:2,num:5,price:5,type:"diamond",weight:400},63:{k:3,num:5,price:5,type:"diamond",weight:400},64:{k:4,num:5,price:5,type:"diamond",weight:400},65:{k:12,num:1,price:1,type:"ad",weight:300},66:{k:9,num:6,price:1,type:"ad",weight:300},67:{k:13,num:1,price:1,type:"ad",weight:0}},i.talentInfo={1:{name:"Robust",des:"Blood volume ",id:"hpMax",lv1:200,lv2:350,lv3:500,lv4:650,lv5:800,lv6:950,lv7:1100,lv8:1250,lv9:1400,lv10:1550},2:{name:"Fight",des:"Attack power ",id:"atkDmg",lv1:50,lv2:75,lv3:100,lv4:125,lv5:150,lv6:175,lv7:200,lv8:225,lv9:250,lv10:275},3:{name:"Recovery",des:"Blood pack effect ",id:"addHp",lv1:60,lv2:90,lv3:120,lv4:150,lv5:180,lv6:210,lv7:240,lv8:270,lv9:300,lv10:330},4:{name:"Parry",des:"Damage reduction ",id:"dmgReduce",lv1:30,lv2:45,lv3:60,lv4:75,lv5:90,lv6:105,lv7:120,lv8:135,lv9:150,lv10:165},5:{name:"Agile",des:"attack speed ",id:"atkSpd",lv1:.02,lv2:.03,lv3:.04,lv4:.05,lv5:.06,lv6:.07,lv7:.08,lv8:.09,lv9:.1,lv10:.11},6:{name:"Self-healing",des:"Upgrade to return health",id:"upHpAdd",lv1:150,lv2:225,lv3:300,lv4:375,lv5:450,lv6:525,lv7:600,lv8:675,lv9:750,lv10:825},7:{name:"Skilled",des:"Equipment bonus ",id:"equipBonus",lv1:.03,lv2:.06,lv3:.09,lv4:.12,lv5:.15,lv6:.18,lv7:.21,lv8:.24,lv9:.27,lv10:.3},8:{name:"Passive income",des:"Auto earn/minute",id:"offline",lv1:9,lv2:13,lv3:17,lv4:21,lv5:25,lv6:29,lv7:33,lv8:37,lv9:41,lv10:45},9:{name:"Lucky",des:"Gift lottery ",id:"lootChest",lv1:1,lv2:0,lv3:0,lv4:0,lv5:0,lv6:0,lv7:0,lv8:0,lv9:0,lv10:0}},i.talentUp={1:{count:1,gold:0,lv:0},2:{count:2,gold:400,lv:1},3:{count:3,gold:600,lv:2},4:{count:4,gold:800,lv:3},5:{count:5,gold:1e3,lv:4},6:{count:6,gold:1200,lv:5},7:{count:7,gold:1400,lv:6},8:{count:8,gold:1600,lv:7},9:{count:9,gold:1800,lv:8},10:{count:10,gold:2e3,lv:9},11:{count:11,gold:2500,lv:10},12:{count:12,gold:3e3,lv:11},13:{count:13,gold:3500,lv:12},14:{count:14,gold:4e3,lv:13},15:{count:15,gold:4500,lv:14},16:{count:16,gold:5e3,lv:15},17:{count:17,gold:5500,lv:16},18:{count:18,gold:6e3,lv:17},19:{count:19,gold:6500,lv:18},20:{count:20,gold:7e3,lv:19},21:{count:21,gold:7500,lv:20},22:{count:22,gold:8e3,lv:21},23:{count:23,gold:8500,lv:22},24:{count:24,gold:9e3,lv:23},25:{count:25,gold:9500,lv:24},26:{count:26,gold:1e4,lv:25},27:{count:27,gold:11e3,lv:26},28:{count:28,gold:12e3,lv:27},29:{count:29,gold:13e3,lv:28},30:{count:30,gold:14e3,lv:29},31:{count:31,gold:15e3,lv:30},32:{count:32,gold:16e3,lv:31},33:{count:33,gold:17e3,lv:32},34:{count:34,gold:18e3,lv:33},35:{count:35,gold:19e3,lv:34},36:{count:36,gold:2e4,lv:35},37:{count:37,gold:22e3,lv:36},38:{count:38,gold:24e3,lv:37},39:{count:39,gold:26e3,lv:38},40:{count:40,gold:28e3,lv:39},41:{count:41,gold:3e4,lv:40},42:{count:42,gold:32e3,lv:41},43:{count:43,gold:34e3,lv:42},44:{count:44,gold:36e3,lv:43},45:{count:45,gold:38e3,lv:44},46:{count:46,gold:45e3,lv:45},47:{count:47,gold:5e4,lv:46},48:{count:48,gold:55e3,lv:47},49:{count:49,gold:6e4,lv:48},50:{count:50,gold:65e3,lv:49},51:{count:51,gold:7e4,lv:50},52:{count:52,gold:75e3,lv:51},53:{count:53,gold:8e4,lv:52},54:{count:54,gold:9e4,lv:53},55:{count:55,gold:1e5,lv:54},56:{count:56,gold:11e4,lv:55},57:{count:57,gold:12e4,lv:56},58:{count:58,gold:13e4,lv:57},59:{count:59,gold:14e4,lv:58},60:{count:60,gold:15e4,lv:59},61:{count:61,gold:16e4,lv:60},62:{count:62,gold:18e4,lv:61},63:{count:63,gold:2e5,lv:62},64:{count:64,gold:22e4,lv:63},65:{count:65,gold:24e4,lv:64},66:{count:66,gold:26e4,lv:65},67:{count:67,gold:28e4,lv:66},68:{count:68,gold:3e5,lv:67},69:{count:69,gold:35e4,lv:68},70:{count:70,gold:4e5,lv:69},71:{count:71,gold:45e4,lv:70},72:{count:72,gold:5e5,lv:71},73:{count:73,gold:6e5,lv:72},74:{count:74,gold:7e5,lv:73},75:{count:75,gold:8e5,lv:74},76:{count:76,gold:9e5,lv:75},77:{count:77,gold:1e6,lv:76},78:{count:78,gold:12e5,lv:77},79:{count:79,gold:14e5,lv:78},80:{count:80,gold:16e5,lv:79}},i.roleUp={1:{lv:1,exp:0,money:0,diamond:0},2:{lv:2,exp:100,money:500,diamond:10},3:{lv:3,exp:100,money:600,diamond:10},4:{lv:4,exp:100,money:700,diamond:10},5:{lv:5,exp:100,money:800,diamond:10},6:{lv:6,exp:100,money:900,diamond:10},7:{lv:7,exp:100,money:1e3,diamond:10},8:{lv:8,exp:100,money:1100,diamond:10},9:{lv:9,exp:100,money:1200,diamond:10},10:{lv:10,exp:100,money:1300,diamond:10},11:{lv:11,exp:100,money:1400,diamond:15},12:{lv:12,exp:100,money:1500,diamond:15},13:{lv:13,exp:100,money:1600,diamond:15},14:{lv:14,exp:100,money:1700,diamond:15},15:{lv:15,exp:100,money:1800,diamond:15},16:{lv:16,exp:105,money:1900,diamond:15},17:{lv:17,exp:110,money:2e3,diamond:15},18:{lv:18,exp:115,money:2100,diamond:15},19:{lv:19,exp:120,money:2200,diamond:15},20:{lv:20,exp:125,money:2300,diamond:15},21:{lv:21,exp:130,money:2400,diamond:20},22:{lv:22,exp:135,money:2500,diamond:20},23:{lv:23,exp:140,money:2600,diamond:20},24:{lv:24,exp:145,money:2700,diamond:20},25:{lv:25,exp:150,money:2800,diamond:20},26:{lv:26,exp:155,money:2900,diamond:20},27:{lv:27,exp:160,money:3e3,diamond:20},28:{lv:28,exp:165,money:3100,diamond:20},29:{lv:29,exp:170,money:3200,diamond:20},30:{lv:30,exp:175,money:3300,diamond:20},31:{lv:31,exp:180,money:3400,diamond:25},32:{lv:32,exp:185,money:3500,diamond:25},33:{lv:33,exp:190,money:3600,diamond:25},34:{lv:34,exp:195,money:3700,diamond:25},35:{lv:35,exp:200,money:3800,diamond:25},36:{lv:36,exp:205,money:3900,diamond:25},37:{lv:37,exp:210,money:4e3,diamond:25},38:{lv:38,exp:215,money:4100,diamond:25},39:{lv:39,exp:220,money:4200,diamond:25},40:{lv:40,exp:225,money:4300,diamond:25},41:{lv:41,exp:230,money:4400,diamond:30},42:{lv:42,exp:235,money:4500,diamond:30},43:{lv:43,exp:240,money:4600,diamond:30},44:{lv:44,exp:245,money:4700,diamond:30},45:{lv:45,exp:250,money:4800,diamond:30},46:{lv:46,exp:255,money:4900,diamond:30},47:{lv:47,exp:260,money:5e3,diamond:30},48:{lv:48,exp:265,money:5100,diamond:30},49:{lv:49,exp:270,money:5200,diamond:30},50:{lv:50,exp:275,money:5300,diamond:30},51:{lv:51,exp:280,money:5400,diamond:35},52:{lv:52,exp:285,money:5500,diamond:35},53:{lv:53,exp:290,money:5600,diamond:35},54:{lv:54,exp:295,money:5700,diamond:35},55:{lv:55,exp:300,money:5800,diamond:35},56:{lv:56,exp:305,money:5900,diamond:35},57:{lv:57,exp:310,money:6e3,diamond:35},58:{lv:58,exp:315,money:6100,diamond:35},59:{lv:59,exp:320,money:6200,diamond:35},60:{lv:60,exp:325,money:6300,diamond:35},61:{lv:61,exp:330,money:6400,diamond:40},62:{lv:62,exp:335,money:6500,diamond:40},63:{lv:63,exp:340,money:6600,diamond:40},64:{lv:64,exp:345,money:6700,diamond:40},65:{lv:65,exp:350,money:6800,diamond:40},66:{lv:66,exp:355,money:6900,diamond:40},67:{lv:67,exp:360,money:7e3,diamond:40},68:{lv:68,exp:365,money:7100,diamond:40},69:{lv:69,exp:370,money:7200,diamond:40},70:{lv:70,exp:375,money:7300,diamond:40},71:{lv:71,exp:380,money:7400,diamond:40},72:{lv:72,exp:385,money:7500,diamond:50},73:{lv:73,exp:390,money:7600,diamond:50},74:{lv:74,exp:395,money:7700,diamond:50},75:{lv:75,exp:400,money:7800,diamond:50},76:{lv:76,exp:405,money:7900,diamond:50},77:{lv:77,exp:410,money:8e3,diamond:50},78:{lv:78,exp:415,money:8100,diamond:50},79:{lv:79,exp:420,money:8200,diamond:50},80:{lv:80,exp:425,money:8300,diamond:50}},i.sign={1:{day:1,goods:"101",nums:"1000"},2:{day:2,goods:"1023",nums:"1"},3:{day:3,goods:"102",nums:"88"},4:{day:4,goods:"101",nums:"3000"},5:{day:5,goods:"102",nums:"188"},6:{day:6,goods:"101",nums:"7000"},7:{day:7,goods:"4024",nums:"1"},8:{day:8,goods:"101",nums:"2000"},9:{day:9,goods:"13",nums:"3"},10:{day:10,goods:"102",nums:"88"},11:{day:11,goods:"101",nums:"6000"},12:{day:12,goods:"102",nums:"188"},13:{day:13,goods:"101",nums:"12000"},14:{day:14,goods:"13",nums:"4"}},i.equipLvList={1:{lv:1,gold:200,book:1},2:{lv:2,gold:400,book:2},3:{lv:3,gold:600,book:4},4:{lv:4,gold:800,book:6},5:{lv:5,gold:1e3,book:8},6:{lv:6,gold:1200,book:10},7:{lv:7,gold:1400,book:10},8:{lv:8,gold:1600,book:10},9:{lv:9,gold:1800,book:10},10:{lv:10,gold:2e3,book:15},11:{lv:11,gold:2200,book:15},12:{lv:12,gold:2400,book:15},13:{lv:13,gold:2600,book:15},14:{lv:14,gold:2800,book:15},15:{lv:15,gold:3e3,book:20},16:{lv:16,gold:3200,book:20},17:{lv:17,gold:3400,book:20},18:{lv:18,gold:3600,book:20},19:{lv:19,gold:3800,book:20},20:{lv:20,gold:4e3,book:25},21:{lv:21,gold:4200,book:25},22:{lv:22,gold:4400,book:25},23:{lv:23,gold:4600,book:25},24:{lv:24,gold:4800,book:25},25:{lv:25,gold:5e3,book:30},26:{lv:26,gold:5500,book:30},27:{lv:27,gold:6e3,book:30},28:{lv:28,gold:6500,book:30},29:{lv:29,gold:7e3,book:30},30:{lv:30,gold:7500,book:40},31:{lv:31,gold:8e3,book:40},32:{lv:32,gold:8500,book:40},33:{lv:33,gold:9e3,book:40},34:{lv:34,gold:9500,book:40},35:{lv:35,gold:1e4,book:50},36:{lv:36,gold:11e3,book:50},37:{lv:37,gold:12e3,book:50},38:{lv:38,gold:13e3,book:50},39:{lv:39,gold:14e3,book:50},40:{lv:40,gold:15e3,book:70},41:{lv:41,gold:16e3,book:70},42:{lv:42,gold:17e3,book:70},43:{lv:43,gold:18e3,book:70},44:{lv:44,gold:19e3,book:70},45:{lv:45,gold:2e4,book:100},46:{lv:46,gold:22e3,book:100},47:{lv:47,gold:24e3,book:100},48:{lv:48,gold:26e3,book:100},49:{lv:49,gold:28e3,book:100},50:{lv:50,gold:3e4,book:150},51:{lv:51,gold:32e3,book:150},52:{lv:52,gold:34e3,book:150},53:{lv:53,gold:36e3,book:150},54:{lv:54,gold:38e3,book:150},55:{lv:55,gold:4e4,book:200},56:{lv:56,gold:45e3,book:200},57:{lv:57,gold:5e4,book:200},58:{lv:58,gold:55e3,book:200},59:{lv:59,gold:6e4,book:200},60:{lv:60,gold:0,book:0}},i.equipQaList={1:{qa:1,gemU:2,goldU:1e3,gold:200,book:2,gemD:1,per1:.5,dmd:0,per2:0},2:{qa:2,gemU:3,goldU:2e3,gold:700,book:6,gemD:1,per1:.5,dmd:0,per2:0},3:{qa:3,gemU:5,goldU:4e3,gold:2500,book:18,gemD:1,per1:.5,dmd:0,per2:0},4:{qa:4,gemU:7,goldU:8e3,gold:5500,book:54,gemD:1,per1:.4,dmd:30,per2:.1},5:{qa:5,gemU:9,goldU:0,gold:20500,book:162,gemD:1,per1:.4,dmd:80,per2:.2}},i.equip={1001:{name:"AK-47",k:1001,qa:1,next:1002,pos:0,img:"lfA1",equipdefineid:"AK47",weapondefineid:"AK47",des:"Doomsday survival weapon, stable and durable, excellent attack power"},1002:{name:"AK-47",k:1002,qa:2,next:1003,pos:0,img:"lfA2",equipdefineid:"AK47",weapondefineid:"AK47",des:"Doomsday survival weapon, stable and durable, excellent attack power"},1003:{name:"AK-47",k:1003,qa:3,next:1004,pos:0,img:"lfA3",equipdefineid:"AK47",weapondefineid:"AK47",des:"Doomsday survival weapon, stable and durable, excellent attack power"},1004:{name:"AK-47",k:1004,qa:4,next:0,pos:0,img:"lfA4",equipdefineid:"AK47",weapondefineid:"AK47",des:"Doomsday survival weapon, stable and durable, excellent attack power"},1011:{name:"S12K",k:1011,qa:1,next:1012,pos:0,img:"sk_A",equipdefineid:"S12K",weapondefineid:"S12K",des:"Burst shotguns, invincible in short and medium range"},1012:{name:"S12K",k:1012,qa:2,next:1013,pos:0,img:"sk_B",equipdefineid:"S12K",weapondefineid:"S12K",des:"Burst shotguns, invincible in short and medium range"},1013:{name:"S12K",k:1013,qa:3,next:1014,pos:0,img:"sk_C",equipdefineid:"S12K",weapondefineid:"S12K",des:"Burst shotguns, invincible in short and medium range"},1014:{name:"S12K",k:1014,qa:4,next:0,pos:0,img:"sk_D",equipdefineid:"S12K",weapondefineid:"S12K",des:"Burst shotguns, invincible in short and medium range"},1021:{name:"Kar98k",k:1021,qa:1,next:1022,pos:0,img:"zjq1_A",equipdefineid:"Kar98k",weapondefineid:"Kar98k",des:"Single shot damage exploded! Comes with puncture effect"},1022:{name:"Kar98k",k:1022,qa:2,next:1023,pos:0,img:"zjq1_B",equipdefineid:"Kar98k",weapondefineid:"Kar98k",des:"Single shot damage exploded! Comes with puncture effect"},1023:{name:"Kar98k",k:1023,qa:3,next:1024,pos:0,img:"zjq1_C",equipdefineid:"Kar98k",weapondefineid:"Kar98k",des:"Single shot damage exploded! Comes with puncture effect"},1024:{name:"Kar98k",k:1024,qa:4,next:0,pos:0,img:"zjq1_D",equipdefineid:"Kar98k",weapondefineid:"Kar98k",des:"Single shot damage exploded! Comes with puncture effect"},2001:{name:"Icy armour",k:2001,qa:1,next:2002,pos:1,img:"yf-2-1",equipdefineid:"YF",weapondefineid:"",des:"This armour will make the enemies shiver"},2002:{name:"Icy armour",k:2002,qa:2,next:2003,pos:1,img:"yf-2-2",equipdefineid:"YF",weapondefineid:"",des:"This armour will make the enemies shiver"},2003:{name:"Icy armour",k:2003,qa:3,next:2004,pos:1,img:"yf-2-3",equipdefineid:"YF",weapondefineid:"",des:"This armour will make the enemies shiver"},2004:{name:"Icy armour",k:2004,qa:4,next:0,pos:1,img:"yf-2-4",equipdefineid:"YF",weapondefineid:"",des:"This armour will make the enemies shiver"},2011:{name:"Multifunctional vest",k:2011,qa:1,next:2012,pos:1,img:"yf3_A",equipdefineid:"YF2",weapondefineid:"",des:"Too much ability, all aspects of ability will be effectively improved"},2012:{name:"Multifunctional vest",k:2012,qa:2,next:2013,pos:1,img:"yf3_B",equipdefineid:"YF2",weapondefineid:"",des:"Too much ability, all aspects of ability will be effectively improved"},2013:{name:"Multifunctional vest",k:2013,qa:3,next:2014,pos:1,img:"yf3_C",equipdefineid:"YF2",weapondefineid:"",des:"Too much ability, all aspects of ability will be effectively improved"},2014:{name:"Multifunctional vest",k:2014,qa:4,next:0,pos:1,img:"yf3_D",equipdefineid:"YF2",weapondefineid:"",des:"Too much ability, all aspects of ability will be effectively improved"},2021:{name:"Furious T-shirt",k:2021,qa:1,next:2022,pos:1,img:"yiA1",equipdefineid:"YF3",weapondefineid:"",des:"Put on this dress, you will feel angry"},2022:{name:"Furious T-shirt",k:2022,qa:2,next:2023,pos:1,img:"yiA2",equipdefineid:"YF3",weapondefineid:"",des:"Put on this dress, you will feel angry"},2023:{name:"Furious T-shirt",k:2023,qa:3,next:2024,pos:1,img:"yiA3",equipdefineid:"YF3",weapondefineid:"",des:"Put on this dress, you will feel angry"},2024:{name:"Furious T-shirt",k:2024,qa:4,next:0,pos:1,img:"yiA4",equipdefineid:"YF3",weapondefineid:"",des:"Put on this dress, you will feel angry"},3001:{name:"Dynamic helmet",k:3001,qa:1,next:3002,pos:2,img:"toukuiA1",equipdefineid:"TK",weapondefineid:"",des:"Dynamic, outstanding, beautiful"},3002:{name:"Dynamic helmet",k:3002,qa:2,next:3003,pos:2,img:"toukuiA2",equipdefineid:"TK",weapondefineid:"",des:"Dynamic, outstanding, beautiful"},3003:{name:"Dynamic helmet",k:3003,qa:3,next:3004,pos:2,img:"toukuiA3",equipdefineid:"TK",weapondefineid:"",des:"Dynamic, outstanding, beautiful"},3004:{name:"Dynamic helmet",k:3004,qa:4,next:0,pos:2,img:"toukuiA4",equipdefineid:"TK",weapondefineid:"",des:"Dynamic, outstanding, beautiful"},3011:{name:"Weakness Mask",k:3011,qa:1,next:3012,pos:2,img:"tk2_A",equipdefineid:"TK2",weapondefineid:"",des:"With this mask, the shooting will burst even more"},3012:{name:"Weakness Mask",k:3012,qa:2,next:3013,pos:2,img:"tk2_B",equipdefineid:"TK2",weapondefineid:"",des:"With this mask, the shooting will burst even more"},3013:{name:"Weakness Mask",k:3013,qa:3,next:3014,pos:2,img:"tk2_C",equipdefineid:"TK2",weapondefineid:"",des:"With this mask, the shooting will burst even more"},3014:{name:"Weakness Mask",k:3014,qa:4,next:0,pos:2,img:"tk2_D",equipdefineid:"TK2",weapondefineid:"",des:"With this mask, the shooting will burst even more"},3021:{name:"Heavy visor",k:3021,qa:1,next:3022,pos:2,img:"tk3_A",equipdefineid:"TK3",weapondefineid:"",des:"Defensive damage at the same time, can effectively deter the enemy"},3022:{name:"Heavy visor",k:3022,qa:2,next:3023,pos:2,img:"tk3_B",equipdefineid:"TK3",weapondefineid:"",des:"Defensive damage at the same time, can effectively deter the enemy"},3023:{name:"Heavy visor",k:3023,qa:3,next:3024,pos:2,img:"tk3_C",equipdefineid:"TK3",weapondefineid:"",des:"Defensive damage at the same time, can effectively deter the enemy"},3024:{name:"Heavy visor",k:3024,qa:4,next:0,pos:2,img:"tk3_D",equipdefineid:"TK3",weapondefineid:"",des:"Defensive damage at the same time, can effectively deter the enemy"},4001:{name:"Lucky bottle cap",k:4001,qa:1,next:4002,pos:3,img:"shipinA1",equipdefineid:"SP",weapondefineid:"",des:"Do you know how difficult it is to make a bottle cap now!"},4002:{name:"Lucky bottle cap",k:4002,qa:2,next:4003,pos:3,img:"shipinA2",equipdefineid:"SP",weapondefineid:"",des:"Do you know how difficult it is to make a bottle cap now!"},4003:{name:"Lucky bottle cap",k:4003,qa:3,next:4004,pos:3,img:"shipinA3",equipdefineid:"SP",weapondefineid:"",des:"Do you know how difficult it is to make a bottle cap now!"},4004:{name:"Lucky bottle cap",k:4004,qa:4,next:0,pos:3,img:"shipinA4",equipdefineid:"SP",weapondefineid:"",des:"Do you know how difficult it is to make a bottle cap now!"},4011:{name:"Military telescope",k:4011,qa:1,next:4012,pos:3,img:"sp2_A",equipdefineid:"SP2",weapondefineid:"",des:"A symbol of the battlefield, with this, it is easier to upgrade and fight monsters!"},4012:{name:"Military telescope",k:4012,qa:2,next:4013,pos:3,img:"sp2_B",equipdefineid:"SP2",weapondefineid:"",des:"A symbol of the battlefield, with this, it is easier to upgrade and fight monsters!"},4013:{name:"Military telescope",k:4013,qa:3,next:4014,pos:3,img:"sp2_C",equipdefineid:"SP2",weapondefineid:"",des:"A symbol of the battlefield, with this, it is easier to upgrade and fight monsters!"},4014:{name:"Military telescope",k:4014,qa:4,next:0,pos:3,img:"sp2_D",equipdefineid:"SP2",weapondefineid:"",des:"A symbol of the battlefield, with this, it is easier to upgrade and fight monsters!"},4021:{name:"nameplate",k:4021,qa:1,next:4022,pos:3,img:"sp3_A",equipdefineid:"SP3",weapondefineid:"",des:"Can feel the strong emotions on this little accessory"},4022:{name:"nameplate",k:4022,qa:2,next:4023,pos:3,img:"sp3_B",equipdefineid:"SP3",weapondefineid:"",des:"Can feel the strong emotions on this little accessory"},4023:{name:"nameplate",k:4023,qa:3,next:4024,pos:3,img:"sp3_C",equipdefineid:"SP3",weapondefineid:"",des:"Can feel the strong emotions on this little accessory"},4024:{name:"nameplate",k:4024,qa:4,next:0,pos:3,img:"sp3_D",equipdefineid:"SP3",weapondefineid:"",des:"Can feel the strong emotions on this little accessory"},5001:{name:"Coyotes",k:5001,qa:1,next:5002,pos:4,img:"wA",equipdefineid:"",weapondefineid:"",des:""},5002:{name:"Coyotes",k:5002,qa:2,next:5003,pos:4,img:"wB",equipdefineid:"",weapondefineid:"",des:""},5003:{name:"Coyotes",k:5003,qa:3,next:5004,pos:4,img:"wC",equipdefineid:"",weapondefineid:"",des:""},5004:{name:"Coyotes",k:5004,qa:4,next:0,pos:4,img:"wD",equipdefineid:"",weapondefineid:"",des:""},6001:{name:"Large odor",k:6001,qa:1,next:6002,pos:5,img:"cwA",equipdefineid:"",weapondefineid:"",des:""},6002:{name:"Large odor",k:6002,qa:2,next:6003,pos:5,img:"cwB",equipdefineid:"",weapondefineid:"",des:""},6003:{name:"Large odor",k:6003,qa:3,next:6004,pos:5,img:"cwC",equipdefineid:"",weapondefineid:"",des:""},6004:{name:"Large odor",k:6004,qa:4,next:0,pos:5,img:"cwD",equipdefineid:"",weapondefineid:"",des:""}},i.material={1:{name:"Firearms guide",k:1,des:"Used for weapon upgrades",img:"material/book1"},2:{name:"Armor technology",k:2,des:"Used for armor upgrades",img:"material/book2"},3:{name:"Helmet tactics",k:3,des:"Used for helmet upgrades",img:"material/book3"},4:{name:"Jewelry maintenance",k:4,des:"Used to upgrade accessories",img:"material/book4"},5:{name:"Drone guide",k:5,des:"Used for drone upgrades",img:"material/book5"},6:{name:"Pet guide",k:6,des:"Upgrade for pets",img:"material/book6"},11:{name:"White gem",k:11,des:"Upgrade for all white items",img:"material/gem1"},12:{name:"Green gem",k:12,des:"Upgrade for all green items",img:"material/gem2"},13:{name:"Blue gem",k:13,des:"Upgrade for all blue items",img:"material/gem3"},14:{name:"Purple gem",k:14,des:"Upgrades for all purple items",img:"material/gem4"},101:{name:"Gold",k:101,des:"Gold",img:"material/gold2"},102:{name:"Diamond",k:102,des:"Diamond",img:"material/diamond2"},103:{name:"Power",k:103,des:"Power",img:"material/leg2"},104:{name:"EXP",k:104,des:"EXP",img:"material/exp"},201:{name:"Ordinary key",k:201,des:"Used to open low-level treasure chests",img:"key1"},202:{name:"Senior key",k:202,des:"Used to open advanced treasure chests",img:"key1"},9:{name:"Random book",k:9,des:"Random book",img:"ad"},901:{name:"Random white pet",k:901,des:"Random white pet",img:"star"},902:{name:"Random green pet",k:902,des:"Random green pet",img:"arrow"}},i.relics={10001:{k:10001,qa:1,next:10002,type:"1",typeDes:"Attack",talentdefineid:"moneyDropBonus",story:"Cuteness is just appearance, what you get is the truth",lv:60},10002:{k:10002,qa:2,next:10003,type:"1",typeDes:"Attack",talentdefineid:"moneyDropBonus_2",story:"",lv:200},10003:{k:10003,qa:3,next:10004,type:"1",typeDes:"Attack",talentdefineid:"moneyDropBonus_3",story:"",lv:740},10004:{k:10004,qa:4,next:0,type:"1",typeDes:"Attack",talentdefineid:"moneyDropBonus_4",story:"",lv:0},10011:{k:10011,qa:1,next:10012,type:"2",typeDes:"Assist",talentdefineid:"SpringBrotherRelic",story:"You think i'm dead, don't",lv:60},10012:{k:10012,qa:2,next:10013,type:"2",typeDes:"Assist",talentdefineid:"SpringBrotherRelic_2",story:"",lv:200},10013:{k:10013,qa:3,next:10014,type:"2",typeDes:"Assist",talentdefineid:"SpringBrotherRelic_3",story:"",lv:740},10014:{k:10014,qa:4,next:0,type:"2",typeDes:"Assist",talentdefineid:"SpringBrotherRelic_4",story:"",lv:0},10021:{k:10021,qa:1,next:10022,type:"3",typeDes:"Attack",talentdefineid:"BonusAtkWithoutHurt",story:"Solitude makes me as strong as a beast",lv:60},10022:{k:10022,qa:2,next:10023,type:"3",typeDes:"Attack",talentdefineid:"BonusAtkWithoutHurt_2",story:"",lv:200},10023:{k:10023,qa:3,next:10024,type:"3",typeDes:"Attack",talentdefineid:"BonusAtkWithoutHurt_3",story:"",lv:740},10024:{k:10024,qa:4,next:0,type:"3",typeDes:"Attack",talentdefineid:"BonusAtkWithoutHurt_4",story:"",lv:0},10031:{k:10031,qa:1,next:10032,type:"4",typeDes:"Assist",talentdefineid:"itemDropBonus",story:"Four-leaf clover symbolizes good luck",lv:60},10032:{k:10032,qa:2,next:10033,type:"4",typeDes:"Assist",talentdefineid:"itemDropBonus_2",story:"",lv:200},10033:{k:10033,qa:3,next:10034,type:"4",typeDes:"Assist",talentdefineid:"itemDropBonus_3",story:"",lv:740},10034:{k:10034,qa:4,next:0,type:"4",typeDes:"Assist",talentdefineid:"itemDropBonus_4",story:"",lv:0},10042:{k:10042,qa:3,next:10043,type:"5",typeDes:"Attack",talentdefineid:"BonusAtkSpdOnKill",story:"Jack the Ripper is an outstanding fighter in Origin",lv:600},10043:{k:10043,qa:4,next:0,type:"5",typeDes:"Attack",talentdefineid:"BonusAtkSpdOnKill_2",story:"",lv:0},10053:{k:10053,qa:3,next:10054,type:"6",typeDes:"Defense",talentdefineid:"invincibleOnHurt",story:"Be the brightest star in the sky",lv:600},10054:{k:10054,qa:4,next:0,type:"6",typeDes:"Defense",talentdefineid:"invincibleOnHurt_2",story:"",lv:0},10064:{k:10064,qa:4,next:0,type:"7",typeDes:"Attack",talentdefineid:"BonusAtkOnHit",story:"Every painful memory is the recognition of power",lv:0},10072:{k:10072,qa:2,next:10073,type:"8",typeDes:"Assist",talentdefineid:"RecoverHpOnNewRoom",story:"Ideological victory is far better than swords, guns and artillery",lv:600},10073:{k:10073,qa:3,next:0,type:"8",typeDes:"Assist",talentdefineid:"RecoverHpOnNewRoom_2",story:"",lv:0},10082:{k:10082,qa:2,next:0,type:"9",typeDes:"Assist",talentdefineid:"AdditionalChooseBonus_1",story:"Forcing yourself to see the most real world is the best return to life",lv:0},10091:{k:10091,qa:1,next:0,type:"10",typeDes:"Assist",talentdefineid:"AdditionalChooseBonus_2",story:"The phantom of the real world is the real future",lv:0},10103:{k:10103,qa:3,next:0,type:"11",typeDes:"Assist",talentdefineid:"AdditionalChooseBonus_3",story:"The reflection of the future is conveyed to your life through the eyes of the real",lv:0},10111:{k:10111,qa:1,next:0,type:"12",typeDes:"Assist",talentdefineid:"AdditionalChooseBonus_4",story:"Real or illusory, the variables in life, do you know?",lv:0},10122:{k:10122,qa:2,next:0,type:"13",typeDes:"Assist",talentdefineid:"BonusWeaponTrial",story:"Hit the workers! Working spirit! Workers are all human beings!",lv:0},10134:{k:10134,qa:4,next:0,type:"14",typeDes:"Assist",talentdefineid:"chooseBonusRarity",story:"Is your destiny really in your own hands?",lv:0}},i.equip)(f=i.equip[a]).img&&(f.img="operate/ui/common/equip/"+f.img);for(var a in i.material)(f=i.material[a]).img&&(f.img="operate/ui/common/"+f.img);for(var a in i.relicsTypeDict={},i.relics){var n=(f=i.relics[a]).type,s=i.relicsTypeDict[n];s||((s={}).kArr=[]),s.des||(s.des=f.typeDes),s.story||(s.story=f.story),s.kArr.push(f.k),i.relicsTypeDict[n]=s}for(var a in i.lcDotArrA=[],i.lcDotArrS=[],i.chapterA={},i.chapterS={},i.chapter){var o=-1!==(g=(f=i.chapter[a]).id).indexOf("JY");f.id=parseInt(o?g.split("JY")[1]:g);var r=f.lc.split(","),c={};for(var h in r){for(var d=r[h].split(/[[\]=&]/),l=[],u=1;u<d.length-2;u+=2)l.push(d[u]+"#"+d[u+1]);c[d[0]]=l,o?i.lcDotArrS.push(f.id+"#"+d[0]):i.lcDotArrA.push(f.id+"#"+d[0])}f.lc=c,o?i.chapterS[f.id]=f:i.chapterA[f.id]=f}for(var a in i.boxInWarFinal={},i.boxInWar){var f=i.boxInWar[a];i.boxInWarFinal[f.pos]||(i.boxInWarFinal[f.pos]=[]);var m={};if(m.type=f.type,m.num=f.num,m.power=f.weight,m.name=f.name,m.pic=f.pic,f.k&&isNaN(parseInt(f.k))){var p=f.k.split("#");m[p[0]]=p[1]}i.boxInWarFinal[f.pos].push(m)}for(var a in i.sign1={},i.sign2={},i.sign)if(f=i.sign[a],1*a<8)i.sign1[a]=f;else{var g=1*a-7;i.sign2[g]={},i.sign2[g].day=g,i.sign2[g].goods=f.goods,i.sign2[g].nums=f.nums}i.getBaseInfoByKey=function(t){var e=i.getTypeByKey(t),a=null;if("r"===e){if(a=i.relics[t]){var n=Talent.getInfo(a.talentdefineid),s=i.relicsTypeDict[a.type];a.name=n.title,a.des=n.des,a.bgImg=n.bgImgPath,a.img=n.iconImgPath,a.story=s.story}}else a="e"===e?i.equip[t]:i.material[t];if(a)return a;cc.log(":",t)},i.getTypeByKey=function(t){return t-1e4>0?"r":t-1e3>0?"e":t-100<0?"m":t-104<=0?"q":201==t||202==t?"k":(cc.log(":"+t),!1)},i.getFinalKey=function(t){return 9===(t=parseInt(t))?t=operutils.random(1,4):901===t?t=6002:902===t&&(t=6003),t},i.getPosByKey=function(t){var e=i.getBaseInfoByKey(t);return e&&e.hasOwnProperty("pos")?e.pos:""},i.getStrByPos=function(t){var e={0:"",1:"",2:"",3:"",4:"",5:""};return e.hasOwnProperty(t+"")?e[t+""]:""},i.getColorByQa=function(t){var e={1:new cc.Color(255,255,255,255),2:new cc.Color(42,255,0,255),3:new cc.Color(72,70,255,255),4:new cc.Color(210,50,255,255)};return e.hasOwnProperty(t+"")?e[t+""]:e[1]},i.getStrByQa=function(t){var e={1:"common",2:"Advanced",3:"Rare",4:"Legendary"};return e.hasOwnProperty(t+"")?e[t+""]:""},i.getMaxLvByQa=function(t){var e={1:20,2:25,3:30,4:40};return e.hasOwnProperty(t+"")?e[t+""]:""},i.getBookKByPos=function(t){var e={0:1,1:2,2:3,3:4,4:5,5:6};return e.hasOwnProperty(t+"")?e[t+""]:""},i.getGemKByQa=function(t){var e={1:11,2:12,3:13,4:14};return e.hasOwnProperty(t+"")?e[t+""]:""},i.isGemK=function(t){return[11,12,13,14].indexOf(parseInt(t))>=0},i.getLuckyDrawListByPos=function(t){return i.boxInWarFinal[t]},i.getHumanPlayByKey=function(t){var e={AK47:"stand_1",S12K:"stand_2",Kar98k:"stand_3",UZI:"stand_4"};return e[i.getBaseInfoByKey(t).equipdefineid]||e.AK47},i.getChapterInfo=function(t){if(t)return(t=(""+t).toUpperCase()).indexOf("JY")>=0?(t=t.substring(2),i.chapterS[t].title):i.chapterA[t].title},cc._RF.pop()},{}],OperateManager:[function(t,e){"use strict";cc._RF.push(e,"91facmJGKROfajbBDO33d4u","OperateManager"),cc.Class({extends:cc.Component,properties:{menuWidget:cc.Widget,reddotPre:cc.Prefab,tab_button:{default:[],type:cc.Button},tabLightNode:cc.Node,page_arr:{default:[],type:cc.Node},pageView:cc.PageView,offlineBtnNode:cc.Node,signBtnNode:cc.Node,giftBargainBtnNode:cc.Node,lcMenuNode:cc.Node,mapPageNode:cc.Node},onLoad:function(){window.FirstEntryGame=!1,this.widthScale=cc.winSize.width/640,window.WIDE_SCREEN&&(this.menuWidget.bottom=0),OperBridge.RedCheckFun.tag_menu1=this.checkReddot0.bind(this),OperBridge.RedCheckFun.tag_equip=this.checkReddot1.bind(this),OperBridge.RedCheckFun.tag_main=this.checkReddot2.bind(this),OperBridge.RedCheckFun.tag_talent=this.checkReddot3.bind(this),OperBridge.RedCheckFun.tag_store=this.checkReddot4.bind(this),cc.game.on("check_next_guide",this.checkNextGuide,this),cc.game.on("reset_gift_bargain",this.resetGiftBargain,this),cc.game.on("main_ui_touch_enabled",this.setMainuiTouchEnabled,this),this.on_tab_button_click(null,2),window.curGuideStep=0,this.node.opacity=255,cc.find("head",this.node.parent).opacity=255,this.initTabButton(),setTimeout(function(){window.CUR_LC_SHOWNUM<reddotkit.getLcReddotSum()&&this.showLcNewAction()}.bind(this),500),this.setMainuiTouchEnabled(!1),setTimeout(function(){this.checkNextGuide("init")}.bind(this),100),this.resetOfflineBtn(),this.resetSignBtn(),this.resetEventZqBtn(),this.resetGiftBargain(),window.gamePlaying=!1,window.userInfoButton&&userInfoButton.show()},start:function(){},initTabButton:function(){var t=operkit.getMaxWarChapter(),e=operkit.getGuideStep1015();this.setTabButton(3,1),this.setTabButton(1,t>0),this.setTabButton(2,t>0),this.setTabButton(4,operkit.checkGuideStep(1)||e>=11.1),this.setTabButton(5,operkit.checkGuideStep(5)||e>=15)},setTabButton:function(t,e){var i=this.tab_button[t-1],a=i.node.getChildByName("img").getComponent(cc.Sprite);return e?(i.interactable=!0,a.node.y=30,reskit.setSpNodeFrame(a,OperUrl.menuIcon(t))):(i.interactable=!1,a.node.y=42,reskit.setSpNodeFrame(a,OperUrl.menuIcon(0))),i},setMainuiTouchEnabled:function(t){console.log(":",t),this.blockCpnt||(this.blockCpnt=cc.find("Canvas/guideBlock").getComponent(cc.BlockInputEvents)),this.blockCpnt.enabled=!t},unlockNewChapter:function(t){var e=operkit.isJYChapter()?OperDefine.chapterS:OperDefine.chapterA,i=this.page_arr[2].getComponent("PageWar");e[t]?(i.nextAndHideMap(t),operkit.loadWarData("first_unlock_chapter")||(operkit.saveWarData("first_unlock_chapter",!0,!0),tjSDK.onEventQm(132)),menuManager.pop("sub2#/operate/prefab/pop_new_chapter",{chapter:window.CUR_MAX_CHAPTER,next:t,pageWar:i,cb:function(){i.showMap(),window.CUR_MAX_CHAPTER=t,this.checkNextGuide("unlock-new-chapter"),cc.Platformsdk.addToDesktop()}.bind(this)})):this.setMainuiTouchEnabled(!0),operkit.isJYChapter()||4!==t||(window.CUR_MAX_CHAPTER=t,i.showSwitchGuide(),this.setMainuiTouchEnabled(!0))},checkNextGuide:function(){if(this.setMainuiTouchEnabled(!1),operkit.loadWarData("saveProgressConfig"))this.setMainuiTouchEnabled(!0);else{var t=operkit.getMaxWarChapter();if(t<=0)this.setMainuiTouchEnabled(!0);else{var e=operkit.getGuideStep1015();if(t-window.CUR_MAX_CHAPTER>0)this.unlockNewChapter(t);else{if(operkit.getOperData("guide","first_death_endgame_chat"))return console.log("----"),operkit.setOperData("guide","first_death_endgame_chat",!1),void menuManager.pop("sub2#/operate/npc/pop_chat",{chatObj:ChatDefine.first_dialogue[8],cb:function(){this.checkNextGuide("first--dead")}.bind(this)});var i=function(t){if(this.curPageIdx===t-1)this.page_arr[this.curPageIdx].getComponent("PageBase").showGuide(1),this.setMainuiTouchEnabled(!0);else{if(7===window.curGuideStep&&2===t)var e="Obtained new equipment!";8!==window.curGuideStep&&9!==window.curGuideStep||1!==t||(e="Pass the level to receive course rewards!"),11===window.curGuideStep&&3===t&&(e="A new chapter is open, go try it!"),12===window.curGuideStep&&4===t&&(e="Talent can quickly improve strength!"),13===window.curGuideStep&&2===t&&(e="Obtained excellent quality equipment!");var i=this.setTabButton(t,1);setTimeout(function(){OperBridge.createMaskLayerByNode(i.node,{arrowType:1,txt:e})},300)}}.bind(this);if(e<6.9)window.curGuideStep=6.9,i(2);else if(e<7){if(window.curGuideStep=7,(o=this.page_arr[1].getComponent("PageEquip")).e1JsList&&o.e1JsList[1])return operkit.setGuideStep1015(7),void this.checkNextGuide("7-exit");if(!o.getEquipNodeByKey(2011,0)){var a={2011:1};return void menuManager.pop("sub2#/operate/prefab/pop_reward",{obj:a,cb:function(){this.checkNextGuide("send-2011")}.bind(this)})}i(2)}else if(e<8||e<9)window.curGuideStep=e<8?8:9,i(1);else if(e<10){if(window.curGuideStep=10,operkit.checkGuideStep(3))return operkit.setGuideStep1015(10),void this.checkNextGuide("10-exit");if((o=this.page_arr[1].getComponent("PageEquip")).e1JsList&&!o.e1JsList[0]){var n=operkit.addEquip(1001,0,0,1);o.updateE1Item(0,1001,n)}i(2)}else if(e<11)window.curGuideStep=11,i(3);else if(e<11.1)window.curGuideStep=11.1,this.setMainuiTouchEnabled(!0);else if(e<11.9)window.curGuideStep=11.9,i(4);else if(e<12){if(window.curGuideStep=12,operkit.checkGuideStep(1))return operkit.setGuideStep1015(12),void this.checkNextGuide("12-exit");i(4)}else if(e<13){var s=operkit.getMaxWardot();if(t<1||1===t&&s<10)return void OperBridge.removeGuideLayer();if(window.curGuideStep=13,!(o=this.page_arr[1].getComponent("PageEquip")).getEquipNodeByKey(2012,0))return a={2012:1},void menuManager.pop("sub2#/operate/prefab/pop_reward",{obj:a,cb:function(){this.checkNextGuide("send-2012")}.bind(this)});i(2)}else if(e<14){if(14===window.curGuideStep)return;if(window.curGuideStep=14,!(o=this.page_arr[1].getComponent("PageEquip")).getEquipNodeByKey(2011,0))return operkit.setGuideStep1015(14),void this.checkNextGuide("14-not-clothes");i(2)}else if(e<15){if(window.curGuideStep=15,operkit.checkGuideStep(6))return operkit.setGuideStep1015(15),void this.checkNextGuide("15-not-gun");var o;if((o=this.page_arr[1].getComponent("PageEquip")).e1JsList&&!o.e1JsList[0])return operkit.setGuideStep1015(15),void this.checkNextGuide("15-not-gun");i(2)}else e<15.9?(window.curGuideStep=15.9,i(5)):e<16?(window.curGuideStep=16,this.setTabButton(5,1),operkit.setGuideStep1015(16),this.guideFinish()):this.guideFinish()}}}},guideFinish:function(){window.curGuideStep=0,window.INGUIDEPROGRESS=0,OperBridge.removeGuideLayer(),this.resetOfflineBtn(),this.resetSignBtn(),this.setMainuiTouchEnabled(!0)},onDestroy:function(){delete OperBridge.RedCheckFun.tag_menu1,delete OperBridge.RedCheckFun.tag_equip,delete OperBridge.RedCheckFun.tag_main,delete OperBridge.RedCheckFun.tag_talent,delete OperBridge.RedCheckFun.tag_store,cc.game.off("check_next_guide",this.checkNextGuide,this),cc.game.off("reset_gift_bargain",this.resetGiftBargain,this),cc.game.off("main_ui_touch_enabled",this.setMainuiTouchEnabled,this)},pageTurning:function(t){console.log("pageTurning: "+t);for(var e=0;e<5;e++){var i=this.tab_button[e],a=i.node.getChildByName("img"),n=a.getComponent(cc.Sprite),s=this.page_arr[e];if(s)var o=s.getComponent("PageBase");e==t?(this.curPageIdx=t,this.pageView.setCurrentPageIndex(e),this.tabLightNode.parent=i.node,this.tabLightNode.width=cc.winSize.width/5+4,a.scale=1.4,a.zIndex=2,reskit.setSpNodeFrame(n,OperUrl.menuIcon(e+11)),o&&o.pageIn&&o.pageIn()):i.interactable&&(a.scale=1,reskit.setSpNodeFrame(n,OperUrl.menuIcon(e+1)),o&&o.pageOut&&o.pageOut())}0===this.curPageIdx&&this.stopLcNewAction(),2===this.curPageIdx?cc.Platformsdk.showCustom():cc.Platformsdk.hideCustom()},on_tab_button_click:function(t,e){if(e=parseInt(e),console.log("tab click: ",this.curPageIdx,e),this.curPageIdx<e)var i=this.curPageIdx,a=e;else i=e,a=this.curPageIdx;for(var n=i;n<=a;n++)this.page_arr[n].opacity=255;t&&nodekit.playMusic(SoundEffectPath.op_clickMenu),this.pageTurning(e)},pageViewClick:function(t){var e=t.node.getComponent(cc.PageView).getCurrentPageIndex();for(var i in this.page_arr)i-e!=0&&(this.page_arr[i].opacity=0)},resetOfflineBtn:function(){window.INGUIDEPROGRESS||window.INGUIDEPROGRESS&&!operkit.getTalentLvById(8)||(this.offlineBtnNode.active=!0,this.checkOfflineReddot())},resetSignBtn:function(){window.INGUIDEPROGRESS||(operkit.getMaxWarChapter(!0)>1||operkit.getMaxWardot()>8)&&(this.signBtnNode.active=!0,this.checkSignReddot())},resetEventZqBtn:function(){},gameStart:function(t){if(!(this.gameStartClickTime&&operutils.disTimeM(this.gameStartClickTime)<500)){this.gameStartClickTime=(new Date).getTime();var e=function(){t&&nodekit.playMusic(SoundEffectPath.op_click);var e=cc.find("Canvas").getComponent("MainMenu"),i=(operkit.isJYChapter()?"JY":"")+operkit.getCurWarChapter();e.startGame(i);var a=operkit.setGameCount();tjSDK.onEvent(TJ.eventId.game_start,{chapter:operkit.getCurWarChapterTJ(),count:a,equip:operkit.getEquip1Str()}),cc.Platformsdk.hideCustom(),11===operkit.getGuideStep1015()&&"1"===i&&operkit.setGuideStep1015(11.1)};cc.find("Canvas").getComponent("MainMenu").saveGameExist||OperBridge.useMoney(OperBridge.MONEY_TYPE.LEG,5,function(t){t?e():OperBridge.showGiftBargaining||(OperBridge.showGiftBargaining=!0,operkit.checkGiftBargain()?menuManager.pop("sub#/operate/prefab/popwin/poplittlewin",{type:"gift_bargain",cb:function(){OperBridge.showGiftBargaining=!1}.bind(this)}):menuManager.pop("sub#/operate/prefab/popwin/poplittlewin",{type:"addleg",cb:function(t){OperBridge.showGiftBargaining=!1,t&&OperBridge.addSomethingByK(OperBridge.MONEY_TYPE.LEG,t)}.bind(this)}))}.bind(this))}},switchGame:function(){operkit.setCurChapterType(operkit.isJYChapter()?1:2),window.CUR_MAX_CHAPTER=operkit.getMaxWarChapter(),0===window.CUR_MAX_CHAPTER&&operkit.isJYChapter()&&(operkit.setWarProgress(1),window.CUR_MAX_CHAPTER=1),this.page_arr[2].getComponent("PageBase").switchGame(),this.page_arr[0].getComponent("PageBase").updateTaskUI()},showEditor:function(){cc.find("Canvas").getComponent("MainMenu").startEditMode()},showReddot:function(t,e,i,a,n){this.ReddotJsDict||(this.ReddotJsDict={});var s=this.ReddotJsDict[t];s||(s=reddotkit.createReddotByPre(this.reddotPre),this.ReddotJsDict[t]=s,s.init({pNode:i,type:a,pos:n})),s.showDot(e,a)},hideReddot:function(t){if(this.ReddotJsDict){var e=this.ReddotJsDict[t];e&&e.hideDot()}},checkSignReddot:function(){this.signBtnNode.active&&(operkit.checkSigned()?this.showReddot("sign","",this.signBtnNode,window.REDDOT_TYPE.RDot,cc.v2(40,10)):this.hideReddot("sign"))},checkOfflineReddot:function(){var t=operkit.getOfflineTime();this.offlineBtnNode.active&&(operutils.disTimeS(t)>=3600?this.showReddot("offline","",this.offlineBtnNode,window.REDDOT_TYPE.RDot,cc.v2(40,10)):this.hideReddot("offline"))},checkReddot:function(t,e,i){this.ReddotJsDict||(this.ReddotJsDict={});var a="js"+t;if(e){var n=this.tab_button[t].node;this.showReddot(a,e,n,i,cc.v2(40*this.widthScale,90))}else this.hideReddot(a)},checkReddot0:function(){if(this.tab_button[0].interactable){var t=reddotkit.getLcReddotSum();this.checkReddot(0,t,window.REDDOT_TYPE.RNum)}},checkReddot1:function(){if(this.tab_button[1].interactable)if(operkit.getReddotNewSidArr().length>0)this.checkReddot(1,1,window.REDDOT_TYPE.New);else{var t=reddotkit.getEquipUp();this.checkReddot(1,t,window.REDDOT_TYPE.GNum)}},checkReddot2:function(){this.checkOfflineReddot(),this.checkSignReddot()},checkReddot3:function(){if(this.tab_button[3].interactable){var t=reddotkit.getTalentUp();this.checkReddot(3,t,window.REDDOT_TYPE.Arrow)}},checkReddot4:function(){if(this.tab_button[4].interactable){var t=reddotkit.getStoreReddotNum();this.checkReddot(4,t,window.REDDOT_TYPE.RNum)}},showLcNewAction:function(){!this.lcNewActionRuning&&this.tab_button[0].interactable&&(this.lcNewCircleNode||(this.lcNewCircleNode=cc.find("circle",this.lcMenuNode)),this.lcNewLightNode||(this.lcNewLightNode=cc.find("light",this.lcMenuNode)),this.lcNewActionRuning=!0,this.lcMenuNode.active=!0,window.CircleNode=this.lcNewCircleNode,window.lightNode=this.lcNewLightNode,this.lcNewCircleNode.scale=.7,this.lcNewCircleNode.opacity=0,this.lcNewLightNode.runAction(cc.sequence(cc.spawn(cc.sequence(cc.fadeIn(.6).easing(cc.easeSineIn()),cc.fadeOut(0)),cc.sequence(cc.delayTime(.5),cc.callFunc(function(){this.lcNewCircleNode.runAction(cc.sequence(cc.fadeIn(0),cc.spawn(cc.scaleTo(.3,1.2).easing(cc.easeSineIn()),cc.fadeOut(.3)),cc.scaleTo(0,.7)))},this))),cc.delayTime(.8)).repeatForever()))},stopLcNewAction:function(){this.lcNewActionRuning&&(this.lcNewCircleNode.stopAllActions(),this.lcNewLightNode.stopAllActions(),this.lcNewActionRuning=!1,this.lcMenuNode.active=!1)},resetGiftBargain:function(){this.giftBargainGuang||(this.giftBargainGuang=cc.find("guang",this.giftBargainBtnNode));var t=operkit.getGiftBargainDownTime();if(t){if(this.giftBargainTime&&this.giftBargainTime>0)return;this.giftBargainGuang.runAction(cc.sequence(cc.rotateBy(3,180),cc.delayTime(1)).repeatForever()),this.giftBargainBtnNode.active=!0,this.giftBargainTime=t,this.schedule(this.giftBargainCountdown,1,cc.macro.REPEAT_FOREVER,.1)}else this.giftBargainGuang.stopAllActions(),this.giftBargainBtnNode.active=!1,this.giftBargainTime=0,this.unschedule(this.giftBargainCountdown)},clickGiftBargain:function(){menuManager.pop("sub#/operate/prefab/popwin/poplittlewin",{type:"gift_bargain"})},giftBargainCountdown:function(){this.giftBargainTimeLab||(this.giftBargainTimeLab=cc.find("time",this.giftBargainBtnNode).getComponent(cc.Label)),this.giftBargainTime<=0&&(this.giftBargainTime=0,this.resetGiftBargain()),this.giftBargainTimeLab.string=""+operutils.formatTime2ByS(this.giftBargainTime),this.giftBargainTime--}}),cc._RF.pop()},{}],PageBase:[function(t,e){"use strict";cc._RF.push(e,"666a6sEv51OiIT4MXbEehI6","PageBase"),cc.Class({extends:cc.Component,properties:{operJs:t("OperateManager")},start:function(){}}),cc._RF.pop()},{OperateManager:"OperateManager"}],PageEquip:[function(t,e){"use strict";cc._RF.push(e,"3a1ed8pJtNH/KyXg1Xa6T/1","PageEquip"),t("EffectManager"),cc.Class({extends:t("PageBase"),ctor:function(){this.e1JsList={},this.e0JsList={},this.mJsList={},this.sortByQa=!0},properties:{roleSp:cc.Sprite,roleNode:cc.Node,role_name:cc.Label,role_atk:cc.Label,role_hp:cc.Label,equipArr:[cc.Node],c_equip:cc.Node,c_equip2:cc.Node,c_equip3:cc.Node,item_equip:cc.Prefab,item_material:cc.Prefab,v_sv:cc.ScrollView},onLoad:function(){this.tabHeight=97,window.WIDE_SCREEN&&(this.tabHeight=117),cc.game.on("p2_add_equip",this.addEquipByK,this),cc.game.on("p2_remove_equip",this.removeEquip,this),cc.game.on("p2_on_equip",this.putOnEquip,this),cc.game.on("p2_off_equip",this.takeOffEquip,this),cc.game.on("p2_update_material",this.updateMaterialByK,this),OperBridge.RedCheckFun.p2_check_up=this.checkUpRed.bind(this),this.updateEquip1(),this.updateEquip0(),this.updateMaterial(),this.updateE0Layout(),this.updateMLayout(),this.checkUpRed(),this.updateAttrLab();var t=cc.director._scheduler,e=dragonBones.CCFactory.getInstance();t.scheduleUpdate(e),nodekit.createArmature("sub2#human",function(t,e){if(t&&this.roleNode){this.roleNode.addChild(t);var i=e.armature();this.animation=i.animation,setTimeout(function(){this.updateHumanAnim()}.bind(this),100)}}.bind(this))},updateHumanAnim:function(){if(this.animation){var t=this.e1JsList[0];this.animation.play(OperDefine.getHumanPlayByKey(t?t._k:1001))}},clickLat:function(t,e){this.e1JsList[e]||OperBridge.toastTip("Not equipped yet")},updateEquip1:function(){var t=operkit.getOwnData("e1");if(t)for(var e in t){var i=e.split("#"),a=OperDefine.getBaseInfoByKey(i[0]);this.updateE1Item(a.pos,i[0],i[1],t[e])}},updateE1Item:function(t,e,i,a){if(!this.equipArr[t])throw new Error("pos"+this.equipArr.length);var n=this.e1JsList[t];if(!n){var s=nodekit.createNode(this.item_equip);s.parent=this.equipArr[t],(n=s.getComponent("Item_equip")).P2Js=this,this.e1JsList[t]=n}n.updateUI(e,i,a,!0)},updateEquip0:function(){var t=operkit.getOwnData("e0");if(t)for(var e in t){var i=e.split("#");this.updateE0Item(i[0],i[1],t[e])}},updateE0Item:function(t,e,i){var a=this.e0JsList[e];if(!a){var n=nodekit.createNode(this.item_equip);n.parent=this.c_equip2,(a=n.getComponent("Item_equip")).P2Js=this,this.e0JsList[e]=a}a.updateUI(t,e,i,!1)},updateMaterial:function(){var t=operkit.getOwnData("m");if(t)for(var e in t)this.updateMItem(e,t[e])},updateMItem:function(t,e){var i=this.mJsList[t];if(!i){var a=nodekit.createNode(this.item_material);(i=a.getComponent("Item_material")).P2Js=this,i.touchEn=!0,a.parent=this.c_equip3,this.mJsList[t]=i}i.updateUI(t,e)},updateE0Layout:function(){var t=[];for(var e in this.e0JsList)t.push(this.e0JsList[e]);for(var i in this.sortByQa&&t.sort(function(t,e){return t.qa!=e.qa?e.qa-t.qa:t.pos!=e.pos?t.pos-e.pos:t.lv!=e.lv?e.lv-t.lv:e._k-t._k}),t)t[i].node.zIndex=i},updateMLayout:function(){var t=[];for(var e in this.mJsList)t.push(this.mJsList[e]);for(var i in t.sort(function(t,e){return 1*t._k>10||1*e._k>10?e._k-t._k:t._k-e._k}),t)t[i].node.zIndex=i},addEquipByK:function(t,e){cc.log("----------------------",t,e),operkit.setReddotNewSid(e),this.updateE0Item(t,e),this.updateE0Layout()},removeEquip:function(t,e,i,a){if(i){var n=this.e1JsList[a];n&&n.removeSelf(),delete this.e1JsList[a]}else{var s=this.e0JsList[e];s&&(s.removeSelf(),delete this.e0JsList[e])}},putOnEquip:function(t,e,i){cc.log("-------- --------------",t,e,i);var a=this.e1JsList[i],n=this.e0JsList[e];a&&(operkit.takeOffEquip(a._k,a.sid),this.updateE0Item(a._k,a.sid),this.updateE0Layout()),operkit.putOnEquip(t,e),n.removeSelf(),delete this.e0JsList[e],this.updateE1Item(i,t,e)},takeOffEquip:function(t){cc.log("-------- --------------",t);var e=this.e1JsList[t];e&&(operkit.takeOffEquip(e._k,e.sid),e.removeSelf(),delete this.e1JsList[t],this.updateE0Item(e._k,e.sid),this.updateE0Layout())},updateMaterialByK:function(t){var e=operkit.getMaterialNumByK(t);if(e)this.updateMItem(t,e),this.updateMLayout();else{var i=this.mJsList[t];i&&(i.removeSelf(),delete this.mJsList[t])}this.checkUpRed()},getEquipNodeByKey:function(t,e){var i=e?this.e1JsList:this.e0JsList;for(var a in i){var n=i[a];if(n._k-t==0)return n.node}},onDestroy:function(){cc.game.off("p2_add_equip",this.addEquipByK,this),cc.game.off("p2_remove_equip",this.removeEquip,this),cc.game.off("p2_on_equip",this.putOnEquip,this),cc.game.off("p2_off_equip",this.takeOffEquip,this),cc.game.off("p2_update_material",this.updateMaterialByK,this),delete OperBridge.RedCheckFun.p2_check_up},showGuide:function(t){if(window.INGUIDEPROGRESS){var e=function(e,i){if(e){if(this.showGuideing)return;this.showGuideing=!0,OperBridge.hideGuideLayer(),setTimeout(function(){OperBridge.createMaskLayerByNode(e,{txt:i}),this.showGuideing=!1}.bind(this),t?300:700)}else OperBridge.removeGuideLayer()}.bind(this);console.log("--curGuideStep --",window.curGuideStep),6.9===window.curGuideStep?(OperBridge.hideGuideLayer(),menuManager.pop("sub2#/operate/npc/pop_chat",{chatObj:ChatDefine.first_dialogue[4],cb:function(){operkit.setGuideStep1015(6.9),OperBridge.checkNextGuide()}.bind(this)})):7===window.curGuideStep?e(this.getEquipNodeByKey(2011,0)):10===window.curGuideStep?e(this.getEquipNodeByKey(1001,1)):13===window.curGuideStep?e(this.getEquipNodeByKey(2012,0)):14===window.curGuideStep?e(this.getEquipNodeByKey(2011,0),""):15===window.curGuideStep&&e(this.getEquipNodeByKey(1001,1))}},pageIn:function(){this.pageInView||(console.log("----2--"),this.pageInView=!0,setTimeout(function(){this.optDc(this.v_sv)}.bind(this),700),this.showGuide())},pageOut:function(){this.pageInView&&(this.pageInView=!1,this.optDc(this.v_sv))},checkUpRed:function(){var t=[];for(var e in this.e1JsList){var i=this.e1JsList[e],a=i.getEquipUpInfo();a.gemEn&&!a.isMaxQa||a.bookEn&&!a.isMaxLv?(t.push(e),i.showRedUp()):i.removeReddot()}reddotkit.setEquipUp(t),OperBridge.checkReddotById("tag_equip")},updateAttrLab:function(){var t=EquipDefine.getRoleHpAtk(),e=parseInt(this.role_atk.string),i=parseInt(this.role_hp.string),a=0,n=function(t,e){if(parseInt(t)){var i=new cc.Node,n=i.addComponent(cc.Label);n.enableBold=!0,n.fontSize=30,n.string=e+(t>0?" +":" -")+Math.abs(t),i.color=t>0?new cc.Color(0,255,0,255):new cc.Color(255,0,0,255),i.opacity=0,i.parent=this.role_atk.node.parent,i.setPosition(0,50),i.runAction(cc.sequence(cc.delayTime(a),cc.spawn(cc.fadeIn(.2),cc.moveBy(.4,0,90)).easing(cc.easeQuarticActionOut()),cc.delayTime(.3),cc.fadeOut(.4),cc.destroySelf())),a+=.8}}.bind(this);e&&n(t.atk-e,"ATK"),i&&n(t.hp-i,"HP"),this.role_atk.string=t.atk,this.role_hp.string=t.hp,this.updateHumanAnim()},handleScrollEvent:function(t,e){switch(e){case cc.ScrollView.EventType.SCROLLING:if(0==t.content.childrenCount)return;this.optDc(t)}},optDc:function(){var t=cc.rect(0,this.tabHeight,cc.winSize.width,cc.winSize.height/2-this.tabHeight),e=operutils.copyArr(operkit.getReddotNewSidArr());for(var i in this.e0JsList){var a=this.e0JsList[i];if(a){var n=a.node,s=e.indexOf(parseInt(a.sid));n.getBoundingBoxToWorld().intersects(t)?(255!=n.opacity&&(n.opacity=255),s>=0&&this.pageInView&&(operkit.delReddotNewSid(i),OperBridge.checkReddotById("tag_equip")),!this.pageInView&&a.newShowing&&-1==s&&a.removeReddot()):(0!=n.opacity&&(n.opacity=0),a.newShowing&&-1==s&&a.removeReddot())}}}}),cc._RF.pop()},{EffectManager:"EffectManager",PageBase:"PageBase"}],PageManager:[function(t,e){"use strict";cc._RF.push(e,"0f0b15CZedHzbmYLKmKLRVN","PageManager"),cc.Class({extends:cc.Component,properties:{p1_scrollView:{default:null,type:cc.ScrollView},p2_scrollView:{default:null,type:cc.ScrollView},p5_scrollView:{default:null,type:cc.ScrollView}},onLoad:function(){this.pageView=this.node.getComponent(cc.PageView)},start:function(){var t=this.pageView.content.children,e=cc.winSize.width/640;cc.log("W",cc.winSize.width," H:",cc.winSize.height);var i=this.node.getChildByName("view");for(var a in i.scaleX=e,t){var n=t[a].getChildByName("content");n?e<1?n.scaleY=e:n.scaleX=1/e:cc.log("pageView content"+a)}this.node.off(cc.Node.EventType.TOUCH_START,this.pageView._onTouchBegan,this.pageView,!0),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.pageView._onTouchMoved,this.pageView,!0),this.node.off(cc.Node.EventType.TOUCH_END,this.pageView._onTouchEnded,this.pageView,!0),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.pageView._onTouchCancelled,this.pageView,!0)},handlePageSlide:function(t){switch(t.type){case cc.Node.EventType.TOUCH_START:this.startPosition=t.getLocation(),this.pageView._onTouchBegan(t),this.pageMove=!1;break;case cc.Node.EventType.TOUCH_MOVE:this.movePosition=t.getLocation();var e=this.movePosition.x-this.startPosition.x,i=this.movePosition.y-this.startPosition.y;Math.abs(i)<50&&Math.abs(e)>50&&(this.pageView._onTouchMoved(t),this.pageMove=!0);break;case cc.Node.EventType.TOUCH_END:this.pageView._onTouchEnded(t);break;case cc.Node.EventType.TOUCH_CANCEL:this.pageView._onTouchCancelled(t)}}}),cc._RF.pop()},{}],PageStore:[function(t,e){"use strict";cc._RF.push(e,"e6704aPlW9MLpbZVQ1Z3vUX","PageStore"),cc.Class({extends:t("PageBase"),ctor:function(){this.storeCountdown=0},properties:{c_store_box:cc.Node,c_store:cc.Node,item_store_box:cc.Prefab,item_store:cc.Prefab,storeTimeLab:cc.Label,scrollView:cc.ScrollView},onLoad:function(){this.addBox({k:"b1",title:"",tColor:new cc.Color(255,255,255,255),dmdNum:60,hasFree:!0,freeByAd:!0,freeTime:OperDefine.STORE_BOX1_TIME,keyImg:OperUrl.c_key1}),this.addBox({k:"b2",title:"",tColor:new cc.Color(153,0,255,255),dmdNum:300,hasFree:!0,freeByAd:!1,freeTime:OperDefine.STORE_BOX2_TIME,keyImg:OperUrl.c_key2}),this.storeJs1=this.addStore({idx:0,title:"",tColor:new cc.Color(255,255,255,255),type:"ad",btnImg:OperUrl.c_video,baseDef:OperDefine.freeStore}),this.storeJs2=this.addStore({idx:1,type:OperBridge.MONEY_TYPE.GOLD,title:"",tColor:new cc.Color(0,10,252,255),btnImg:OperUrl.c_gold1,baseDef:OperDefine.goldStore}),this.storeJs3=this.addStore({idx:2,type:OperBridge.MONEY_TYPE.DIAMOND,title:"",tColor:new cc.Color(153,0,255,255),btnImg:OperUrl.c_diamond1,baseDef:OperDefine.dmdStore}),this.storeJs4=this.addStore({idx:3,type:OperBridge.MONEY_TYPE.DIAMOND,title:"",tColor:new cc.Color(153,0,255,255),btnImg:OperUrl.c_diamond1,baseDef:OperDefine.dmdStore}),this.setStoreCountdown(),this.schedule(this.updateTime,1),this.checkStoreFreshTime()},addBox:function(t){var e=nodekit.createNode(this.item_store_box);e.parent=this.c_store_box,t.PageJs=this,e.getComponent("Item_store_box").init(t)},addStore:function(t){t.p1Js=this;var e=nodekit.createNode(this.item_store);e.parent=this.c_store;var i=e.getComponent("Item_store");return i.init(t),i},checkStoreFreshTime:function(){var t=operkit.getStoreFreshTime();t?operutils.getNextDate012(t).getTime()<(new Date).getTime()?this.resetStore():this.updateStoreUI():this.resetStore()},resetStore:function(){var t=[];t.push(this.getStoreItemDef(OperDefine.freeStore)),t.push(this.getStoreItemDef(OperDefine.goldStore)),t.push(this.getStoreItemDef(OperDefine.dmdStore)),t.push(this.getStoreItemDef(OperDefine.dmdStore)),cc.log("----",t),operkit.storeFresh(t),this.updateStoreUI()},getStoreItemDef:function(t){return operutils.getTargetKeysByWeight(t)[0]},setStoreCountdown:function(){var t=(new Date).getTime(),e=(operutils.getNextDate012(t).getTime()-t)/1e3;this.storeCountdown=Math.round(e),cc.log("--:",operutils.formatTime1ByS(this.storeCountdown))},updateStoreUI:function(){cc.log("--ui--"),this.storeJs1.updateUI(),this.storeJs2.updateUI(),this.storeJs3.updateUI(),this.storeJs4.updateUI()},updateTime:function(){this.storeCountdown>0&&this.storeCountdown--,this.storeCountdown<=0?(this.setStoreCountdown(),this.checkStoreFreshTime()):this.storeTimeLab.string="refresh time  "+operutils.formatTime2ByS(this.storeCountdown)},clickRefresh:function(t){t.target.interactable=!1;var e=function(e){t.target.interactable=!0,e&&this.resetStore()}.bind(this);menuManager.pop("sub#/operate/prefab/popwin/poplittlewin",{type:"storefresh",videoEn:1,cb:e})},showGuide:function(){window.INGUIDEPROGRESS&&15.9===window.curGuideStep&&(OperBridge.hideGuideLayer(),menuManager.pop("sub2#/operate/npc/pop_chat",{chatObj:ChatDefine.first_dialogue[10],cb:function(){operkit.setGuideStep1015(15.9),OperBridge.checkNextGuide()}.bind(this)}))},pageIn:function(){this.pageInView||(this.pageInView=!0,this.scrollView.vertical=!0,reddotkit.item.freeb1?cc.Platformsdk.videoBtnShow(TJ.ADID.store_box1):reddotkit.item.freestore&&cc.Platformsdk.videoBtnShow(TJ.ADID.store_free),this.showGuide())},pageOut:function(){this.pageInView&&(this.pageInView=!1)}}),cc._RF.pop()},{PageBase:"PageBase"}],PageTalent:[function(t,e){"use strict";cc._RF.push(e,"446ef3T3GBHv5RDB/DzKICg","PageTalent"),cc.Class({extends:t("PageBase"),ctor:function(){this.infoPosList={1:{arrrowX:-51,bgPos:cc.v2(-120,131)},2:{arrrowX:0,bgPos:cc.v2(10,131)},3:{arrrowX:63,bgPos:cc.v2(120,131)},4:{arrrowX:-51,bgPos:cc.v2(-120,-45)},5:{arrrowX:0,bgPos:cc.v2(10,-45)},6:{arrrowX:63,bgPos:cc.v2(120,-45)},7:{arrrowX:-51,bgPos:cc.v2(-120,-221)},8:{arrrowX:0,bgPos:cc.v2(10,-221)},9:{arrrowX:63,bgPos:cc.v2(120,-221)}},this.itemArr=[]},properties:{info:cc.Label,goldNum:cc.Label,button:cc.Button,moveNode:cc.Node,c_talent:cc.Node,item_talent:cc.Prefab,infoNode:cc.Node,arrowNode:cc.Node,infoTitle:cc.Label,infoDes:cc.Label},onLoad:function(){for(var t=1;t<10;t++){var e=nodekit.createNode(this.item_talent);e.parent=this.c_talent;var i=e.getComponent("Item_talent");i.init({id:t}),i.handleClick=this.click_item.bind(this),this.itemArr.push(i)}this.updateBtn(),cc.game.on("p4_update",this.updateBtn,this)},onDestroy:function(){cc.game.off("p4_update",this.updateBtn,this)},updateBtn:function(){if(this.button.interactable){this.allMax=!1,this.notEnoughGold=!1,this.notEnoughLv=!1;var t=operkit.getTalentCount();this.info.string=t?"Upgraded "+t+" times":"";var e=OperDefine.talentUp[t+1];if(e){this.number=e.gold;var i=operkit.getRoleLv();this.notEnoughLv=i<e.lv,this.notEnoughGold=!OperBridge.checkMoney(OperBridge.MONEY_TYPE.GOLD,this.number),this.notEnoughLv&&(this.info.string="Need to be upgraded to level "+e.lv),this.goldNum.string=""+this.number}else this.allMax=!0,this.goldNum.string="Full class";this.resetBtnTxtColor(),this.checkReddot()}},resetBtnTxtColor:function(){this.pageInView&&(this.info.node.color=this.notEnoughLv?new cc.Color(255,0,0,255):new cc.Color(255,255,255,255),this.goldNum.node.color=this.notEnoughGold?new cc.Color(255,0,0,255):new cc.Color(255,255,255,255))},click_other:function(){this.infoNode.active=!1},click_item:function(t,e,i,a){if(this.clickItemId&&this.clickItemId===t&&this.infoNode.active)this.infoNode.active=!1;else{this.clickItemId=t;var n=this.infoPosList[t];this.infoTitle.string=e,this.infoDes.string=i+"+"+a,this.arrowNode.x=n.arrrowX,this.infoNode.setPosition(n.bgPos),this.infoNode.active=!0}},click_upgrade:function(){return nodekit.playMusic(SoundEffectPath.op_click),this.infoNode.active=!1,this.allMax?OperBridge.toastTip("Talent is full"):this.notEnoughLv?OperBridge.toastTip("Insufficient character level"):void OperBridge.useMoney(OperBridge.MONEY_TYPE.GOLD,this.number,function(t){t&&(12===window.curGuideStep&&(operkit.setGuideStep1015(12),OperBridge.hideGuideLayer()),this.repeat=21,this.targetIdx=this.getTargetIdx(),this.button.interactable=!1,this.showAction())}.bind(this))},nextMoveIdx:function(){for(var t=operutils.random(0,8);this.moveidx==t;)t=operutils.random(0,8);this.moveidx=t,nodekit.playEffect(SoundEffectPath.talent_roll)},showAction:function(){if(this.moveNode.setPosition(-4,-4),this.moveNode.opacity=255,this.repeat>0){this.nextMoveIdx(),this.moveNode.parent=this.itemArr[this.moveidx].node;var t=this;setTimeout(function(){t.repeat--,t.showAction()},120)}else this.moveNode.parent=this.itemArr[this.targetIdx].node,this.moveNode.runAction(cc.sequence(cc.repeat(cc.sequence(cc.delayTime(.15),cc.fadeTo(.15,0),cc.fadeTo(.1,255)),3),cc.callFunc(function(){this.showResult()},this),cc.fadeOut(.2)))},getTargetIdx:function(){if(operkit.getTalentLvById(9)){for(var t={},e=1;e<9;e++){var i=OperDefine.TALENT_MAX_LV-operkit.getTalentLvById(e);t[e]=Math.pow(i,2)}return(e=operutils.getTargetKeyAtKW(t))-1}return 8},showResult:function(){this.button.interactable=!0,this.itemArr[this.targetIdx].levelUP(),this.updateBtn()},checkReddot:function(){this.notEnoughLv||this.notEnoughGold?reddotkit.setTalentUp(0):reddotkit.setTalentUp(1),OperBridge.checkReddotById("tag_talent")},showGuide:function(t){if(window.INGUIDEPROGRESS)if(11.9===window.curGuideStep)OperBridge.hideGuideLayer(),menuManager.pop("sub2#/operate/npc/pop_chat",{chatObj:ChatDefine.first_dialogue[9],cb:function(){operkit.setGuideStep1015(11.9),OperBridge.checkNextGuide()}.bind(this)});else if(12===window.curGuideStep){if(this.showGuideing)return;this.showGuideing=!0,OperBridge.hideGuideLayer(),setTimeout(function(){OperBridge.createMaskLayerByNode(this.button.node),this.showGuideing=!1}.bind(this),t?10:700)}},pageIn:function(){this.pageInView||(this.pageInView=!0,this.infoNode.active=!1,this.showGuide(),setTimeout(function(){this.resetBtnTxtColor()}.bind(this),100))},pageOut:function(){this.pageInView&&(this.pageInView=!1,this.infoNode.active=!1)}}),cc._RF.pop()},{PageBase:"PageBase"}],PageTask:[function(t,e){"use strict";cc._RF.push(e,"f1561vCNwRA9YN55G1aVO72","PageTask"),cc.Class({extends:t("PageBase"),properties:{proBg1:cc.Node,proBg2:cc.Node,proFlag:cc.Node,scrollView:cc.ScrollView,c_lc:cc.Node,c_chapter:cc.Node,item_wang:cc.Prefab,item_chapter:cc.Prefab,item_reward:cc.Prefab,contentLayout:cc.Layout,contentBgSp:cc.Sprite},onLoad:function(){this.heightOffset=60,window.WIDE_SCREEN&&(this.heightOffset=146,this.contentLayout.paddingBottom=200),this.updateTaskUI()},updateTaskUI:function(){reskit.setSpNodeFrame(this.contentBgSp,OperUrl.p_pt_task_bg),this.c_lc.removeAllChildren(),this.c_chapter.removeAllChildren(),reddotkit.item.lcCanGetList={},this.rewardItemList={};var t=operkit.isJYChapter()?1:0,e=0,i=operkit.isJYChapter()?OperDefine.lcDotArrS:OperDefine.lcDotArrA;for(var a in i){var n=i[a].split("#"),s=1*n[0],o=1*n[1];s-t>0&&(this.addChapterItem(e,t),t=s,e=0),this.addRewardItem(s,o),e++}this.addChapterItem(e,t),void 0===window.CUR_LC_SHOWNUM&&(window.CUR_LC_SHOWNUM=reddotkit.getLcReddotSum()),OperBridge.checkReddotById("tag_menu1"),this.c_lc.getComponent(cc.Layout).updateLayout(),this.proBg1.height=this.c_lc.height+this.heightOffset},addChapterItem:function(t,e){nodekit.createNode(this.item_wang).parent=this.c_lc;var i=nodekit.createNode(this.item_chapter);i.height=150*t+62+5*(t+1)+23,i.chapter=e,i.parent=this.c_chapter},addRewardItem:function(t,e){var i=nodekit.createNode(this.item_reward);i.chapter=t,i.dot=e,i.pageJs=this,i.parent=this.c_lc;var a=i.getComponent("Item_lc_reward");this.rewardItemList[t+"#"+e]=a},updateProgress:function(){var t=void 0,e=void 0,i=operkit.isJYChapter()?OperDefine.lcDotArrS:OperDefine.lcDotArrA;for(var a in i){var n=i[a],s=this.rewardItemList[n];if(!s.status){e=s.node;break}t=s.node}e||(e=t);var o=0,r=0,c=1,h=0,d=1,l=0;t&&(o=t.y+79,c=t.chapter,h=t.dot),e&&(r=e.y+79,d=e.chapter,l=e.dot);var u=operkit.getMaxWarChapter(),f=operkit.getMaxWardot(),m=operkit.getDisByCD(c,h,d,l),p=operkit.getDisByCD(c,h,u,f),g=0;m>0&&(g=p/m),(c<d||0===m)&&(o+=130);var v=(r-o)*(g=g>1?.5:g)+o;if(this.proBg2.runAction(cc.resizeTo(1,20,v+10)),this.proFlag.runAction(cc.moveTo(1,cc.v2(-244,v))),window.INGUIDEPROGRESS||v<415)this.scrollView.scrollToPercentVertical(0);else if(v>this.proBg1.height-580)this.scrollView.scrollToPercentVertical(1);else{var b=this.proFlag.parent.convertToWorldSpaceAR(cc.v2(-244,v)).y-568;this.scrollView.content.y-=b}setTimeout(function(){this.scrollView.node.getComponent("ScrollViewHandle").optDc(),this.proBg2.opacity=255,this.proFlag.opacity=255}.bind(this),10)},start:function(){},showGuide:function(t){var e=function(e,i,a){if(operkit.getReceivedIdxArr(e,i).indexOf(a)>=0)return operkit.setGuideStep1015(window.curGuideStep),void OperBridge.checkNextGuide();this.scrollView.vertical=!1,this.showGuideing||(this.showGuideing=!0,OperBridge.hideGuideLayer(),setTimeout(function(){OperBridge.createMaskLayerByNode(this.rewardItemList[e+"#"+i].latList[a].node),this.showGuideing=!1}.bind(this),t?300:700))}.bind(this);window.INGUIDEPROGRESS&&(8===window.curGuideStep?e(0,10,1):9===window.curGuideStep&&e(0,10,2))},pageIn:function(){this.pageInView||(window.CUR_LC_SHOWNUM=reddotkit.getLcReddotSum(),this.pageInView=!0,this.updateProgress(),this.scrollView.vertical=!0,this.showGuide(),reddotkit.getLcReddotSum(!0)&&cc.Platformsdk.videoBtnShow(TJ.ADID.lc_reward))},pageOut:function(){this.pageInView&&(this.pageInView=!1)}}),cc._RF.pop()},{PageBase:"PageBase"}],PageWar:[function(t,e){"use strict";cc._RF.push(e,"564a5NgWN1OpaUl4sTbyodm","PageWar"),cc.Class({extends:t("PageBase"),properties:{operate:cc.Node,titleLab:cc.Label,maxLab:cc.Label,mapPageView:cc.PageView,mapPageContent:cc.Node,item_chapter:cc.Prefab,ltNode:cc.Node,rtNode:cc.Node,startBtn:cc.Node,debugNodes:[cc.Node],switchNode:cc.Node,switchSp:cc.Sprite,bgSp:cc.Sprite,titleSp:cc.Sprite,relicsNode:cc.Node,reddotPre:cc.Prefab},onLoad:function(){OperDefine.DEBUG?this.reSetDebug():setTimeout(function(){this.reSetDebug()}.bind(this),3e3),this.switchGame(),this.ltNode.runAction(cc.sequence(cc.moveBy(.5,cc.v2(-12,0)),cc.moveBy(.5,cc.v2(12,0))).repeatForever()),this.rtNode.runAction(cc.sequence(cc.moveBy(.5,cc.v2(12,0)),cc.moveBy(.5,cc.v2(-12,0))).repeatForever());var t=Object.keys(operkit.getRelics());this.relicShowing=t.length>0,this.relicsNode.active=this.relicShowing,this.checkRelicsReddot(),nodekit.addNodeTouchEvent(this.relicsNode,function(t){switch(t.type){case cc.Node.EventType.TOUCH_START:t.target.setScale(.95);break;case cc.Node.EventType.TOUCH_MOVE:break;case cc.Node.EventType.TOUCH_END:t.target.setScale(1),menuManager.pop("sub2#/operate/prefab/pop_relics_list",{cb:function(){this.checkRelicsReddot()}.bind(this)});break;case cc.Node.EventType.TOUCH_CANCEL:t.target.setScale(1)}}.bind(this))},checkRelicsReddot:function(){reddotkit.getNewRelicKey().length>0?(this.relicsNode.active=!0,this.relicsRedotJs||(this.relicsRedotJs=reddotkit.createReddotByPre(this.reddotPre),this.relicsRedotJs.init({pNode:this.relicsNode,type:window.REDDOT_TYPE.RDot,pos:cc.v2(20,13)})),this.relicsRedotJs.showDot("",window.REDDOT_TYPE.RDot)):this.relicsRedotJs&&this.relicsRedotJs.hideDot()},showSwitchGuide:function(){reskit.loadPrefab("sub2#/operate/prefab/entity/circle_node",function(t){this.circleNode=nodekit.createNode(t),this.circleNode.parent=this.switchNode,this.circleNode.getComponent("CircleNode").showCircleAction(1)}.bind(this))},switchGame:function(){this.circleNode&&(this.circleNode.destroy(),this.circleNode=void 0),this.switchNode.active=operkit.getMaxWarChapter(!0)>3,operkit.isJYChapter()?(this.chapterDefine=OperDefine.chapterS,reskit.setSpNodeFrame(this.switchSp,OperUrl.p_jy_btn),reskit.setSpNodeFrame(this.bgSp,OperUrl.p_jy_bg),reskit.setSpNodeFrame(this.titleSp,OperUrl.p_jy_title_bg)):(operkit.getMaxWarChapter()>0?(this.chapterDefine=operutils.copyObj(OperDefine.chapterA),this.chapterDefine[0]&&delete this.chapterDefine[0]):this.chapterDefine=OperDefine.chapterA,reskit.setSpNodeFrame(this.switchSp,OperUrl.p_pt_btn),reskit.setSpNodeFrame(this.bgSp,OperUrl.p_pt_bg),reskit.setSpNodeFrame(this.titleSp,OperUrl.p_pt_title_bg));var t=Object.keys(this.chapterDefine);for(var e in this.minCNum=1*this.chapterDefine[t[0]].id,this.maxCNum=1*this.chapterDefine[t[t.length-1]].id,this.chapter=operkit.getCurWarChapter(),this.mapPageView.removeAllPages(),this.chapterNodeList={},this.pageIdxList={},t){var i=this.chapterDefine[t[e]],a=nodekit.createNode(this.item_chapter);a.chapter=1*i.id,a.limitC=1*i.limit,this.mapPageView.addPage(a),this.chapterNodeList[a.chapter]=a,this.pageIdxList[e]=a.chapter,a.chapter===this.chapter&&(this.curIndex=1*e)}this.mapPageView.node.opacity=0,setTimeout(function(){this.pageToIndex(this.curIndex),this.mapPageView.node.opacity=255}.bind(this),100),this.updateMap()},updateMap:function(t){var e=this.chapterDefine[this.chapter],i=operkit.getMaxWarChapter(),a=operkit.getMaxWardot();this.titleLab.string=(this.chapter?this.chapter+".":"")+e.title,-1===t?(this.maxLab.string="Locked",this.maxLab.node.color=new cc.Color(255,0,0,255),this.startBtn.active=!1,this.relicsNode.active=!1):(this.maxLab.string=i-this.chapter>0?"Passed":"Best: "+a+"/"+e.num,this.maxLab.node.color=new cc.Color(255,255,255,255),this.startBtn.active=!0,this.relicsNode.active=!!this.relicShowing),this.chapter>=this.maxCNum?(this.ltNode.opacity=255,this.rtNode.opacity=0):this.chapter<=this.minCNum?(this.ltNode.opacity=0,this.rtNode.opacity=255):(this.ltNode.opacity=255,this.rtNode.opacity=255)},checkChapter:function(t){t!==this.chapter&&(this.chapter=t,this.chapterNodeList[this.chapter].mLockEn?this.updateMap(-1):(operkit.setCurWarChapter(t),this.updateMap()))},clickLR:function(t,e){t.target.opacity&&(1===(e=parseInt(e))?this.curIndex--:this.curIndex++,this.mapPageView.setCurrentPageIndex(this.curIndex))},pageToIndex:function(t){this.mapPageView.scrollToPage(t,0),this.mapPageView.setCurrentPageIndex(t),this.pageViewClick()},pageViewClick:function(){var t=this.mapPageView.getCurrentPageIndex();this.curIndex=1*t,this.checkChapter(this.pageIdxList[t])},nextAndHideMap:function(t){this.mapPageView.node.parent.opacity=0,this.titleSp.node.opacity=0,setTimeout(function(){for(var e in this.pageIdxList)if(this.pageIdxList[e]===t)return this.pageToIndex(1*e)}.bind(this),100)},showMap:function(){this.mapPageView.node.parent.opacity=255,this.titleSp.node.opacity=255},clickMap:function(){console.log("----1--- ",this.chapter)},setting:function(){menuManager.pop("sub#/operate/prefab/popwin/poplittlewin",{type:"setting"})},signin:function(){menuManager.pop("sub#/operate/prefab/popwin/poplittlewin",{type:"sign"})},offlineBtn:function(){menuManager.pop("sub#/operate/prefab/popwin/poplittlewin",{type:"offline"})},eventBtn1:function(){},luckDraw:function(){console.log("------- luckDraw -------------------- ")},task:function(){console.log("------- task -------------------- ")},showGuide:function(t){if(window.INGUIDEPROGRESS){var e=operkit.getGuideStep1015();if(11===window.curGuideStep||10===e){if(operkit.setGuideStep1015(11),this.showGuideing)return;this.showGuideing=!0,OperBridge.hideGuideLayer(),setTimeout(function(){OperBridge.checkNextGuide("PageWar-showGuide"),OperBridge.removeGuideLayer(),this.showGuideing=!1}.bind(this),t?10:700)}}},pageIn:function(){this.pageInView||(this.pageInView=!0,this.showGuide(),this.checkRelicsReddot())},pageOut:function(){this.pageInView&&(this.pageInView=!1)},openDebug:function(){cc.Platformsdk.debugTest&&(this.clickCount||(this.clickCount=0,this.clickTime=(new Date).getTime()),operutils.disTimeM(this.clickTime)<400?this.clickCount++:this.clickCount=1,this.clickTime=(new Date).getTime(),7===this.clickCount&&(this.clickCount=0,OperDefine.DEBUG=1,this.reSetDebug(),OperBridge.toastTip("Ah~~~")))},reSetDebug:function(){for(var t in this.debugNodes)OperDefine.DEBUG?(this.debugNodes[t].active=!0,"Debug"==this.debugNodes[t].name&&(this.debugNodes[t].parent=cc.find("Canvas"),this.debugNodes[t].zIndex=OperDefine.zIdx.DEBUG)):this.debugNodes[t].active=!1}}),cc._RF.pop()},{PageBase:"PageBase"}],PathFinder:[function(t,e){"use strict";cc._RF.push(e,"c7858IdadZDpbJ9uNQ9+NhJ","PathFinder");var i=function(){var t,e;return(e=(t={constructor:function(t){this.array=[],this.compare=t||i},empty:function(){return 0===this.array.length},pop:function(){return this.array.pop()||void 0},insert:function(t,e){var i=t;if(i){i.priority=e;for(var a,n,s=this.array,o=this.compare,r=s.length-1,c=0,h=-1;r>=c;)if((n=o(s[a=(r+c)/2>>>0],i))<0)c=a+1;else{if(!(n>0)){h=a+1;break}r=a-1}for(-1===h&&(h=r+1),a=s.length,s.push(i);a>h;)s[a]=s[--a];return s[h]=i,this}}}).constructor).prototype=t,e;function i(t,e){return t.priority<e.priority?1:t.priority>e.priority?-1:0}}(),a=function(){return{node:null,distance:1/0}},n=function(t,e){var i={id:t,position:e,distance:1/0,predecessor:new a,visited:!1,edges:[],addEdge:function(t){for(var e=0;e<i.edges.length;++e)if(i.edges[e].node===t.node)return;i.edges.push(t)}};return i},s=function(){var t={nodes:{},addNode:function(e,i){var a=new n(e,i);return t.nodes[e]=a,a},addEdge:function(e,i,n){var s=new a;s.node=t.nodes[i],s.distance=n,t.nodes[e].addEdge(s),(s=new a).node=t.nodes[e],s.distance=n,t.nodes[i].addEdge(s)}};return t};e.exports=function(t){var e,o,r,c,h={},d=t.map,l=t.width,u=t.height,f=0,m=1.414,p=0,g=1,v=2;function b(t,n,s,h){var d;for(var l in c&&c.clear(),e.nodes)if(d=e.nodes[l]){if(d.distance=1/0,d.predecessor.node=null,d.predecessor.distance=1/0,d.visited=!1,c){var u=d.position[0]*CELL_W+2,f=d.position[1]*CELL_H+2;c.lineWidth=2,c.strokeColor=cc.color(0,20,255,50),c.rect(u,f,CELL_W-4,CELL_H-4),c.stroke()}}else cc.log("Pathfinder:cant found graph node!");var m=o[w(t,n)];m&&(m.distance=0,m.visited=!1),c&&(u=m.position[0]*CELL_W+2,f=m.position[1]*CELL_H+2,c.lineWidth=2,c.strokeColor=cc.color(255,255,0,50),c.rect(u,f,CELL_W-4,CELL_H-4),c.stroke());var p=new i;p.insert(m,0);var g=r[w(s,h)];if(g)for(;!p.empty();)if(!(d=p.pop()).visited){if(d.visited=!0,g[d.id]){if(d.distance+=g[d.id],c){var b=(d.position[0]+.5)*CELL_W,k=(d.position[1]+.5)*CELL_H,y=(s+.5)*CELL_W,_=(h+.5)*CELL_H;c.moveTo(b,k),c.lineTo(y,_),c.lineWidth=2,c.strokeColor=cc.color(0,255,255,255),c.stroke()}return d}for(l=0;l<d.edges.length;++l){var x=d.edges[l],B=x.node;if(!B.visited){var C=d.distance+x.distance;if(C<B.distance){B.distance=C;var A=new a;A.node=d,A.distance=x.distance,B.predecessor=A;var T=S(B.position[0],B.position[1],s,h,v);p.insert(B,B.distance+T),c&&(b=(d.position[0]+.5)*CELL_W,k=(d.position[1]+.5)*CELL_H,y=(B.position[0]+.5)*CELL_W,_=(B.position[1]+.5)*CELL_H,c.moveTo(b,k),c.lineTo(y,_),c.lineWidth=2,c.strokeColor=cc.color(0,255,255,255),c.stroke())}}}}}function k(){for(var t=[],e=0;e<d.length;++e)for(var i=0;i<d[e].length;++i)if(d[e][i]!==f)for(var a=C(i,e,v),n=0;n<a.length;++n){var s=a[n],o=s[0],r=s[1];if(d[r][o]===f&&!B([[i,r],[o,e]])){t.push([i,e]);break}}return t}function y(t,e,i){for(var n=0;n<l;n++)for(var s=0;s<u;s++)if(d[i][e]!==f&&(e==n&&i==s||_(e,i,n,s))){var c=S(e,i,n,s,v);r[w(n,s)][w(e,i)]=c;var h=o[w(n,s)],m=new a;m.node=x(t,w(e,i)),m.distance=c,h.addEdge(m)}}function S(t,e,i,a,n){var s;if(n===g)s=Math.abs(i-t)+Math.abs(a-e);else if(n===v){var o=Math.abs(i-t),r=Math.abs(a-e);s=r<o?r*m+(o-r):o*m+(r-o)}return s}function _(t,e,i,a){var n=t,s=e,o=Math.abs(i-t),r=Math.abs(a-e),c=i-t>0?1:-1,h=a-e>0?1:-1;if(o>=r)for(var l=r-o,u=c;u<o+c;u++){if(l>=0){if(l-=o+o,d[(s+=h)-h][n+c]==f)return!1;if(d[s][n]==f)return!1}if(n+=c,l+=r+r,d[s][n]==f)return!1}else for(l=o-r,u=h;u<r+h;u++){if(l>=0){if(n+=c,l-=r+r,d[s+h][n-c]==f)return!1;if(d[s][n]==f)return!1}if(l+=o+o,d[s+=h][n]==f)return!1}return!0}function x(t,e){return t.nodes.hasOwnProperty(e)?t.nodes[e]:null}function w(t,e){return t+","+e}function B(t){for(var e=0;e<t.length;++e){var i=t[e][0],a=t[e][1];if(d[a][i]===f)return!0}return!1}function C(t,e,i){var a=function(t,e,i){return i===p?[[t-1,e-1],[t,e-1],[t+1,e-1],[t-1,e],[t+1,e],[t-1,e+1],[t,e+1],[t+1,e+1]]:i===g?[[t,e-1],[t-1,e],[t+1,e],[t,e+1]]:i===v?[[t-1,e-1],[t+1,e-1],[t-1,e+1],[t+1,e+1]]:void 0}(t,e,i),n=[];for(var s in a){var o=a[s],r=o[0],c=o[1];r>l-1||c>u-1||r<0||c<0||n.push(o)}return n}return h.search=function(t,e,i,a,n){return function(t,e,i,a,n){var s=b(t,e,i,a);if(!s)return cc.log("cornerRoute cant find endNode:",t,e,i,a),1/0;var o=s,r=o.distance;for(n.push({x:i,y:a});null!==o.predecessor.node;)n.push({x:o.position[0],y:o.position[1]}),o=o.predecessor.node;return o.position[0]!==t||o.position[1]!==e?1/0:(n.reverse(),r)}(t,e,i,a,n)},h.setDebug=function(t,e,i){if(t){var a=new cc.Node;t.node.addChild(a,111),a.setPosition(e*CELL_W,i*CELL_H),c=a.addComponent(cc.Graphics)}else c&&(c.node.destroy(),c=null)},function(){o={},r={};for(var t=0;t<l;t++)for(var i=0;i<u;i++)o[w(t,i)]=new n(w(t,i),[t,i]),r[w(t,i)]={};e=function(){for(var t=k(),e=new s,i=0;i<t.length;++i){var a=t[i][0],n=t[i][1];e.addNode(w(a,n),[a,n]),y(e,a,n)}for(i=0;i<t.length;++i)for(var o=0;o<t.length;++o)if(i!=o){var r=t[i][0],c=t[i][1],h=t[o][0],d=t[o][1];if(_(r,c,h,d)){var l=S(r,c,h,d,v);e.addEdge(w(r,c),w(h,d),l)}}return e}()}(),h},cc._RF.pop()},{}],PatrolUpdater:[function(t,e){"use strict";cc._RF.push(e,"c45a4J9ZTBOjIXQZXlUjD9W","PatrolUpdater");var i=cc.Class({init:function(t,e){e=e||{},this.alarmTime=e.alarmTime||0,this.alarmTimer=this.alarmTime,this.alarmRange=e.alarmRange||t.ai&&t.ai.alarmRange||100,this.autoAttack=e.s,this.seekTimer=1,this.obj=t,this.hasObjAlarm=this.obj.ai&&this.obj.ai.getActivated,this.createAlarmCircleEff(this.alarmRange),this.obj.PatrolUpdater=this,this.obj.schedule(this.updateLogic.bind(this))},createAlarmCircleEff:function(t){if(!this.hasObjAlarm){var e=2*t,i=this.effectMgr.createSprite(0,0,"uiz/effect/ability_warn");i.opacity=100;var a=i.getContentSize();i.scale=e&&e/a.height||1,this.obj.alarmCircle=i,this.obj.addChild(i,-1)}},updateLogic:function(t){this.seekTimer-=t,this.seekTimer<=0&&(this.seekTimer=.5+Math.random(),this.seek()),this.target&&(this.alarmTimer-=t,this.alarmTimer<=0?this.getActivated():this.alarmTimer=this.alarmTime),this.obj.hp<this.obj.hpMax&&this.getActivated()},seek:function(){for(var t=this.obj,e=g_sharedContactManager.contactList,i=t.x0,a=t.y0,n=1e12,s=null,o=0;o<e.length;o++){var r=e[o],c=r.x0-i,h=r.y0-a,d=c*c+h*h;r.team!=t.team&&!r.isDead&&r.canAutoAim&&(!this.alarmRange||d<=this.alarmRange*this.alarmRange)&&d<n&&(n=d,s=r)}this.target=s},getActivated:function(){this.activated||(!this.alarmRange||this.obj.ai&&this.obj.ai.getActivated||this.obj.getAlarmed(),this.activated=!0,this.activateNearby(),this.obj.unschedule(this.obj.PatrolUpdater.seek),this.obj.setAIEnabled(!0),this.obj.callMove({s:0}),this.autoAttack?this.obj.startAutoAttack&&this.obj.startAutoAttack():this.obj.stopAutoAttack&&this.obj.stopAutoAttack(),!this.hasObjAlarm&&this.obj.alarmCircle&&(this.obj.alarmCircle.destroy(),this.obj.alarmCircle=null))},activateNearby:function(){for(var t=this.obj,e=g_sharedContactManager.contactList,i=t.x0,a=t.y0,n=0;n<e.length;n++){var s=e[n],o=s.x0-i,r=s.y0-a,c=o*o+r*r;s.team==t.team&&!s.isDead&&s.canAutoAim&&(!this.alarmRange||c<=this.alarmRange*this.alarmRange)&&(s.PatrolUpdater?s.PatrolUpdater.getActivated():s.ai&&s.ai.getActivated&&s.ai.getActivated())}}});e.exports=i,cc._RF.pop()},{}],PauseMenu:[function(t,e){"use strict";cc._RF.push(e,"59d98EJ/VNCtKcGbeVm20Qo","PauseMenu"),cc.Class({extends:t("Menu"),properties:{cards:[cc.Node]},onLoad:function(){},start:function(){},init:function(t){this.game=t.game,this.game.pushTimeScale(0),this.initTalent(),this.initRelic(),record.pause()},initRelic:function(){if(this.game.gameManager){var t=this.game.gameManager.getData("relicUsing");if(t){var e,i=TalentDefine[t];(e=this.game.effectMgr.createSprite(-250,0,"sub3#ui/relic/bg_"+i.rarity)).scale=.5,this.node.getChildByName("title").addChild(e),(e=this.game.effectMgr.createSprite(-250,0,"sub3#ui/relic/icon/"+i.content)).scale=.5,this.node.getChildByName("title").addChild(e),(e=this.game.effectMgr.createLabel2(-250,-80,i.title,20)).color=RarityTextColor[i.rarity],this.node.getChildByName("title").addChild(e)}}},initTalent:function(){if(this.game.gameManager){console.log("initTalent list",this.game.gameManager.config.talent);var t=this.game.gameManager.config.talent,e=0;for(var i in t){var a,n=TalentDefine[t[i].id];n.noShow||((a=this.game.effectMgr.createLabel2(130*(e%5-2),150*-Math.floor(e/5)+120,n.title,20)).color=RarityTextColor[n.rarity],this.node.addChild(a),(a=this.game.effectMgr.createSprite(130*(e%5-2),150*-Math.floor(e/5)+200,"uiz/chooseBonus/icon/"+n.content)).scale=1,this.node.addChild(a),e++)}}},resumeGame:function(){this.game.popTimeScale(0),menuManager.close(),record.resume()},endGame:function(){var t=this,e=function(e){if(e&&(menuManager.runWithTransition("mainMenu",{},!0,"mainui"),t.game.effectMgr.stopBGM(),t.game.gameManager&&this.game.gameManager.clearSaveGame(),record.stop(1),!operkit.loadWarData("first_exit"))){var i=this.game.gameManager,a={chapter:operkit.getCurWarChapterTJ(),point:i.levelPool.index};tjSDK.onEvent("first_exit",a),operkit.saveWarData("first_exit",!0,!0)}}.bind(this);menuManager.pop("sub#/operate/prefab/popwin/poplittlewin",{type:"back2main",cb:e})}}),cc._RF.pop()},{Menu:"Menu"}],PharahGrenade:[function(t,e){"use strict";cc._RF.push(e,"e69d2Vt41lBv7aQd2ioBNaj","PharahGrenade"),cc.Class({extends:t("Ammo"),init:function(t,e,i){this._super(t,e,i),this.minradius=t.minradius||0,this.dmgk=t.dmgk||0,this.hurtradius=t.hurtradius||35},initSprite:function(){if(!this.game.fastMode){var t=this.define;if(t.anim)var e=Effect.Animation.createByObj(t.anim);else e=this.effectMgr.createSprite(0,0,t.frm||"bullet"),this.game.bindScheduler(e);if(e.setAnchorPoint(t.anchorX||.5,t.anchorY||.85),!t.noBlend){var i=e.getComponent(cc.Sprite);i.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,i.dstBlendFactor=cc.macro.BlendFactor.ONE}this.game.camera.addChild(e,11),this.sprite=e,t.bltEff&&t.bltEff(this.sprite,this.game)}},move:function(t,e){console.log("----move-----"),this._super(t,e),this.game.fastMode||(this.smoke=this.define.smoke&&Effect[this.define.smoke]&&Effect[this.define.smoke](this.sprite,this.game)),g_sharedContactManager.addBullet(this);var i=this.sprite;if(i){var a=this.define;if(i.setScale(a.sx||1,a.sy||1),this.define.sameR){var n=i.width,s=2*this.radius/n;i.setScale(s)}this.sx=a.sx||1,this.sy=a.sy||1,a.st&&(this.sx=a.sx1||1,this.sy=a.sy1||1,i.runAction(cc.scaleTo(a.st||.3,this.sx,this.sy)))}},remove:function(){this.isRemoved||(this.smoke&&this.smoke.remove(),this._super(),this.sprite||this.hit(),g_sharedContactManager.removeBullet(this))},removeSprite:function(){var t=this.sprite;t&&(t.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){this.hit()}.bind(this)),cc.destroySelf())),this.sprite=null)},bomb:function(){this.game.fastMode||this.define.bombEff&&this.define.bombEff(this,this.game),this.define.hitSound&&this.effectMgr.play(SoundEffectPath[this.define.hitSound]),this.game.removeUpdate(this)},onCover:function(t,e,i,a){var n=this.obj,s=Math.sqrt(e)+1,o=this.hurtradius+t.radius,r=this.minradius+t.radius,c=this.dmgk,h=this.buff;if(s<r)n.hit(this.dmg,this,t,DMG_TYPE.explo);else{var d=this.dmg*(1-.01*(100-c)*(s-r)/(o-r));d<0&&(d=0),n.hit(d,this,t,DMG_TYPE.explo)}if(h)for(var l=0;l<h.length;l++)new h[l].ctor(h[l],{obj:t,from:this.obj});var u=this.knockBack/(s*t.weight);t.knockback(-i*u,-a*u)},hit:function(){if(!this.alreadyHit){this.alreadyHit=!0;var t=this.hurtradius,e=this.x,i=this.y;return g_sharedContactManager.checkAliveEnemy(this,e,i,t,this.team,this.onCover),this.game.fastMode,this.bomb(),this.smoke&&this.smoke.remove(),this.remove(),!0}},hitWall:function(){console.log("---------"),this.isRemoved=!0,this.hit(),this.sprite&&this.sprite.destroy(),this.game.removeUpdate(this),g_sharedContactManager.removeBullet(this)}}),cc._RF.pop()},{Ammo:"Ammo"}],PharahPulseBomb:[function(t,e){"use strict";cc._RF.push(e,"7ed09d+DhNONbCnDN5vIu5D","PharahPulseBomb"),cc.Class({extends:t("BlowUPSkill"),cast:function(){if(this._super())return!0;this.obj.playAnim({anim:"attack",loop:0,time:.5})},excute:function(t){if(this.firstExcute||(this.firstExcute=!0,this.game.effectMgr.play(SoundEffectPath.pharah_Grenade)),this.attackTimer-=t,this.attackTimer<0&&!this.stopAttackTimer&&(this.stopAttackTimer=!0,this.obj.setNoAttack(!1)),this.attackTimer<-.15)return!0}}),cc._RF.pop()},{BlowUPSkill:"BlowUPSkill"}],Platformsdk:[function(t,e){"use strict";cc._RF.push(e,"a4692YT32dFDIWsoJg3Qem1","Platformsdk");var i=!1,a=0,n={title:"3D",img:"/loading/loading"},s={customAdId:null,bannerId:null,videoId:{offline:null},videoAdList:{},videoEnList:{},videoEnable:!0,interEnable:!0,shareEnable:!0,shareAfter:void 0,customAdEnable:!1,bannerRefreshCount:-1,bannerShowCount:0,init:function(){qmSDK.stratGame(function(){s.loadBanner(!1)}),window.wx&&!window.tt&&window.wx.cloud.init(),wx.onHide(function(){operkit.sendData2Server(1)}),s.loadVideo(),s.loadInterAd(),wx.onShow(function(t){cc.log("wx,,on show"),setTimeout(function(){s.handleOnShow(t)},500)});var t=wx.getLaunchOptionsSync();s.handleOnShow(t),qmSDK.shareCheck()},handleOnShow:function(t){if(t){var e=t.query;cc.log("--query:"+JSON.stringify(e)),e&&"invite"==e.s&&cc.log("--check Invite--")}if(a===TJ.ADID.share_by_3dot)tjSDK.onEvent(TJ.eventId.share_result,{adid:a,result:i?1:0}),tjSDK.onEventQm(TJ.eventId_qm.share_action,TJ.ADID_QM[a],i?"3":"2");else if(s.shareAfter&&"function"==typeof s.shareAfter&&this.shareTime){if(i){i=!1;var n=(new Date).getTime(),o=(new Date).getTime();if(n<0||o-n>72e5)s.shareAfter(!1,"2");else{var r=o-this.shareTime;if(cc.log("share t:"+r),r>=3e3){var c=operutils.random(0,9);c<3?s.shareAfter(!1,"30%"):s.shareAfter(!0,"wx onShow:rd:"+c)}else s.shareAfter(!1,"3")}}else s.shareAfter(!1,"SDKor");this.shareTime=void 0}},getWxSceneID:function(){return window.wx?wx.getLaunchOptionsSync().scene:-1},getUserInfo:function(t){if(window.wx){if(s.nickName&&s.avatarUrl)return void(t&&t(s.nickName,s.avatarUrl));var e=function(e){if(e){if(!window.userInfoButton){var i=cc.winSize.height/cc.winSize.width>=2?50:0,a=wx.createUserInfoButton({type:"text",text:"",style:{left:0,top:i,width:70,height:70,lineHeight:40,backgroundColor:"#00000000",color:"#00000000",textAlign:"center",fontSize:16,borderRadius:4}});a.onTap(function(e){var i=e.userInfo;i?(s.nickName=i.nickName,s.avatarUrl=i.avatarUrl,console.log("getUserInfo ",i),a.destroy(),window.userInfoButton=null,t&&t(s.nickName,s.avatarUrl)):t&&t(!1)}),window.userInfoButton=a,window.gamePlaying&&window.userInfoButton&&window.userInfoButton.hide()}}else window.wx.getUserInfo({success:function(e){var i=e.userInfo;s.nickName=i.nickName,s.avatarUrl=i.avatarUrl,console.log("getUserInfo ",i),t&&t(s.nickName,s.avatarUrl)},fail:function(e){console.log("getUserInfo ",e.errMsg),t&&t(!1)}})};wx.getSetting?(console.log("--2-"),window.wx.getSetting({success:function(t){console.log("--2-get Set"),t.authSetting["scope.userInfo"]?e():(console.log("--3-authorize"),e(1))},fail:function(){e()}})):e()}else t&&t(!1)},onShare:function(t){if(window.wx){var e=n;t.params||(t.params=""),t.from||(t.from="");var i=function(){console.log("--onShare--"),a=TJ.ADID.share_by_3dot,tjSDK.onEvent(TJ.eventId.share_click,{adid:a}),tjSDK.onEventQm(TJ.eventId_qm.share_action,TJ.ADID_QM[a],"0");var i={imageUrl:e.img,title:e.title,query:t.params,ald_desc:t.from+"-"+e.img};return window.mpsdk&&(i=qmSDK.commonShare({from:t.from,title:e.title,image:e.img})),"undefined"!=typeof GameGlobal&&GameGlobal.tdAppSdk&&GameGlobal.tdAppSdk.share({title:i.title,path:i.query}),i};wx.aldOnShareAppMessage?wx.aldOnShareAppMessage(i):wx.onShareAppMessage(i)}},toShare:function(t,e){if(t||(t={}),a=0,s.shareAfter=e||void 0,window.wx){var i=n;t.params?t.params="u="+window.WXOPENID+"&"+t.params:t.params="u="+window.WXOPENID,t.from||(t.from=""),this.shareTime=(new Date).getTime();var o={};window.mpsdk?((o=qmSDK.commonShare({from:t.from,title:i.title,image:i.img}))&&o.query&&o.query.indexOf("&")>0?o.query=o.query+"&"+t.params:o.query=t.params,o.ald_desc=t.from+"-"+i.img):o={imageUrl:i.img,title:i.title,query:t.params,ald_desc:t.from+"-"+i.img},"undefined"!=typeof GameGlobal&&GameGlobal.tdAppSdk&&GameGlobal.tdAppSdk.share({title:o.title,path:o.query}),cc.log("wx shareInfo:",JSON.stringify(o)),wx.aldShareAppMessage?wx.aldShareAppMessage(o):wx.shareAppMessage(o)}else s.shareAfter&&"function"==typeof s.shareAfter&&s.shareAfter(!0,"")},postMessage:function(){},setUserDay:function(){},setUserGold:function(){},loadBanner:function(t){if(window.wx&&s.bannerId){console.log("banner",s.bannerRefreshCount);var e=wx.getSystemInfoSync();e.model.match("iPhone X")&&(console.log("iPhone X"),s.isIphoneX=!0);var i=e.windowHeight-100;s.isIphoneX&&(i-=20);var a={adUnitId:s.bannerId,style:{left:(e.windowWidth-320)/2,top:i,width:320}};s.bannerRefreshCount<0&&(console.log("banner 30s"),a.adIntervals=30);var n=wx.createBannerAd(a);n.onResize(function(t){var i=e.windowHeight-t.height+.1;s.isIphoneX&&(console.log("banner top-20"),i-=20),n.style.top=i,n.style.left=(e.windowWidth-t.width)/2}),n.onError(function(t){console.log("banner ",t),s.wxBanner=!1}),n.onLoad(function(){console.log("banner  ")}),s.wxBanner=n,t&&s.showBanner()}},showBanner:function(){if(window.wx)if(console.log("show Banner",s.isIphoneX),s.wxBanner){s.bannerShowing=!0;var t=cc.Platformsdk.getWxBranchDim("banner ");if(console.log("-------1---banner",t),t){console.log("-------2---banner",TJ.ADID_WX.all_banner,t),console.log("-------2---bannertype",typeof TJ.ADID_WX.all_banner,typeof t);var e=s.wxBanner.show({branchId:TJ.ADID_WX.all_banner,branchDim:t})}else e=s.wxBanner.show();e&&e.then(function(){console.log("banner  hide:",!s.bannerShowing),s.bannerShowing?s.bannerShowCount++:s.removeBanner()})}else s.loadBanner(!1)},removeBanner:function(){if(window.wx)return console.log("hide Banner",s.bannerShowCount,s.bannerRefreshCount),void(s.wxBanner&&(s.bannerShowing=!1,s.wxBanner.hide(),s.bannerRefreshCount>0&&s.bannerShowCount>=s.bannerRefreshCount&&(s.wxBanner.destroy(),s.wxBanner=void 0,s.bannerShowCount=0,s.loadBanner(!1))))},handleVideCb:function(t,e,i){console.log("--: "+t+" resume:"+e+" flag:"+i),e&&s.onResumeGame(),cc.Platformsdk.showVideoCallback(!!t,i)},loadVideo:function(){if(OperBridge.isTouchEnByName("loadVideo",3e3)&&window.wx){var t=s.videoId.offline,e=s.videoAdList[t];e?(console.log("video"),e.load()):(console.log(""),s.initVideo(t))}},initVideo:function(t){if(console.log("--init video:",wx.createRewardedVideoAd),window.wx&&wx.createRewardedVideoAd){console.log("-video id:",t);var e=wx.createRewardedVideoAd({adUnitId:t,multiton:!0});s.videoAdList[t]=e,e.onClose(function(e){cc.log("video onClose",e,t),s.handleVideCb(e.isEnded,!0,"over")}),e.onLoad(function(){console.log("video ",t),s.reloadVideo&&tjSDK.onEvent(TJ.eventId.reload_video_event,{reload:"success"}),s.videoEnList[t]=1,t==s.videoId.offline?s.videoEnable=!0:t==s.videoId.special6||s.videoId.special7}),e.onError(function(e){console.log("video  err:"+e,t),s.reloadVideo&&tjSDK.onEvent(TJ.eventId.reload_video_event,{reload:"fail",errCode:e.errCode+""}),tjSDK.onEventQm(406,e.errCode),s.videoEnList[t]=0,t==s.videoId.offline?s.videoEnable=!1:t==s.videoId.special6||s.videoId.special7})}},showVideoSimple:function(t,e){console.log("--showVideoSimple:"+t),e&&(cc.Platformsdk.showVideoCallback=e),s.showVideo(s.videoId.offline,t)},showVideoSpecial:function(){var t=s.videoAdList[s.videoId.special6],e=s.videoAdList[s.videoId.special7],i=s.videoEnList[s.videoId.special6],a=s.videoEnList[s.videoId.special7];i?s.showVideo(s.videoId.special6):(t?t.load():s.initVideo(s.videoId.special6),a?s.showVideo(s.videoId.special7):(e?e.load():s.initVideo(s.videoId.special7),s.handleVideCb(!1,!1)))},showVideo:function(t,e){cc.log("show video id:",t,e);var i=s.videoAdList[t];if(window.wx)if(i){cc.log("video show"),s.onPauseGame();var a=TJ.ADID_WX.all_rewardVideo,n=cc.Platformsdk.getWxBranchDim(":"+e);if(a&&n){console.log("--onEventWxBranch show:",a);var o=i.show({branchId:a,branchDim:n})}else o=i.show();o&&o.catch(function(t){cc.log("show catch err",t),s.handleVideCb(!1,!0),i.load()})}else s.handleVideCb(!1,!1),s.initVideo(t);else s.handleVideCb(!0,!1)},loadInterAd:function(){if(window.wx&&s.compareVersion(wx.getSystemInfoSync().SDKVersion,"2.6.0")>=0&&wx.createInterstitialAd){console.log(" "),tjSDK.onEvent(TJ.eventId.inter_ad_event,{event:"load"});var t=wx.createInterstitialAd({adUnitId:"adunit-fb2fa3494f825116"});t.onLoad(function(){console.log(" "),tjSDK.onEvent(TJ.eventId.inter_ad_event,{event:"load_success"}),s.interEnable=!0}),t.onError(function(t){console.log("  err:"+t),tjSDK.onEvent(TJ.eventId.inter_ad_event,{event:"load_fail",errCode:""+t.errCode}),s.interEnable=!1,s.interErrorCode=t.errCode}),t.onClose(function(){s.handleInterCb(!0)}),s.interAdObj=t}},updateInterAdTime:function(){s.interAdBgNode&&(s.interShowTime--,s.interAdTimeLab.string=s.interShowTime,0===s.interShowTime&&(s.interAdTimeLab.node.parent.active=!1,s.interAdTimeLab.unschedule(s.updateInterAdTime)))},showInterAd:function(t,e){if(e&&(cc.Platformsdk.showInterCallback=e),window.wx)if(s.interAdObj){if(s.interShowing)return;if(s.interShowing=!0,s.onPauseGame(),console.log("i ",s.interEnable),!s.interEnable)return tjSDK.onEventQm(407),void s.handleInterCb(!1,s.interErrorCode);var i=TJ.ADID_WX.all_interAd,a=cc.Platformsdk.getWxBranchDim("i :"+t);if(i&&a){console.log("--onEventWxBranch show:",i);var n=s.interAdObj.show({branchId:i,branchDim:a})}else n=s.interAdObj.show();n&&(n.then(function(){console.log("i "),s.interShowTime=10;var t=cc.find("Canvas");t&&reskit.loadPrefab("sub2#/operate/prefab/entity/inter_ad_layer",function(e){s.interAdBgNode=nodekit.createNode(e),s.interAdBgNode.parent=t,s.interAdBgNode.zIndex=cc.macro.MAX_ZINDEX,s.interAdTimeLab=cc.find("txt/time",s.interAdBgNode).getComponent(cc.Label),s.interAdTimeLab.string=s.interShowTime,console.log(""),s.interAdTimeLab.schedule(s.updateInterAdTime,1,10,1)})}),n.catch(function(t){console.log("show catch err",t),s.handleInterCb(!1,t.errCode)}))}else cc.Platformsdk.showInterCallback(!1),s.loadInterAd();else cc.Platformsdk.showInterCallback(!1)},handleInterCb:function(t){s.interShowing=!1,console.log("--: "+t,s.interShowTime),s.onResumeGame(),t?(s.interAdTimeLab.unschedule(s.updateInterAdTime),s.interAdBgNode.destroy(),s.interAdBgNode=!1,s.interShowTime<=0?cc.Platformsdk.showInterCallback(!0):cc.Platformsdk.showInterCallback(!1,"")):cc.Platformsdk.showInterCallback(!1)},onPauseGame:function(){console.log("wxSDK onPauseGame"),cc.audioEngine.pauseMusic()},onResumeGame:function(){console.log("wxSDK onResumeGame"),cc.audioEngine.resumeMusic()},_GetWxDataBase:function(t,e,i,a){if(window.wx&&window.wx.cloud){var n=window.wx.cloud.database(),s=this;n.collection(t).doc(e).get({success:function(t){console.log("db",t),i&&t&&i(t.data)},fail:function(n){console.log("db",n,a),a?s._GetWxDataBase(t,e,i,!1):i&&i(!1)}})}else i&&i(!1)},_setWxDataBase:function(t,e,i,a){window.wx&&window.wx.cloud?window.wx.cloud.database().collection(t).doc(e).set({data:i,success:function(t){console.log(" ",t),a&&a(!0)},fail:function(t){console.log(" ",t),a&&a(!1)}}):a&&a(!1)},_removeWxDataBase:function(t,e,i){window.wx&&window.wx.cloud?window.wx.cloud.database().collection(t).doc(e).remove({success:function(t){console.log(" ",t),i&&i(!0)},fail:function(t){console.log(" ",t),i&&i(!1)}}):i&&i(!1)},_loadDataFromWXDB:function(t){s._GetWxDataBase("player",window.WXOPENID,function(e){if(t)if(e&&e.gamedata){var i=e.gamedata;"string"==typeof i&&(i=JSON.parse(i)),t(i)}else t(!1)})},loadData:function(t){var e=function(){var e=operkit.loadLocalData();window.WXOPENID?s._loadDataFromWXDB(function(i){if(i){var a=operkit.getVersionByData(e);operkit.getVersionByData(i)>a?t&&t(i,!1,"wx>wx"):t&&t(e||{},!1,">=wxlocalData?{}")}else t&&t(e||{},!1,"wx,localData?{}")}):(console.log("openid"),t&&t(e||{},!1,"openidlocalData?{}"))};window.WXOPENID?e():s.CallCloud("login",{},function(t){t&&(window.WXOPENID=t.openid,console.log("--openid:",window.WXOPENID)),e()}.bind(this))},saveData:function(t,e){"string"!=typeof t&&(t=JSON.stringify(t)),s._setWxDataBase("player",window.WXOPENID,{gamedata:t},e)},removeData:function(t){s._removeWxDataBase("player",window.WXOPENID,t)},CallCloud:function(t,e,i){window.wx&&window.wx.cloud?wx.cloud.callFunction({name:t,data:e,success:function(t){console.log("CallCloud:"+t.result),i&&i(t.result)},fail:function(t){console.log("CallCloud:",t),i&&i(!1)}}):i&&i(!1)},adGameJump:function(t,e,i,a){if(cc.log("adGameJump",t,e,i),window.wx&&wx.navigateToMiniProgram){var n={appId:e,path:i,success:function(){console.log("adGameJump:success"),a&&a(!0)},fail:function(){console.log("adGameJump:fail"),a&&a(!1)}};wx.navigateToMiniProgram(n)}else a&&a(!0)},compareVersion:function(t,e){t=t.split("."),e=e.split(".");for(var i=Math.max(t.length,e.length);t.length<i;)t.push("0");for(;e.length<i;)e.push("0");for(var a=0;a<i;a++){var n=parseInt(t[a]),s=parseInt(e[a]);if(n>s)return 1;if(n<s)return-1}return 0},showCustomAd:function(){console.log("showCustomAd");var t=s;if(t.customShowing=!0,window.wx&&!t.customAd&&wx.createCustomAd){cc.game.canvas;var e=wx.getSystemInfoSync().windowHeight-225;cc.winSize.height/cc.winSize.width>=2&&(e-=20),console.log("",e,10);var i=wx.createCustomAd({adUnitId:s.customAdId,adIntervals:30,left:10,top:e,fixed:!1});t.customAd=i,i.onClose(function(e){cc.log("custom onClose",e),t.customAd=!1})}var a=cc.Platformsdk.getWxBranchDim(" ");a?t.customAd&&t.customAd.show({branchId:TJ.ADID_WX.all_customAd,branchDim:a}).then(function(){console.log(" show",t.customShowing),t.customShowing||t.hideCustomAd()}):t.customAd&&t.customAd.show().then(function(){console.log(" show",t.customShowing),t.customShowing||t.hideCustomAd()})},hideCustomAd:function(){console.log("hideCustomAd");var t=s;t.customShowing=!1,t.customAd&&t.customAd.hide()}},o={getServerTime:function(t){console.log(":",e),t&&t(Math.floor((new Date).getTime()/1e3))},getTTIDAndVersionByCode:function(t,e,i,a){var n={platform:t+"",anonymousCode:e};i&&(n.code=i),serverUtils.httpGet(o.testurl+"/01",n,function(t,e){if(t)try{var i=JSON.parse(t);console.log("TTIDAndVersion res:",JSON.stringify(i)),a&&a(!0,i.open_id,i.user_id,i.version)}catch(t){console.log("TTIDAndVersion error e:",t),a&&a(!1)}else console.log("TTIDAndVersion error status:"+e),a&&a(!1)})},getBigData:function(t,e,i,a){var n={platform:t+"",userId:e,openId:i+""};serverUtils.httpGet(o.testurl+"/02",n,function(t,e){if(t)try{var i=JSON.parse(t);i&&0==i.errCode&&i.data?serverUtils.decodeByZip(i.data,function(t){try{var e=JSON.parse(t);a(e)}catch(t){console.log("",t),a&&a(!1)}}):a&&a(!1)}catch(t){console.log("--getBigData error"+t),a&&a(!1)}else console.log("  "+e),a&&a(!1)})},setBigData:function(t,e,i,a,n){serverUtils.encodeByZip(JSON.stringify(n),function(n){var s={platform:t+"",userId:e+"",openId:i+"",version:a+"",data:n+""};serverUtils.httpPost(o.testurl+"/03",s,function(t,e){t?console.log("BigData",t):console.log("BigData",e)})})}},r={platform:"toutiao",TT_APP_LIST:[{name:"",appId:"tt355a43e7aa703c1b",query:"from=moribianyuan",extraData:{}},{name:"98k",icon:"98k.png",appId:"tt24885235bba24bf4",query:"from=moribianyuan",extraData:{}},{name:"",icon:"qszr.png",appId:"tt7e4a08f7e1606db0",query:"from=moribianyuan",extraData:{}},{name:"",icon:"rxxb.png",appId:"tt8e6ef8d311445b72",query:"from=moribianyuan",extraData:{}},{name:"",appId:"tteceb9a5673c19f46",query:"from=moribianyuan",extraData:{}},{name:"",icon:"wq.png",appId:"tteef2984f71d86077",query:"from=moribianyuan",extraData:{}},{name:"",appId:"tt799f0f22e6b50cd8",query:"from=moribianyuan",extraData:{}}],ServerVersion:1,codeRetry:3,_getTTCode:function(t){window.tt?(r.codeRetry--,window.tt.login({force:!1,success:function(e){r.tt_Code=e.code,r.tt_anonymousCode=e.anonymousCode;try{t&&t(!0)}catch(t){console.log("--login error"+t)}},fail:function(e){console.log("login"+r.codeRetry+"  errMsg:"+e.errMsg),r.codeRetry<1?t&&t(!1):r._getTTCode(t)}})):(r.tt_anonymousCode="123",t&&t(!0))},_getTTIDAndVersion:function(t){r._getTTCode(function(e){e&&r.tt_anonymousCode?o.getTTIDAndVersionByCode(r.platform,r.tt_anonymousCode,r.tt_Code,function(e,i,a,n){e?(window.WXOPENID=r.tt_openid=i,a&&(r.tt_userid=a),n&&"undefined"!=n&&(r.ServerVersion=n),t(r.tt_userid,r.ServerVersion)):t(!1)}):t(!1)})},loadData:function(t){var e=operkit.loadLocalData(),i=operkit.getVersionByData(e);r._getTTIDAndVersion(function(a,n){console.log("---666--- sv lv u",n,i,a),a?(n=parseFloat(n))>=0?i>=0?n>i?o.getBigData(r.platform,r.tt_userid,r.tt_openid,function(i){i?t&&t(i,!1,"S>S"):t&&t(e,!1,"S>!S,")}):t&&t(e,n<i,">=S"):o.getBigData(r.platform,r.tt_userid,r.tt_openid,function(e){e?t&&t(e,!1,"!S"):t&&t({},!1,"! !S{}")}):i>=0?t&&t(e,!0,"!S,"):t&&t({},!1,"!S,!,{}"):i>=0?t&&t(e,!1,"!userId,"):t&&t({},!1,"!userId,!,{}")})},saveData:function(t){var e=operkit.getVersionByData(t);r.tt_openid?o.setBigData(r.platform,r.tt_userid,r.tt_openid,e,t):r._getTTIDAndVersion(function(e,i){r.tt_openid?o.setBigData(r.platform,r.tt_userid,r.tt_openid,i,t):console.log("openid")})},getUserInfo:function(t,e){if(console.log("--1-",!!r.tt_Code,e),window.tt&&r.tt_Code){if(r.nickName&&r.avatarUrl)return void(t&&t(r.nickName,r.avatarUrl));var i=function(){window.tt.getUserInfo({success:function(e){var i=e.userInfo;r.nickName=i.nickName,r.avatarUrl=i.avatarUrl,console.log("getUserInfo ",i),t&&t(r.nickName,r.avatarUrl)},fail:function(e){console.log("getUserInfo ",e.errMsg),t&&t(!1)}})};e&&tt.getSetting&&tt.authorize?(console.log("--2-"),window.tt.getSetting({success:function(e){console.log("--2-get Set"),e.authSetting["scope.userInfo"]?i():(console.log("--3-authorize"),window.tt.authorize({scope:"scope.userInfo",success:function(){i()},fail:function(e){console.log("",e.errMsg),t&&t(!1)}}))},fail:function(){i()}})):i()}else t&&t(!1)},showTTBoxEnable:function(){if(!window.tt)return!1;var t=tt.getSystemInfoSync();if(console.log("",t.platform,t.SDKVersion),"ios"==t.platform)return!1;var e=t.SDKVersion;return s.compareVersion(e,"1.33.0")>=0},showTTBox:function(){window.tt&&window.tt.showMoreGamesModal&&(console.log(r.TT_APP_LIST),tt.showMoreGamesModal({appLaunchOptions:r.TT_APP_LIST,success:function(t){console.log(" success",t.errMsg)},fail:function(t){console.log(" fail",t.errMsg)}}))}},c={platform:"oppo",openId:"o",ServerVersion:1,bannerId:"236214",videoId:"236215",init:function(){c.loadBanner(),c.initVideo()},loadBanner:function(t){if(window.qg&&c.bannerId){console.log("Banner ",c.bannerId);var e=qg.createBannerAd({adUnitId:c.bannerId});c.bannerObj=e,e.onResize(function(t){console.log("banner "+t.width+", banner "+t.height)}),e.onError(function(t){console.log("--banner ",t),c.bannerObj=!1}),e.onLoad(function(){console.log("--banner  ")}),t&&c.showBanner()}},showBanner:function(){c.bannerObj&&c.bannerObj.show().then(function(){}).catch(function(t){console.log("--bannerObj catch err:",t)})},removeBanner:function(){c.bannerObj&&c.bannerObj.hide()},initVideo:function(){if(window.qg&&c.videoId){console.log(" ",c.videoId);var t=qg.createRewardedVideoAd({adUnitId:c.videoId});t.load(),c.videoObj=t,t.onLoad(function(){console.log(""),c.videoEnable=!0}),t.onClose(function(t){console.log("",t.isEnded),c.handleVideCb(t.isEnded,!0,"over")}),t.onError(function(t){console.log("ERROR:",t),c.videoEnable=!1})}},showVideo:function(t,e){e&&(cc.Platformsdk.showVideoCallback=e),c.videoObj?c.videoEnable?c.videoObj.show().then(function(t){console.log("--showVideo then reload:",t),c.videoObj.load()}).catch(function(t){console.log("--showVideo catch err:",t),c.handleVideCb(!1,!1)}):(c.videoObj.load(),c.handleVideCb(!1,!1)):(c.handleVideCb(!1,!1),c.initVideo())},handleVideCb:function(t,e,i){console.log("--: "+t+" resume:"+e+" flag:"+i),e&&s.onResumeGame(),cc.Platformsdk.showVideoCallback(!!t,i)},codeRetry:3,_getToken:function(t){window.qg?(c.codeRetry--,window.qg.login({success:function(e){var i=e.data;if(console.log("-------oppo--123--login 1     data",i),i)try{t&&t(i)}catch(e){t&&t(!1),console.log("---oppo--123--login  "+e)}else t&&t(!1)},fail:function(e){console.log("login"+c.codeRetry+"  errMsg:"+e.errMsg),c.codeRetry<1?t&&t(!1):c._getToken(t)}})):t&&t(!1)},_getUerserInfo:function(t){c._getToken(function(e){e?(c.userId=window.WXOPENID=e.uid,c.nickName=e.nickName,c.avatarUrl=e.avatar,t&&t(!0)):t&&t(!1)})},loadData:function(t){var e=operkit.loadLocalData();c._getUerserInfo(function(i){i?o.getBigData(c.platform,c.userId+"",c.openId+"",function(i){if(i){var a=operkit.getVersionByData(e);operkit.getVersionByData(i)>a?t&&t(i,!1,"S>S"):t&&t(e||{},!1,">=SlocalData?{}")}else t&&t(e||{},!1,"!serverData,localData?{}")}):t&&t(e||{},!1,"!userId,localData?{}")})},saveData:function(t){var e=operkit.getVersionByData(t);c.userId?o.setBigData(c.platform,c.userId,c.openId+"",e,t):c._getUerserInfo(function(i){i?o.setBigData(c.platform,c.userId,c.openId+"",e,t):console.log("userId")})},getUserInfo:function(t,e){console.log("--1-",c.nickName,c.avatarUrl,e),c.nickName&&c.avatarUrl?t&&t(c.nickName,c.avatarUrl):c._getUerserInfo(function(e){e?t&&t(c.nickName,c.avatarUrl):t&&t(!1)})},ShowCollectionPop:function(){window.qg&&qg.hasShortcutInstalled({success:function(t){0==t&&qg.installShortcut({success:function(){console.log("")},fail:function(t){console.log(" ",t)}})},fail:function(t){console.log("",t)}})}},h={platform:"uc",bannerRefreshCount:5,bannerShowCount:0,init:function(){h.loadBanner(),h.initVideo()},loadBanner:function(){if(window.uc){DebugLog.log("uc banner and");var t=uc.createBannerAd({style:{gravity:7,width:350}});h.bannerObj=t,t.onLoad(function(){DebugLog.log("uc banner ")}),t.onError(function(t){DebugLog.log("uc banner ",t),h.bannerObj=!1})}},showBanner:function(){h.bannerObj?(h.bannerObj.show(),h.bannerShowCount++):h.loadBanner(!1)},removeBanner:function(){h.bannerObj&&(DebugLog.log("uc hide Banner",h.bannerShowCount,h.bannerRefreshCount),h.bannerObj.hide(),h.bannerRefreshCount>0&&h.bannerShowCount>=h.bannerRefreshCount&&(h.bannerObj.destroy(),h.bannerObj=!1,h.bannerShowCount=0,h.loadBanner(!1)))},initVideo:function(){if(window.uc){DebugLog.log("uc  ");var t=uc.createRewardVideoAd();h.videoObj=t,t.onLoad(function(){DebugLog.log("uc video ")}),t.onError(function(t){DebugLog.log("uc video ",t)}),t.onClose(function(t){DebugLog.log("uc video onClose",t),setTimeout(function(){DebugLog.log("uc ",t.isEnded),h.handleVideCb(t&&t.isEnded,!0,"over")},500)})}},showVideo:function(t,e){e&&(cc.Platformsdk.showVideoCallback=e),h.videoObj?h.videoObj.show().then(function(){}).catch(function(t){DebugLog.log("uc --showVideo catch err:",t),h.handleVideCb(!1,!1)}):(h.handleVideCb(!1,!1),h.initVideo())},handleVideCb:function(t,e,i){DebugLog.log("uc --: "+t+" resume:"+e+" flag:"+i),cc.Platformsdk.showVideoCallback(!!t,i)},getUserInfo:function(t){h.nickName&&h.avatarUrl?t&&t(h.nickName,h.avatarUrl):uc.getGuestInfo({success:function(e){window.WXOPENID=e.guestid,h.nickName=e.nickname,h.avatarUrl=e.avatar_url,t&&t(h.nickName,h.avatarUrl)},fail:function(e){DebugLog.log("uc getGuestInfo:err:",e),t&&t(!1)}})}};cc.Platformsdk={debugTest:!1,platform:"test",gmIdArray:[],videoDebugSwitch:!1,showVideoCallback:function(){},init:function(){window.tt?(this.platform="toutiao",cc.Platformsdk.debugTest=!1,s.customAdId="",s.bannerId="jik3bnc1k5h1cilu4r",s.videoId={offline:"a7nl8y9573k1dbcqdi"},cc.Platformsdk.gmIdArray=[".PF7IGPZx7.LNYJN","VrbIqcmcE4VVNx9m","6o2AmHWnW63fTVLp","qGIAmjdI262Hh046","UllE35Is0UKHPYBB"],s.init()):window.wx?(this.platform="wechat",cc.Platformsdk.debugTest=!1,s.customAdId="adunit-54a03e5c0240fa2b",s.bannerId="adunit-b10ab1a459af23cd",s.videoId={offline:"adunit-cabba0c086747e3d"},cc.Platformsdk.gmIdArray=["oIvX-42vgNiTLakdu2b4f1Zog0bg","oIvX-4zsCLoKmfPQrreLGu5C45T8","oIvX-43F_q3zxPSqL9PI0WPQ__m8","oIvX-4yZGRw_OdB4nyaFp4SFj9j4","oIvX-445ApTyyEFoRDB1t9U6amxw","oIvX-4_WUeDlEaM83jtOm-vm3IsQ","oIvX-4xQF5VSDWlHl4h0kxPXrKOY","oIvX-4xksEgHXPi6IO0mMp7LRfTA","oIvX-4wcHQOiTJ6L9yQSkPlSF-e4","oIvX-4zd7ZHc7B2uBVzhK1_nwYjs","oIvX-45Ngzl0PsIdAwT_-wmjyyn4"],s.init()):window.qg?(this.platform="oppo",cc.Platformsdk.debugTest=!1,cc.Platformsdk.gmIdArray=["1144790858"],c.init()):window.uc&&(this.platform="uc",cc.Platformsdk.gmIdArray=[],h.init())},resetDebug:function(){var t=function(t){OperDefine.DEBUG=t,console.log("OperDefine.DEBUG2:",OperDefine.DEBUG)}.bind(this);console.log(":",window.WXOPENID),window.tt||window.wx||window.qg||window.uc?window.WXOPENID&&(cc.Platformsdk.gmIdArray.indexOf(window.WXOPENID)>=0&&t(1),window.wx&&(s.onShare({from:"share"}),window.wx.showShareMenu({withShareTicket:!0}))):(cc.sys.os,cc.sys.OS_ANDROID,t(0)),tjSDK.init(this.platform)},getUserInfo:function(t,e){window.tt?r.getUserInfo(t,e):window.wx?s.getUserInfo(t,e):window.qg?c.getUserInfo(t,e):window.uc?h.getUserInfo(t,e):t&&t(!1)},shareEnable:function(){return window.wx?s.shareEnable:window.uc||window.qg?0:1},videoEnable:function(){return window.wx?s.videoEnable:1},videoBtnShow:function(t){window.wx&&!cc.Platformsdk.videoEnable()||tjSDK.onEventWxBranch(t,1)},showVideo:function(t,e){playVideoAd(t=>{t&&e&&e(!0)})},toShare:function(t,e){},showBanner:function(){console.log("--show banner--"),window.tt||window.wx?s.showBanner():window.qg?c.showBanner():window.uc&&h.showBanner()},hideBanner:function(){console.log("--hide banner--"),window.tt||window.wx?s.removeBanner():window.qg?c.removeBanner():window.uc&&h.removeBanner()},showCustom:function(){},hideCustom:function(){},isDouYinMiniGame:function(){if(window.tt){var t=tt.getSystemInfoSync();if(console.log(t.appName),"DOUYIN"===t.appName.toUpperCase())return!0}},moreGameEnable:function(){return!window.tt||r.showTTBoxEnable()},showMoreGame:function(){window.tt&&r.showTTBox()},addToDesktop:function(){window.qg&&c.ShowCollectionPop()},setLoadingProgress:function(t){window.qg&&(console.log("--setLoadingProgress",t),qg.setLoadingProgress({progress:t}),100===t&&qg.loadingComplete({complete:function(){}}))},loadData:function(t){var e=function(e,i,a){console.log("--",a," send:",i),i&&operkit.sendData2Server(1),operkit.initPlayerData(e),t&&t()};window.tt?r.loadData(e):window.wx?qmSDK.loadData(e):window.qg?c.loadData(e):e(operkit.loadLocalData())},saveData:function(t){window.tt?r.saveData(t):window.wx?qmSDK.saveData(t):window.qg&&c.saveData(t)},removeData:function(){window.tt?r.saveData({}):window.wx?qmSDK.saveData({}):window.qg&&c.saveData({})},getServerTime:function(){},getWxBranchDim:function(t){}},cc._RF.pop()},{}],PlunderSetPointDefine:[function(t,e){"use strict";cc._RF.push(e,"5116ftDVPFLjoHEbYtMUDdk","PlunderSetPointDefine"),t("PlunderSetPoint"),window.PLUNDER_1=4001,window.PLUNDER_2=4002,window.PLUNDER_3=4003,window.PLUNDER_4=4004,window.PLUNDER_5=4005,window.PLUNDER_6=4006;var i={4001:{id:PLUNDER_1,name:"4001",radius:40,a:"blocks/guangzi"},4002:{id:PLUNDER_2,name:"4002",radius:40,a:"blocks/guangzi"},4003:{id:PLUNDER_3,name:"4003",radius:40,a:"blocks/guangzi"},4004:{id:PLUNDER_4,name:"4004",radius:40,a:"blocks/guangzi"},4005:{id:PLUNDER_5,name:"4005",radius:40,a:"blocks/guangzi"},4006:{id:PLUNDER_6,name:"4006",radius:40,a:"blocks/guangzi"}};window.PlunderSetPointDefine=i,cc._RF.pop()},{PlunderSetPoint:"PlunderSetPoint"}],PlunderSetPoint:[function(t,e){"use strict";cc._RF.push(e,"51c4bcKUyFBpKUlyFlToSGu","PlunderSetPoint"),cc.Class({extends:t("Obstacle"),init:function(t,e){this.isSetPoint=!0,this.setPointId=e.i,this._super(t,e)}}),cc._RF.pop()},{Obstacle:"Obstacle"}],PoisonBuff:[function(t,e){"use strict";cc._RF.push(e,"7c9afJBM8BJmqjD9Ipl5Zph","PoisonBuff"),cc.Class({extends:t("Buff"),checkStop:function(){},begin:function(){this.timer=this.define.dt+.3,this.dmg=this.define.dmg||0,this.dmgPercent=this.define.dmgPercent,this.config.from&&this.define.dmgScaleRate?this.dmgScaleWithAttack=(this.config.from.fakeDmg||this.config.from.getStandardAtk())*this.define.dmgScaleRate:this.dmgScaleWithAttack=0,this.isDot=!0},excute:function(t){if(this.timer-=t,this.timer<=0){this.timer=this.define.dt;var e=this.dmg+this.dmgScaleWithAttack;this.dmgPercent&&(e+=this.dmgPercent*this.obj.hpMax),this.obj.simpleHurt(e,DMG_TYPE.poison,!0)}}}),cc._RF.pop()},{Buff:"Buff"}],PoisonGrenade:[function(t,e){"use strict";cc._RF.push(e,"8d21cT6H2RGSIZ0ewySYWST","PoisonGrenade");var i=t("Grenade"),a=t("Timer");cc.Class({extends:t("Ammo"),init:function(t,e,i){this._super(t,e,i),this.minradius=t.minradius||0,this.hurtradius=t.hurtradius||0,this.dmgk=t.dmgk||0,this.game=i,this.effectMgr=this.game.effectMgr},move:function(t,e){this._super(t,e);var i=this.sprite;i&&(i.setScale(this.define.sx||.2,this.define.sy||.2),i.runAction(cc.scaleTo(this.define.st||.1,this.define.sx1||1,this.define.sy1||1))),this.define.alert&&this.alert()},updateLogic:function(t){this.dx=this.spdX*t,this.dy=this.spdY*t,this.timer>0&&(this.x+=this.dx,this.y+=this.dy,this.updateSprite(t)),this.timer-=t},initSprite:function(){},attack:function(t){var e=this.sprite;if(e){e.stopAllActions();var i=cc.callFunc(function(){this.x=t.x,this.y=t.y,this.bomb()}.bind(this));e.runAction(cc.sequence(cc.jumpTo(.2,t.x,t.y,10,1),i))}else{var n=function(){this.x=t.x,this.y=t.y,this.bomb()}.bind(this);(new a).init(.2,n,{},this.game)}},removeSelf:function(){},hit:i.prototype.hit,onCover:i.prototype.onCover,bomb:function(){this.removeSelf(),this.game.removeUpdate(this),Effect.WidowBomb(this,this.game),this.hit()}}),cc._RF.pop()},{Ammo:"Ammo",Grenade:"Grenade",Timer:"Timer"}],PoisonWithOtherBuff:[function(t,e){"use strict";cc._RF.push(e,"998b4p9FPxNV5J0DXsC7ODI","PoisonWithOtherBuff"),cc.Class({extends:t("Buff"),begin:function(){this.timer=this.define.dt;var t=this.define.buff;t&&new t.ctor(t,{obj:this.obj}),this.dmg=this.define.dmg||0,this.dmgPercent=this.define.dmgPercent,this.config.from&&this.define.dmgScaleRate?this.dmgScaleWithAttack=this.config.from.attribute.get("atkDmg")*this.define.dmgScaleRate:this.dmgScaleWithAttack=0},excute:function(t){if(this.timer-=t,this.timer<=0){this.timer=this.define.dt;var e=this.dmg+this.dmgScaleWithAttack;this.dmgPercent&&(e+=this.dmgPercent*this.obj.hpMax);var i=this.obj;Effect.Bleed(i.x0,i.y0),i.hurt(e,this,DMG_TYPE.poison)}}}),cc._RF.pop()},{Buff:"Buff"}],Poison:[function(t,e){"use strict";cc._RF.push(e,"69dbewSmcFHo4ut4iR8/OLL","Poison"),cc.Class({extends:cc.Node,init:function(t){t.addChild(this),this.obj=t;var e=t.game.effectMgr.createParticle(0,0,"poison");e.scale=2,this.addChild(e),this.sprite=e},update:function(){},remove:function(){this.sprite.destroy(),this.destroy()}}),cc._RF.pop()},{}],PopLittleWinItem:[function(t,e){"use strict";cc._RF.push(e,"0c52er45ehLw4zoxR2kanpW","PopLittleWinItem"),cc.Class({extends:cc.Component,properties:{title:{default:"",tooltip:""},winH:{default:10,tooltip:""},hideClose:{default:!1,tooltip:""},btnStr1:{default:"",tooltip:"button1button1"},btnIconType1:{default:0,tooltip:"button10/1/2/3"},btnStr2:{default:"",tooltip:"button2button2"},btnIconType2:{default:0,tooltip:"button20/1/2/3"},_clickBgToHide:!1},updateUI:function(){}}),cc._RF.pop()},{}],PopLittleWin:[function(t,e){"use strict";cc._RF.push(e,"673c38/LG5Fs7ObWHpMgH1s","PopLittleWin"),cc.Class({extends:t("Menu"),ctor:function(){this.itemDict={storefresh:"item_store_fresh",decompose:"item_equip_decompose",setting:"item_setting",resumegame:"item_resume_game",back2main:"item_back2main",material:"item_material",offline:"item_offline",offlineEx:"item_offline_extra",sign:"item_sign",addleg:"item_add_leg",collect:"item_collect",gift_bargain:"item_gift_bargain"}},properties:{bgNode:cc.Node,titleLab:cc.Label,button1:cc.Node,button2:cc.Node,closeBtnNode:cc.Node},start:function(){this.node.scale=nodekit.getCurSceneScale(),nodekit.playMusic(SoundEffectPath.op_openPopwin)},init:function(t){this.cb=t.cb,this.type=t.type,cc.log("--pop type:",this.type);var e=this.itemDict[this.type];if(e)var i=cc.find(e,this.bgNode);if(i){i.active=!0;var a=i.getComponent("PopLittleWinItem");a.updateUI(t,this),this.titleLab.string=a.title,this.bgNode.height=a.winH,this.adid=a.adid?a.adid:"popwin_"+this.type,"storefresh"===this.type&&(cc.Platformsdk.showBanner(),this.adid=TJ.ADID.store_fresh),"back2main"===this.type&&(this.node.zIndex=OperDefine.zIdx.BACK2MAIN),"decompose"===this.type&&window.INGUIDEPROGRESS&&14===window.curGuideStep&&(OperBridge.hideGuideLayer(),setTimeout(function(){OperBridge.createMaskLayerByNode(this.button1,{txt:"Gems can be used to advance equipment!"})}.bind(this),300)),a.hideClose&&(this.closeBtnNode.active=!1),this.resetBtnUI(this.button1,a.btnStr1,a.btnIconType1),this.resetBtnUI(this.button2,a.btnStr2,a.btnIconType2),this.clickBgToHide=a._clickBgToHide}},resetBtnUI:function(t,e,i){if(e){if(t.active=!0,e){var a=cc.find("layout/txt",t).getComponent(cc.Label);a.string=e,t.btnStr=e}if(t.videoEn=!1,t.goldEn=!1,t.dmdEn=!1,i){var n=cc.find("layout/icon",t).getComponent(cc.Sprite);n.node.active=!0,1===i?(t.videoEn=!0,cc.Platformsdk.videoBtnShow(this.adid),reskit.setSpNodeFrame(n,OperUrl.c_video)):2===i?(t.goldEn=!0,a.string="x"+e,reskit.setSpNodeFrame(n,OperUrl.c_gold1)):3===i&&(t.dmdEn=!0,a.string="x"+e,reskit.setSpNodeFrame(n,OperUrl.c_diamond1))}}},clickBtn:function(t,e){nodekit.playMusic(SoundEffectPath.op_click),e=parseInt(e);var i=function(t){cc.log("--popwin cb:",this.type,t),this.cb&&this.cb(t),menuManager.close()}.bind(this),a=t.target;a.videoEn?cc.Platformsdk.showVideo(this.adid,function(t){t&&i(!0)}.bind(this)):a.goldEn?OperBridge.useMoney(OperBridge.MONEY_TYPE.GOLD,1*a.btnStr,function(t){t&&i(!0)}.bind(this)):a.dmdEn?OperBridge.useMoney(OperBridge.MONEY_TYPE.DIAMOND,1*a.btnStr,function(t){t&&i(!0)}.bind(this)):i(e>0)},clickMask:function(){this.clickBgToHide&&(this.cb&&this.cb(0),menuManager.close())},onDestroy:function(){cc.Platformsdk.hideBanner()}}),cc._RF.pop()},{Menu:"Menu"}],Pop_chat:[function(t,e){"use strict";cc._RF.push(e,"02236aU5E1KyJXQEnJ9Kzu6","Pop_chat"),cc.Class({extends:t("Menu"),properties:{},start:function(){},init:function(t){this.time=(new Date).getTime(),this.cb=t.cb,this.cDefine=t.chatObj;var e=cc.winSize.width/640,i=this.node.getChildByName("content");this.tipLab=this.node.getChildByName("txt").getComponent(cc.Label),this.tipLab.node.runAction(cc.sequence(cc.fadeIn(.8).easing(cc.easeSineIn()),cc.delayTime(.5),cc.fadeOut(.8)).repeatForever()),this.roleNodeScale=1,e<1&&(this.roleNodeScale=e,i.children.forEach(function(t){t.scale=e}));var a=cc.find("AAA",i),n=cc.find("BBB",i),s=function(t){var e={};return e.rNode=t,e.roleNode=cc.find("role",t),e.imgSp=cc.find("img",e.roleNode).getComponent(cc.Sprite),e.nameBg=cc.find("namebg",t),e.dhkPop=cc.find("dhk",t),e.dhkNode=cc.find("dhk/bg",i),e.arrNode=cc.find("dhk/arr",i),e.nameLab=cc.find("name",e.nameBg).getComponent(cc.Label),e.txtLab=cc.find("txt",e.dhkNode).getComponent(cc.Label),e.dhkNode.parent.opacity=0,e.dhkNode.opacity=0,e.rNode.opacity=0,e};if(this.leftObj=s(a),this.rightObj=s(n),this.chatIdx=0,this.targetChat={},this.textIdx=0,this.QShowing=!1,this.cDefine&&this.cDefine.A&&(this.cDefine.A.img&&reskit.setSpNodeFrame(this.leftObj.imgSp,OperUrl.getNpcImg(this.cDefine.A.img)),this.leftObj.nameLab.string=this.cDefine.A.name,"wait"===this.cDefine.A.status&&(this.waitObj=this.leftObj,this.waitObj.imgStr=this.cDefine.A.img)),this.cDefine&&this.cDefine.B&&(this.cDefine.B.img&&reskit.setSpNodeFrame(this.rightObj.imgSp,OperUrl.getNpcImg(this.cDefine.B.img)),this.rightObj.nameLab.string=this.cDefine.B.name,"wait"===this.cDefine.B.status&&(this.waitObj=this.rightObj,this.waitObj.imgStr=this.cDefine.B.img,this.waitObj.isRoleB=!0)),this.waitObj){var o={npc1:{x:187,y:-30},npc2:{x:165,y:-49},npc3:{x:165,y:-42},npc4:{x:180,y:-35},npc5:{x:194,y:-35},npc6:{x:194,y:-34},npc7:{x:165,y:-35}}[this.waitObj.imgStr];o||(o={x:165,y:-35}),this.waitObj.isRoleB?this.waitObj.nameBg.setPosition(-o.x,o.y):this.waitObj.nameBg.setPosition(o.x,o.y),this.waitObj.dhkPop.active=!0;var r=cc.find("bg/txt",this.waitObj.dhkPop),c=r.getComponent(cc.Label);r.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){(!r.mTxtIndex||r.mTxtIndex>3)&&(r.mTxtIndex=0);for(var t="",e=1;e<=r.mTxtIndex;e++)t+="";c.string=t,r.mTxtIndex++},this)).repeatForever()),this.waitObj.rNode.opacity=255,this.waitClickRole=!0}else this.startChat();nodekit.addNodeTouchEvent(this.node,function(t){switch(t.type){case cc.Node.EventType.TOUCH_START:this.waitClickRole&&this.waitObj.rNode.setScale(.95*this.roleNodeScale);break;case cc.Node.EventType.TOUCH_MOVE:break;case cc.Node.EventType.TOUCH_END:case cc.Node.EventType.TOUCH_CANCEL:if(this.waitClickRole){this.waitObj.rNode.setScale(1*this.roleNodeScale);var e=this.waitObj.isRoleB?cc.v2(-123,31):cc.v2(123,31);return void this.waitObj.nameBg.runAction(cc.sequence(cc.moveTo(.2,e),cc.callFunc(function(){this.startChat(),this.waitObj.dhkPop.destroy()},this)))}this.clickEvent()}}.bind(this))},startChat:function(){this.schedule(this.updateText,.1,cc.macro.REPEAT_FOREVER,.3),this.nextChat()},click:function(){},clickEvent:function(){var t=this.targetChat.role,e=this.targetChat.text;t&&"Q"!=t&&e&&this.textIdx<e.length?this.textIdx=e.length:this.nextChat()},nextChat:function(){if(!this.QShowing){this.waitClickRole=!1;var t=this.cDefine.chat;if(this.chatIdx>t.length-1)this.closeUI();else{if(this.targetChat=t[this.chatIdx],this.textIdx=0,"Q"==this.targetChat.role)this.showQ(this.targetChat.text);else{var e,i,a,n,s;"A"===this.targetChat.role?(e=this.leftObj,i=this.rightObj,a=-500,n=-27,s=1):"B"===this.targetChat.role&&(e=this.rightObj,i=this.leftObj,a=500,n=27,s=-1),this.chatTxtLab=e.txtLab;var o=function(){e.arrNode.x=n,e.arrNode.scaleX=s}.bind(this);0===e.rNode.opacity?e.rNode.runAction(cc.sequence(cc.moveBy(0,cc.v2(a,0)),cc.fadeTo(0,255),cc.moveBy(.3,cc.v2(-a,0)),cc.callFunc(function(){o(),0===e.dhkNode.parent.opacity?(e.dhkNode.parent.opacity=255,e.dhkNode.runAction(cc.sequence(cc.scaleTo(0,0),cc.fadeTo(0,255),cc.scaleTo(.2,1),cc.callFunc(function(){this.startUpText=!0},this)))):this.startUpText=!0},this))):(o(),0===e.dhkNode.parent.opacity?(e.dhkNode.parent.opacity=255,e.dhkNode.runAction(cc.sequence(cc.scaleTo(0,0),cc.fadeTo(0,255),cc.scaleTo(.2,1),cc.callFunc(function(){this.startUpText=!0},this)))):this.startUpText=!0,e.roleNode.runAction(cc.sequence(cc.delayTime(.1),cc.spawn(cc.fadeTo(.2,255),cc.scaleTo(.2,1.1)))),e.nameBg.runAction(cc.fadeTo(.1,255))),0===i.rNode.opacity||(i.roleNode.runAction(cc.spawn(cc.fadeTo(.15,180),cc.scaleTo(.15,.9))),i.nameBg.runAction(cc.fadeTo(.1,0)))}this.chatIdx++}}},showQ:function(){this.QShowing=!0},closeUI:function(){if(this.cDefine&&this.cDefine.ex&&this.cDefine.ex.reward){var t={};t[this.cDefine.ex.reward]=1,menuManager.pop("sub2#/operate/prefab/pop_reward",{obj:t,cb:function(){menuManager.close(),this.cb&&this.cb()}.bind(this)})}else menuManager.close(),this.cb&&this.cb()},updateText:function(){if(!this.QShowing&&this.targetChat&&this.startUpText){var t=this.targetChat.role,e=this.targetChat.text;t&&"Q"!=t&&e&&this.textIdx<=e.length&&(this.textIdx++,this.chatTxtLab.string=e.substr(0,this.textIdx),this.textIdx===e.length&&(this.startUpText=!1))}}}),cc._RF.pop()},{Menu:"Menu"}],Pop_equip:[function(t,e){"use strict";cc._RF.push(e,"f67ddPK62xLGbdES5SY4NCH","Pop_equip"),cc.Class({extends:t("Menu"),properties:{nameLab:cc.Label,equip_bg:cc.Sprite,equip_flag:cc.Sprite,equip_icon:cc.Sprite,qaLab:cc.Label,levelLab:cc.Label,desLab:cc.Label,c_attr:cc.Node,c_nextAttr:cc.Node,item_attr:cc.Prefab,btnEquip:cc.Node,btnDecompose:cc.Node,btnLab:cc.Label,upJNum:cc.Label,upJGold:cc.Label,upSNum:cc.Label,upSGold:cc.Label,c_advanced:cc.Node,c_upgrade:cc.Node,upJBtnNode:cc.Node,upSBtnNode:cc.Node,upJMaxTip:cc.Node,upSMaxTip:cc.Node,nextImgNode:cc.Node,shareNode:cc.Node},onLoad:function(){nodekit.playMusic(SoundEffectPath.op_openPopwin),this.attrJsList={},this.node.opacity=0,this.node.runAction(cc.sequence(cc.scaleTo(0,1.2),cc.spawn(cc.scaleTo(.1,nodekit.getCurSceneScale()),cc.fadeIn(.1)).easing(cc.easeSineIn())))},init:function(t){if(this.P2Js=t.P2Js,this.updateUI(t.equipJs),window.INGUIDEPROGRESS){var e=operkit.getGuideStep1015();this.btnDecompose.active=e>=13,this.upJBtnNode.active=e>=14,this.upSBtnNode.active=e>=9,this.btnEquip.active=!this.onTheBody;var i=function(t,e){t.active=!0,OperBridge.createMaskLayer(cc.v2(0,0),0,0,"",!1),OperBridge.hideGuideLayer(),setTimeout(function(){OperBridge.createMaskLayerByNode(t,{txt:e})}.bind(this),300)}.bind(this);7===window.curGuideStep?this.onTheBody?(operkit.setGuideStep1015(7),OperBridge.removeGuideLayer()):i(this.btnEquip):10===window.curGuideStep?this.upInfo.bookEn&&this.upInfo.goldEn?i(this.upSBtnNode,"Upgrade equipment"):(operkit.setGuideStep1015(10),OperBridge.removeGuideLayer()):13===window.curGuideStep?this.onTheBody?(operkit.setGuideStep1015(13),OperBridge.removeGuideLayer()):i(this.btnEquip):14===window.curGuideStep?i(this.btnDecompose):15===window.curGuideStep&&(this.upInfo.gemEn&&this.upInfo.goldUEn?i(this.upJBtnNode,"Upgrade equipment"):(operkit.setGuideStep1015(15),OperBridge.removeGuideLayer()))}},updateUI:function(t,e){t&&(this.equipJs=t),this.baseInfo=this.equipJs.baseInfo,this.qa=this.baseInfo.qa,this.lv=this.equipJs.lv,this.maxLv=this.equipJs.maxLv,this.onTheBody=this.equipJs.onTheBody,this.nameLab.string=this.baseInfo.name,this.nameLab.node.color=OperDefine.getColorByQa(this.qa),this.qaLab.string=OperDefine.getStrByQa(this.qa),this.qaLab.node.color=this.nameLab.node.color,this.desLab.string=this.baseInfo.des;var i=function(){this.node.runAction(cc.shake(.2,3,3))}.bind(this),a=function(){reskit.setSpNodeFrame(this.equip_bg,OperUrl.eLatBg(this.qa)),reskit.setSpNodeFrame(this.equip_flag,OperUrl.eLatflag(this.equipJs.pos)),reskit.setSpNodeFrame(this.equip_icon,this.baseInfo.img)}.bind(this),n=function(){this.levelLab.string="Lv "+this.lv+"/"+this.maxLv}.bind(this),s=function(){this.levelLab.node.runAction(cc.sequence(cc.scaleTo(.25,1.5,1.5).easing(cc.easeSineOut()),cc.scaleTo(.05,1,1).easing(cc.easeSineIn()),cc.callFunc(function(){n(.25),i()},this)))}.bind(this);1===e?(this.equip_bg.node.runAction(cc.sequence(cc.scaleTo(.25,1.5,1.5).easing(cc.easeSineOut()),cc.scaleTo(.05,1,1).easing(cc.easeSineIn()),cc.callFunc(function(){a(),i(),1*this.qa>=3&&(this.shareNode.active=!0)},this))),s()):2===e?s():(a(),n()),this.btnLab.string=this.onTheBody?"put down":"Equip";var o=EquipDefine.getAttrsByKeyLv(this.equipJs._k,this.lv);this.c_nextAttr.destroyAllChildren();var r=0;for(var c in o){var h,d=o[c];if("bltAtkScale"!==d.id)if(d.nextQaAttr)(h=nodekit.createNode(this.item_attr)).info=d,h.opacity=255,h.parent=this.c_nextAttr,r++;else if(this.attrJsList.hasOwnProperty(d.id)){if("buff"!==d.type){var l=this.attrJsList[d.id];d.cur-l.curValue>0?l.updateAttrAfterAction(d.cur,d.next,i):l.updateAttr(d.cur,d.next)}}else(h=nodekit.createNode(this.item_attr)).info=d,h.opacity=0,h.parent=this.c_attr,this.attrJsList[d.id]=h.getComponent("Item_attr"),e?this.attrJsList[d.id].showNewAction(i):h.opacity=255}if(r||(this.nextImgNode.active=!1),this.upInfo=this.equipJs.getEquipUpInfo(),2!==e)if(this.baseInfo.next){this.upJMaxTip.active=!1,this.c_advanced.active=!0,this.upJBtnNode.active=!0,window.INGUIDEPROGRESS&&operkit.getGuideStep1015()<15&&(this.upJBtnNode.active=!1);var u=cc.find("item_material",this.c_advanced);u&&u.destroy(),OperBridge.createLatNodeByKey(this.upInfo.gemK,{pNode:this.c_advanced,x:45,scale:.8}),this.upJNum.string=this.upInfo.ownGemNum+"/"+this.upInfo.gemNumber,this.upJGold.string=this.upInfo.goldUNumber,this.upJNum.node.color=this.upInfo.gemEn?new cc.Color(255,255,255,255):new cc.Color(255,0,0,255)}else this.upJMaxTip.active=!0,this.c_advanced.active=!1,this.upJBtnNode.active=!1;this.lv-this.maxLv>=0?(this.upSMaxTip.active=!0,this.c_upgrade.active=!1,this.upSBtnNode.active=!1):(this.upSMaxTip.active=!1,this.c_upgrade.active=!0,this.upSBtnNode.active=!0,window.INGUIDEPROGRESS&&operkit.getGuideStep1015()<10&&(this.upSBtnNode.active=!1),cc.find("item_material",this.c_upgrade)||OperBridge.createLatNodeByKey(this.upInfo.bookK,{pNode:this.c_upgrade,x:45,scale:.8}),this.upSNum.string=this.upInfo.ownBookNum+"/"+this.upInfo.bookNumber,this.upSGold.string=this.upInfo.goldNumber,this.upSNum.node.color=this.upInfo.bookEn?new cc.Color(255,255,255,255):new cc.Color(255,0,0,255)),this.upJGold.node.color=this.upInfo.goldUEn?new cc.Color(255,255,255,255):new cc.Color(255,0,0,255),this.upSGold.node.color=this.upInfo.goldEn?new cc.Color(255,255,255,255):new cc.Color(255,0,0,255)},getDecomposeList:function(){var t=OperDefine.equipQaList[this.qa],e={},i={},a={},n={};if(window.INGUIDEPROGRESS&&14===window.curGuideStep)return i[101]=2e3,i[11]=2,e.show=i,e.rnd=a,e.rndShow=n,e;for(var s=t.gold,o=t.book,r=1;r<this.lv;r++){var c=OperDefine.equipLvList[r];c&&(s+=.6*c.gold,o+=.6*c.book)}if(i[101]=Math.round(s),i[this.upInfo.bookK]=Math.round(o),t.gemD>0){var h=OperDefine.getGemKByQa(this.qa);n[h]=-1,t.per1>=operutils.randomFloat(0,1)&&(a[h]=t.gemD)}return t.dmd>0&&(n[102]=-1,t.per2>=operutils.randomFloat(0,1)&&(a[102]=t.dmd)),e.show=i,e.rnd=a,e.rndShow=n,e},decompose:function(t){var e=t.target.getComponent(cc.Button);e.interactable=!1;var i=this.getDecomposeList();cc.log("",i);var a=function(t){if(e.interactable=!0,t){OperBridge.hideGuideLayer();var a=function(){window.INGUIDEPROGRESS&&14===window.curGuideStep&&(operkit.setGuideStep1015(14),OperBridge.checkNextGuide())}.bind(this);OperBridge.removeEquip(this.equipJs._k,this.equipJs.sid,this.equipJs.onTheBody,this.baseInfo.pos),operkit.delEquipIn(this.equipJs.sid);var n=i.show,s=!1;for(var o in i.rnd)n[o]=i.rnd[o],OperDefine.isGemK(o)&&(s=!0);menuManager.pop("sub2#/operate/prefab/pop_reward",{obj:n,double:s,adid:TJ.ADID.equip_crystal2,cb:a}),cc.log("   rewardList",n),this.close()}}.bind(this);menuManager.pop("sub#/operate/prefab/popwin/poplittlewin",{type:"decompose",show:i.show,rndShow:i.rndShow,cb:a}),window.INGUIDEPROGRESS&&14===window.curGuideStep&&OperBridge.hideGuideLayer()},advanced:function(){if(nodekit.playMusic(SoundEffectPath.op_click),!this.upInfo.gemEn)return OperBridge.toastTip("Insufficient gems");if(!this.upInfo.goldUEn)return OperBridge.toastTip("Gold inadequate");window.INGUIDEPROGRESS&&15===window.curGuideStep&&(operkit.setGuideStep1015(15),OperBridge.removeGuideLayer()),OperBridge.useMaterialByK(this.upInfo.gemK,this.upInfo.gemNumber),OperBridge.useMoney(OperBridge.MONEY_TYPE.GOLD,this.upInfo.goldUNumber);var t=this.baseInfo.next,e=operkit.nextEquip(this.equipJs._k,this.equipJs.sid,t,this.equipJs.onTheBody);this.equipJs.updateUI(t,this.equipJs.sid,e),this.upJBtnNode.getComponent(cc.Button).interactable=!1,setTimeout(function(){this.upJBtnNode&&(this.upJBtnNode.getComponent(cc.Button).interactable=!0)}.bind(this),700),this.updateUI(0,1),operkit.delEquipIn(this.equipJs.sid),!this.onTheBody&&this.P2Js&&this.P2Js.updateE0Layout(),OperBridge.checkReddotById("p2_check_up"),nodekit.playEffect(SoundEffectPath.ui_item_evolution),tjSDK.onEvent(TJ.eventId.equip_advanced,{equipkey:t+""})},upgrade:function(){if(nodekit.playMusic(SoundEffectPath.op_click),!this.upInfo.bookEn)return OperBridge.toastTip("Insufficient upgrade book");if(!this.upInfo.goldEn)return OperBridge.toastTip("Gold inadequate");window.INGUIDEPROGRESS&&10===window.curGuideStep&&(operkit.setGuideStep1015(10),OperBridge.removeGuideLayer()),OperBridge.useMaterialByK(this.upInfo.bookK,this.upInfo.bookNumber),OperBridge.useMoney(OperBridge.MONEY_TYPE.GOLD,this.upInfo.goldNumber);var t=operkit.upEquip(this.equipJs._k,this.equipJs.sid,this.equipJs.onTheBody);this.equipJs.updateUI(this.equipJs._k,this.equipJs.sid,t),this.upSBtnNode.getComponent(cc.Button).interactable=!1,setTimeout(function(){this.upSBtnNode&&(this.upSBtnNode.getComponent(cc.Button).interactable=!0)}.bind(this),700),this.updateUI(0,2),!this.onTheBody&&this.P2Js&&this.P2Js.updateE0Layout(),OperBridge.checkReddotById("p2_check_up"),nodekit.playEffect(SoundEffectPath.ui_item_upgrade),tjSDK.onEvent(TJ.eventId.equip_upgrade,{equipkey:this.equipJs._k+"",equiplv:t+""})},equip:function(){nodekit.playEffect(SoundEffectPath.ui_equip),this.onTheBody?OperBridge.takeOffEquip(this.baseInfo.pos):OperBridge.putOnEquip(this.equipJs._k,this.equipJs.sid,this.baseInfo.pos),OperBridge.checkReddotById("p2_check_up"),window.INGUIDEPROGRESS&&(7===window.curGuideStep?(operkit.setGuideStep1015(7),OperBridge.removeGuideLayer()):13===window.curGuideStep&&operkit.setGuideStep1015(13)),this.close()},close:function(){this.P2Js.updateAttrLab(),menuManager.close(),OperBridge.checkNextGuide()}}),cc._RF.pop()},{Menu:"Menu"}],Pop_new_chapter:[function(t,e){"use strict";cc._RF.push(e,"865f0IAZnhLX6GatpipmCB8","Pop_new_chapter"),cc.Class({extends:t("Menu"),properties:{txtNode:cc.Node,map1Sp:cc.Sprite,map2Sp:cc.Sprite,map1Title:cc.Label,map2Title:cc.Label,map1DesLab:cc.Label,map2DesLab:cc.Label,c_skillNode:cc.Node,item_skill:cc.Prefab,titleNode:cc.Node,map1Node:cc.Node,map2Node:cc.Node,skillNode:cc.Node},start:function(){this.node.getChildByName("content").scale=cc.winSize.width/640},init:function(t){this.time=(new Date).getTime();var e=t.chapter,i=t.next;this.pageWar=t.pageWar,this.cb=t.cb,reskit.setSpNodeFrame(this.map1Sp,OperUrl.chapterMap(e)),reskit.setSpNodeFrame(this.map2Sp,OperUrl.chapterMap(i));var a=operkit.isJYChapter()?OperDefine.chapterS:OperDefine.chapterA;this.map1Title.string=(e?e+".":"")+a[e].title,this.map2Title.string=i+"."+a[i].title,this.map1DesLab.string=a[e].des,this.map2DesLab.string=a[i].des;var n=operkit.isJYChapter()?[]:Talent.getUnlockTalent(i),s=n.length>0;if(s)for(var o in n){var r=n[o],c=nodekit.createNode(this.item_skill);c.iconPath=r.icon,c.skillName=r.name,c.parent=this.c_skillNode}else this.skillNode.parent.y=0;s&&(this.skillNode.y-=100),this.titleNode.scale=3,this.map1Node.runAction(cc.sequence(cc.delayTime(.2),cc.moveBy(.8,-640,0).easing(cc.easeQuarticActionIn()))),this.map2Node.runAction(cc.sequence(cc.delayTime(.2),cc.moveBy(.8,-700,0).easing(cc.easeQuarticActionIn()),cc.callFunc(function(){nodekit.playMusic(SoundEffectPath.chooseBonusShow)},this),cc.shake(.3,8,1),cc.callFunc(function(){this.titleNode.runAction(cc.sequence(cc.delayTime(.1),cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1,1)).easing(cc.easeQuarticActionIn()),cc.shake(.2,2,2),cc.callFunc(function(){s&&this.skillNode.runAction(cc.spawn(cc.fadeIn(.5),cc.moveBy(.5,0,100)))},this)))},this))),setTimeout(function(){this.txtNode.active=!0,this.time=(new Date).getTime(),this.txtNode.runAction(cc.sequence(cc.fadeIn(.8).easing(cc.easeSineIn()),cc.delayTime(.5),cc.fadeOut(.8)).repeatForever())}.bind(this),3e3)},click:function(){if(!this.closeed&&this.txtNode.active&&operutils.disTimeM(this.time)>=500){this.closeed=!0;var t=cc.find("Canvas"),e=t.convertToNodeSpaceAR(this.map2Sp.node.convertToWorldSpaceAR(cc.v2(0,0))),i=t.convertToNodeSpaceAR(this.pageWar.mapPageContent.children[this.pageWar.curIndex].convertToWorldSpaceAR(cc.v2(0,0))),a=cc.instantiate(this.map2Sp.node);a.destroyAllChildren(),a.setPosition(e),a.parent=t,this.node.runAction(cc.fadeOut(.3)),a.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,e.x,e.y+20),cc.scaleTo(.3,1.1)),cc.delayTime(.5),cc.spawn(cc.moveTo(.3,i),cc.scaleTo(.3,1)),cc.spawn(cc.fadeOut(.1),cc.callFunc(function(){this.cb&&this.cb(),menuManager.close()},this)),cc.destroySelf()))}}}),cc._RF.pop()},{Menu:"Menu"}],Pop_open_box:[function(t,e){"use strict";cc._RF.push(e,"21283s8yDRCm4bPW7EtIEKn","Pop_open_box"),cc.Class({extends:t("Menu"),properties:{c_list1:cc.Node,item_material:cc.Prefab,nameLab:cc.Label,qaLab:cc.Label,desLab:cc.Label,bgNode:cc.Node,titleNode:cc.Node,txtNode:cc.Node,starNode:cc.Node,boxNode:cc.Node,boxSp:cc.Sprite,boxBg:cc.Node,tempWhiteNode:cc.Node,desNode:cc.Node,shareNode:cc.Node},start:function(){this.node.getChildByName("content").scale=cc.winSize.width/640},init:function(t){var e=t.obj;if(!e){e={};var i="b2"===t.box?OperDefine.storebox2:OperDefine.storebox1,a=operutils.getTargetKeysByWeight(i);for(var n in a){var s=i[a[n]];e[s.k]=s.num}}var o="b2"===t.box?OperUrl.atlas_box2:OperUrl.atlas_box1;this.cb=t.cb,reskit.setSpNodeFrame(this.boxSp,o+"_1"),this.mJsItemList={};var r=t.multiple?t.multiple:1;for(var c in e){var h=nodekit.createNodeByAttr(null,{pNode:this.c_list1,opacity:0});reskit.setSpNodeFrame(h.addComponent(cc.Sprite),OperUrl.c_reward_light);var d=nodekit.createNodeByAttr(null,{pNode:h,x:0,y:0});reskit.setSpNodeFrame(d.addComponent(cc.Sprite),OperUrl.c_reward_light2),d.runAction(cc.sequence(cc.scaleTo(0,.9),cc.spawn(cc.scaleTo(.2,1).easing(cc.easeSineOut()),cc.fadeIn(.2)),cc.spawn(cc.scaleTo(.6,1.2).easing(cc.easeSineOut()),cc.fadeOut(.6)),cc.delayTime(.5)).repeatForever());var l=nodekit.createNode(this.item_material);l.scale=1.5,l.parent=h;var u=OperDefine.getFinalKey(c),f=l.getComponent("Item_material");f.updateUI(u,e[c]*r),h._k=u,h.num=e[c]*r,this.mJsItemList[u]=h;var m=f.baseInfo;if(m){if(this.nameLab.string=m.name,m.qa?(this.qaLab.string=OperDefine.getStrByQa(m.qa),this.nameLab.node.color=this.qaLab.node.color=OperDefine.getColorByQa(m.qa)):this.nameLab.node.color=u-10>0&&u-20<0?OperDefine.getColorByQa(u-10):OperDefine.getColorByQa(1),m.des){var p=OperDefine.getTypeByKey(u);"e"!==p&&"m"!==p||(this.desLab.string=m.des)}1*m.qa>=3&&(this.showShareBtn=!0)}}this.boxBg.y=this.boxBg.y/(cc.winSize.width/640),this.boxBg.opacity=100,this.boxBg.scale=.1,this.boxBg.runAction(cc.spawn(cc.fadeTo(.6,255),cc.scaleTo(.6,1,1))),this.txtNode.opacity=0,this.boxNode.opacity=0,this.boxNode.scale=1.5,this.boxNode.y=300,this.desNode.opacity=0,this.boxNode.runAction(cc.sequence(cc.delayTime(.12),cc.fadeTo(0,10),cc.spawn(cc.fadeTo(.48,255),cc.scaleTo(.48,1.5,2.4),cc.moveTo(.48,cc.v2(0,-450/(cc.winSize.width/640)))).easing(cc.easeQuarticActionIn()),cc.scaleTo(.06,1.5,1),cc.callFunc(function(){nodekit.playMusic(SoundEffectPath.box_drop),this.bgNode.runAction(cc.shake(.06,3,3))},this),cc.scaleTo(.06,1.5,1.8),cc.scaleTo(.06,1.5,1.5),cc.shake(1.14,3,5).easing(cc.easeQuarticActionIn()),cc.callFunc(function(){reskit.setSpNodeFrame(this.boxSp,o+"_3")},this),cc.callFunc(function(){nodekit.createBoxGx2(this.boxNode,10,100,1.5),nodekit.createBoxGx2(this.boxNode,10,100,1.5)},this),cc.delayTime(.03),cc.delayTime(.03),cc.delayTime(.03),cc.callFunc(function(){},this),cc.delayTime(.03),cc.delayTime(.006),cc.callFunc(function(){this.c_list1.scale=.4,this.c_list1.setPosition(4,-193),this.c_list1.opacity=150,this.starNode.scale=.4,this.starNode.setPosition(4,-191),this.starNode.opacity=150,nodekit.playMusic(SoundEffectPath.ui_pop_reward),this.c_list1.runAction(cc.sequence(cc.spawn(cc.fadeTo(.3,255),cc.scaleTo(.3,1),cc.moveTo(.3,cc.v2(4,201))),cc.callFunc(function(){this.node.runAction(cc.shake(.18,12,12))},this))),this.starNode.runAction(cc.spawn(cc.fadeTo(.3,255),cc.scaleTo(.3,1),cc.moveTo(.3,cc.v2(4,203))))},this),cc.delayTime(.6),cc.callFunc(function(){this.titleNode.runAction(cc.sequence(cc.spawn(cc.fadeIn(.06),cc.scaleTo(.3,1).easing(cc.easeQuarticActionIn())),cc.shake(.12,3,3),cc.callFunc(function(){this.desNode.runAction(cc.sequence(cc.delayTime(.3),cc.fadeIn(.6)))},this)))},this),cc.delayTime(15*.06),cc.callFunc(function(){this.time=(new Date).getTime(),this.txtNode.runAction(cc.sequence(cc.fadeIn(.8).easing(cc.easeSineIn()),cc.delayTime(.5),cc.fadeOut(.8)).repeatForever()),this.showShareBtn&&(this.shareNode.active=!0)},this)))},click:function(){if(this.time&&operutils.disTimeM(this.time)>=800){for(var t in this.mJsItemList){var e=this.mJsItemList[t];OperBridge.addSomethingByK(e._k,e.num,function(t){!t||"e"!==t&&"m"!==t||OperBridge.toEquipTab(nodekit.createNode(e),e.convertToWorldSpaceAR(cc.v2(0,0)),.5)})}this.cb&&this.cb(),menuManager.close()}}}),cc._RF.pop()},{Menu:"Menu"}],Pop_relics_detail:[function(t,e){"use strict";cc._RF.push(e,"815af7v4qlJ8oJDQyVBVkKf","Pop_relics_detail"),cc.Class({extends:t("Menu"),properties:{expNode:cc.Node,expLab:cc.Label,iconBg:cc.Sprite,iconImg:cc.Sprite,nameLab:cc.Label,qaLab:cc.Label,typeLab:cc.Label,xgDes:cc.Label,qyDes:cc.Label},start:function(){this.node.getChildByName("content").scale=cc.winSize.width/640,this.node.zIndex=OperDefine.zIdx.POP_REWARD},init:function(t){t.expPer&&(this.expNode.width=407*t.expPer),t.expTxt&&(this.expLab.string=t.expTxt);var e=t.baseInfo;reskit.setSpNodeFrame(this.iconBg,e.bgImg),reskit.setSpNodeFrame(this.iconImg,e.img),this.nameLab.string=e.name,this.qaLab.string=OperDefine.getStrByQa(e.qa),1!==e.qa&&(this.qaLab.node.color=OperDefine.getColorByQa(e.qa)),this.typeLab.string=e.typeDes,this.xgDes.string=e.des,this.qyDes.string=e.story},clickBtn:function(){this.cb&&this.cb(),menuManager.close()}}),cc._RF.pop()},{Menu:"Menu"}],Pop_relics_list:[function(t,e){"use strict";cc._RF.push(e,"d45a86+E8VLy6stcRISaQoO","Pop_relics_list"),cc.Class({extends:t("Menu"),properties:{c_list1:cc.Node,item_relics:cc.Prefab},start:function(){this.node.getChildByName("content").scale=cc.winSize.width/640,this.node.zIndex=OperDefine.zIdx.POP_REWARD},init:function(t){this.cb=t.cb;var e=operkit.getRelics(),i=Object.keys(e);for(var a in OperDefine.relicsTypeDict){var n=OperDefine.relicsTypeDict[a].kArr,s=n[0],o=!1,r=0;for(var c in n){var h=n[c];if(i.indexOf(h+"")>=0){s=h,o=!0,r=e[h];break}}var d=nodekit.createNode(this.item_relics);d.parent=this.c_list1,d.getComponent("Item_relics").updateUI({_k:s,unlock:o,exp:r})}},click_back:function(){this.cb&&this.cb(),menuManager.close()}}),cc._RF.pop()},{Menu:"Menu"}],Pop_reward:[function(t,e){"use strict";cc._RF.push(e,"7674cpcxbVLD6k9OK+dusxp","Pop_reward"),cc.Class({extends:t("Menu"),properties:{c_list1:cc.Node,c_list2:cc.Node,item_material:cc.Prefab,titleNode:cc.Node,txtNode:cc.Node,starNode:cc.Node,doubleBtn:cc.Button,simpleBtn:cc.Button},start:function(){this.node.getChildByName("content").scale=cc.winSize.width/640,this.node.zIndex=OperDefine.zIdx.POP_REWARD,cc.Platformsdk.showBanner(),nodekit.playEffect(SoundEffectPath.ui_pop_reward)},init:function(t){this.time=(new Date).getTime(),this.adid=t.adid?t.adid:"pop_reward_double";var e=t.obj;this.doubleEn=t.double,this.cb=t.cb,this.mJsItemList={};var i=t.multiple?t.multiple:1,a=1;for(var n in e){if(a>6)break;if(s=this.c_list1,a>3){this.c_list2.active=!0;var s=this.c_list2}var o=nodekit.createNodeByAttr(null,{pNode:s,opacity:0});reskit.setSpNodeFrame(o.addComponent(cc.Sprite),OperUrl.c_reward_light);var r=nodekit.createNodeByAttr(null,{pNode:o,x:0,y:0});reskit.setSpNodeFrame(r.addComponent(cc.Sprite),OperUrl.c_reward_light2),r.runAction(cc.sequence(cc.scaleTo(0,.9),cc.spawn(cc.scaleTo(.2,1).easing(cc.easeSineOut()),cc.fadeIn(.2)),cc.spawn(cc.scaleTo(.6,1.2).easing(cc.easeSineOut()),cc.fadeOut(.6)),cc.delayTime(.5)).repeatForever());var c=nodekit.createNode(this.item_material);if(c.scale=1.44,c.setPosition(0,0),c.parent=o,"r"===OperDefine.getTypeByKey(n)){c.setPosition(o.x,o.y),c.parent=o.parent,o.active=!1;var h={showNameY:-150}}var d=OperDefine.getFinalKey(n),l=c.getComponent("Item_material");l.updateUI(d,e[n]*i,h),o.itemJs=l,this.mJsItemList[d]=o,a++}this.titleNode.opacity=0,this.titleNode.scale=1.3,this.titleNode.y-=20,this.txtNode.opacity=0,this.starNode.opacity=0,this.doubleBtn.node.opacity=0,this.simpleBtn.node.opacity=0;var u=function(t,e){var i=this.mJsItemList[t[e]],a=i.scale;i.scale=.9*a,i.opacity=255,i.runAction(cc.sequence(cc.scaleTo(.1,1.1*a),cc.scaleTo(.1,a).easing(cc.easeSineIn())))}.bind(this);(function(){this.titleNode.runAction(cc.spawn(cc.moveBy(.2,cc.v2(0,20)),cc.fadeIn(.2),cc.scaleTo(.2,1,1)).easing(cc.easeSineIn())),this.doubleEn?(this.txtNode.active=!1,this.doubleBtn.node.runAction(cc.sequence(cc.fadeIn(.1),cc.callFunc(function(){this.doubleBtn.interactable=!0},this))),this.simpleBtn.node.runAction(cc.sequence(cc.delayTime(.8),cc.fadeIn(.8),cc.callFunc(function(){this.simpleBtn.interactable=!0},this)))):(this.doubleBtn.node.active=!1,this.simpleBtn.node.active=!1,this.txtNode.runAction(cc.sequence(cc.fadeIn(.8).easing(cc.easeSineIn()),cc.delayTime(.5),cc.fadeOut(.8)).repeatForever())),this.starNode.runAction(cc.fadeIn(1));var t=Object.keys(this.mJsItemList),e=t.length,i=0;this.schedule(function(){u(t,i),i++}.bind(this),.1,e-1,.01)}).bind(this)(),this.doubleEn&&cc.Platformsdk.videoBtnShow(this.adid)},click:function(t,e){this.doubleEn?2===(e=parseInt(e))?cc.Platformsdk.showVideo(this.adid,function(t){t&&this.sendReward(2)}.bind(this)):1===e&&this.sendReward(1):operutils.disTimeM(this.time)>=800&&this.sendReward(1)},sendReward:function(t){for(var e in t||(t=1),this.mJsItemList){var i=this.mJsItemList[e],a=i.itemJs._k,n=i.itemJs.num*t;t>1&&i.itemJs.updateUI(a,n),OperBridge.addSomethingByK(a,n,function(t){!t||"e"!==t&&"m"!==t||OperBridge.toEquipTab(nodekit.createNode(i),i.convertToWorldSpaceAR(cc.v2(0,0)),.5)})}this.cb&&this.cb(),menuManager.close(),cc.Platformsdk.hideBanner()}}),cc._RF.pop()},{Menu:"Menu"}],Pop_role_up:[function(t,e){"use strict";cc._RF.push(e,"9734c+Bpv1G+pcQvGgRorSm","Pop_role_up"),cc.Class({extends:t("Menu"),properties:{levelLab1:cc.Label,levelLab2:cc.Label,c_list:cc.Node,item_material:cc.Prefab,bgNode:cc.Node,lvBgNode:cc.Node,upArrow1:cc.Node,upArrow2:cc.Node,upTxtNode:cc.Node,lineNode:cc.Node,btnNode1:cc.Node,btnNode2:cc.Node,shareNode:cc.Node},start:function(){this.node.getChildByName("content").scale=cc.winSize.width/640,cc.Platformsdk.showCustom(),cc.Platformsdk.videoBtnShow(TJ.ADID.role_up_double)},init:function(t){this.cb=t.cb,this.inMainUi=t.inMainUi;var e=1*t.lv+1,i=OperDefine.roleUp[e];if(i||(e="MAX"),this.levelLab1.string=t.lv,this.levelLab2.string=e,i&&(this.rewardObj={101:i.money,102:i.diamond},tjSDK.onEvent(TJ.eventId.role_up,{rolelv:e+""})),this.rewardObj)for(var a in this.rewardObj){var n=nodekit.createNode(this.item_material);n.setPosition(-5.3,-5.5),n.parent=this.c_list;var s=OperDefine.getFinalKey(a);n.getComponent("Item_material").updateUI(s,this.rewardObj[a])}var o=function(){this.upArrow1.runAction(cc.sequence(cc.moveTo(0,0,-150),cc.spawn(cc.fadeIn(.2),cc.moveBy(.5,0,400)),cc.spawn(cc.fadeOut(.5),cc.moveBy(.5,0,100)),cc.delayTime(.1)).repeat(2)),this.upArrow2.runAction(cc.sequence(cc.delayTime(.2),cc.moveTo(0,0,-200),cc.spawn(cc.fadeIn(.2),cc.moveBy(.5,0,400)).easing(cc.easeSineIn()),cc.spawn(cc.fadeOut(.4),cc.moveBy(.3,0,100)),cc.delayTime(.1)).repeat(2))}.bind(this),r=function(){var t=.2;this.lineNode.y-=400,this.c_list.y-=400,this.btnNode2.y-=400,this.lineNode.runAction(cc.spawn(cc.fadeIn(t),cc.moveBy(t,0,400))),this.c_list.runAction(cc.sequence(cc.delayTime(.2),cc.spawn(cc.fadeIn(t),cc.moveBy(t,0,400)))),this.btnNode2.runAction(cc.sequence(cc.delayTime(.4),cc.callFunc(function(){this.btnNode2.getComponent(cc.Button).interactable=!0,this.shareNode.active=!0},this),cc.spawn(cc.fadeIn(t),cc.moveBy(t,0,400)))),this.btnNode1.runAction(cc.sequence(cc.delayTime(.4),cc.callFunc(function(){this.btnNode1.getComponent(cc.Button).interactable=!0,cc.Platformsdk.hideBanner()},this),cc.fadeIn(t)))}.bind(this),c=function(){this.levelLab1.node.runAction(cc.sequence(cc.delayTime(.2),cc.spawn(cc.scaleTo(.1,.6),cc.fadeOut(.1)))),this.levelLab2.node.runAction(cc.sequence(cc.fadeIn(.1),cc.scaleTo(.2,1).easing(cc.easeSineIn()),cc.callFunc(function(){this.levelLab2.node.parent.runAction(cc.sequence(cc.moveBy(.1,0,-20).easing(cc.easeSineIn()),cc.moveBy(.1,0,20))),this.lvBgNode.runAction(cc.sequence(cc.fadeIn(0),cc.scaleTo(0,1),cc.scaleTo(.25,2.5).easing(cc.easeSineIn()),cc.spawn(cc.scaleTo(.3,4),cc.fadeOut(.3)))),nodekit.playEffect(SoundEffectPath.ui_lvl_up)},this))),this.upTxtNode.runAction(cc.sequence(cc.delayTime(.4),cc.fadeIn(.1),cc.scaleTo(.2,1).easing(cc.easeSineIn()),cc.callFunc(function(){r()},this)))}.bind(this);this.bgNode.runAction(cc.sequence(cc.fadeIn(.1),cc.callFunc(function(){o()}),cc.delayTime(.5),cc.callFunc(function(){c()})))},click1:function(){this.addReward(1)},click2:function(){cc.Platformsdk.showVideo(TJ.ADID.role_up_double,function(t){t&&this.addReward(2)}.bind(this))},addReward:function(t){if(!this.isClosed){this.isClosed=!0;var e=function(){for(var e in this.rewardObj)OperBridge.addSomethingByK(e,this.rewardObj[e]*t,function(){});this.cb&&this.cb(),menuManager.close(),cc.Platformsdk.hideBanner(),cc.Platformsdk.hideCustom()}.bind(this);this.inMainUi?e():(OperBridge.showHead(),setTimeout(function(){e()}.bind(this),200),setTimeout(function(){OperBridge.hideHead()}.bind(this),3e3))}}}),cc._RF.pop()},{Menu:"Menu"}],Pop_settlement:[function(t,e){"use strict";cc._RF.push(e,"bec8er9toZFlZu+mAC8Kixo","Pop_settlement"),cc.Class({extends:t("Menu"),properties:{titleNode:cc.Node,competeNode:cc.Node,txtNode:cc.Node,chapterLab:cc.Label,dotLab:cc.Label,lvLab:cc.Label,lvExpNode:cc.Node,c_list1:cc.Node,c_list2:cc.Node,c_list3:cc.Node,item_material:cc.Prefab,blockBtn:cc.Button,bgNode:cc.Node,dotNode:cc.Node,lvBgNode:cc.Node,lineNode:cc.Node,shareNode:cc.Node},start:function(){this.node.getChildByName("content").scale=cc.winSize.width/640,this.node.zIndex=OperDefine.zIdx.UIPOP,cc.Platformsdk.hideBanner()},init:function(t){this.maxExpW=380;var e=t.obj;cc.log("pop arg:",t);var i=t.chapter+"";i.indexOf("JY")>=0&&(i=parseInt(i.substring(2)));var a=1*t.point;a=a<0?0:a;var n=t.exp;this.cb=t.cb;var s=t.relicid,o=t.unlockRelic;s&&operkit.addRelics(s,a);var r=operkit.setWarProgress(i,a);r&&(2===r&&operkit.setCurWarChapter(operkit.getMaxWarChapter()),this.titleNode.parent.y=0),tjSDK.onEvent(TJ.eventId.game_end,{chapter:operkit.getCurWarChapterTJ(),point:a});var c=operutils.formatNum2Capital(i);this.chapterLab.string=c?"Chapter "+c:"Prologue",this.curLv=operkit.getRoleLv(),this.curExp=operkit.getRoleExp(),this.curExpW=this.getExpNodePer(this.curLv,this.curExp),this.lvLab.string=this.curLv,this.lvExpNode.width=this.curExpW,OperBridge.addSomethingByK(OperBridge.MONEY_TYPE.EXP,n),this.endLv=operkit.getRoleLv(),this.endExp=operkit.getRoleExp(),this.endExpW=this.getExpNodePer(this.endLv,this.endExp),this.addW=4,this.mJsItemList={};var h=function(t,e,i,a){t.active=!0;var n=nodekit.createNode(this.item_material);n.opacity=0,n.setPosition(-5.3,-5.5),n.parent=t;var s=OperDefine.getFinalKey(e),o=n.getComponent("Item_material");o.updateUI(s,i,a),this.mJsItemList[s]=o}.bind(this),d=Object.keys(e).length<6?this.c_list1:this.c_list2;for(var l in e)h(d,l,e[l]);if(o&&o.length>0)for(var u in o)l=o[u],h(this.c_list3,l,1,{showNameY:-80});this.node.runAction(cc.sequence(cc.delayTime(0),cc.scaleTo(0,1.2),cc.scaleTo(.1,1),cc.callFunc(function(){var t=0,e=1*a,n=e,s=function(){if(n>0){t++;var o=1/(n+3);this.dotLab.node.runAction(cc.sequence(cc.callFunc(function(){if(t>e&&(t=e),this.dotLab.string=Math.round(t),t===e){r&&(this.dotLab.node.color=new cc.Color(255,215,42,255));var i=nodekit.createNode(this.dotLab.node);i.getComponent(cc.LabelOutline).enabled=!1,i.parent=this.dotLab.node.parent,i.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,3.5),cc.fadeOut(.3,0)).easing(cc.easeSineIn()),cc.destroySelf()))}},this),cc.delayTime(o),cc.callFunc(function(){n--,s()},this)))}else{var c=operkit.isJYChapter()?OperDefine.chapterS:OperDefine.chapterA,h=.05;c[i]&&c[i].num-a<=0&&(this.competeNode.scale=3,this.competeNode.runAction(cc.sequence(cc.delayTime(h),cc.spawn(cc.fadeIn(.2),cc.scaleTo(.2,1)).easing(cc.easeQuarticActionIn()))),h+=.2,this.showShareBtn=!0),r&&(this.titleNode.scale=1.3,this.titleNode.y-=20,this.titleNode.runAction(cc.sequence(cc.delayTime(h),cc.spawn(cc.moveBy(.3,cc.v2(0,20)),cc.fadeIn(.3),cc.scaleTo(.3,1,1)).easing(cc.easeQuarticActionIn()))),h+=.35),this.lvBgNode.runAction(cc.sequence(cc.delayTime(h),cc.sequence(cc.scaleTo(0,0,0),cc.fadeIn(0,255),cc.scaleTo(3*.1,1.2,1.1),cc.scaleTo(.2,1,1)).easing(cc.easeQuarticActionIn()),cc.callFunc(function(){this.schedule(this.updateExpPro,0,cc.macro.REPEAT_FOREVER,0)},this)))}}.bind(this);s()},this)))},stopUpdateExp:function(){this.unschedule(this.updateExpPro);var t=Object.keys(this.mJsItemList),e=t.length;this.bgNode.runAction(cc.sequence(cc.moveTo(.2,0,113),cc.callFunc(function(){this.lineNode.runAction(cc.sequence(cc.scaleTo(0,0),cc.spawn(cc.fadeIn(.2),cc.scaleTo(.4,1).easing(cc.easeQuarticActionIn()))))},this),cc.delayTime(.4),cc.callFunc(function(){var i=function(t,e){var i=this.mJsItemList[t[e]].node,a=i.scale;i.scale=.9*a,i.opacity=255,i.runAction(cc.sequence(cc.scaleTo(.1,1.1*a),cc.scaleTo(.1,a).easing(cc.easeSineIn())))}.bind(this);if(e>0){var a=0;this.schedule(function(){i(t,a),a++}.bind(this),.1,e-1,.1)}},this),cc.delayTime(.1*e),cc.callFunc(function(){this.blockBtn.interactable=!0,this.time=(new Date).getTime(),this.txtNode.runAction(cc.sequence(cc.fadeIn(.8).easing(cc.easeSineIn()),cc.delayTime(.5),cc.fadeOut(.8)).repeatForever()),this.showShareBtn&&(this.shareNode.active=!0)},this)))},getExpNodePer:function(t,e){var i=t+1,a=OperDefine.roleUp[i];if(a){var n=e/a.exp;n=n>1?1:n}else this.maxLv=t,n=1;return this.maxExpW*n},updateExpPro:function(){this.curLv>this.endLv?this.stopUpdateExp():(this.curLv<this.endLv?(this.curExpW=this.maxExpW-this.curExpW<this.addW?this.maxExpW:this.curExpW+this.addW,this.maxExpW-this.curExpW==0&&(this.curLv+=1,this.curLv<=this.endLv&&(this.curExpW=0,this.lvLab.string=this.curLv,this.unschedule(this.updateExpPro),setTimeout(function(){this.addW=4,menuManager.pop("sub2#/operate/prefab/pop_role_up",{lv:this.curLv-1,cb:function(){this.schedule(this.updateExpPro)}.bind(this)})}.bind(this),.3)))):(this.curExpW=this.endExpW-this.curExpW<this.addW?this.endExpW:this.curExpW+this.addW,this.endExpW-this.curExpW==0&&this.stopUpdateExp()),this.lvExpNode.width=this.curExpW,this.maxExpW-this.curExpW==0&&(this.lvLab.string=this.curLv+"(MAX)"),this.addW=4-3/(this.maxExpW*this.maxExpW)*this.curExpW*this.curExpW)},click:function(){if(playInter(),this.time&&operutils.disTimeM(this.time)>=1e3){for(var t in OperBridge.hideHead(1),this.mJsItemList){var e=this.mJsItemList[t];OperBridge.addSomethingByK(e._k,e.num,function(){})}this.cb&&this.cb(),menuManager.close()}}}),cc._RF.pop()},{Menu:"Menu"}],Pop_talent_up:[function(t,e){"use strict";cc._RF.push(e,"9f072L/d/pByZtYk4NKbv+e","Pop_talent_up"),cc.Class({extends:t("Menu"),properties:{itemBg:cc.Sprite,itemIcon:cc.Sprite,infoDes:cc.Label,infoNum1:cc.Label,infoNum2:cc.Label,txtNode:cc.Node,shareNode:cc.Node},start:function(){this.node.getChildByName("content").scale=cc.winSize.width/640,this.node.zIndex=OperDefine.zIdx.UIPOP,cc.Platformsdk.showBanner(),nodekit.playEffect(SoundEffectPath.talent_acquired)},init:function(t){this.time=(new Date).getTime();var e=t.id,i=t.lv,a=i-1,n=OperDefine.talentInfo[e],s=a<=0?"0":"+"+operutils.formatPercentNum(n["lv"+a]),o="+"+operutils.formatPercentNum(n["lv"+i]);reskit.setSpNodeFrame(this.itemBg,OperUrl.talentBg(e)),reskit.setSpNodeFrame(this.itemIcon,OperUrl.talentIcon(e)),this.infoDes.string=n.des,this.infoNum1.string=s,this.infoNum2.string=o,this.txtNode.runAction(cc.sequence(cc.fadeIn(.8).easing(cc.easeSineIn()),cc.delayTime(.5),cc.fadeOut(.8)).repeatForever()),1*e>=7&&(this.shareNode.active=!0)},click:function(){operutils.disTimeM(this.time)>=800&&(menuManager.close(),OperBridge.checkNextGuide(),cc.Platformsdk.hideBanner())}}),cc._RF.pop()},{Menu:"Menu"}],PounceSkill:[function(t,e){"use strict";cc._RF.push(e,"bbda0z72cVMl6E+oKeDBbnc","PounceSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.preCast(),this.symbol=getUniqueSymbol()},preCast:function(){var t=this.obj;if(t.setNoSkills(!0),t.setNoAttack(!0),t.setNoRotate(!0),t.setNoMove(!0),this.l=this.define.l||400,this.lk=this.l/400,this.speed=this.define.spd,this.sk=this.speed/600,this.castTimer=1.5*this.lk/this.sk,this.obj.playAnim({anim:"jump_1",loop:0}),this.weight0=t.weight,!this.define.noPreCastEff){var e=this.createPreCastEff(this.define.t0,this.l/this.obj.scale);e.angle=-this.obj.getRotation(),this.obj.addChild(e,-1)}this.beforeTimer=0,this.jumpTimer=0,this.game.scheduleOnce(this.finishCast.bind(this),this.define.t0)},createPreCastEff:function(t,e){var i,a=new cc.Node,n=(i=this.effectMgr.createSprite(0,0,"uiz/effect/ability_warn_2")).getContentSize();return a.scaleY=e&&e/n.height||1,i.opacity=100,i.setAnchorPoint(cc.v2(.5,0)),a.addChild(i,-1),i.runAction(cc.sequence(cc.delayTime(t),cc.destroySelf())),n=(i=this.effectMgr.createSprite(0,0,"uiz/effect/ability_warn_2")).getContentSize(),i.scaleY=0,i.setAnchorPoint(cc.v2(.5,0)),a.addChild(i),i.runAction(cc.sequence(cc.scaleTo(t,1,1),cc.destroySelf())),a},finishCast:function(){this.obj.setForcedAnime("jump",1/this.lk*this.sk),this.obj.refreshAvatar(),this.stunTime=this.define.stunTime,this.beforeTimer=0,this.jumpTimer=this.define.t1*this.lk/this.sk},excute:function(t){var e=this.obj;if(e.attribute,this.beforeTimer>0)return this.beforeTimer-=t,void(this.beforeTimer<0&&(this.game.effectMgr.play(SoundEffectPath.winston_Jump),e.weight=.1));if(this.jumpTimer>0){this.jumpTimer-=t,kit.timer(this,"attack",.1,t)&&this.attack();var i=kit.degree2Radian(e.getRotation()),a=this.speed;if(this.jumpTimer<0&&(this.attack(),e.playAnim({anim:"jump_1",loop:0}),Effect.JumpSmoke(this.obj.x+125*kit.sin(i),this.obj.y+125*kit.cos(i),this.game)),e.noMove>1)return;e.dx=a*kit.sin(i)*t,e.dy=a*kit.cos(i)*t}},onCover:function(t,e,i,a){if(!t.getBuff(this.symbol)){var n=this.define,s=n.r0,o=n.k,r=n.scaleWithAttack&&this.obj.attribute.get("atkDmg")*n.scaleWithAttack||n.dmg,c=-n.kb,h=this.define.buff,d=this.define.buff2,l=s+t.radius,u=Math.sqrt(e);if(u<l)t.hurt(r,this,DMG_TYPE.explo);else{var f=r-o*(u-l);f<0&&(f=0),t.hurt(f,this,DMG_TYPE.explo)}h&&new h.ctor(h,{obj:t}),d&&new d.ctor(d,{obj:t}),t.knockback(c*i/(u*t.weight),c*a/(u*t.weight)),h={symbol:this.symbol,t:3},t.setBuff(h)}},attack:function(){var t=this.obj,e=t.x,i=t.y;g_sharedContactManager.checkAliveEnemy(this,e,i,this.define.r1,t.team,this.onCover),t.x0=e,t.y0=i},end:function(){this._super();var t=this.obj;t.attribute,t.setNoSkills(!1),t.setNoAttack(!1),t.setNoMove(!1),t.setNoRotate(!1),t.weight=this.weight0,this.jumpTimer>=0&&t.setNoRotate(!1),t.playAnim()}}),cc._RF.pop()},{Skill:"Skill"}],PowerAttackSkill:[function(t,e){"use strict";cc._RF.push(e,"2e6115x+txMjYu3AHaqITJr","PowerAttackSkill");var i=cc.Class({extends:t("Skill"),start:function(){var t=this.obj;if(this.isCast||this.isInCD||t.isDead||t.isRemoved||!this.obj)return Skill.no;if(this.isPrepare||this.isInCD||this.isCast)return Skill.no;if(this.prepare(),this.multiCount=0,this.isAnim=!0,(t=this.obj).setNoAttack(!0),t.setNoSkill(!0,0),t.setNoSkill(!0,2),t.setAutoAttack(!0),t.avatar.callAttackAnime(!0),t.avatar.setForcedAnimeSpd(1),t.refreshAvatar(!0),this.shotTimer=27.5/30,this.powerTime=this.define.powerTime,!this.game.fastMode){var e=Effect.Animation.createByObj({name:"effect/76/ult/fire/xuanwo_0000",frame:4,startNum:1,loop:1,dt:.05,bindScheduler:!0});e.y=110,e.x=22,e.setScale(.1),e.opacity=0,e.runAction(cc.sequence(cc.delayTime(.3),cc.fadeIn(.2),cc.scaleTo(this.powerTime-.5,1))),this.sprite=e,this.obj.addChild(e,1e5)}return Skill.isCharge},stop:function(t){if(t)return this.isPrepare&&(this.isPrepare=!1,!this.cast())?Skill.yes:Skill.no},aim:function(t){this.shotTimer-=t,this.shotTimer<=0&&this.obj.avatar.upperAnimation.setSpeedScale(0),this.multiCount+=t/this.powerTime,this.multiCount>1&&(this.multiCount=1)},cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.hanzo_Pow);var t=this.obj;t.attribute,t.avatar.upperAnimation.setSpeedScale(1),this.isShot=!1,this.atkAnimTimer=21.5/30,this.define.cdKill&&(t.registOnKillCb(this),this.killCt=0),t.isAIEnabled?(this.delay=2,this.castTimer+=this.delay):this.delay=0},onKill:function(){this.killCt++},shot:function(){this.sprite&&(this.sprite.destroy(),this.sprite=null);var t=this.obj;t.attribute,t.avatar.upperAnimation.setSpeedScale(1);var e=this.define.blt,i=this.multiCount*this.define.power+1;e.dmg=i*this.define.dmg,e.radius=15+50*this.multiCount,e.kb=.001*i,this.multiCount>=1&&this.define.stunTime?(e.buff=this.define.buff,e.buff.t=this.define.stunTime):e.buff=null;var a=t.x0,n=t.y0,s=t.deg,o=kit.degree2Radian(s),r=Math.sin(o),c=Math.cos(o);if(e=Ammofactory(t,e,{obj:t,x:a+16*c+60*r,y:n-16*r+60*c,te:t.team},this.game),!this.game.fastMode){var h=this.effectMgr.createSprite(0,0,"bullet/player/76zidan");h.opacity=225,h.setAnchorPoint(.5,.85),h.setPosition(22,161.5);var d=circle.getComponent(cc.Sprite);d.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,d.dstBlendFactor=cc.macro.BlendFactor.ONE,h.runAction(cc.scaleTo(.1,1+3*this.multiCount,3+3*this.multiCount)),e.sprite.addChild(h,-1)}var l=-30*this.multiCount*r,u=-30*this.multiCount*c;t.knockback(l,u)},excute:function(t){if(this.delay>0)return this.delay-=t,void this.aim(t);this.isShot?this.atkAnimTimer>0&&(this.atkAnimTimer-=t,this.atkAnimTimer<=0&&this.animEnd()):(this.shotTimer-=t,this.shotTimer<=0&&(this.isShot=!0,this.shot()))},animEnd:function(){if(this.sprite&&(this.sprite.destroy(),this.sprite=null),this.isAnim){this.isAnim=!1;var t=this.obj;t.attribute,t.setNoAttack(!1),t.setNoSkill(!1,0),t.setNoSkill(!1,2),t.setAutoAttack(!1),t.avatar.callAttackAnime(!1),t.avatar.setForcedAnimeSpd(),t.refreshAvatar(!0)}},callEnd:function(){this.animEnd(),this._super()},end:function(){this._super(),this.animEnd(),this.define.cdKill&&(this.obj.unregistOnKillCb(this),this.killCt>=this.define.cdKill&&(this.refreshBtn&&this.refreshBtn(this.cdTimer),this.cdTimer=0))}});e.exports=i,cc._RF.pop()},{Skill:"Skill"}],ProtectSkill:[function(t,e){"use strict";cc._RF.push(e,"5c10awVrEpD4oQtn+t/8X0W","ProtectSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.idleTimer=0,this.hp=this.define.hp,this.x=this.obj.x0,this.y=this.obj.y0,this.map={},this.isSensor=!0,this.radius=this.define.r,this.team=this.obj.team,this.isDead=!0,g_sharedContactManager.addEntity(this,!0)},hurt:function(t,e){return e.getBlocked(),this.hp-=t,this.hp<=0&&this.callEnd(),!0},onContact:function(){},knockback:function(){},callIn:function(t){t.registOnProtectCb(this)},callOut:function(t){t.unregistOnProtectCb(this)},onProtect:function(t){return this.hp-=t,this.hp<=0&&this.callEnd(),!0},setSheildPos:function(){},excute:function(t){this.game.fastMode||(this.setSheildPos(),kit.timer(this,"sound",.5,t)&&this.game.effectMgr.play(SoundEffectPath.winston_Protect)),this.idleTimer-=t,this.idleTimer>0||(this.idleTimer=this.define.dt,g_sharedContactManager.checkAliveTeammateInOut(this,this.x,this.y,this.define.r,this.obj.team,this.map,this.callIn,this.callOut))},end:function(){this._super(),g_sharedContactManager.checkIsIn(this,this.map,this.callOut),this.game.fastMode||this.eff.destroy(),this.isRemoved=!0,g_sharedContactManager.removeEntity(this),this._pointSp&&(this._pointSp&&this._pointSp.destroy(),this._pointSp=null)}}),cc._RF.pop()},{Skill:"Skill"}],PullBackBlt:[function(t,e){"use strict";cc._RF.push(e,"ab9d7jdGStGqZqpFCrqUDeW","PullBackBlt");var i=cc.Class({extends:t("Bullet"),init:function(t,e,i){this._super(t,e,i),this.game=i,this.ox=this.x,this.oy=this.y},initSprite:function(){this._super();var t=this.effectMgr.createSprite(0,0,"effect/hook/rope");t.type=cc.Sprite.Type.TILED,t.setAnchorPoint(.5,1),t.x=this.sprite.x,t.y=this.sprite.y,this.game.camera.addChild(t),this.ropeNode=new cc.Node,this.ropeNode.x=this.config.effDx,this.ropeNode.y=this.config.effDy,this.obj.avatar.node.addChild(this.ropeNode),this.rope=t},updateSprite:function(){if(this.sprite){this.sprite.setPosition(this.x,this.y),this._refreshSprite&&(this._refreshSprite=!1,this.sprite.angle=-this.deg);var t=this.rope,e=this.sprite,i=t.getContentSize(),a=t.getContentSize().height,n=this.ropeNode.convertToWorldSpaceAR(cc.v2(0,0)),s=this.game.camera.convertToNodeSpaceAR(n);t.x=e.x,t.y=e.y,t.angle=-kit.radian2Degree(kit.vector2Radian(t.y-s.y,t.x-s.x));var o=kit.norm(t.x-s.x,t.y-s.y);o>a&&(t.scaleY=o/a);var r=o>a&&i.height||o;t.size=cc.v2(i.width,r)}},removeSprite:function(){this._super(),this.rope.destroy()},remove:function(){this.hurtedObject&&this.hurtedObject.setNoMove(!1),this.ropeNode&&(this.ropeNode.destroy(),this.ropeNode=null),this._super.apply(this,arguments)},hit:function(t,e){if(!this.alwaysCheck){if(this.hurtedObject==t)return;this.hurtedObject=t}if(!this.obj.hit(this.dmg,this,t,null,null,e)){if(t.buffList){var i=this.buff;i&&(!i.chance||Math.random()<i.chance)&&(new i.ctor).init(i,{obj:t,from:this.obj});for(var a=this.buffs,n=0;n<a.length;n++)(new a[n].ctor).init(a[n],{obj:t,from:this.obj})}this.knockBack,t.weight;var s=this.x,o=this.y,r=this.lx,c=this.ly;if(this.sprite){var h=this.define;h.hitEffect?h.hitEffect(s+r*e,o+c*e,this.deg,this.game):Effect.WidowHitEffect(s+r*e,o+c*e,this.deg,this.game),t.hurtEffect&&t.hurtEffect(s+r*e,o+c*e,this.deg,this.game)}if(!this.alwayThrough){if(this.thrDeath&&t.hp<0)return this.dmg*=this.thrDecline,void this.thrDeath--;if(!(this.canThrough&&(this.canThrough=!1,Math.random()<this.thrChance))){this.smoke&&this.smoke.updateSmoke(0,s+r*e,o+c*e),this.x=s-r*e,this.y=o-c*e,g_sharedContactManager.removeBullet(this);var d=function(e){this.pullbackTimer||(this.pullbackTimer=0),this.pullbackTimer+=e;var i=kit.vector2Radian(t.y-this.oy,t.x-this.ox),a=-20*Math.sin(i),n=-20*Math.cos(i);t.knockback(a,n),cc.log("knockback",a,n),this.x=t.x,this.y=t.y;var s=this.obj&&this.obj.x||this.x,o=this.obj&&this.obj.y||this.y,r=this.obj&&this.obj.radius||100;this.updateSprite(e),(kit.norm(t.x-s,t.y-o)<=t.radius+r+50||this.pullbackTimer>2)&&(cc.log("stop pullbackblt"),this.game.unschedule(d),this.remove())}.bind(this);return this.isHit=!0,t.setNoMove(!0),this.game.schedule(d,.016),d.bind(this.obj)(),!0}this.dmg*=this.thrDecline}}},updateLogic:function(t){if(!this.hurtedObject){if(this.dx=this.spdX*t,this.dy=this.spdY*t,this.timer-=t,!this.isBack&&this.timer<=0&&(this.isBack=!0,this.spdX*=-1,this.spdY*=-1,this.timer=this.flyDistance/this.speed),this.isBack&&this.timer<=0)return this.remove("maxLength");this.updateSprite(t)}}});e.exports=i,cc._RF.pop()},{Bullet:"Bullet"}],PullbackSkill:[function(t,e){"use strict";cc._RF.push(e,"97861gRj3NCAK0Tebum0Ch/","PullbackSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.preCast()},createPreCastEff:function(t,e){cc.log("createPreCastEff");var i,a=new cc.Node,n=(i=this.effectMgr.createSprite(0,0,"uiz/effect/ability_warn_2")).getContentSize();return a.scaleY=e&&e/n.height||1,cc.log("createPreCastEff length,csheight",e,n.height),i.opacity=100,i.setAnchorPoint(cc.v2(.5,0)),a.addChild(i,-1),i.runAction(cc.sequence(cc.delayTime(t),cc.destroySelf())),(i=this.effectMgr.createSprite(0,0,"uiz/effect/ability_warn_2")).scaleY=0,i.setAnchorPoint(cc.v2(.5,0)),a.addChild(i),i.runAction(cc.sequence(cc.scaleTo(t,1,1),cc.destroySelf())),a},preCast:function(){this.obj.setNoMove(!0),this.obj.setNoAttack(!0),this.obj.setNoSkills(!0),this.obj.setNoRotate(!0),this.game.scheduleOnce(this.finishCast.bind(this),1),this.startUpdate=!0},finishCast:function(){this.obj.playAnim({anim:"attack_2",loop:0,time:this.define.t}),this.aimTarget(),this.game.scheduleOnce(this.fire.bind(this),.6)},fire:function(){if(this.obj.ai.target){var t=this.define.blt,e=this.define.effDx||80,i=this.define.effDy||60,a=this.obj.x,n=this.obj.y,s=this.obj.deg,o=kit.degree2Radian(s),r=Math.sin(o),c=Math.cos(o),h=a+100*c+0*r,d=n-100*r+0*c;this.blt=Ammofactory(this.obj,t,{x:h,y:d,obj:this.obj,te:this.obj.team,deg:s,dmg:this.define.dmg,effDx:e,effDy:i},this.game)}this.startUpdate=!1},aimTarget:function(){var t=this.obj;(t.isAutoTarget||!t.target||t.target.isDead)&&t.ai.seekTarget();var e=t.ai.target;if(e){var i=kit.vector2Radian(e.y-t.y,e.x-t.x);this.obj.moveRad=i}},excute:function(){var t=this.obj.ai.target,e=this.obj;if(this.blt)var i=this.blt.isHit;(!t||i&&kit.norm(t.x-e.x,t.y-e.y)<=t.radius+e.radius+50)&&this.callEnd()},end:function(){this._super(),this.obj.playAnim(),this.obj.setNoMove(!1),this.obj.setNoAttack(!1),this.obj.setNoSkills(!1),this.obj.setNoRotate(!1)}}),cc._RF.pop()},{Skill:"Skill"}],PulseBombOnHitBuff:[function(t,e){"use strict";cc._RF.push(e,"69025OsxBRMMqefp4Cth/Yy","PulseBombOnHitBuff"),cc.Class({extends:t("OnHitBuff"),init:function(t,e){this._super(t,e);var i=this.obj.define.skill,a=kit.clone(i[2]);a.cd=.1,t.dmg&&(a.dmg=t.dmg),this.skill=new a.ctor(a,{obj:this.obj})},onHit:function(t,e,i){if(!(this.cdTimer>0)&&i.buffList){var a=this.define;this.cdTimer=a.cd||0,Math.random()<a.chance&&this.skill.cast()}}}),cc._RF.pop()},{OnHitBuff:"OnHitBuff"}],PulseBomb:[function(t,e){"use strict";cc._RF.push(e,"63cc8gtt+dO8KEI6MxKJ89A","PulseBomb");var i=cc.Class({extends:t("GrenadeWithLatency"),updateLogic:function(t){this.sprite.angle-=50,this.timer<=0&&(this.explodeTimer-=t,this.explodeTimer<=0&&this.remove("maxLength"),this.alreadyHit||(this.alreadyHit=!0,this.game.fastMode||this.contactEff&&this.contactEff(this)),kit.timer(this,"abosrb",.05,t)&&this.absorb()),this.alreadyHit||(this.dx=this.spdX*t,this.dy=this.spdY*t,this.x+=this.dx,this.y+=this.dy),this.timer-=t,this.updateSprite(t)},onAbsorb:function(t,e,i,a){if(t.weight>0){var n=8*(t.weight/10+.5);t.knockback(i/n,a/n)}},absorb:function(){g_sharedContactManager.checkAliveEnemy(this,this.x,this.y,this.hurtradius,this.team,this.onAbsorb),this.game.shake(1,1)},explodeEffect:function(t,e,i){Effect.Nova(t,e,i,this.game),this.game.shake(40,40)}});e.exports=i,cc._RF.pop()},{GrenadeWithLatency:"GrenadeWithLatency"}],QuitMenu:[function(t,e){"use strict";cc._RF.push(e,"28e4ecv5lRNhJS/tefuj+mY","QuitMenu"),cc.Class({extends:t("Menu"),properties:{num:cc.Label},onLoad:function(){},start:function(){},init:function(t){this.game=t},endGame:function(){menuManager.runWithTransition("mainMenu",{},!0,"mainui"),this.game.effectMgr.stopBGM(),this.game.gameManager&&this.game.gameManager.clearSaveGame()},close:function(){menuManager.close()}}),cc._RF.pop()},{Menu:"Menu"}],RampageSkill:[function(t,e){"use strict";cc._RF.push(e,"563abnE7apE77qMyl7n5hzr","RampageSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.winston_Rampage),this.moveScale=this.define.ms0,this.idleTimer=this.define.dt,this.shakeTimer=this.define.st,this.hurtScale=this.define.ds-(this.define.hurtReduction||0),this.define.stunTime&&(this.define.buff={name:"RampageStun",ctor:StunBuff,symbol:getUniqueSymbol(),t:this.define.stunTime,chance:this.define.stunChance}),this.startSkill=!1,this.preCast()},finishCast:function(){var t=this.obj,e=t.attribute;t.setNoSkills(!0),t.setNoAttack(!0),t.noSeek++,t.noStun++,e.mutScale("moveSpd",this.define.ms),e.mutScale("rttSpd",this.define.rs),e.mutScale("exploDef",this.hurtScale),e.mutScale("poisonDef",this.hurtScale),e.mutScale("energyDef",this.hurtScale),e.mutScale("fireDef",this.hurtScale),e.mutScale("normalDef",this.hurtScale),e.add("critChance",this.define.critScale),e.add("critBonus",this.define.critDmg),e.add("stunResist",1),t.setForcedAnime("attack_2",1),t.refreshAvatar(),this.obj.setNoMove(!1),this.obj.setNoAttack(!1),this.obj.setNoRotate(!1),this.startSkill=!0},preCast:function(){this.direction=1,this.game.fastMode||this.effect(),this.obj.setNoMove(!0),this.obj.setNoAttack(!0),this.obj.setNoRotate(!0),this.obj.scheduleOnce(this.finishCast.bind(this),this.define.preCastTime||1.5)},effect:function(){var t=this.obj;this.obj.avatar.runAction(cc.scaleTo(.2,1.2)),t.avatar.runAction(cc.sequence(cc.tintTo(.1,255,50,50))),this.hurtBlinkEffect=t.hurtBlinkEffect,t.hurtBlinkEffect=function(){};var e=this.effectMgr.createSprite(0,0,"effect/winston/ult");e.scale=0,this.game.bindScheduler(e),e.runAction(cc.sequence(cc.scaleTo(.15,2.5),cc.spawn(cc.scaleTo(.15,3),cc.fadeOut(.15)),cc.destroySelf())),this.obj.addChild(e)},smallFlash:function(){kit.rndInt(0,12);var t=Effect.Animation.createByObj({name:"effect/winston/ult/winston_",frame:13,dt:.03,startNum:0,loop:0});t.x=100*Math.random()-50,t.y=100*Math.random()-30;var e=kit.vector2Radian(t.x,t.y),i=Math.cos(e)*Math.random()*40,a=Math.sin(e)*Math.random()*40;t.angle=360*-Math.random(),t.scale=0,t.scale2=.6*Math.random()+1,t.runAction(cc.moveBy(1,cc.v2(i,a))),t.runAction(cc.scaleTo(.2,t.scale2)),this.obj.addChild(t,1)},onCover:function(t,e,i,a){var n=this.define,s=n.k,o=n.dmg,r=this.define.buff,c=Math.sqrt(e),h=t.radius+n.r0;if(c<h)t.hurt(o,this,DMG_TYPE.explo);else{var d=o-s*(c-h);d<0&&(d=0),t.hurt(d,this,DMG_TYPE.explo)}r&&new r.ctor(r,{obj:t});var l=-n.kb/(c*t.weight);t.knockback(l*i,l*a)},excute:function(t){if(!this.game.fastMode&&(this.shakeTimer-=t,this.shakeTimer<=0)){var e=Math.random()*Math.PI*.5;this.game.shake(4*Math.sin(e),4*Math.cos(e)),this.shakeTimer=this.define.st,this.smallFlash()}if(this.startSkill){var i=this.obj,a=i.moveRad,n=this.moveScale*i.speed;if(i.dx+=n*kit.sin(a)*t,i.dy+=n*kit.cos(a)*t,this.idleTimer-=t,!(this.idleTimer>0)){this.idleTimer=this.define.dt;var s=i.x0,o=i.y0;if(g_sharedContactManager.checkAliveEnemy(this,s,o,this.define.r1,i.team,this.onCover),!this.game.fastMode){this.direction*=-1;var r=s-25*this.direction*kit.cos(a),c=o+25*this.direction*kit.sin(a);s=r+80*kit.sin(a),o=c+80*kit.cos(a),Effect.EarthShock(s,o,222,.2),Effect.WinstonUltSlash(this.obj,45*-this.direction,70,1==this.direction)}}}},end:function(){this._super();var t=this.obj,e=t.attribute;t.setNoSkills(!1),t.setNoAttack(!1),t.noSeek--,t.noStun--,e.mutScale("moveSpd",1/this.define.ms),e.mutScale("rttSpd",1/this.define.rs),e.mutScale("exploDef",1/this.hurtScale),e.mutScale("poisonDef",1/this.hurtScale),e.mutScale("energyDef",1/this.hurtScale),e.mutScale("fireDef",1/this.hurtScale),e.mutScale("normalDef",1/this.hurtScale),e.add("critChance",-this.define.critScale),e.add("critBonus",-this.define.critDmg),e.add("stunResist",-1),this.game.fastMode||(t.hurtBlinkEffect=this.hurtBlinkEffect,t.avatar.runAction(cc.tintTo(.2,255,255,255))),t.setForcedAnime(null),t.refreshAvatar()}}),cc._RF.pop()},{Skill:"Skill"}],RangeAI:[function(t,e){"use strict";cc._RF.push(e,"5791bQKgexNgarhJ2OZWVYa","RangeAI");var i=cc.Class({extends:t("AI")});e.exprots=i,cc._RF.pop()},{AI:"AI"}],RebirthSkill:[function(t,e){"use strict";cc._RF.push(e,"5befeuRHmFOuaSOk6johGr+","RebirthSkill");var i=t("Timer");cc.Class({extends:t("Skill"),start:function(){return this.prepare()||this.aim(2),Skill.no},stop:function(t){if(t)return this.isPrepare=!1,this.cast()?Skill.no:Skill.yes},prepare:function(){if(this._super())return!0;this.target=null,this.aimTimer=0},aim:function(t){this.aimTimer||(this.aimTimer=0),this.aimTimer-=t,this.aimTimer<0&&(this.aimTimer=1,this.selectTarget())},selectTarget:function(){var t=this.obj,e=t.x,i=t.y,a=this.define.r||600,n=null,s=a,o=this.game.deadBodies;if(this.game.hero&&this.game.hero.isDead&&this.game.hero.team==t.team)n=this.game.hero;else for(var r in o){var c=o[r];if(c.isHero&&c.isDead&&c.team==t.team){var h=c.x,d=c.y,l=kit.norm(h-e,d-i);l<=a&&l<=s&&(n=c,s=l)}}this.target=n},cast:function(){var t=this.obj;return!(this.target||this.isCast||this.isInCD||this.game.isGameEnd)||!!(this.isCast||this.isInCD||this.game.isGameEnd)||(!this.isUlt||t.isAIEnabled&&!this.config.isUlt||this.game.startUltEffect(t,this),this.isCast=!0,this.castTimer=this.define.t,this.cdTimer=this.define.cd,this.maxTimer=this.cdTimer,void(this.target&&(this.game.fastMode||Effect.Revive(this.target.x,this.target.y),this.game.effectMgr.play(SoundEffectPath.mercy_Rebirth),(new i).init(1.3,this.revive.bind(this)))))},revive:function(){if(this.target&&!this.game.isGameEnd){if(!this.target._revived){this.target._revived=!0;var t=this.target,e=t.attribute,a=this.define.atk;if(a){var n=e.get("atkDmg")*a;e.add("atkDmg",n)}}this.target.revive(this.define.hp||1);var s=this.target;s.isInvincible++,(new i).init(this.define.it||1,function(){s.isInvincible--}),this.game.gameLoser==t.team&&this.game.gameEndTimer&&(this.game.gameEndSwitch.pop(),this.game.gameEndTimer=null),this.target=null}}}),cc._RF.pop()},{Skill:"Skill",Timer:"Timer"}],RecoverBuff:[function(t,e){"use strict";cc._RF.push(e,"46e8aDtxX5PB5sledQVwbCj","RecoverBuff"),cc.Class({extends:t("Buff"),begin:function(){this.timer=this.define.dt},excute:function(t){var e=this.define,i=this.obj;if(this.timer-=t,this.timer<=0){this.timer=e.dt;var a=e.hp||0;e.hpPercent&&(a+=e.hpPercent*i.hpMax),i.heal(a)}}}),cc._RF.pop()},{Buff:"Buff"}],RecoverHpOnLowHpBuff:[function(t,e){"use strict";cc._RF.push(e,"23f68QndH9K6IwP8g6OQFbN","RecoverHpOnLowHpBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super(),this.cdTimer=0,this.cd=this.define.cd},excute:function(t){this.cdTimer-=t;var e=this.define,i=this.obj;this.cdTimer<=0&&i.hp<e.hpRate*i.hpMax&&(this.obj.heal(this.obj.hpMax*e.regenRate),this.cdTimer=this.cd)}}),cc._RF.pop()},{Buff:"Buff"}],RecoverOnHpLowBuff:[function(t,e){"use strict";cc._RF.push(e,"9965czPIntLR6E5ytKAyEdW","RecoverOnHpLowBuff"),cc.Class({extends:t("OnHurtBuff"),onHurt:function(){if(!(this.cdTimer>0)){var t=this.define;this.cdTimer=t.cd||0;var e=this.obj;e.hp<t.hpRate*e.hpMax&&e.heal(t.num||0)}}}),cc._RF.pop()},{OnHurtBuff:"OnHurtBuff"}],RecoverShieldOnShieldOffBuff:[function(t,e){"use strict";cc._RF.push(e,"8a8caxk8YpEFqOh7XWtoWhj","RecoverShieldOnShieldOffBuff"),cc.Class({extends:t("OnHurtBuff"),excute:function(t){this.cdTimer-=t,this.latency&&(this.latency-=t,this.latency<=0&&(this.latency=0,this.obj.ep+=this.define.num||0))},onHurt:function(){if(!(this.cdTimer>0)){var t=this.define,e=this.obj;e.ep<=t.epRate*e.epMax&&(this.latency=t.latency,this.cdTimer=this.define.cd)}}}),cc._RF.pop()},{OnHurtBuff:"OnHurtBuff"}],RedDot:[function(t,e){"use strict";cc._RF.push(e,"798d5UNhbFAaaOfirNXctrk","RedDot"),cc.Class({extends:cc.Node,init:function(t,e){var i=game.effectMgr.createSprite(130,130,"effect/aimRed");i.setAnchorPoint(.5,0),this.sp=i,this.node.addChild(this.sp),this.setOwner(t),this.baseHeight=i.getContentSize().height-19,this.scheduleUpdate(),this.range=e||555},checkLineBlocked:function(t,e,i,a){for(var n=g_sharedContactManager,s=i-t,o=a-e,r=kit.norm(s,o)/30,c=0;c<=r;c++){var h=t+s*c/r,d=e+o*c/r,l=n.getCXY(h,d);if(!n.canPlace(l.x,l.y))return cc.v2(h,d);for(var u=0;u<n.contactList.length;u++){var f=n.contactList[u];if(f.team!=this.owner.team&&kit.norm(h-f.x,d-f.y)<=f.radius)return f}}},activate:function(t,e){return this.enable=!0,this.timer=t,this.alwaysOpen=e,this.sp.visible=!0,!0},deactivate:function(){this.enable=!1,this.sp.visible=!1},update:function(t){if(this.enable){this.alwaysOpen||(this.timer-=t),this.timer<0&&this.deactivate();var e=kit.degree2Radian(-this.owner.angle),i=this.owner.x0+kit.sin(e)*this.range,a=this.owner.y0+kit.cos(e)*this.range,n=this.owner.x0,s=this.owner.y0,o=this.checkLineBlocked(n,s,i,a),r=o&&kit.norm(o.x-n,o.y-s)||this.range;this.sp.setScaleY(r/this.baseHeight)}},setOwner:function(t){t.addChild(this,1),this.owner=t}}),cc._RF.pop()},{}],Reddot:[function(t,e){"use strict";cc._RF.push(e,"a2f42sK8i9IK6WHlKXJ3Auv","Reddot"),window.REDDOT_TYPE={RDot:1,GNum:2,RNum:3,Arrow:4,New:5},cc.Class({extends:cc.Component,ctor:function(){this.type=window.REDDOT_TYPE.RDot},properties:{bgSp:cc.Sprite,txtLab:cc.Label},init:function(t){t.pNode&&(t.type&&(this.type=t.type),t.pos&&this.node.setPosition(t.pos),this.updateType(this.type),this.node.parent=t.pNode,this.node.zIndex=OperDefine.zIdx.REDDOT)},updateType:function(t){this.type=t,reskit.setSpNodeFrame(this.bgSp,OperUrl.reddotBg(this.type))},updateLabtxt:function(t){this.type!=window.REDDOT_TYPE.GNum&&this.type!=window.REDDOT_TYPE.RNum?this.type!=window.REDDOT_TYPE.New?this.type!=window.REDDOT_TYPE.RDot?this.txtLab.string="":this.txtLab.string="!":this.txtLab.string="new":this.txtLab.string=t},startAction:function(){this.actionRuning||(this.actionRuning=!0,this.bgSp.node.setPosition(0,0),this.type==window.REDDOT_TYPE.RDot||this.type==window.REDDOT_TYPE.GNum||this.type==window.REDDOT_TYPE.RNum||this.type==window.REDDOT_TYPE.New?this.bgSp.node.runAction(cc.sequence(cc.moveBy(.6,cc.v2(0,5)),cc.delayTime(.2),cc.moveBy(.6,cc.v2(0,-5))).repeatForever()):this.type==window.REDDOT_TYPE.Arrow&&this.bgSp.node.runAction(cc.sequence(cc.scaleTo(.2,1,.9).easing(cc.easeCubicActionIn()),cc.spawn(cc.scaleTo(.2,.9,1.1),cc.moveBy(.2,cc.v2(0,4))).easing(cc.easeCubicActionOut()),cc.spawn(cc.scaleTo(.1,1,1),cc.moveBy(.1,cc.v2(0,-4))).easing(cc.easeCubicActionIn()),cc.delayTime(.3)).repeatForever()))},stopAction:function(){this.bgSp.node.stopAllActions(),this.actionRuning=!1},hideDot:function(){this.node.opacity=0,this.stopAction()},showDot:function(t,e){e&&e!=this.type&&this.updateType(e),this.node.opacity=255,this.updateLabtxt(t,e),this.startAction()},removeDot:function(){this.node.destroy()}}),cc._RF.pop()},{}],ReflectSkill:[function(t,e){"use strict";cc._RF.push(e,"9c401uZtbBHMLOeQYNF1Fk8","ReflectSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.genji_Reflect),this.r=this.define.r,this.dmg=this.define.dmg,this.dmgk=this.define.dmgk,this.dt=this.define.dt,this.idleTimer=0;var t=this.obj,e=t.attribute;this.x0=t.x0,this.y0=t.y0,this.define.hurtScale&&e.mutScale("hurtScale",this.define.hurtScale),this.define.moveSpeedScale&&e.mutScale("moveSpd",this.define.moveSpeedScale),this.isSensor=!0,this.radius=this.define.radius,this.team=t.team,this.isDead=!0,g_sharedContactManager.addEntity(this,!0),this.game.fastMode||this.effect(),this.obj.playAnim({anim:"attack",loop:1,speed:3.5,time:this.define.t})},effect:function(){var t=new cc.Node;t.r=10,this.n=6;for(var e=1;e<=6;e++){var i=this.createShuriken();t.addChild(i);var a=Math.PI/6*e*2;i.x=Math.sin(a)*t.r,i.y=Math.cos(a)*t.r,i.angle=-60*e}return this.obj.addChild(t),this.effectNode=t,this.effectNode.spd=5,this.effectNode.deg=0,t},createShuriken:function(){return this.effectMgr.createSprite(0,0,"effect/genji/shuriken")},hurt:function(t,e,i,a,n){if(e.noReflect)return!1;if(e.dmg=t*this.dmgk,this.game.fastMode||Effect.Slash(this.obj,e.x,e.y,null,null),this.game.effectMgr.play(SoundEffectPath.genji_ReflectBlock),2==this.define.reflectType){var s=e.spdX,o=e.spdY,r=e.x+e.lx*n,c=e.y+e.ly*n,h=r-this.x0,d=c-this.y0,l=kit.norm(d,h),u=h/l,f=d/l,m=2*(s+-(s*u+o*f)*u)-s,p=2*(o+-(s*u+o*f)*f)-o;e.spdX=m,e.spdY=p,e.x=r,e.y=c,e._isFirstCheck=!0,e.timer<.15&&(e.timer=.15);var g=Math.atan(p/m);e.deg=90-kit.radian2Degree(g),e.sprite&&(e._refreshSprite=!0,e.define.st&&e.sprite.runAction(cc.scaleTo(e.define.st,e.sx,e.sy)))}return 1==this.define.reflectType&&(e.spdX*=-1,e.spdY*=-1,e.lx*=-1,e.ly*=-1,e.deg=(e.deg+180)%360,e.sprite&&(e._refreshSprite=!0)),e.team=this.team,!0},onContact:function(){},knockback:function(){},excute:function(t){if(this.effectNode){var e=this.effectNode;this.effectNode.deg+=15,this.effectNode.angle=this.obj.deg-this.effectNode.deg,this.effectNode.spd+=.1,e.r=kit.numApproach(e.r,this.r/2,this.effectNode.spd);var i=e.getChildren();for(var a in i){var n=i[a],s=Math.PI/this.n*a*2;n.x=Math.sin(s)*e.r,n.y=Math.cos(s)*e.r,n.angle+=25}}var o=this.obj;if(this.x0=o.x0,this.y0=o.y0,kit.timer(this,"skill",.05,t)){s=-kit.degree2Radian(o.angle)-Math.PI/4+Math.PI/2*Math.random();var r=120*Math.random()+35;Effect.GenjiSkill2(this.obj.x+r*Math.sin(s),this.obj.y+r*Math.cos(s),this.obj,s)}this.idleTimer+=t,this.idleTimer<this.dt||(this.idleTimer=0,g_sharedContactManager.checkAliveEnemy(this,this.x0,this.y0,this.r,o.team,this.onCover))},onCover:function(t){Effect.Slash(t,t.x0,t.y0,null,null),t.hurt(this.dmg,{obj:t})},end:function(){this._super();var t=this.obj.attribute;this.define.hurtScale&&t.mutScale("hurtScale",1/this.define.hurtScale),this.define.moveSpeedScale&&t.mutScale("moveSpd",1/this.define.moveSpeedScale),this.isRemoved=!0,g_sharedContactManager.removeEntity(this),this.effectNode&&this.effectNode.runAction(cc.sequence(cc.scaleTo(.3,0),cc.destroySelf()));var e=this.n;this.effectNode&&this.effectNode.schedule(function(){var t=this.getChildren();for(var i in t){var a=t[i],n=Math.PI/e*i*2;a.x=Math.sin(n)*this.r,a.y=Math.cos(n)*this.r,a.angle+=35}})}}),cc._RF.pop()},{Skill:"Skill"}],RelicBtn:[function(t,e){"use strict";cc._RF.push(e,"24122Q2OINAq6Z3z2yOxjdo","RelicBtn"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node,this.enableTouchResize()},enableTouchResize:function(){var t=this,e=function(e){t.onTouchScale(e.target,e.type)};this.node.on(cc.Node.EventType.TOUCH_START,function(t){e&&e(t)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){e&&e(t)}),this.node.on(cc.Node.EventType.TOUCH_END,function(t){e&&e(t)}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){e&&e(t)})},onTouchScale:function(t,e){switch(e){case cc.Node.EventType.TOUCH_START:t.setScale(.95*t.scale);break;case cc.Node.EventType.TOUCH_END:case cc.Node.EventType.TOUCH_CANCEL:t.setScale(t.scale/.95)}},start:function(){},init:function(t,e,i){this.game=e,this.node.scale=1,this.define=t,this.node.getChildByName("title").getComponent(cc.Label).string=t.title,this.node.getChildByName("des").getComponent(cc.Label).string=t.des;var a=this.node.getChildByName("content").getComponent(cc.Sprite),n="sub3#ui/relic/icon/"+(t.content||t.id);e.effectMgr.loadSprite(a,n),this.cb=i,this.createRarityEffect(t,e)},upgradeEffect:function(t){var e=TalentDefine[this.define.upgrade];if(e){this.define=e,this.node.runAction(cc.scaleTo(.1,1.1).easing(cc.easeInOut(2)));var i=new cc.Node;i.width=170,i.height=160;var a=i.addComponent(cc.Mask);a.type=cc.Mask.Type.IMAGE_STENCIL,a.alphaThreshold=.2,this.game.effectMgr.loadSprite(a,"sub#uiz/chooseBonus/bg_0");var n=this.game.effectMgr.createSprite(0,0,"sub#ui/upgradeBonus/light_upgrade");n.y=-150,n.runAction(cc.sequence(cc.delayTime(.1),cc.moveTo(.3,cc.v2(0,115)),cc.delayTime(.3),cc.callFunc(function(){var t=Effect.Flash(0,0,this.game,3);this.node.addChild(t),this.node.getChildByName("title").getComponent(cc.Label).string=e.title,this.node.getChildByName("des").getComponent(cc.Label).string=e.des;var i=this.node.getChildByName("content").getComponent(cc.Sprite),a="sub#uiz/chooseBonus/icon/"+(e.content||e.id);this.game.effectMgr.loadSprite(i,a),this.createRarityEffect(e,this.game);var n=this.game.effectMgr.createSprite(0,0,"sub#ui/upgradeBonus/light_frame");this.node.addChild(n),n.runAction(cc.spawn(cc.scaleTo(.4,6),cc.fadeOut(.4))),this.game.effectMgr.play(SoundEffectPath.choose_bonus_upgrade_finish)},this),cc.delayTime(1),cc.callFunc(function(){t&&t()}))),i.addChild(n),this.node.addChild(i)}},recommend:function(){var t=this.game.effectMgr.createSprite(80,97,"sub#uiz/chooseBonus/recommend");t.opacity=128,t.scale=3,t.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1)).easing(cc.easeInOut(2))),this.node.addChild(t),t.runAction(cc.sequence(cc.delayTime(.5),cc.scaleTo(.1,1.2),cc.scaleTo(.1,1)).repeatForever()),this.node.getChildByName("card_frame").runAction(cc.sequence(cc.delayTime(.5),cc.scaleTo(.1,1.1),cc.scaleTo(.1,1)).repeatForever()),this.node.getChildByName("content").runAction(cc.sequence(cc.delayTime(.5),cc.scaleTo(.1,1.3*1.1),cc.scaleTo(.1,1.3)).repeatForever())},showEffect:function(t,e,i){this.node.getComponent(cc.Button).interactable=!1,this.node.scale=5,this.node.opacity=128,this.dynamicEff&&(this.dynamicEff.opacity=0),this.dynamicEff2&&(this.dynamicEff2.opacity=0),this.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.1,1),cc.fadeIn(.1)),cc.callFunc(function(){e.effectMgr.play(SoundEffectPath.chooseBonusShow),this.node.getComponent(cc.Button).interactable=!0,this.dynamicEff&&this.dynamicEff.runAction(cc.fadeIn(.2)),this.dynamicEff2&&(this.dynamicEff2.opacity=255)},this),cc.shake(.2,8,8),cc.callFunc(function(){i&&this.recommend()},this)))},createParticle:function(t,e,i){var a=this.game.effectMgr.createSprite(kit.rnd(-75,75),t,"uiz/chooseBonus/pt_"+i);return a.opacity=0,a.scale=kit.rnd(.7,1),a.runAction(cc.sequence(cc.spawn(cc.fadeTo(.2,kit.rnd(155,255)),cc.moveBy(2,cc.v2(0,e)),cc.sequence(cc.delayTime(1.5),cc.fadeOut(.5))),cc.destroySelf())),a},createDynamicEffect:function(){this.dynamicEff&&this.dynamicEff.destroy(),this.dynamicEff2&&this.dynamicEff2.destroy();var t=this.node.getChildByName("card_frame");this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){var e=this.game.effectMgr.createAnimation("sub#atlas/relic_btn_flow",{speed:2});t.addChild(e,-1)},this)).repeatForever());var e=this.define.rarity;if(!(e<3)){this.dynamicEff=new cc.Node,this.dynamicEff.zIndex=-1,this.node.addChild(this.dynamicEff);var i=(4==e?.4:5==e&&.2)||1,a=e;if(this.dynamicEff.runAction(cc.sequence(cc.callFunc(function(){var t=this.createParticle(-65,kit.rnd(-30,-20)*a,e,1+i);this.node.addChild(t),t=this.createParticle(75,kit.rnd(5,10)*a,e,.5+i/2),this.dynamicEff.addChild(t)},this),cc.delayTime(i)).repeatForever()),5==e){this.dynamicEff2=new cc.Node,this.node.addChild(this.dynamicEff2);var n=this.game.effectMgr.createSprite(0,0,"uiz/chooseBonus/frame_"+e);n.runAction(cc.sequence(cc.fadeIn(1),cc.fadeTo(1,0)).repeatForever()),this.dynamicEff2.addChild(n)}this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){var e=this.game.effectMgr.createAnimation("sub#atlas/relic_btn_flow",{speed:2});t.addChild(e,-1)},this)).repeatForever())}},initTalent:function(){},createRarityEffect:function(t,e){t.rarity;var i=e.effectMgr,a=this.node.getChildByName("card_frame");i.loadSprite(a.getComponent(cc.Sprite),"sub3#/ui/relic/bg_"+t.rarity),(a=this.node.getChildByName("title")).color=RarityTextColor[t.rarity],this.createDynamicEffect()},onCheck:function(){this.game.popTimeScale();var t=this.game.hero,e=this.define;Talent.effect(t,e),this.cb&&this.cb(),menuManager.close(),Effect.ShowChooseBonusGain(this.game,e),this.game.checkBonus(),e.chooseSound?this.game.effectMgr.play(SoundEffectPath[e.chooseSound]):this.game.effectMgr.play(SoundEffectPath.chooseTalent),tjSDK.onEventQm(405,e.id),tjSDK.onEvent("choose_bonus",e.id)}}),cc._RF.pop()},{}],RelicPopMenu:[function(t,e){"use strict";cc._RF.push(e,"e777aS0L25IzJEfsj5ZMSYP","RelicPopMenu"),t("TalentDefine"),cc.Class({extends:t("Menu"),properties:{cards:[cc.Node],title:cc.Node,ultBg:cc.Node,richText:cc.RichText,title2:cc.Node,banner:cc.Node},onLoad:function(){this.title.opacity=0,this.title2.opacity=0,this.title.runAction(cc.sequence(cc.delayTime(.4),cc.fadeIn(.5))),this.title2.runAction(cc.sequence(cc.delayTime(.4),cc.fadeIn(.5)))},shuffle:function(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),a=[t[e],t[i]];t[i]=a[0],t[e]=a[1]}},createTitleEffect:function(){this.banner.scaleX=0,this.banner.runAction(cc.scaleTo(.2,1));var t=this.banner.getChildByName("title");t.runAction(cc.sequence(cc.delayTime(.7),cc.callFunc(function(){var e=this.createParticle(130,150,null,1);t.addChild(e,-1),e=this.createParticle(-130,-150,null,1),t.addChild(e,-1)},this)).repeatForever())},createParticle:function(t,e){var i=this.game.effectMgr.createSprite(t,kit.rnd(-30,30),"sub3#ui/relic/flow");i.opacity=0,i.scale=kit.rnd(.3,1),i.scaleX=0;var a=kit.rnd(5,8);return i.runAction(cc.sequence(cc.spawn(cc.fadeTo(.2,kit.rnd(155,255)),cc.moveBy(2,cc.v2(e,0)),cc.scaleTo(1,a,1),cc.sequence(cc.delayTime(1.5),cc.fadeOut(.5))),cc.destroySelf())),i},start:function(){if(cc.Platformsdk.showBanner(),console.log("start cards length",this.cards.length),0==this.cards.length)return menuManager.close(),this.game.popTimeScale(),void console.log("UpgradeBonusMenu initOptions:");this.createTitleEffect()},init:function(t){this.nBossKilled=t.nBossKilled||0,this.nBossKilled>4?this.nBossKilled=4:this.nBossKilled||(this.nBossKilled=1),this.lvl=t.lvl,this.fixOptions=t.fixOptions,this.noOptions=t.noOptions,this.bonus=t.bonus||[0,0,0],console.log("chooseBonusMenu bonus:initTalent init",this.bonus),this.cb=t.cb;var e=t.game;if(this.game=e,this.game.pushTimeScale(),this.lvl&&(this.title.getComponent(cc.Label).string=this.lvl+""),t.changeOptions){var i=this.node.getChildByName("buyAd");if(i.active=!0,i.runAction(cc.sequence(cc.delayTime(1),cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))),i.runAction(cc.sequence(cc.delayTime(1),cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))),10==this.lvl)var a="",n="B07AED";else 5==this.lvl?(a="",n="4F8AF8"):(a="",n="36C831");this.richText.string="<color=#fff068></c><color=#"+n+">"+a+"</color><color=#fff068></color>"}this.node.getChildByName("banner"),this.initOptions()},initOptions:function(){var t=this,e=this,i=this.game;if(this.fixOptions){var a=this.fixOptions,n=[];for(var s in a)n.push(TalentDefine[a[s]]);kit.shuffle(n),n.length>3&&(n=n.splice(0,3))}else{var o=this.game.gameManager&&this.game.gameManager.getChapterProgress(),r=Talent.getPoolById("relic",o);console.log("relicPopMenu pool",r);var c=[];for(s=1;s<=TalentConfig.relic[this.nBossKilled].n;s++)c.push(this.rollBonus());console.log("relicPopMenu rollBonus",c),n=Talent.pickFromPool(r,c,null,[TalentDefine.moneyDropBonus])}console.log("initOptions",n);var h=function(){var a=+s,o=new cc.Node;o.x=230*(-(n.length-1)/2+a),console.log(o.x),o.y=-20,t.node.addChild(o),t.cards.push(o),t.game.effectMgr.loadPrefab("sub3#prefab/relicBtn",function(t){var s=cc.instantiate(t);s.on("click",e.onClick,e),o.addChild(s);var r=s.getComponent("RelicBtn");r.init(n[a],i),r.node.opacity=0,r.node.scale=1.3,r.node.runAction(cc.sequence(cc.delayTime(.1*a),cc.spawn(cc.scaleTo(.2,1),cc.fadeIn(.2)))),s.def=n[a]})};for(var s in n)h()},onClick:function(t){var e=t.node,i=e.def;menuManager.close(),this.game.popTimeScale(),this.game.effectMgr.play(SoundEffectPath.choose_bonus_upgrade_click),Talent.effect(this.game.hero,i),this.game.gameManager.setData("relicUsing",i.id);var a=this.fixOptions;for(var n in a)if(a[n]==i.id){this.game.gameManager.setData("relicItemId",n);break}if(this.cb){var s=e.convertToWorldSpaceAR(cc.v2(0,0));this.cb(s)}operkit.getOperData("guide","first_relic")||(a={chapter:operkit.getCurWarChapterTJ(),point:this.game.gameManager.levelPool.index,id:i.id},tjSDK.onEvent("first_relic",a),operkit.setOperData("guide","first_relic",!0,!0))},addArray:function(t,e){for(var i in t)e[i]&&(t[i]+=e[i]);return t},rollBonus:function(){for(var t=[],e=TalentConfig.relic[this.nBossKilled].rollPower,i=1;i<=e.length;i++)t.push(e[i-1]);return+kit.rollWithPower(t)},closeCb:function(){cc.Platformsdk.hideBanner()},changeOptions:function(t){t&&(this.game.popTimeScale(),menuManager.close(),menuManager.pop("prefab/chooseBonus",{lvl:this.lvl,game:this.game,bonus:TalentConfig.adBonus,noOptions:[this.chooseArray[0].id,this.chooseArray[1].id,this.chooseArray[2].id]}))},changeWeaponByVideo:function(){cc.Platformsdk.showVideo(TJ.ADID.war_choose_optionsChange,this.changeOptions.bind(this))},onMenuClose:function(t){this._super(t)}}),cc._RF.pop()},{Menu:"Menu",TalentDefine:"TalentDefine"}],RendBuff:[function(t,e){"use strict";cc._RF.push(e,"1bae6x3DjJOrIaBhwT3bYto","RendBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registOnHitCb(this),this.bleedBuffSymbol=getUniqueSymbol()},onHit:function(t,e,i){i.setBuff({ctor:BleedBuff,symbol:this.bleedBuffSymbol,t:this.define.duration||5,dmg:t*this.define.dmgPercent})},end:function(){this.obj.unregistOnHitCb(this)}}),cc._RF.pop()},{Buff:"Buff"}],RepairSkill:[function(t,e){"use strict";cc._RF.push(e,"d84a63I5iFOH5NY+ekS9GqE","RepairSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.re=this.define.re,this.a=this.define.a,this.dt=this.define.dt,this.protectHp=this.define.protectHp,this.idleTimer=0;var t=this.obj,e=t.attribute;e.add("armorLevel",this.a),t.stopAttack(),t.setNoAttack(!0),t.setNoMove(!0),t.setNoSkills(!0),t.setNoRotate(!0),t.setForcedAnime("repair",1),t.refreshAvatar(),this.orgW=t.weight,t.weight=-1,t.registOnProtectCb(this),this.ep=this.define.ep||0,this.ep&&e.add("epRecover",this.ep),this.repairEffectPt=[{x:23,y:20},{x:-25,y:-15},{x:-8,y:22}],this.repairEffectIndex=0,kit.initTimer(this,"repairEffect")},onProtect:function(t){return this.protectHp-=t,this.protectHp<=0&&this.obj.unregistOnProtectCb(this),!0},repairEffect:function(t,e){var i=this.game.effectMgr.createParticle(t,e,"repair");this.particle=i;var a=i.getComponent(cc.ParticleSystem);a.positionType=cc.ParticleSystem.PositionType.GROUPED,a.autoRemoveOnFinish=!0,this.obj.avatar.upperArmature.addChild(i,1e7),this.game.effectMgr.play(SoundEffectPath.bastion_Repair)},excute:function(t){if(this.idleTimer+=t,!this.game.fastMode&&kit.timer(this,"repairEffect",.5,t)){var e=this.repairEffectPt[this.repairEffectIndex];this.repairEffect(e.x,e.y),this.repairEffectIndex++,this.repairEffectPt[this.repairEffectIndex]||(this.repairEffectIndex=0)}if(!(this.idleTimer<this.dt)){this.idleTimer=0;var i=this.obj;i.isStun&&this.callEnd(),i.heal(this.re)}},end:function(){this._super();var t=this.obj,e=t.attribute;e.add("armorLevel",-this.a),t.setNoMove(!1),t.setNoSkills(!1),t.setNoRotate(!1),t.setNoAttack(!1),t.setForcedAnime(null),t.refreshAvatar(),t.weight=this.orgW,this.obj.unregistOnProtectCb(this),this.ep&&e.add("epRecover",-this.ep)}}),cc._RF.pop()},{Skill:"Skill"}],ResizeToCustom:[function(t,e){"use strict";cc._RF.push(e,"56230CCcM9LTa867phr7M6W","ResizeToCustom"),cc.ResizeTo=cc.Class({name:"cc.ResizeTo",extends:cc.ActionInterval,ctor:function(t,e,i){this._startWidth=1,this._startHeight=1,this._endWidth=0,this._endHeight=0,this._deltaX=0,this._deltaY=0,void 0!==e&&cc.ResizeTo.prototype.initWithDuration.call(this,t,e,i)},initWithDuration:function(t,e,i){return!!cc.ActionInterval.prototype.initWithDuration.call(this,t)&&(this._endWidth=e,this._endHeight=null!=i?i:e,!0)},clone:function(){var t=new cc.ResizeTo;return this._cloneDecoration(t),t.initWithDuration(this._duration,this._endWidth,this._endHeight),t},startWithTarget:function(t){cc.ActionInterval.prototype.startWithTarget.call(this,t),this._startWidth=t.width,this._startHeight=t.height,this._deltaX=this._endWidth-this._startWidth,this._deltaY=this._endHeight-this._startHeight},update:function(t){t=this._computeEaseTime(t),this.target&&(this.target.width=this._startWidth+this._deltaX*t,this.target.height=this._startHeight+this._deltaY*t)}}),cc.resizeTo=function(t,e,i){return new cc.ResizeTo(t,e,i)},cc._RF.pop()},{}],ReviveMenu:[function(t,e){"use strict";cc._RF.push(e,"ac9c6lh4xVJ5bUiB9+ifF2r","ReviveMenu"),cc.Class({extends:t("Menu"),properties:{num:cc.Label},onLoad:function(){},start:function(){},init:function(t){this.game=t.game,this.game.pushTimeScale(0),t.noRevive&&(this.node.getChildByName("revive").active=!1,this.node.getChildByName("back").y=0),this.timer=5;var e=this.node.getChildByName("back");e.active=!1,this.backBtn=e,cc.Platformsdk.videoBtnShow(TJ.ADID.war_revived)},update:function(t){if(!this.stopCountTime){this.timer-=t;var e=Math.ceil(this.timer);this.num.string=e,this.timer<=2&&(this.backBtn.active=!0),this.timer<0&&this.endGame()}},reviveWithAD:function(){this.stopCountTime=!0,cc.Platformsdk.showVideo(TJ.ADID.war_revived,function(t){if(this.revive(t),t&&!operkit.loadWarData("first_dead_choice")){var e=this.game.gameManager;operkit.saveWarData("first_dead_choice",!0,!0)}t&&(e=this.game.gameManager,tjSDK.onEventQm(403,operkit.getCurWarChapterTJ()+"_"+e.levelPool.index+"_"+e.levelPool.currentMapIndex,2))}.bind(this))},reviveWithDiamond:function(){var t=OperBridge.MONEY_TYPE.DIAMOND;if(OperBridge.useMoney(t,50)){if(this.revive(!0),!operkit.loadWarData("first_dead_choice")){var e=this.game.gameManager;operkit.saveWarData("first_dead_choice",!0,!0)}e=this.game.gameManager,tjSDK.onEventQm(403,operkit.getCurWarChapterTJ()+"_"+e.levelPool.index+"_"+e.levelPool.currentMapIndex,1)}},revive:function(t){t?(this.game.hero.revive(),this.game.popTimeScale(0),menuManager.close()):this.stopCountTime=!1},endGame:function(){if(!this.isEnd){if(this.isEnd=!0,menuManager.close(),this.game.gameManager.endGame(),!operkit.loadWarData("first_dead_choice")){var t=this.game.gameManager;operkit.saveWarData("first_dead_choice",!0,!0)}t=this.game.gameManager,tjSDK.onEventQm(403,operkit.getCurWarChapterTJ()+"_"+t.levelPool.index+"_"+t.levelPool.currentMapIndex,0)}}}),cc._RF.pop()},{Menu:"Menu"}],RockBlt:[function(t,e){"use strict";cc._RF.push(e,"54c3dn4/ABNSrsjez4gzOj0","RockBlt"),cc.Class({extends:t("Grenade"),initSprite:function(){this._super(),this.shadow=this.game.effectMgr.createSprite(0,0,"shadow"),this.shadow.opacity=100,this.game.camera.addChild(this.shadow,300)},updateSprite:function(){if(this.sprite){this.sprite.setPosition(this.x,this.y);var t=this.flyDistance/this.speed,e=-3*-t*.5,i=t-this.timer,a=1*(e*i+-1.5*i*i+.1);this.sprite.setScale(a+.1),this.shadow.x=this.x+Math.sin(2*Math.PI/3+0)*a*200,this.shadow.y=this.y+Math.cos(2*Math.PI/3+0)*a*200}},removeSprite:function(){this.sprite&&(this.sprite.destroy(),this.sprite=null),this.shadow&&(this.shadow.destroy(),this.shadow=null)},bomb:function(){this.game.fastMode||this.define.bombEff&&this.define.bombEff(this,this.game);var t=this.obj,e=this.dmg,i=this.x,a=this.y;this.define.blt&&(Ammofactory(t,this.define.blt,{x:i,y:a,obj:t,te:t.team,deg:45,dmg:e},this.game),Ammofactory(t,this.define.blt,{x:i,y:a,obj:t,te:t.team,deg:135,dmg:e},this.game),Ammofactory(t,this.define.blt,{x:i,y:a,obj:t,te:t.team,deg:225,dmg:e},this.game),Ammofactory(t,this.define.blt,{x:i,y:a,obj:t,te:t.team,deg:315,dmg:e},this.game))}}),cc._RF.pop()},{Grenade:"Grenade"}],RocketsSkill:[function(t,e){"use strict";cc._RF.push(e,"86399ngnYZDzKiH6wNzSc0v","RocketsSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.pharah_Rockets),this.dt=this.define.dt||.2,this.blt=kit.clone(this.define.blt),this.define.stunTime&&(this.blt.buff||(this.blt.buff=[]),this.blt.buff.push({name:"RocketsSkillStun",ctor:StunBuff,symbol:getUniqueSymbol(),t:this.define.stunTime,chance:this.define.stunChance})),this.dmg=this.define.dmg||0,this.r=this.define.r||300,this.idleTimer=0,this.blt.minradius+=this.define.minradius||0,this.blt.hurtradius+=this.define.hurtradius||0,this.game.hero&&this.game.hero.define.id==HERO_PHARAH&&this.game.controller&&(this.blt._needCount=!0,this.game.onceKilledCount=0);var t=this.obj,e=t.attribute;this.defense=this.define.defense||0,e.add("hurtScale",-this.defense),t.setNoAttack(!0),t.setNoRotate(!0),t.setNoMove(!0),t.setNoSkills(!0),t.setFly(!0),t.playAnim({anim:"spell"}),t.avatar.runAction(cc.scaleTo(.2,1.5,1.5)),this.heroZOrder=this.obj.getLocalZOrder(),this.obj.zIndex=this.heroZOrder+1e5,this.addParticle()},addParticle:function(){var t,e;if(!(t=this.obj.avatar.armature.getBone("spot_1")).changed){var i=this.game.effectMgr.createParticle(x,y,"pharah_fly");this.particle=i,(e=i.getComponent(cc.ParticleSystem)).positionType=cc.ParticleSystem.PositionType.RELATIVE,t.addDisplay(e,0),t.changeDisplayWithIndex(0,!1),this.obj.avatar.upperArmature.addChild(i,1e7),t.changed=!0,i.angle=-45}(t=this.obj.avatar.armature.getBone("spot_2")).changed||(i=this.game.effectMgr.createParticle(x,y,"pharah_fly"),this.particle2=i,(e=i.getComponent(cc.ParticleSystem)).positionType=cc.ParticleSystem.PositionType.RELATIVE,i.angle=45,t.addDisplay(e,0),t.changeDisplayWithIndex(0,!1),t.changed=!0)},excute:function(t){if(this.idleTimer+=t,!(this.idleTimer<this.dt)){this.idleTimer=0;var e=this.obj,i=this.r,a=this.blt,n=i*Math.random(),s=360*Math.random();a.l=n;var o=e.x,r=e.y;e.deg=s,Ammofactory(e,this.blt,{x:o,y:r,te:e.team,obj:e,dmg:this.dmg,noTarget:1},this.game)}},end:function(){this._super();var t=this.obj;t.attribute.add("hurtScale",this.defense),t.setNoAttack(!1),t.setNoRotate(!1),t.setNoMove(!1),t.setNoSkills(!1),t.setFly(!1),t.avatar.setWalkAnimeName(),t.avatar.setStandAnimeName(),t.avatar.setAttackAnimeName(),t.playAnim(),t.avatar.runAction(cc.scaleTo(.2,1)),t.zIndex=this.heroZOrder}}),cc._RF.pop()},{Skill:"Skill"}],RoundShotSkill:[function(t,e){"use strict";cc._RF.push(e,"e1eb34qSwxPrLQTUJ7ylQH0","RoundShotSkill"),cc.Class({extends:t("Skill"),cast:function(){var t=this.obj;if(this._super())return!0;if(this.game.effectMgr.play(SoundEffectPath.reaper_RoundShot),this.deg=this.obj.angle,this.castTimerMax=this.castTimer,t.setNoRotate(!0),t.setNoAttack(!0),t.setNoSkills(!0),t.setForcedAnime("skill",3/this.castTimerMax),t.refreshAvatar(),this.shotBonus=this.define.bonusRound||0,this.attackTimer=80/90*this.castTimerMax,this.endTimer=this.castTimerMax-this.attackTimer,this.shotTimer=0,!this.game.fastMode){var e=this.game.effectMgr.createParticle(t.getPosition().x,t.getPosition().y,"reaper_smoke3");e.setScale(1.5),this.smokeNode=e,this.game.camera.addChild(e,t.getLocalZOrder()+1);var i=e.getComponent(cc.ParticleSystem);this.smoke=i,i.positionType=cc.ParticleSystem.PositionType.RELATIVE,this.createShadow()}},createShadow:function(){this.list=[],this.obj.getPosition();for(var t=0;t<6;t++);this.listCt=3},updateShadow:function(t,e,i){var a=this.list[0];a.angle=-t,a.setPosition(e),a.deg=t,a.pos=e,a.opacity=i;for(var n=1;n<this.listCt;n++){var s=this.list[n];s.angle=-a.deg0,s.setPosition(a.pos0),s.opacity=i,s.deg=a.deg0,s.pos=a.pos0,a.deg0=a.deg,a.pos0=a.pos,a=s,(i-=10)<0&&(i=0)}this.listCt<6&&this.listCt++},excute:function(t){var e=this.obj,i=e.getPosition();this.smokeNode&&this.smokeNode.setPosition(i);var a=120,n=null;this.attackTimer>0?(this.attackTimer-=t,this.shotTimer-=t,this.attackTimer<=0?(n=e.getRotation()+90,this.attack(n)):this.shotTimer<=0&&(this.shotTimer+=.03,n=360*Math.random(),this.attack(n))):(this.shotTimer-=t,this.shotTimer<=0&&(this.shotTimer+=.03,a*=this.castTimer/this.endTimer,n=360*Math.random())),this.game.fastMode||(kit.timer(this,"sound",.5,t)&&this.game.effectMgr.play(SoundEffectPath.reaper_RoundShotBullet),n&&this.updateShadow(n,i,a))},attack:function(t){var e=this.obj,i=this.define.blt;if(this.define.damage)var a=this.define.damage;if(this.define.stunTime)var n={name:"ReaperRoundshotStun",ctor:StunBuff,symbol:getUniqueSymbol(),t:this.define.stunTime,chance:this.define.stunChance};for(var s=e.x0,o=e.y0,r=2+this.shotBonus,c=kit.degree2Radian(t),h=Math.sin(c),d=Math.cos(c),l=s+0*d+60*h,u=o-0*h+60*d,f=0;f<r;f++)new Bullet(i,{x:l,y:u,te:e.team,obj:this,dmg:a,buff:n}).move(c+.3*f/(r-1)-.15,.8+.4*Math.random());for(l=s-0*d-60*h,u=o+0*h-60*d,f=0;f<r;f++)new Bullet(i,{x:l,y:u,te:e.team,obj:this,dmg:a,buff:n}).move(c+Math.PI+.3*f/(r-1)-.15,.8+.4*Math.random())},hit:function(t,e,i,a,n,s){i.hurt(t,e,a,n,s)},end:function(){this._super();var t=this.obj;t.setNoRotate(!1),t.setNoAttack(!1),t.setNoSkills(!1),t.setForcedAnime(null),t.refreshAvatar();for(var e=0;e<this.list.length;e++)this.list[e].runAction(cc.sequence(cc.fadeTo(.1,0),cc.destroySelf()));this.smoke&&(this.smoke.autoRemoveOnFinish=!0,this.smoke.stopSystem())}}),cc._RF.pop()},{Skill:"Skill"}],RunBuff:[function(t,e){"use strict";cc._RF.push(e,"f4c98CN4CFKTrZG+EsSH7jh","RunBuff"),cc.Class({extends:t("Buff"),begin:function(){this.bonus=0,this.maxBonus=this.define.maxBonus||.5,this.spdUpTime=this.define.spdUpTime||3},end:function(){this.bonus>0&&(this.obj.attribute.add("moveSpd",-this.bonus),this.bonus=0)},excute:function(t){if(this.obj.isMove){if(this.maxBonus>this.bonus&&kit.timer(this.obj,"runbuff",.25,t)){var e=.25/this.spdUpTime*this.maxBonus;this.bonus+=e,this.obj.attribute.add("moveSpd",e)}}else this.bonus>0&&(this.obj.attribute.add("moveSpd",-this.bonus),this.bonus=0)}}),cc._RF.pop()},{Buff:"Buff"}],RunSkill:[function(t,e){"use strict";cc._RF.push(e,"1ac3c5HuIdMNrpRtTAwE5V3","RunSkill");var i=t("Timer");cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.zenyatta_Run),this.r=this.define.r,this.l=this.define.l,this.heal=this.define.heal,this.dmgk=this.define.dmgk||0,this.reEp=this.define.reEp,this.healBall=kit.clone(this.define.healBall),this.healBall.heal=this.heal,this.healBall.hurtradius=this.r,this.healBall.l=this.l,this.healBall.dmgk+=this.dmgk,this.reEp&&(this.healBall.buff||(this.healBall.buff=[]),this.healBall.buff.push({name:"RunSkillReEp",ctor:SelfRecoverEpBuff,symbol:getUniqueSymbol(),t:.2,reEp:this.reEp,tar:this.obj}));var t=this.obj,e=t.x,a=t.y,n=t.team,s=this.r+this.l,o=s,r=null,c=g_sharedContactManager.contactList;for(var h in c){var d=c[h];if(!d.isSensor&&n==d.team&&t!=d&&!d.isDead){var l=d.x,u=d.y,f=kit.norm(u-a,l-e);f<=s&&f<o&&(o=f,r=d)}}if(r){var m=kit.vector2Radian(r.y-a,r.x-e);t.setNoRotate(!0),t.stopAttack(),t.setNoAttack(!0),t.refreshAvatar();var p=kit.radian2Degree(m),g=t.deg-p,v=function(){t.setNoRotate(!1),t.setNoAttack(!1)},b=80*Math.sin(m),k=80*Math.cos(m),y=this.healBall,S={timer:0,updateLogic:function(s){t.isDead||(this.timer+=s,this.timer<.1?t.angle=-(p-g*(.1-this.timer)/.1):(t.angle=-p,t.deg=p,Ammofactory(t,y,{obj:t,x:e+b,y:a+k,te:!n,team:n},this.game),this.game.removeUpdate(this),(new i).init(.2,v)))}};this.game.addUpdate(S)}else this.healBall.l=1,Ammofactory(t,this.healBall,{obj:t,x:e,y:a,te:!n,team:n},this.game);this.effectBall=[],this.targetEffectList={},this.obj.playAnim({anim:"attack",loop:0,time:.25})}}),cc._RF.pop()},{Skill:"Skill",Timer:"Timer"}],RushSkill:[function(t,e){"use strict";cc._RF.push(e,"8ae01V+PepCpJSQ5b4TlKrx","RushSkill"),t("Buff"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;var t=this.obj.ai&&this.obj.ai.target;if(!t)return!0;var e=this.obj,i=t.x-e.x,a=t.y-e.y,n=kit.vector2Radian(a,i);this.obj.setRotation(kit.radian2Degree(n)),this.preCast(),this.symbol=getUniqueSymbol()},preCast:function(){var t=this.obj;t.setAIEnabled(!1),t.setNoSkills(!0),this.define.canAttack||t.setNoAttack(!0),t.setNoRotate(!0),t.setNoMove(!0),this.length=this.define.l||400,this.obj.setForcedAnime("walk"),this.obj.setForcedAnimeSpd(1),this.obj.refreshAvatar();var e=function(){if(this.obj){this.weight0=t.weight;var e=this.length;if(!this.define.noPreCastEff){var i=this.createPreCastEff(this.define.t0,e/this.obj.scale);i.angle=-this.obj.getRotation(),this.obj.addChild(i,-1),this.preCastEff=i}t.attribute.mutScale("moveSpd",.5),this.obj.avatar.scheduleOnce(this.finishCast.bind(this),this.define.t0)}}.bind(this);this.obj.avatar.scheduleOnce(e.bind(this),.5)},updateLogic:function(t){this.isPause||(this.isCast?(this.castTimer-=t,this.castTimer<=0||this.obj.isDead||this.obj.isStun&&this.canInterrupted?this.callEnd():this.excute(t)):this.isPrepare&&this.aim(t),this.isInCD&&(this.cdTimer-=t,this.cdTimer<=0&&this.ready()))},createPreCastEff:function(t,e){var i,a=new cc.Node,n=(i=this.effectMgr.createSprite(0,0,"uiz/effect/ability_warn_2")).getContentSize();return a.scaleY=e&&e/n.height||1,i.opacity=100,i.setAnchorPoint(cc.v2(.5,0)),a.addChild(i,-1),i.runAction(cc.sequence(cc.delayTime(t),cc.destroySelf())),n=(i=this.effectMgr.createSprite(0,0,"uiz/effect/ability_warn_2")).getContentSize(),i.scaleY=0,i.setAnchorPoint(cc.v2(.5,0)),a.addChild(i),i.runAction(cc.sequence(cc.scaleTo(t,1,1),cc.destroySelf())),a},finishCast:function(){this.obj.setAIEnabled(!0),this.obj.isStun||(this.obj.setForcedAnime("attack"),this.obj.setForcedAnimeSpd(.8),this.obj.refreshAvatar(),this.stunTime=this.define.stunTime,this.beforeTimer=0,this.jumpTimer=this.define.t1,this.speed=this.length/this.jumpTimer)},excute:function(t){var e=this.obj;if(e.attribute,this.beforeTimer>0)return this.beforeTimer-=t,void(this.beforeTimer<0&&(this.game.effectMgr.play(SoundEffectPath.winston_Jump),e.weight=.1));if(this.jumpTimer>0){if(this.jumpTimer-=t,kit.timer(this,"attack",.1,t)&&this.attack(),this.jumpTimer<0&&this.attack(),e.noMove>1)return;var i=kit.degree2Radian(e.getRotation()),a=this.speed;e.dx=a*kit.sin(i)*t,e.dy=a*kit.cos(i)*t}},onCover:function(t,e,i,a){if(!t.getBuff(this.symbol)){var n=this.define,s=n.r0,o=n.k,r=n.scaleWithAttack&&this.obj.attribute.get("atkDmg")*n.scaleWithAttack||n.dmg,c=-n.kb,h=this.define.buff,d=this.define.buff2,l=s+t.radius,u=Math.sqrt(e);if(u<l)t.hurt(r,this,DMG_TYPE.explo);else{var f=r-o*(u-l);f<0&&(f=0),t.hurt(f,this,DMG_TYPE.explo)}h&&new h.ctor(h,{obj:t}),d&&new d.ctor(d,{obj:t}),t.knockback(c*i/(u*t.weight),c*a/(u*t.weight)),h={symbol:this.symbol,t:3},t.setBuff(h)}},attack:function(){var t=this.obj,e=t.x,i=t.y;g_sharedContactManager.checkAliveEnemy(this,e,i,this.define.r1,t.team,this.onCover),t.x0=e,t.y0=i},end:function(){this._super();var t=this.obj;t.attribute,t.setNoSkills(!1),this.define.canAttack||t.setNoAttack(!1),t.setNoMove(!1),t.attribute.mutScale("moveSpd",2),t.weight=this.weight0,t.setNoRotate(!1),t.setForcedAnime(),t.setForcedAnimeSpd(),t.refreshAvatar()}}),cc._RF.pop()},{Buff:"Buff",Skill:"Skill"}],ScrollViewHandle:[function(t,e){"use strict";cc._RF.push(e,"7a7afNpLDlL/ZeSfFRwrtFB","ScrollViewHandle"),cc.Class({extends:cc.Component,properties:{showNode:{default:null,type:cc.Node,tooltip:""},contentNode:{default:null,type:cc.Node,tooltip:" "},handleNodes:{default:[],type:[cc.Node],tooltip:"content"}},start:function(){},handleScrollEvent:function(t,e){switch(e){case cc.ScrollView.EventType.SCROLLING:if(0==t.content.childrenCount)return;this.optDc()}},optDc:function(){var t=this.showNode.parent.convertToWorldSpaceAR(cc.v2(this.showNode.x-this.showNode.anchorX*this.showNode.width,this.showNode.y-this.showNode.anchorY*this.showNode.height)),e=cc.rect(t.x,t.y,this.showNode.width,this.showNode.height),i=function(t){t.getBoundingBoxToWorld().intersects(e)?255!=t.opacity&&(t.opacity=255):0!=t.opacity&&(t.opacity=0)}.bind(this);for(var a in this.contentNode.children.forEach(function(t){i(t)}),this.handleNodes)this.handleNodes[a].children.forEach(function(t){i(t)})}}),cc._RF.pop()},{}],SelfRecoverEpBuff:[function(t,e){"use strict";cc._RF.push(e,"1b87bJzSDROG6IvX2Auy6vO","SelfRecoverEpBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super();var t=this.obj;t==this.define.tar&&(t.ep+=this.define.reEp,t.ep>t.epMax&&(t.ep=t.epMax))}}),cc._RF.pop()},{Buff:"Buff"}],ShadowImageSkill:[function(t,e){"use strict";cc._RF.push(e,"163e9MD5SRMdq+ivPkB0086","ShadowImageSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.reaper_ShadowImage);var t=this.obj,e=t.x,i=t.y,a=t.deg,n=kit.degree2Radian(a),s=Math.sin(n),o=Math.cos(n),r=70,c=0,h=e+o*r+s*c,d=i-s*r+o*c,l=kit.clone(t.define.blt[0]);if(l.dmg=this.define.dmg,this.left=new ShadowImage(t.define,{x:h,y:d,deg:t.deg,blt:l,te:t.team,z:1e5}),h=e-o*r+s*c,d=i+s*r+o*c,this.right=new ShadowImage(t.define,{x:h,y:d,deg:t.deg,blt:l,te:t.team,z:1e5}),this.obj.isAutoTarget||(this.left.setTarget(this.obj.target),this.right.setTarget(this.obj.target)),this.define.bonusNum&&(h=e+o*(r=0)+s*(c=-70),d=i-s*r+o*c,this.mid=new ShadowImage(t.define,{x:h,y:d,deg:t.deg,blt:l,te:t.team,z:1e5}),this.obj.isAutoTarget||this.mid.setTarget(this.obj.target)),this.define.hurtReduction){var u=t.attribute;this.hurtScale=-this.define.hurtReduction,u.addScale("exploDef",this.hurtScale),u.addScale("poisonDef",this.hurtScale),u.addScale("energyDef",this.hurtScale),u.addScale("fireDef",this.hurtScale),u.addScale("normalDef",this.hurtScale)}},end:function(){if(this._super(),this.left.remove(),this.right.remove(),this.mid&&this.mid.remove(),this.define.hurtReduction){var t=this.obj.attribute;t.addScale("exploDef",-this.hurtScale),t.addScale("poisonDef",-this.hurtScale),t.addScale("energyDef",-this.hurtScale),t.addScale("fireDef",-this.hurtScale),t.addScale("normalDef",-this.hurtScale)}}}),cc._RF.pop()},{Skill:"Skill"}],ShadowImage:[function(t,e){"use strict";cc._RF.push(e,"6a8d6hGTKVHGJZkf2Bd7DMu","ShadowImage"),cc.Class({extends:cc.Component,init:function(t,e,i){this.define=t,this.config=e,this.game=i,this.effectMgr=this.game.effectMgr,e&&(this.x=e.x,this.y=e.y,this.deg=e.deg||0,this.team=e.te),this.scale=t.scale||1,this.x0=this.x,this.y0=this.y,this.attackSequence=t.attackSequence,this.blt=t.blt,this.kbx=0,this.kby=0,this.attackTimer=0,this.aimMaxDegree=this.define.aimMaxDegree||3,this.aimRange=this.define.aimRange||1500;var a=new Attribute;this.attribute=a,a.init("atkSpd",1,1e4,0),a.init("epCounter",1,1e4,0),a.init("epDrain",0,1e4,0),a.init("critChance",0,1e4,0),a.init("critBonus",1,1e4,0),a.init("normalAtkScale",1,1,0),a.init("exploAtkScale",1,1,0),a.init("poisonAtkScale",1,1,0),a.init("energyAtkScale",1,1,0),a.init("fireAtkScale",1,1,0),a.init("attackScale",1,1,0),this.initAvatar(),this.game&&(this.game.addUpdate(this),this.game.bindScheduler(this),this.game.addEntity(this,t.z)),this.seekTarget()},initAvatar:function(){this.avatar=new Avatar(this.define.avatar,{obj:this}),this.node.addChild(this.avatar),this.avatar.opacity=0,this.avatar.runAction(cc.fadeTo(.5,150)),this.avatar.setShader("shadow");var t=this.game.effectMgr.createParticle(this.node.getPosition().x,this.node.getPosition().y,"reaper_smoke2"),e=t.getComponent(cc.ParticleSystem);this.smoke=e,e.positionType=cc.ParticleSystem.PositionType.RELATIVE,this.game.camera.addChild(t,this.getLocalZOrder()+1),this.avatar.refresh()},setTarget:function(t){this.target=t,t?this.isAutoTarget=!1:(this.isAutoTarget=!0,this.seekTarget())},seekTarget:function(){for(var t=g_sharedContactManager.contactList,e=this.x0,i=this.y0,a=this.aimRange*this.aimRange,n=null,s=0;s<t.length;s++){var o=t[s],r=o.x0-e,c=o.y0-i;if(!o.isSensor&&o.team!=this.team&&o.canAutoAim){var h=r*r+c*c;h<a&&(a=h,n=o)}}this.target=n,this.seekCD=1,this.isAutoTarget=!0},callAttack:function(){this.isAttack||(this.isAttack=!0,this.attackIndex=0,this.attackTimer=this.attackSequence[0].t,this.avatar.refresh(!0))},attack:function(){var t=this.attackSequence[this.attackIndex];if(t.blt||0===t.blt){var e=this.config.blt,i=t.x||0,a=t.y||0,n=this.x0,s=this.y0,o=this.deg,r=kit.degree2Radian(o),c=Math.sin(r),h=Math.cos(r),d=n+h*i+c*a,l=s-c*i+h*a;Ammofactory(this,e,{x:d,y:l,te:this.team,obj:this},this.game),t.callback&&t.callback(d,l,this)}},updateAttack:function(t){if(this.isAttack&&this.attackTimer>0&&(this.attackTimer-=1*t,this.attackTimer<=0)){var e=this.attackSequence;this.attack(),this.attackIndex++,this.attackIndex<e.length?this.attackTimer=e[this.attackIndex].t:this.onAttackEnd()}},onAttackEnd:function(){this.isAttack=!1,this.avatar.refresh()},updateRotate:function(t,e,i,a){var n,s=this.deg;return(n=e-s)>180?n-=360:n<-180&&(n+=360),(n=n*i*t)>a?n=a:n<-a&&(n=-a),s=(s+n+360)%360,this.deg=s,this.node.angle=-s,n},updateLogic:function(t){this.updateAttack(t);var e=this.rttSpd,i=kit.degree2Radian(this.deg);this.seekCD-=t,this.isAutoTarget&&this.seekCD<0&&this.seekTarget();var a=this.target;if(a){var n=this.x,s=this.y,o=a.x0-n,r=a.y0-s;a.isDead||a.isRemoved||o*o+r*r>this.aimRange*this.aimRange?this.seekTarget():(i=kit.vector2Radian(r,o),this.define.aimOffsetX&&(i-=kit.vector2Radian(kit.norm(r,o),this.define.aimOffsetX)),this.atkRad=i)}this.atkRad&&(i=this.atkRad);var c=this.updateRotate(t,kit.radian2Degree(i),20,e);Math.abs(c)<this.aimMaxDegree&&!this.isAttack&&this.callAttack(),this.avatar.update(t)},hit:function(t,e,i,a,n,s){return i.hurt(t,e,a,n,s)},remove:function(){this.isRemoved||(this.isRemoved=!0,this.onRemove())},onRemove:function(){this.game.removeUpdate(this),this.destroy(),this.smoke.stopSystem(),this.smoke.autoRemoveOnFinish=!0}}),cc._RF.pop()},{}],ShadowSpeedUpSkill:[function(t,e){"use strict";cc._RF.push(e,"6853bJQBLpGbYvSGDpdi8TO","ShadowSpeedUpSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;var t=this.obj;if(t.stopAttack(),t.setNoAttack(!0),t.setNoMove(!0),t.setNoSkills(!0),t.noSeek++,t.playAnim({anim:"skill_2",loop:0,time:this.define.t+.5}),g_sharedContactManager.setEntityEnabled(t,!1),t.setFly(!0),!this.game.fastMode){this.game.effectMgr.play(SoundEffectPath.reaper_ShadowSpeedUp),t.pushShader("shadow");var e=this.game.effectMgr.createParticle(t.getPosition().x,t.getPosition().y,"reaper_smoke");this.game.camera.addChild(e,t.getLocalZOrder()+1),(i=e.getComponent(cc.ParticleSystem)).positionType=cc.ParticleSystem.PositionType.RELATIVE,this.smoke2=i,e=this.game.effectMgr.createParticle(t.getPosition().x,t.getPosition().y,"reaper_smoke4"),this.smokeNode=e,this.game.camera.addChild(e,t.getLocalZOrder()+1);var i=e.getComponent(cc.ParticleSystem);this.smoke=i}this.spdScale=this.define.ss},excute:function(t){var e=this.obj,i=this.spdScale*t;e.x+=e.spdX*i,e.y+=e.spdY*i;var a=g_sharedContactManager.left,n=g_sharedContactManager.right,s=g_sharedContactManager.bottom,o=g_sharedContactManager.top,r=e.radius;e.x>n-r?e.x=n-r:e.x<a+r&&(e.x=a+r),e.y>o-r?e.y=o-r:e.y<s+r&&(e.y=s+r),this.define.poison&&kit.timer(this,"damage",this.define.poisonDt||1,t)&&g_sharedContactManager.checkAliveEnemy(this,e.x,e.y,this.define.range||e.radius,e.team,this.onCover),this.game.fastMode||this.smokeNode.setPosition(e.x,e.y)},onCover:function(t){t.hurt(this.define.damage||111,this)},end:function(){this._super();var t=this.obj;t.setNoAttack(!1),t.setNoMove(!1),t.setNoSkills(!1),t.noSeek--,t.x0=t.x,t.y0=t.y,g_sharedContactManager.setEntityEnabled(t,!0),t.playAnim({anim:"skill_3",loop:0}),t.setFly(!1),this.define.hp_regen&&t.heal(this.define.hp_regen),this.game.fastMode||(t.popShader("shadow"),t.avatar.runAction(cc.fadeTo(.3,255)),this.smoke&&(this.smoke.stopSystem(),this.smoke.autoRemoveOnFinish=!0),this.smoke2&&(this.smoke2.stopSystem(),this.smoke2.autoRemoveOnFinish=!0),this.armature.runAction(cc.sequence(cc.fadeOut(.5),cc.destroySelf())))}}),cc._RF.pop()},{Skill:"Skill"}],ShakeCustom:[function(t,e){"use strict";cc._RF.push(e,"11d6aIVEBhOoJT5SQtSexiK","ShakeCustom"),cc.Shake=cc.ActionInterval.extend({_initial_x:0,_initial_y:0,_strength_x:0,_strength_y:0,ctor:function(t,e,i){this.initWithDuration(t,e,i)},initWithDuration:function(t,e,i){return cc.ActionInterval.prototype.initWithDuration.call(this,t),this._strength_x=e,this._strength_y=i,!0},random:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},update:function(){this.randx&&(this.getTarget().x-=this.randx),this.randy&&(this.getTarget().y-=this.randy);var t=this.random(-this._strength_x,this._strength_x),e=this.random(-this._strength_y,this._strength_y);this.randx=t,this.randy=e,this.getTarget().x+=this.randx,this.getTarget().y+=this.randy},startWithTarget:function(t){cc.ActionInterval.prototype.startWithTarget.call(this,t),this._initial_x=t.x,this._initial_y=t.y},stop:function(){this.randx&&(this.getTarget().x-=this.randx),this.randy&&(this.getTarget().y-=this.randy),cc.ActionInterval.prototype.stop.call(this)}}),cc.shake=function(t,e,i){return new cc.Shake(t,e,i)},cc._RF.pop()},{}],ShangDebuff:[function(t,e){"use strict";cc._RF.push(e,"b0f68Lv/PxAVrPrVAyGzNmz","ShangDebuff"),cc.Class({extends:t("Buff"),begin:function(){this._super();var t=this.obj.attribute;this.hurtScale=this.define.hurtScale,this.atkScale=this.define.atkScale,t.mutScale("hurtScale",this.hurtScale),t.mutScale("atkDmg",this.atkScale)},end:function(){this._super();var t=this.obj.attribute;t.mutScale("hurtScale",1/this.hurtScale),t.mutScale("atkDmg",1/this.atkScale),this.eff&&this.eff.runAction(cc.sequence(cc.fadeOut(.3),cc.destroySelf()))}}),cc._RF.pop()},{Buff:"Buff"}],ShangSkill:[function(t,e){"use strict";cc._RF.push(e,"d88eb5jdWxCk5TJQ+CrucjN","ShangSkill");var i=t("Timer");cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.zenyatta_Shang),this.maxR=this.define.hurtradius,this.dmg=this.define.dmg,this.dmgk=this.define.dmgk,this.holdTime=this.define.holdTime,this.addtionDmg=this.define.addtionDmg,this.blt=kit.clone(this.define.blt),this.blt.hurtradius=this.maxR,this.blt.dmg=this.dmg,this.blt.dmgk=this.dmgk,this.symbol||(this.symbol=getUniqueSymbol()),this.holdTime&&this.blt.buff.push({name:"ShangSkillHoldBuff",ctor:HoldBuff,symbol:this.symbol,effect:Effect.hold,t:this.holdTime}),this.blt.buff[0].t=this.define.debuff_t,this.blt.buff[0].atkScale=this.define.atkDebuff_atkScale,this.blt.buff[0].hurtScale=this.define.hurtScale_hurtScale,this.dt=this.define.dt||.25,this.obj.playAnim({anim:"skill_2",speed:.3,time:1}),this.obj.avatar.setFloatAnime("skill_ball",1,1,0),kit.initTimer(this,"fire",.2),this.ct=1,this.array=[-5,35,-45,75,-85,115,-125,155,-165]},excute:function(t){if(kit.timer(this,"fire",this.dt,t,.15)&&this.ct<=9){var e=kit.degree2Radian(this.array[this.ct-1]+this.obj.deg),i=30*Math.sin(e),a=30*Math.cos(e);this.fire(i,a),this.ct+=1}},fire:function(t,e){var a=function(t,e,i,a){var n=0,s=(t=t,e=e,i=i,a=a,g_sharedContactManager.contactList);for(var o in s){var r=s[o];if(!r.isSensor&&r._isActiveContact&&a!=r.team){var c=r.x,h=r.y;kit.norm(e-h,t-c)<=i&&n++}}return n},n=this.obj,s=n.x+t,o=n.y+e,r=n.team;(n.isAutoTarget||!n.target||n.target.isDead)&&n.seekTarget();var c=n.target;if(!c||c.isRemoved||c.isDead)this.addtionDmg&&(h=kit.degree2Radian(n.deg),f=a(s+this.blt.l*Math.sin(h),o+this.blt.l*Math.cos(h),this.maxR,r),m=this.dmg*(1+f*this.addtionDmg),this.blt.dmg=m),Ammofactory(n,this.blt,{obj:n,x:s,y:o,te:r},this.game);else{var h=kit.vector2Radian(c.y-o,c.x-s);n.setNoRotate(!0),n.stopAttack(),n.setNoAttack(!0),n.refreshAvatar();var d=kit.radian2Degree(h),l=n.deg-d,u=function(){n.setNoRotate(!1),n.setNoAttack(!1)};if(this.addtionDmg){var f=a(c.x,c.y,this.maxR,r),m=this.dmg*(1+f*this.addtionDmg);this.blt.dmg=m}var p=this.blt,g={timer:0,updateLogic:function(t){n.isDead||(this.timer+=t,this.timer<.1?n.angle=-(d-l*(.1-this.timer)/.1):(n.angle=-d,n.deg=d,Ammofactory(n,p,{obj:n,x:s,y:o,te:r},this.game),this.game.removeUpdate(this),(new i).init(.2,u)))}};this.game.addUpdate(g)}}}),cc._RF.pop()},{Skill:"Skill",Timer:"Timer"}],ShareBtn:[function(t,e){"use strict"},{}],ShowHeroBuffManager:[function(t,e){"use strict";cc._RF.push(e,"9676bXAf3JJdY7Qa0VassYr","ShowHeroBuffManager");var i=cc.Class({extends:cc.Component,ctor:function(){this.nodeList={},this.leftCt=0,this.rightCt=0},add:function(t){var e=new cc.Node;this.nodeList[t.uniqueID]=e,this.node.addChild(e);var i=this.createSysLabel(t.define.name,18);e.addChild(i),i.setAnchorPoint(t.team,1),e.x=1==t.team&&VIEW_SIZE.width-50||50;var a=1==t.team&&this.rightCt;for(var n in 0==t.team&&(a=this.leftCt),e.y=VIEW_SIZE.height-200-150*a,1==t.team?this.rightCt++:this.leftCt++,t.buffList)t.buffList[n].initDebugInfo()},getNode:function(t){return this.nodeList[t.uniqueID]},createSysLabel:function(t,e){var i=new cc.Node,a=i.addComponent(cc.Label);return a.string=t,a.fontSize=e,i}});e.exports=i,cc._RF.pop()},{}],ShunSkill:[function(t,e){"use strict";cc._RF.push(e,"9f084sWodJOCZppXbjwYisP","ShunSkill");var i=t("Timer");cc.Class({extends:t("Skill"),cast:function(){if(this.isCast||this.isInCD)return!0;this.game.effectMgr.play(SoundEffectPath.genji_Shun),this.r=this.define.r,this.dmg=this.define.dmg,this.dmgk=this.define.dmgk,this.n=this.define.n,this.hurtScale=this.define.hurtScale,this._isOnEnd=!1;var t=this.define.stealHp||0,e=this.obj,a=e.attribute;a.mutScale("hurtScale",this.hurtScale);var n=e.team,s=this.dmg,o=(this.dmgk,this.r||500),r=this.n||8,c=0;this.target={},this.game.fastMode||this.createEffect();var h=this,d=[];this.effectPos=this.obj.getPosition();var l=function(t){for(var i=e.x,a=e.y,s=!1,r=null,c=o,l=g_sharedContactManager.contactList,u=0;u<l.length;u++){var f=l[u];if(!f.isSensor&&f._isActiveContact&&!f.isDead&&n!=f.team&&f!=t&&!h.target[f.uniqueID]){var m=f.x,p=f.y,g=f.radius,v=kit.norm(p-a,m-i);v+g<=c&&(r=f,h.target[r.uniqueID]=r,d.push(r),c=v+g,s=!0)}}if(!r&&d.length>0){for(u=0;u<=d.length-1;u++)d[u]&&!d[u].isDead||(d.splice(u,1),u--);u=kit.rndInt(0,d.length-1),r=d[u]}return r&&{target:r,isNew:s}},u=l(null);if(!u)return this.game.cancelUltEffect(),!0;if(this._super())return!0;e.setNoAttack(!0),e.setNoSkills(!0),e.setNoMove(!0),e.setNoRotate(!0),e.stopAttack(),e.refreshAvatar(),e.playAnim({anim:"skill_4",loop:0,time:1}),this.define.epCounter&&a.mutScale("epCounter",this.define.epCounter),this.define.critLevel&&a.mutScale("critLevel",this.define.critLevel);var f=function(i){t&&e.heal(i*t)},m=(h=this,function(t,i){if(++c>=r-1&&h.obj.playAnim({anim:"skill_3",loop:0,speed:1.2,time:2.6}),i){var a=kit.vector2Radian(t.y-e.y,t.x-e.x);n=(e.radius+t.radius+100)*Math.sin(a),o=(e.radius+t.radius+100)*Math.cos(a),d=t.x+n,l=t.y+o}else{a=Math.random()*Math.PI*2;var n=(e.radius+t.radius+100)*Math.sin(a),o=(e.radius+t.radius+100)*Math.cos(a),d=t.x+n,l=t.y+o}var u=kit.radian2Degree(a);this.game.fastMode||h.createShadow(d,l,u),e.moveRad=a,e.deg=u,e.angle=-u,h.effectPos.x=d,h.effectPos.y=l;var m=t.getPosition();t.hurt(s,{obj:e},null,f),this.game.shake(5,5),this.game.effectMgr.play(SoundEffectPath.genji_Hit),t.isDead&&t.isHero&&this.game.hero&&this.game.hero.define.id==HERO_GENJI&&this.game.controller,u=kit.radian2Degree(kit.vector2Radian(t.y-e.y,t.x-e.x)),Effect.Slash2(t,m.x,m.y,Math.random()*n/3,Math.random()*o/3,1.3,u),e.enabled=!1,e.aura.opacity=0,h.streak&&h.streak.setPosition(t.x-n,t.y-o),e.x0=d,e.y0=l,e.x=d,e.y=l});(new i).init(.01,function(t){m(t.target,t.isNew)},u,this.game);var p=function(t){if(c>=r)this.onEnd();else{var e=t&&t.tar||null,a=e&&l(e.target);a?(m(a.target,a.isNew),(new i).init(.2,p,{tar:a})):1!=c?this.onEnd():(new i).init(.2,p)}}.bind(this);(new i).init(.2,p,{tar:u})},excute:function(){this.updateEffect()},createShadow:function(t,e,i,a){var n=this.effectMgr.createSprite(0,0,"effect/genji/genji"+kit.rndInt(1,4));this.game.camera.addChild(n,this.obj.getLocalZOrder()),n.x=t,n.y=e,n.scale=.7,n.angle=-i;var s=5*Math.sin(kit.degree2Radian(i)),o=5*Math.cos(kit.degree2Radian(i));n.runAction(cc.sequence(cc.spawn(cc.moveBy((a||.3)+.2,s,o),cc.delayTime(a||.3)),cc.fadeOut(.3)))},createEffect:function(){var t=new cc.MotionStreak(.5,3,60,cc.color(255,255,255),"effect/genji/canying");this.game.camera.addChild(t,this.obj.getLocalZOrder()+1),t.setPosition(this.obj.getPosition()),this.streak=t,t.setStartingPositionInitialized(!0)},updateEffect:function(){if(this.streak){var t=this.streak.getPosition(),e=Math.abs(this.effectPos.x-t.x),i=Math.abs(this.effectPos.y-t.y),a=e/(e+i)*200,n=i/(e+i)*200,s=kit.numApproach(t.x,this.effectPos.x,a),o=kit.numApproach(t.y,this.effectPos.y,n);this.streak.setPosition(s,o)}},finalAttack:function(){var t=g_sharedContactManager.contactList,e=this.obj.attribute.get("critChance");for(var i in this.obj.attribute.set("critChance",1),t){var a=t[i];if(!a.isSensor&&a._isActiveContact&&this.obj.team!=a.team){var n=this.dmg*(this.define.finalDmgScale||5);Effect.Slash2(a,a.x,a.y,0,0,1.8),a.hurt(n,{obj:this.obj})}}this.game.shake(45,45),this.obj.attribute.set("critChance",e);var s=cc.LayerColor.create(cc.color(255,255,255),VIEW_SIZE.width,VIEW_SIZE.width);this.game.addChild(s,1e9),s.runAction(cc.sequence(cc.fadeOut(.1),cc.destroySelf())),this.game.cancelUltEffect()},onEnd:function(){if(!this._isOnEnd){this._isOnEnd=!0;var t=this;Effect.GenjiUltFinish(),this.game.schedule(this.finalAttack.bind(this),1.3,0),this.obj.playAnim({anim:"skill_3",loop:0,speed:2,time:2}),this.obj.schedule(function(){t.obj.setNoMove(!1),t.obj.setNoRotate(!1)},2,0),this.obj.setNoSkills(!1),this.obj.setNoAttack(!1),this.obj.refreshAvatar(),this.obj.enabled=!0,this.obj.aura.opacity=255,this.game.fastMode||(this.streak.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){this.streak=null},this),cc.destroySelf())),Effect.GenjiAttack2(this.obj.x+85*Math.sin(this.obj.moveRad),this.obj.y+85*Math.cos(this.obj.moveRad),this.obj))}},end:function(){this._super();var t=this.obj.attribute;t.mutScale("hurtScale",1/this.hurtScale),this.define.epCounter&&t.mutScale("epCounter",1/this.define.epCounter),this.define.critLevel&&t.mutScale("critLevel",1/this.define.critLevel),this.onEnd()}}),cc._RF.pop()},{Skill:"Skill",Timer:"Timer"}],SilentBuff:[function(t,e){"use strict";cc._RF.push(e,"35b17QtqkpHG4/IfrU2SlfM","SilentBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.setNoSkills(!0)},end:function(){this.obj.setNoSkills(!1)}}),cc._RF.pop()},{Buff:"Buff"}],SilkSpeedDownSkill:[function(t,e){"use strict";cc._RF.push(e,"61cdb9vGD1FzaXMDXTofO90","SilkSpeedDownSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.widow_SilkSpeedDown);var t=this.obj,e=this.define.blt;e.lt=this.define.t,t.playAnim({anim:"attack",loop:0,time:.5}),!(t=this.obj).isAutoTarget&&t.target&&!t.target.isDead&&t.target||t.seekTarget();var i=t.target;if(t.setNoRotate(!0),i){var a=t.x,n=t.y,s=i.x0,o=i.y0,r=kit.vector2Radian(o-n,s-a);t.deg=kit.radian2Degree(r)}this.fire(t,e),t.setNoRotate(!1),this.poisonTimer=0,this.recoverTimer=0,this.symbol=getUniqueSymbol(),this.idleTimer=this.define.dt;var c=3.14*t.deg/180;this.x=t.x0+e.l*Math.sin(c),this.y=t.y0+e.l*Math.cos(c),this.map={}},fire:function(t,e){var i=t.attackSequence[0];if(i.blt||0===i.blt){var a,n=t.blt[i.blt],s=t.x0,o=t.y0,r=t.deg,c=kit.degree2Radian(r),h=Math.sin(c),d=Math.cos(c),l=s+15*d+100*h,u=o-15*h+100*d;this.target&&(a=kit.norm(this.target.x0-this.x0,this.target.y0-this.y0))>n.l&&(a=null),this.blt=Ammofactory(t,e,{obj:t,x:l,y:u,l:a,te:t.team,callback:this.setWeb.bind(this)},this.game)}},setWeb:function(t,e){if(!this.web){if(this.game.fastMode)this.web={};else{this.web=Effect.Animation.createByObj({name:"effect/widow/web/zhuzhuwang_000",frame:15,startNum:1,loop:1,digit:2,dt:.05}),this.game.camera.addChild(this.web,-1);var i=1.6*this.define.r/187;this.web.scale=0,this.web.runAction(cc.scaleTo(.1,i));var a=this.effectMgr.createSprite(0,0,"effect/widow/web_nova");a.scale=0,a.x=t,a.y=e,this.game.camera.addChild(a,1e5),a.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,i/2),cc.fadeOut(.3)),cc.destroySelf()))}this.web.x=t,this.web.y=e,this.x=t,this.y=e,this.canExcute=!0}},excute:function(t){this.canExcute&&(this.idleTimer-=t,this.idleTimer<0&&(this.idleTimer=this.define.dt,g_sharedContactManager.checkAliveEnemyInOut(this,this.x,this.y,this.define.r,this.obj.team,this.map,this.callIn,this.callOut),this.define.dmgPercentage&&(this.poisonTimer-=this.define.dt,this.poisonTimer<0&&(this.poisonTimer=1,g_sharedContactManager.checkIsIn(this,this.map,this.callIsEnemyIn))),this.define.hpPercentage&&(this.recoverTimer-=this.define.dt,this.recoverTimer<0&&(this.recoverTimer=1,g_sharedContactManager.checkAliveEnemy(this,this.x,this.y,this.define.r,this.obj.team,this.callIsTeamateIn)))))},callIsTeamateIn:function(t){var e={symbol:this.symbol,t:.3,dt:.2,dmg:t.hpMax*this.define.hpPercentage};new RecoverBuff(e,{obj:t})},callIsEnemyIn:function(t){var e=t.hpMax*this.define.dmgPercentage;t.hurt(e,this,DMG_TYPE.poison)},callIn:function(t){this.define.trapMinion&&!t.isHero?t.attribute.mutScale("moveSpd",.01):t.attribute.mutScale("moveSpd",this.define.s),t.refreshAvatar(),this.map[t.uniqueID]=!0},callOut:function(t){this.define.trapMinion&&t.isHero?t.attribute.mutScale("moveSpd",100):t.attribute.mutScale("moveSpd",1/this.define.s),t.refreshAvatar(),this.map[t.uniqueID]=!1},end:function(){this._super(),g_sharedContactManager.checkIsIn(this,this.map,this.callOut),this.game.fastMode||this.web&&(this.web.destroy(),this.web=!1)}}),cc._RF.pop()},{Skill:"Skill"}],SimpleAddAttrBuff:[function(t,e){"use strict";cc._RF.push(e,"805b0VWe3lBmLK/Aus0T0Ge","SimpleAddAttrBuff"),cc.Class({extends:t("AttributeBuff"),begin:function(){this.define.add=[[this.define.attr||"armorLevel",this.define.num||0]],this.define.attr2&&this.define.add.push([this.define.attr2||"armorLevel",this.define.num2||0]),this._super.apply(this,arguments)}}),cc._RF.pop()},{AttributeBuff:"AttributeBuff"}],SimpleAvatar:[function(t,e){"use strict";cc._RF.push(e,"f1ad8j9GF5MEryTEvZyUc9L","SimpleAvatar");var i=cc.Class({extends:t("Avatar"),update:function(){if(this.needRefresh){var t=this.obj,e=t.attribute,i=this.forcedRefresh;if(this.forcedAnimeName)cc.log("forcedAnimeName",this.forcedAnimeName,i),this.setAnime(this.forcedAnimeName,this.forcedAnimeSpd,i);else if(t.isDead)this.setAnime("behit",.01,!0,1);else if(t.isAttack){var a=e.get("atkSpd");this.nextAttackAnim&&this.setAnime(this.nextAttackAnim,this.forcedAnimeSpd||a,!0,this.nextAttackAnimPlayTimes),this.nextAttackAnim=!1}else if(this.toHurt||"behit"==this.animName)this.toHurt&&(this.toHurt=!1,this.setAnime("behit",this.forcedAnimeSpd,!0,1));else if(t.isMove){var n=this.define.spdK||70,s=t.spd/n*e.get("moveSpd");this.setAnime(this.walkAnimeName,this.forcedAnimeSpd||s)}else this.setAnime(this.standAnimeName,this.forcedAnimeSpd,i);this.needRefresh=!1,this.forcedRefresh=!1}}});e.exports=i,cc._RF.pop()},{Avatar:"Avatar"}],SimpleButton:[function(t,e){"use strict";cc._RF.push(e,"855a6Gsy7NLDoCuxnzcEr/v","SimpleButton");var i=cc.Enum({Red:0,Yellow:1,Blue:2,Green:3}),a=cc.Enum({None:0,Dmd:1,Gold:2});cc.Class({extends:cc.Component,properties:{bgColor:{default:i.Yellow,type:cc.Enum(i),tooltip:""},iconType:{default:a.None,type:cc.Enum(a),tooltip:""},text:""},start:function(){}}),cc._RF.pop()},{}],SimpleMulAttrBuff:[function(t,e){"use strict";cc._RF.push(e,"aa67a8duCpD97I1YlsREh41","SimpleMulAttrBuff"),cc.Class({extends:t("AttributeBuff"),begin:function(){this.define.mutScale=[[this.define.attr||"armorLevel",this.define.num||1]],this._super.apply(this,arguments)}}),cc._RF.pop()},{AttributeBuff:"AttributeBuff"}],SkillManager:[function(require,module,exports){"use strict";cc._RF.push(module,"2d912Bx3HpAPodYdAxrMgZc","SkillManager");var SkillManager=cc.Class({init:function(t,e,i,a){this.heroData=gData.getHero(t,e),this.mobData=a&&gData.getMob(t),this.skill=i,this.heroID=t},getSkillUpgradeData:function getSkillUpgradeData(id,upgrade){var skillUpgradeTable=this.heroData.getUpgrade(id,upgrade),add,mul;if(skillUpgradeTable)return"skill_add"==skillUpgradeTable.stat&&(add=skillUpgradeTable.value,eval("add="+add)),"skill_mul"==skillUpgradeTable.stat&&(mul=skillUpgradeTable.value,eval("mul="+mul)),{add:add,mul:mul}},mergeSkillUpgradeData:function(t,e){return e&&(t.add=kit.addObjs(t.add,e.add),t.mul=kit.mulObjs(t.mul,e.mul)),t},getSkillObj:function(t){var e=this.skill[t].lvl,i=t,a=this.heroData&&this.heroData.getSkill(e,i);return this.skill[t].data&&(a=kit.mergeObjs(this.skill[t].data,a)),kit.clone(a)},getSkillConfig:function(t,e){if(!this.skill)return t;var i=[];for(var a in t.skill){var n=this.getSkillObj(a);n=kit.mergeObjs(n,e.skill[a-1]);var s=this.skill[a].upgrade,o=this.heroData&&this.heroData.getSkillID(a),r={};if(o&&s)for(var c=1;c<=s;c++){var h=this.getSkillUpgradeData(o,c);r=this.mergeSkillUpgradeData(r,h)}t.skillAdd&&(r.add=kit.addObjs(r.add,t.skillAdd[a])),t.skillMul&&(r.mul=kit.mulObjs(r.mul,t.skillMul[a])),n=kit.addObjs(n,r.add),n=kit.mulObjs(n,r.mul),i.push(n)}return t.skillLvl=t.skill,t.skill=i,t}});module.exports=SkillManager,cc._RF.pop()},{}],Skill:[function(t,e){"use strict";cc._RF.push(e,"951b56lKLxBy4xlC/KVuub0","Skill"),t("Entity");var i=cc.Class({init:function(t,e,i){NO_COLD_DOWN&&(t.cd=.1,t.cd0=.1),this.uniqueID=EntitygetUniqueID(),this.define=t,this.config=e,this.game=i,this.effectMgr=this.game.effectMgr,this.obj=e.obj,this.game&&this.game.addUpdate(this),this.isInCD=!0,this.cdTimer=void 0===t.cd0?t.cd:t.cd0,this.maxTimer=this.cdTimer,this.canInterrupted=this.define.canInterrupted,t.energy&&(this.initEnergy(),this.isUlt=!0)},initEnergy:function(){var t=this.define.energy;this.obj.registOnKillCb(this),this.obj.registOnHurtCb(this),this.heroEnergy=t.heroEnergy,this.heroEnergyStep=t.heroEnergyStep,this.hurtEnergy=t.hurtEnergy,this.timeToEnergy=1/t.energyToTime},chargeEnergy:function(t){if(this.isInCD){var e=t*this.timeToEnergy;this.cdTimer-=e,this.cdTimer<=0&&(this.cdTimer=0,this.ready()),this.refreshBtn&&this.refreshBtn(e)}},refreshBtn:function(){},onKill:function(t,e){if(e.isHero)if(this.heroEnergyStep){var i=this.heroEnergy*(1+(e.lvl-this.obj.lvl)*this.heroEnergyStep);i>0&&this.chargeEnergy(i)}else this.chargeEnergy(this.heroEnergy)},onHurt:function(t){var e=this.obj;if(e.ep<t){var i=(t-=e.ep)/this.obj.hpMax*this.hurtEnergy;i<1?this.chargeEnergy(1):this.chargeEnergy(i)}},getCD:function(){var t=0;return this.isCast?t+=this.castTimer+this.cdTimer:this.isInCD&&(t+=this.cdTimer),t},updateLogic:function(t){this.isPause||(this.isCast?(this.castTimer-=t,this.castTimer<=0||!this.obj||this.obj.isDead||this.obj.isStun&&this.canInterrupted?this.callEnd():this.excute(t)):this.isPrepare&&this.aim(t),this.isInCD&&(this.cdTimer-=t,this.cdTimer<=0&&this.ready()))},pause:function(t){this.isPause=t},ready:function(){this.cdTimer=0,this.isInCD=!1},prepare:function(){if(this.isCast||this.isInCD)return!0;this.isPrepare=!0},aim:function(){},cast:function(){var t=this.obj;if(this.isCast||this.isInCD||t.isDead||t.isRemoved)return!0;this.isCast=!0,this.castTimer=this.define.t,this.cdTimer=this.define.cd,this.maxTimer=this.cdTimer,this.define.streak&&(this.streakCounter||(this.streakCounter=0),this.streakCounter++,this.streakCounter<this.define.streak?this.cdTimer=.5:this.streakCounter=0)},resetCD:function(t){this.isCast||(this.castTimer=this.define.t,"number"==typeof t?(0==t&&(t=.1),this.cdTimer=t):this.cdTimer=this.define.cd,this.maxTimer=this.cdTimer,this.isInCD=!0,this.isPrepare=!1)},setCD:function(t){this.define.cd=t,this.resetCD(t)},setCastTime:function(t){this.define.t=t},setDefine:function(t,e){this.define[t]=e},excute:function(){},callEnd:function(){this.isCast&&(this.castTimer>0&&this.refreshBtn&&this.refreshBtn(this.castTimer),this.isCast=!1,this.isInCD=!0,this.isPrepare=!1,this.end(),!this.isUlt||this.obj.isAIEnabled&&!this.config.isUlt||this.game.cancelUltEffect())},end:function(){},isReady:function(){return!(this.isCast||this.isInCD||this.obj.isDead||this.obj.isRemoved)},start:function(t){return this.cast(t)?i.no:i.yes},stop:function(){return!0},toString:function(){return this.define.name||"Skill"}});i.yes=1,i.no=2,i.isAim=3,i.isCharge=4,e.exports=i,cc._RF.pop()},{Entity:"Entity"}],SnowstormSkill:[function(t,e){"use strict";cc._RF.push(e,"23c7cyzMJ5Dh7LjByby+D4D","SnowstormSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.mei_Snowstorm),this.moveScale=this.define.moveScale,this.atkSpeedScale=this.define.atkSpeedScale,this.rttSpeedScale=this.define.rttSpeedScale,this.r=this.define.r,this.dmg=this.define.dmg,this.dt=this.define.dt,this.idleTimer=0;var t=kit.clone(BuffDefine.frostBuff);t.slowScale=this.define.slowScale,t.stack=this.define.frostStack,t.frozenDuration=this.define.frozenTime,t.name="SnowstormSkillfrost",this.slowBuff=t,this.dmgScale=this.define.dmgScale;var e=this.obj;!e.isAutoTarget&&e.target&&!e.target.isDead&&e.target||e.seekTarget();var i=e.target;this.x=i&&i.x||e.x,this.y=i&&i.y||e.y,this.map={},this.define.crit&&e.attribute.add("critChance",this.define.crit),this.game.fastMode||Effect.MeiUlt(this.x,this.y,2*this.define.r,this.define.t)},excute:function(t){if(this.idleTimer+=t,!(this.idleTimer<this.dt)){this.idleTimer=0;var e=this.x,i=this.y,a=this.r,n=this.obj.team,s=g_sharedContactManager.contactList;for(var o in s){var r=s[o];if(!r.isSensor&&r._isActiveContact&&!r.isDead&&n!=r.team){var c=e-r.x0,h=i-r.y0;c*c+h*h<=a*a?(r.hurt(this.dmg,this),new this.slowBuff.ctor(this.slowBuff,{obj:r}),this.map[r.uniqueID]||(this.callIn(r),this.map[r.uniqueID]=r)):this.map[r.uniqueID]&&(this.callOut(r),this.map[r.uniqueID]=null)}}}},callIn:function(t){t.attribute.mutScale("moveSpd",this.moveScale),t.attribute.mutScale("atkSpd",this.atkSpeedScale),t.attribute.mutScale("rttSpd",this.rttSpeedScale),this.dmgScale&&t.attribute.mutScale("hurtScale",this.dmgScale)},callOut:function(t){t.attribute.mutScale("moveSpd",1/this.moveScale),t.attribute.mutScale("atkSpd",1/this.atkSpeedScale),t.attribute.mutScale("rttSpd",1/this.rttSpeedScale),this.dmgScale&&t.attribute.mutScale("hurtScale",1/this.dmgScale)},end:function(){this._super();var t=g_sharedContactManager.contactList;for(var e in t){var i=t[e];this.map[i.uniqueID]&&this.callOut(i)}this.define.crit&&this.obj.attribute.add("critChance",-this.define.crit)}}),cc._RF.pop()},{Skill:"Skill"}],SoldierNpc:[function(t,e){"use strict";cc._RF.push(e,"9314byRYx5O+49NvZf+UzSL","SoldierNpc");var i=cc.Class({extends:t("Npc"),init:function(t,e,i){this._super(t,e,i),this.game=i,this.effectMgr=this.game.effectMgr,t=this.define,e=this.config,this.isAIEnabled=!1},showEffect:function(){},initAvatar:function(){this.avatarNode=this.effectMgr.createSprite(0,0,"npc/soldier"),this.addChild(this.avatarNode)},activateNpc:function(){menuManager.pop("prefab/guideNewWeaponPopMenu",this),this.game.winGame(0)},onClose:function(){this.remove(),this.removeEffect()}});e.exports=i,cc._RF.pop()},{Npc:"Npc"}],SoundManager:[function(t,e){"use strict";cc._RF.push(e,"497976wQjhIKrQi/lH1P5Kr","SoundManager"),window.GameSettingConfig={soundOn:!0,musicOn:!0},window.BGMPath={main_menu:"sound/BGM/BGM_Main",test:"sound/BGM/fight5",fight1:"sound/fight1",bossfight:"sound/campfire",campfire:"sub#sound/campfire",mainTheme:"sub2#sound/mainTheme"},window.SoundEffectPath={choose_bonus_upgrade_click:"sub3#sound/item_upgrade",choose_bonus_upgrade_finish:"sound/lvl_up",hit:"sound/weapon/hit",auto_missle:"sound/auto_missle",start_game:"sub3#sound/start_game",use_heal:"sub3#sound/heal",get_money:"sub3#sound/get_money",box_drop:"sub3#sound/box_drop",talent_roll:"sub3#sound/luckydraw_roll",talent_acquired:"sub3#sound/talent_acquired",ui_equip:"sub3#sound/equip_item",ui_item_evolution:"sub3#sound/item_upgrade",ui_item_upgrade:"sub3#sound/item_upgrade",ui_pop_reward:"sub3#sound/get_item",ui_lvl_up:"sound/lvl_up",luckydraw_show:"sound/operate/click",luckydraw_roll:"sub3#sound/luckydraw_roll",luckydraw_get:"sub3#sound/luckydraw_get",pickup_money:"sound/game/gold1",money_bounce:"sound/game/gold2",chooseBonusShow:"sound/UI/chooseBonusShow",clipout:"sound/weapon/clipout",chooseTalent:"sound/weapon_reload",talentPop:"sound/UI/talentPop",fire:"sound/skill/fire",frost:"sound/skill/frost",eletric:"sound/skill/eletric",poison:"sound/skill/poison",footstep:"sound/footstep",empower:"sound/empower",bat_weapon:"sound/weapon/bat",knife_weapon:"sound/weapon/hit",knife_doctor_weapon:"sound/weapon/knife_doctor",hammer_weapon:"sound/weapon/hammer",knife_f_weapon:"sound/weapon/knife_f2",weapon_reload:"sound/weapon_reload",no_ammo:"sound/weapon/clipempty_rifle",melee_broken:"sound/weapon/knife_broken",lvl_up:"sound/lvl_up",call_reload:"sound/character/reloading",call_incoming:"sub#sound/incoming",call_victory:"sound/character/victory",player_hurt:"sound/hit",hurt:{a:["sound/character/a_hurt1","sound/character/a_hurt2","sound/character/a_hurt3","sound/character/a_hurt4"],b:["sound/character/b_hurt1","sound/character/b_hurt2","sound/character/b_hurt3","sound/character/b_hurt4"],c:["sound/character/c_hurt1","sound/character/c_hurt2","sound/character/c_hurt3"],k:["sound/character/k_hurt1","sound/character/k_hurt2","sound/character/k_hurt3","sound/character/k_hurt4"]},die:{a:["sound/character/k_hurt4"],b:["sound/character/k_hurt4"],c:["sound/character/k_hurt4"],k:["sound/character/k_hurt4"]},boss_alert:"sound/boss_alert",lightning:"sound/effect/lightning",rain:"sound/effect/rain",explosive:"sound/explosive",tel:"sound/effect/tel_short",glass_broken:"sound/effect/glass_broken",gun_sp:"sound/effect/pistol",womandieingame:"sound/Enemy/WomanDeath",phonecall:"sound/effect/call",daziji:["sound/movie/key1","sound/movie/key2","sound/movie/key3","sound/movie/key4","sound/movie/key5"],boss:"sound/BGM/BOSStest1",bosstest1:"sound/BGM/BOSStest1",bosstest2:"sound/BGM/BOSStest2",bosstest3:"sound/BGM/BOSStest3",uitest1:"sound/BGM/UItest1",uitest2:"sound/BGM/UItest2",dog_weapon:"sound/Enemy/DogAttack_1",smalldog_weapon:"sound/Enemy/DogAttack_1",bigdog_weapon:"sound/Enemy/DogAttack_1",BIG_MOBDOG_weapon:"sound/Enemy/DogAttact",BIG_MOBSMALLDOG_weapon:"sound/Enemy/DogAttact",BIG_MOBBIGDOG_weapon:"sound/Enemy/DogAttact",fastdog_weapon:"sound/Enemy/DogAttact",slowdog_weapon:"sound/Enemy/DogAttack_1",human_rifle_weapon:"sound/Enemy/rifle_enemy",human_pistol_weapon:"sound/Enemy/pistol_enemy",human_shotgun_weapon:"sound/Enemy/shotgun_enemy",human_sniperrifle_weapon:"sound/Enemy/sniperrifle_enemy",human_rocket_weapon:"sound/Enemy/rocket_enemy",human_saw_weapon:"sound/Enemy/saw_enemy",human_axe_weapon:"sound/Enemy/axe_enemy",boss_death:"sound/Enemy/death_2",death:"sound/Enemy/death_2",dog_death:["sound/Enemy/death_2"],hydralisk_death:["sound/Enemy/death_2"],smalldog_death:["sound/Enemy/death_2"],bigdog_death:["sound/Enemy/death_2"],BIG_MOBDOG_death:["sound/Enemy/death_2"],BIG_MOBSMALLDOG_death:["sound/Enemy/death_2"],BIG_MOBBIGDOG_death:["sound/Enemy/death_2"],fastdog_death:["sound/Enemy/death_2"],slowdog_death:["sound/Enemy/death_2"],explosivedog_death:["sound/Enemy/death_2","sound/Enemy/death_2"],rushdog_death:["sound/Enemy/death_2","sound/Enemy/death_2"],boomdog_death:["sound/Enemy/death_2","sound/Enemy/death_2","sound/Enemy/death_2"],stupiddog_death:["sound/Enemy/death_2","sound/Enemy/death_2","sound/Enemy/death_2"],dog_prologue_death:["sound/Enemy/death_2","sound/Enemy/death_2"],dog_prologue0_death:["sound/Enemy/death_2","sound/Enemy/death_2"],mobexplosivedog_death:["sound/Enemy/death_2","sound/Enemy/death_2","sound/Enemy/death_2"],human_hunhun_death:["sound/Enemy/death_2"],cxy_death:["sound/Enemy/death_2","sound/Enemy/death_2","sound/Enemy/death_2"],yjy_death:["sound/Enemy/death_2"],dog_1_death:["sound/Enemy/death_2"],dog_2_death:["sound/Enemy/death_2","sound/Enemy/death_2","sound/Enemy/death_2"],crow_death:"sound/Enemy/crow_dead",boomer:"sound/Enemy/DogAttack_1",ingame_dead:"sound/effect/dead",search_end:"sound/effect/search_end",search_start:"sound/UI/search_end",pickup_weapon:"sound/weapon_reload",use_powerup:"sound/effect/power_up",ui_click:"sound/UI/click",ui_page:"sound/UI/click",ui_bag_acquired:"sound/UI/click",ui_bag_small:"sound/UI/click",ui_bag_large:"sound/UI/click",ui_bag_misc:"sound/UI/click",ui_bag_heal:"sound/UI/click",ui_bag_empower:"sound/UI/click",talent_upgrade:"sound/talent_upgrade",plane:"sound/plane",parachute:"sound/parachute",revive:"sound/revive",win:"sound/win",op_click:"sound/operate/click",op_openBox:"sound/operate/openBox",op_openPopwin:"sound/operate/click",op_clickMenu:"sound/operate/click"},window.Debug_mode_mode=!0,cc._RF.pop()},{}],SpawnerDefine:[function(t,e){"use strict";cc._RF.push(e,"70c8ayRSLFFToJp/U6qmEHC","SpawnerDefine"),t("Spawner"),window.BARRACK="barrack",window.EGG="egg",window.MANHOLE_COVER="manhole_cover";var i={barrack:{id:BARRACK,name:"",radius:35,speed:160,hp:6700,z:9,scale:1,shadowScale:2.3,attack:70,hurtStopResist:.25,atkSpd:.6,power:1,exp:15,weight:-1,avatar:{anime:"chaoxue",ctor:t("SimpleAvatar")},deadEff:Effect.ExplosiveDeath},egg:{id:EGG,ctor:t("Egg"),name:"",radius:35,speed:160,hp:4100,z:9,scale:1.3,shadowScale:2.3,attack:70,hurtStopResist:.25,atkSpd:.6,power:1,exp:15,weight:-1,spawnEff:"WormOutSpawn",avatar:{frm:"avatar/egg",ctor:t("SpriteAvatar")}},manhole_cover:{id:MANHOLE_COVER,ctor:t("ManholeCover"),shadowH:.1,name:"",radius:35,scale:.7,speed:160,hp:4e3,z:6,shadowScale:2.3,attack:70,hurtStopResist:.25,atkSpd:.6,power:1,exp:15,weight:-1,avatar:{frm:"avatar/cover",base:"avatar/cover2"}}};window.SpawnerDefine=i,cc._RF.pop()},{Egg:"Egg",ManholeCover:"ManholeCover",SimpleAvatar:"SimpleAvatar",Spawner:"Spawner",SpriteAvatar:"SpriteAvatar"}],Spawner:[function(t,e){"use strict";var i;cc._RF.push(e,"32299JQJSdELprPPYYjZekk","Spawner"),t("Entity");var a=cc.Class(((i={extends:t("Entity"),init:function(t,e,i){e.isBoss&&(e.isBoss=null,this.spawnBoss=!0),this._super(t,e,i);var a=this.config.spawnConfig||t.spawnConfig||{};this.spawnConfig=a,this.spawnDt=a.dt||0,this.spawnTimer=this.spawnDt,this.spawnID=a.id||"1",this.spawnN=a.n||1,this.spawnLimit=a.limit||5,this.spawnCt=0},initAvatar:function(){if(this.define.avatar.anime){var t=this;this.avatar=this.game.effectMgr.createArmature(this.define.avatar.anime||"xingshi",function(e,i){i.armature().animation.play("stand",0),t.display=i}).armatureDisplay,this.addChild(this.avatar.node),setTimer(this.game,.01,function(){t.display.armature().animation.play("stand",0)})}else this.avatar=this.effectMgr.createSprite(0,0,this.define.avatar.frm||"avatar/egg").sprite,this.addChild(this.avatar.node)},drop:function(){}}).initAvatar=function(){this.avatarBase=this.effectMgr.createSprite(0,0,this.define.avatar.base||"avatar/egg_base"),this.addChild(this.avatarBase);var t=this.define.avatar,e=new cc.Node;this.addChild(e,0);var i=t.ctor;this.avatar=e.addComponent(i),this.avatar.init(t,{obj:this},this.game)},i.updateSpawn=function(t){this.spawnDt&&(this.spawnTimer-=t,this.spawnTimer<=0&&(this.spawnTimer=this.spawnDt,this.spawnUnit()))},i.spawnUnit=function(){if(!this.isDead)for(var t=this.spawnN,e=1;e<=t;e++){var i={i:this.spawnID,team:this.team,x:this.x,y:this.y,isBoss:this.spawnBoss};if(this.game.levelMgr.createObject(ENTITYS[this.spawnID],i,null,!0,!1,!0),this.spawnCt++,this.spawnLimit&&this.spawnCt>=this.spawnLimit)return void this.death()}},i.deathEvent=function(){},i.updateLogic=function(t){this._super(t),this.updateSpawn(t)},i.hitFlash=function(t){var e=this;return void 0===t&&(t=2),function(t){if(t=t,e.game,e.u_gray>0)e.u_gray=1;else{if(e.u_gray=1,1==t)var i="hitFlash";else 2==t&&(i="hitFlashArmature");var a,n=e.game.effectMgr;e.avatar&&n.bindShader(e.avatar,i),e.fixHitFlashMat4();var s=e;e.avatar.schedule(function t(){s.u_gray-=.2,s.u_gray<0?(s.u_gray=0,a.setProperty("u_gray",s.u_gray),this.unschedule(t),n.bindShader(this,"normal")):(a=this.getMaterial(0)).setProperty("u_gray",s.u_gray)},.01)}}(t)},i.fixHitFlashMat4=function(){},i.deadEffect=function(){var t=this.define.deadEff||this.deadEff||Effect.Death;return this.isBoss?(t=Effect.BossDeath)(this,this.game)||.01:t(this,1,1,1,this.game)||.01},i));e.exports=a,cc._RF.pop()},{Entity:"Entity"}],SpecialWeapon:[function(t,e){"use strict";cc._RF.push(e,"7dcd6Tz9YtFnazHzp8Fe6Lw","SpecialWeapon"),cc.Class({extends:t("Buff"),begin:function(){var t=this.config.weapon;this.obj.acquireNewWeapon(t,this.config.lvl)},end:function(){this.obj.endNewWeapon()}}),cc._RF.pop()},{Buff:"Buff"}],SpeedBuff:[function(t,e){"use strict";cc._RF.push(e,"75787hli4JCULBpMZpcCKUg","SpeedBuff"),cc.Class({init:function(t,e){this.game=e,this.particleNode=this.game.effectMgr.createParticle(0,0,"76grenade2");var i=this.particleNode.getComponent(cc.ParticleSystem);i.positionType=cc.ParticleSystem.PositionType.RELATIVE,i.autoRemoveOnFinish=!0,this.particle=i,t.addChild(this.particleNode)},remove:function(){this.particle&&this.particle.stopSystem(),this.particle=null,this.particleNode=null}}),cc._RF.pop()},{}],SpiderBuff:[function(t,e){"use strict";cc._RF.push(e,"3bdaanpwxxKS6IUcapyMivF","SpiderBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super();var t=this.obj;this.dt=this.define.dt,this.timer=this.dt,this.triggerType=this.define.triggerType,this.triggerType&&t.registCb(this,this.triggerType)},onReload:function(){this.attack()},excute:function(t){this.triggerType||(this.timer-=t,this.timer<=0&&(this.timer=this.dt,this.attack()))},attack:function(){var t=this.game,e=ENTITYS[this.define.mobID],i={i:this.define.mobID,team:0,x:this.obj.x,y:this.obj.y},a=t.levelMgr.createObject(e,i,null,!0,!0);a&&(a.blt[0].buff=BuffDefine[this.define.buffID],a.canAutoAim=!1,a.isInvincible++,a.canNotHurt=!0,a.attribute.set("atkDmg",this.define.dmg),this.define.dmg&&this.define.noDmg&&(a.noDmg=!0))},end:function(){this._super()}}),cc._RF.pop()},{Buff:"Buff"}],SpiderPoisonSkill4:[function(t,e){"use strict";cc._RF.push(e,"a85840kUTJCu6RpQFyKLk+/","SpiderPoisonSkill4"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.widow_SpiderPoison);var t=this.obj;t.playAnim({anim:"spell",loop:0,time:.5});var e=kit.clone(this.define.blt),i=this.define.dmg;if(e.buff[0].dmg=i,e.buff[0].t=this.define.duration,this.define.minradius&&(e.minradius=this.define.minradius),this.define.hurtradius&&(e.hurtradius=this.define.hurtradius),this.define.moreCrit){var a=kit.clone(this.define.blt.buff);a.name="SpiderPoisonSkill2",a.ctor=PoisonWithOtherBuff,a.addScale=[["critResist",-this.define.moreCrit]],e.buff.push(a)}var n=3.14*t.deg/180;this.bltx=t.x0+this.define.blt.l*Math.sin(n),this.blty=t.y0+this.define.blt.l*Math.cos(n),this.tt=.1,this.minr=this.define.minradius;var s=kit.degree2Radian(t.deg),o=50*Math.sin(s),r=50*Math.cos(s),c={attribute:{speed:this.define.speed,hp:this.define.hp},lvl:1,t:1,r:0,wd:0,radV:s,x:t.x+o,y:t.y+r,w:1,h:1,i:"machine_widow_bomb",n:1,ai:1,te:t.team,seekRange:this.define.seekRange,liveTimer:this.define.liveTimer};this.spawnMob(c,e)},spawnMob:function(t,e){var i=t.w,a=t.h,n=t.r,s=t.n||1,o=t.x,r=t.y,c=t.id,h=t.te;0!=h&&(h=1);var d=ENTITYS[t.i];d.blt&&(d.blt=[e]);for(var l=0;l<s;l++){if(n){if(t.wd)var u=2*Math.PI/s*l;else u=Math.random()*Math.PI*2;var f=o+n*kit.sin(u),m=r+n*kit.cos(u)}else!t.wd||1!=i&&1!=a?(f=o+(i||0)*(Math.random()-.5),m=r+(a||0)*(Math.random()-.5)):1==i?(f=o,m=r+(a||0)*(l/s)):(f=o+(i||0)*(l/s),m=r);var p={attribute:t.attribute,lvl:t.lvl,x:f,y:m,te:h,id:c,ai:t.ai,isMob:!0,changeMob:t.changeMob,seekRange:t.seekRange,liveTimer:t.liveTimer,radV:t.radV};new(d.ctor||Mob)(d,p).callSeek()}}}),cc._RF.pop()},{Skill:"Skill"}],Spike:[function(t,e){"use strict";cc._RF.push(e,"82d88Ct5P5DSKVyBI9VXQLZ","Spike"),cc.Class({extends:t("Terrain"),init:function(t,e){this._super(t,e),this.hitTimer=0},update:function(t){this.hitTimer>0&&(this.hitTimer-=t)},onContact:function(t){if(this.hitTimer<=0){this.hitTimer=1;var e=130,i=this.game.levelMgr;i&&i.attackScale&&(e*=i.attackScale),t.simpleHurt(e)}}}),cc._RF.pop()},{Terrain:"Terrain"}],SpinBullet:[function(t,e){"use strict";cc._RF.push(e,"20119tG+9BACLzsqgIFAOfg","SpinBullet");var i=cc.Class({extends:t("Bullet"),init:function(t,e,i){this._super(t,e,i),this.game=i,this.alwaysCheck=!0,this.hurtedObjs={}},move:function(t,e,i){this._super(t,e,i),this.spinR=250,this.spinRotation=this.config.spinRotation||0,this.spinSpeed=360},hit:function(t,e,i){this.hurtedObjs[t.uniqueID]>0||(this._super(t,e,i),this.hurtedObjs[t.uniqueID]=1)},updateLogic:function(t){for(var e in this.dx=0,this.dy=0,this.spinRotation+=this.spinSpeed*t,this.hurtedObjs)this.hurtedObjs[e]-=t,this.hurtedObjs[e]<=0&&(this.hurtedObjs[e]=0);this.spinRotation>=360&&(this.spinRotation-=360);var i=kit.degree2Radian(this.spinRotation);this._isFirstCheck=!0,this.x=this.obj.x+Math.sin(i)*this.spinR,this.y=this.obj.y+Math.cos(i)*this.spinR,this.updateSprite(t)},updateSprite:function(t){this._super(t),this.sprite.angle=-this.spinRotation-32},hitWall:function(){}});e.exports=i,cc._RF.pop()},{Bullet:"Bullet"}],SprintInstantCooldownOnLowHpBuff:[function(t,e){"use strict";cc._RF.push(e,"1a099QlPABK9rUW+W/NzIXx","SprintInstantCooldownOnLowHpBuff"),cc.Class({extends:t("OnHpLowBuff"),init:function(t,e){this._super(t,e),this.obj.define.skill},onHurt:function(t){if(!(this.cdTimer>0)){var e=this.define;this.cdTimer=e.cd||0;var i=this.obj,a=e.hpRate*i.hpMax;i.hp>a&&i.hp-t<=a&&this.obj.skills[0].ready()}}}),cc._RF.pop()},{OnHpLowBuff:"OnHpLowBuff"}],SpriteAvatar:[function(t,e){"use strict";cc._RF.push(e,"738e0a8bglAqZznp4zgggbm","SpriteAvatar");var i=cc.Class({extends:t("Avatar"),init:function(t,e,i){this.game&&this.game.bindScheduler(this),this.define=t,this.config=e,this.obj=e.obj,this.moveSpd=0,this.atkSpd=1,this.game=i,this.effectMgr=this.game.effectMgr,this.scale=this.define.scale||1,this.initAnimeName(),this.initShader(),this.setAnime("walk")},setForcedAnime:function(t,e,i){this.forcedAnimeName=t,this.forcedAnimeSpd=e,this.forcedAnimeLoop=i},setForcedAnimeSpd:function(t){this.forcedAnimeSpd=t},callAttackAnime:function(t){this.isAttack=t},callMoveAnime:function(t){this.isMove=t},setMoveSpeed:function(t){this.moveSpd=t},setAttackSpeed:function(t){this.atkSpd=t},callDeadAnime:function(t){this.isDead=t},setAttackAnimeName:function(t){this.attackAnimeName=t||"attack"},setWalkAnimeName:function(t){this.walkAnimeName=t||"walk"},setStandAnimeName:function(t){this.standAnimeName=t||"walk"},initAnimeName:function(){this.setAttackAnimeName(),this.setWalkAnimeName(),this.setStandAnimeName()},onAnimeEvent:function(){},update:function(){this.needRefresh&&(this.obj.attribute,this.forcedRefresh,this.needRefresh=!1,this.forcedRefresh=!1)},setAnime:function(t){var e=this.define.frm;if(e&&!this.obj.isDead){this.animName=t,e[t];var i=this.game.effectMgr.createSprite(0,0,e);i.scale=this.scale,this.node.addChild(i),this.display=i.sprite,this.define.ax&&(i.anchorX=this.define.ax),this.define.ay&&(i.anchorY=this.define.ay),this.initDefaultShader(),this.updateShader(),this.fixHitFlashMat4()}},refresh:function(t){this.needRefresh=!0,this.forcedRefresh=this.forcedRefresh||t},initSkin:function(){},endAnim:function(){this.playAnim()},playAnim:function(){},hitFlash:function(){this.hitFlash2(1)}});e.exports=i,cc._RF.pop()},{Avatar:"Avatar"}],StandAI:[function(t,e){"use strict";cc._RF.push(e,"b3d0bu7UgFNnozW8/4no4VM","StandAI");var i=cc.Class({extends:t("AI"),initStatusFight:function(){var t=this.obj;this.attackTime=this.define.attackTime||0,this.attackTimer=this.attackTime||0,cc.log("initStatusFight",t.define.id)},updateStatusFight:function(t){var e=this.obj;if(this.attackTimer-=t,!e.isAttack){if(this.attackTimer>0){if(!this.target.isDead){var i=this.target.x0-e.x0,a=this.target.y0-e.y0,n=this.target.radius+e.radius+this.define.sr;if(i*i+a*a<n*n)return kit.vector2Radian(a,i),void e.callAttack()}return}cc.log("updateStatusFight toSeek",e.define.id),this.changeStatus("Seek")}},initStatusSeek:function(){this.seekOffsetTimer||this.refreshSeekOffset(),this.astarTimer=0,this.seekCD=0,this.moveTime=this.define.moveTime||.5,this.moveTimer=this.moveTime||0,this.moveTimeRand=this.define.moveTimeRand||3,this.moveTimer+=Math.random()*this.moveTimeRand,cc.log("initStatusSeek",this.obj.define.id),this.obj.refreshAvatar()},updateStatusSeek:function(t){var e=this.obj;if(this.moveTimer-=t,!e.isDead&&!e.isStun){this.seekCD-=t,(this.seekCD<=0||this.target&&this.target.isDead)&&(this.seekCD=1+Math.random(),this.seekTarget());var i=this.target;if(i){if(this.checkSkill(i))return;var a=this.define,n=i.x0,s=i.y0,o=n-e.x0,r=s-e.y0,c=i.radius+e.radius+a.sr,h=o*o+r*r;if(h<c*c&&this.moveTimer<=0)this.attackTimer=this.attackInterval,kit.vector2Radian(r,o),e.callAttack(),this.changeStatus("Fight");else if(this.astarTimer-=t,this.astarTimer<=0||!e.isMove&&!e.noMove){this.seekOffsetTimer>0&&(this.seekOffsetTimer-=t,this.seekOffsetTimer<=0&&this.refreshSeekOffset());var d=a.ar0+a.ar1+10,l=h/(d*d);kit.vector2Radian(r,o),n=i.x0,s=i.y0,l>1?(n+=this.seekOffsetX,s+=this.seekOffsetY,this.refreshSeekOffset()):(o+=this.seekOffsetX*l*.5,r+=this.seekOffsetY*l*.5),this.astarTimer=.5+1*Math.random()}}else this.checkSkill()}}});e.exprots=i,cc._RF.pop()},{AI:"AI"}],StandToHealBuff:[function(t,e){"use strict";cc._RF.push(e,"a6be7v6wrxBA47aOaBe/N3a","StandToHealBuff"),cc.Class({extends:t("Buff"),begin:function(){this._super(),this.standTimer=0},excute:function(t){this.obj.isMove?this.standTimer=0:(this.standTimer+=t,this.standTimer>this.define.standTime&&this.obj.hp/this.obj.hpMax<=this.define.hpMax&&kit.timer(this.obj,"StandToHealBuff",1,t)&&this.obj.heal(this.define.healPerSec))},end:function(){this._super()}}),cc._RF.pop()},{Buff:"Buff"}],StealthSkill:[function(t,e){"use strict";cc._RF.push(e,"f5dd3nBhqFLpoZYzoqrvgjT","StealthSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.genji_Zan);var t=this.obj,e=t.attribute,i=this.define.d||400;this.dmg=this.define.dmg||100,this.r=this.define.r||100,this.d=i,e.mutScale("moveSpd",2),this.define.epCounter&&e.mutScale("epCounter",this.define.epCounter),this.stealHpPer=this.define.stealHp||0,t.canNotHurt=!0,t.playAnim({anim:"attack_2",loop:0,speed:1,time:.8}),this.aimTarget(),this.blink(),this.game.fastMode,this.define.epCounter&&e.mutScale("epCounter",1/this.define.epCounter)},aimTarget:function(){var t=this.obj;!t.isAutoTarget&&t.target&&!t.target.isDead&&t.target||t.seekTarget();var e=t.target;if(e){var i=kit.vector2Radian(e.y-t.y,e.x-t.x);this.obj.moveRad=i}},excute:function(){if(!this.game.fastMode){var t=this.obj;this.updateEffect(),this.effectPos=cc.v2(t.x+50*Math.sin(t.moveRad),t.y+50*Math.cos(t.moveRad)),this.armature.angle=this.obj.deg-kit.radian2Degree(this.obj.moveRad)}},checkLineBlocked:function(t,e,i,a){for(var n=g_sharedContactManager,s=i-t,o=a-e,r=kit.norm(s,o)/30,c=this.stealHpPer,h=this.obj,d=function(t){c&&h.heal(t*c)},l=0;l<=r;l++)for(var u=t+s*l/r,f=e+o*l/r,m=0;m<n.contactList.length;m++){var p=n.contactList[m];!p._isActiveContact||p.isSensor||p.isDead||p.team==this.obj.team||this.hurtedTarget[p.uniqueID]||kit.norm(u-p.x,f-p.y)<=p.radius+this.r&&(p.getPosition(),this.hurtedTarget[p.uniqueID]=!0,function(){var t=this.obj.getPosition(),e=p;e.runAction(cc.sequence(cc.delayTime(.05),cc.callFunc(function(){this.obj.hit(this.dmg,{obj:this.obj},e,null,d),kit.radian2Degree(kit.vector2Radian(e.y-t.y,e.x-t.x))},this)))}.bind(this)())}},updateEffect:function(){if(this.streak){var t=this.streak.getPosition(),e=Math.abs(this.effectPos.x-t.x),i=Math.abs(this.effectPos.y-t.y),a=e/(e+i)*155,n=i/(e+i)*155,s=kit.numApproach(t.x,this.effectPos.x,a),o=kit.numApproach(t.y,this.effectPos.y,n);this.streak.setPosition(s,o)}},createEffect:function(){var t=new cc.MotionStreak(.5,3,180,cc.color(255,255,255),"effect/genji/canying");this.game.camera.addChild(t,this.obj.getLocalZOrder()+1),t.setPosition(this.obj.x,this.obj.y),this.streak=t,t.setStartingPositionInitialized(!0),this.streak.runAction(cc.sequence(cc.delayTime(.2),cc.fadeOut(.2),cc.callFunc(function(){this.streak=null},this),cc.destroySelf())),this.effectPos=cc.v2(this.obj.x+0,this.obj.y+0)},blink:function(){var t=this.obj;this.createEffect();var e=t.x+this.d*Math.sin(t.moveRad),i=t.y+this.d*Math.cos(t.moveRad);this.hurtedTarget={},this.checkLineBlocked(t.x,t.y,e,i),t.x0=e,t.y0=i,t.x=e,t.y=i},end:function(){this._super();var t=this.obj,e=t.attribute;t.canNotHurt=!1,e.mutScale("moveSpd",.5),this.game.fastMode||this.armature&&this.armature.runAction(cc.sequence(cc.fadeOut(.5),cc.destroySelf()))}}),cc._RF.pop()},{Skill:"Skill"}],StreakSpeedUpSkill:[function(t,e){"use strict";cc._RF.push(e,"1d2ef440LBEtLAiBbDVKzJf","StreakSpeedUpSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;var t=this.obj,e=t.attribute;if(this.attackDmg=this.define.attackDmg||0,this.speedScale=this.define.moveSpeedScale||3,e.add("atkDmg",this.attackDmg),e.mutScale("moveSpd",this.speedScale),e.add("bltMaxCt",1e5),t.bltCt=t.bltMaxCt,this.replaceBlt(),!this.game.fastMode){this.game.effectMgr.play(SoundEffectPath.tracer_StreakSpeedU);var i=new cc.MotionStreak(.8,3,40,cc.color(255,255,255),"1");i.setPosition(t.getPosition()),this.game.camera.addChild(i,t.getLocalZOrder()-1),this.streak=i;var a=this.game.effectMgr.createParticle(t.getPosition().x,t.getPosition().y,"buling");this.game.camera.addChild(a,t.getLocalZOrder()+1),a.setScale(1.2);var n=a.getComponent(cc.ParticleSystem);n.positionType=cc.ParticleSystem.PositionType.RELATIVE,this.buling=n,this.bulingNode=a,this.obj.pushShader("tracer");var s=this.effectMgr.createSprite(0,0,"effect/tracer/light2"),o=s.getComponent(cc.Sprite);o.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,o.dstBlendFactor=cc.macro.BlendFactor.ONE,s.scale=0,this.obj.addChild(s,1e5);var r=cc.Sequence(cc.Spawn(cc.ScaleTo(.2,8),cc.FadeOut(.4)),cc.CallFunc(function(){s.destroy()}));s.runAction(r),this.circle=s}},replaceBlt:function(){this.backupBlt=this.obj.blt;var t=this.obj,e=this.define.blt;for(var i in t.blt=[kit.mergeObjs(e,t.blt[0])],t.bltReload=0,t.attackSequence)t.attackSequence[i].effect=Effect.fireLightTracer},restoreBlt:function(){for(var t in this.obj.blt=this.backupBlt,this.obj.attackSequence)this.obj.attackSequence[t].effect=null},excute:function(t){if(!this.game.fastMode){var e=this.obj,i=this.streak.getStroke();this.castTimer<.5&&i>0&&this.streak.setStroke(this.streak.getStroke()-5);var a=e.deg,n=kit.degree2Radian(a),s=30*Math.sin(n),o=30*Math.cos(n);this.streak.setPosition(e.x+s,e.y+o),this.bulingNode.setPosition(e.x,e.y),kit.timer(this,"sound",.5,t)&&this.game.effectMgr.play(SoundEffectPath.tracer_StreakSpeedU)}},end:function(){this._super();var t=this.obj,e=t.attribute;if(e.add("atkDmg",-this.attackDmg),e.mutScale("moveSpd",1/this.speedScale),e.add("bltMaxCt",-1e5),t.bltCt=t.bltMaxCt,this.restoreBlt(),!this.game.fastMode){this.streak.destroy(!0),this.buling.destroy(!0),this.obj.popShader("tracer");var i=this.effectMgr.createSprite(0,0,"effect/tracer/light2");i.scale=0,this.obj.addChild(i,1e5);var a=cc.Sequence(cc.Spawn(cc.ScaleTo(.2,8),cc.FadeOut(.4)),cc.CallFunc(function(){i.destroy()}));i.runAction(a);var n=i.getComponent(cc.Sprite);n.srcBlendFactor=cc.macro.BlendFactor.ONE,n.dstBlendFactor=cc.macro.BlendFactor.ONE}}}),cc._RF.pop()},{Skill:"Skill"}],StunBuff:[function(t,e){"use strict";cc._RF.push(e,"863feSigLBBfKcMiw05k3d4","StunBuff"),cc.Class({init:function(t,e){var i=e.obj;(!t.chance||Math.random()<t.chance)&&i.stun(t.t)}}),cc._RF.pop()},{}],Stun:[function(t,e){"use strict";cc._RF.push(e,"2a4b4/1YMVB6JSDGCnukTIH","Stun"),cc.Class({extends:cc.Node,init:function(t,e){var i=e.effectMgr.createSprite(0,0,"effect/stun");this.addChild(i),t.addChild(this,1e3),this.obj=t,this.bonusRotation=0,this.angle=this.obj.angle-this.bonusRotation;var a=i.getComponent(cc.Sprite),n=function(t){this.update(t,this)}.bind(this);a.schedule(n)},update:function(t,e){e.bonusRotation+=20*t/.03,e.angle=e.obj.angle-e.bonusRotation}}),cc._RF.pop()},{}],SurvivorPopMenu:[function(t,e){"use strict";cc._RF.push(e,"84b53ufACdCGY46Z5ItQbyG","SurvivorPopMenu"),t("TalentDefine"),cc.Class({extends:t("Menu"),properties:{cards:[cc.Node]},onLoad:function(){},shuffle:function(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),a=[t[e],t[i]];t[i]=a[0],t[e]=a[1]}},start:function(){cc.Platformsdk.showBanner()},closeCb:function(){cc.Platformsdk.hideBanner()},init:function(t){this.game=t.game,this.game.pushTimeScale();var e=this.initTalent();for(var i in this.cards){var a=this.cards[i].getComponent("ChooseBonusCard"),n=1==i&&e[0]||TalentDefine.heal;a.init(n,this.game,function(){t.onMenuClose()});var s=i;this.cards[i].runAction(cc.sequence(cc.delayTime(.1*s),cc.callFunc(function(){}))),this.cards[i].def=e[i]}},initTalent:function(){var t=Talent.getPool(SurvivorPool);return cc.log("survivorpool",t),this.shuffle(t),t=t.slice(0,1),this.chooseArray=t,t}}),cc._RF.pop()},{Menu:"Menu",TalentDefine:"TalentDefine"}],Survivor:[function(t,e){"use strict";cc._RF.push(e,"531fd46ZhFOk67+4VZ39Zv3","Survivor");var i=cc.Class({extends:t("Npc"),init:function(t,e,i){this._super(t,e,i),this.game=i,this.effectMgr=this.game.effectMgr,t=this.define,e=this.config,this.isAIEnabled=!1},initAvatar:function(){this.avatarNode=this.effectMgr.createSprite(0,0,"npc/survivor"),this.addChild(this.avatarNode)},activateNpc:function(){menuManager.pop("prefab/survivorPopMenu",this)},onMenuClose:function(){this.effectMgr.loadSprite(this.avatarNode.sprite,"npc/survivor_dead")}});e.exports=i,cc._RF.pop()},{Npc:"Npc"}],TalentDefine:[function(t,e){"use strict";cc._RF.push(e,"18e59l6YRtEa5HpZLuY01ak","TalentDefine"),window.TalentConfig={lvlUpRange:[1,4],lvlUpBonus:{5:[1,1,1],10:[2,2,2]},adBonus:[1,0,0],rarity:{1:{rollPower:1e3},2:{rollPower:45},3:{rollPower:10},4:{rollPower:1}},relic:{1:{n:1,rollPower:[1e3,120,0,0]},2:{n:2,rollPower:[1e3,170,14,0]},3:{n:3,rollPower:[500,100,20,10]},4:{n:3,rollPower:[500,100,50,30]}}};var i={autoMissle:{title:"Rocket guidance",upgrade:"autoMissle_2",limit:1,unique:"autoMissle",rarity:1,effect:function(t){t.setBuffById("AutoMissle")},des:"Launch 2 guided rocket to attack",content:"autoMissle"},autoMissle_2:{title:"Rocket guidance",upgrade:"autoMissle_3",limit:1,unique:"autoMissle",rarity:2,effect:function(t){t.setBuffById("AutoMissle_2")},des:"Launch 3 guided rocket to attack",content:"autoMissle"},autoMissle_3:{title:"Rocket guidance",limit:1,unique:"autoMissle",rarity:3,effect:function(t){t.setBuffById("AutoMissle_3")},des:"Launch 4 guided rocket to attack",content:"autoMissle"},autoMissle_4:{title:"Rocket guidance",limit:1,unique:"autoMissle",rarity:4,effect:function(t){t.setBuffById("AutoMissle_4")},des:"Launch 5 guided rocket to attack",content:"autoMissle"},companion:{title:"Drone",limit:1,upgrade:"companion_2",rarity:3,unique:"companion",effect:function(t){var e=t.game,i=ENTITYS.drone,a={i:"drone",team:0,x:e.hero.x+100,y:e.hero.y,attack:.6*t.attribute.get("atkDmg")};e.levelMgr.createObject(i,a,null,!0,!0,!0,!0).setOwner(e.hero)},content:"companion",des:"Summon a small drone to assist in the battle"},companion_2:{title:"Drone",limit:1,unique:"companion",rarity:4,effect:function(t){var e=t.game,i=ENTITYS.drone2,a={i:"drone2",team:0,x:e.hero.x+100,y:e.hero.y,attack:1*t.attribute.get("atkDmg")};e.levelMgr.createObject(i,a,null,!0,!0,!0,!0).setOwner(e.hero)},content:"companion",des:"Summon a large drone to help fight"},chainShot:{title:"Catapult",limit:1,hide:1,rarity:5,effect:function(t){var e=t.weapon;for(var i in e.blt)e.blt[i].chain=3;t.updateWeapon()},content:"chainShot",des:"Bullets will bounce between enemies"},recoil:{title:"Precision shooting",upgrade:"recoil_2",limit:1,rarity:1,unique:"recoil",effect:function(t){t.attribute.mutScale("recoilScale",.5),t.recoilReduced=!0,cc.log("recoilScale",t.attribute.get("recoilScale"))},content:"recoil",des:"Slightly reduce weapon scattering"},recoil_2:{title:"Precision shooting",upgrade:"recoil_3",limit:1,rarity:2,unique:"recoil",effect:function(t){t.attribute.mutScale("recoilScale",.35),t.recoilReduced=!0,cc.log("recoilScale",t.attribute.get("recoilScale"))},content:"recoil",des:"Significantly reduce weapon scattering"},recoil_3:{title:"Precision shooting",upgrade:"recoil_4",limit:1,rarity:3,unique:"recoil",effect:function(t){t.attribute.mutScale("recoilScale",.2),t.recoilReduced=!0,cc.log("recoilScale",t.attribute.get("recoilScale"))},content:"recoil",des:"Significantly reduce weapon scattering"},recoil_4:{title:"Precision shooting",limit:1,rarity:4,unique:"recoil",effect:function(t){t.attribute.mutScale("recoilScale",.05),t.recoilReduced=!0,cc.log("recoilScale",t.attribute.get("recoilScale"))},content:"recoil",des:"Greatly reduce weapon scattering"},reloadSpd:{title:"Speed reload",limit:2,upgrade:"reloadSpd_2",rarity:1,unique:"reloadSpd",effect:function(t){t.attribute.add("reloadSpd",1.4),cc.log("reloadSpd",t.attribute.get("reloadSpd"))},content:"reloadSpd",des:"Increase by 30%"},reloadSpd_2:{title:"Speed reload",limit:1,upgrade:"reloadSpd_3",rarity:2,unique:"reloadSpd",effect:function(t){t.attribute.add("reloadSpd",1.6),cc.log("reloadSpd",t.attribute.get("reloadSpd"))},content:"reloadSpd",des:"Increase by 40%"},reloadSpd_3:{title:"Speed reload",limit:1,rarity:3,unique:"reloadSpd",upgrade:"reloadSpd_4",effect:function(t){t.attribute.add("reloadSpd",1.8),cc.log("reloadSpd",t.attribute.get("reloadSpd"))},content:"reloadSpd",des:"Increase by 50%"},reloadSpd_4:{title:"Speed reload",limit:1,rarity:4,unique:"reloadSpd",effect:function(t){t.attribute.add("reloadSpd",2),cc.log("reloadSpd",t.attribute.get("reloadSpd"))},content:"reloadSpd",des:"Increase by 60%"},magazine:{title:"Capacity magazine",limit:2,show1:"magezine",rarity:1,upgrade:"magazine_2",effect:function(t){t.oBltMax||(t.oBltMax=t.bltMaxCt),t.weapon.bltMax+=.5*t.oBltMax,t.bltMaxCt=t.weapon.bltMax,t.bltCt=t.bltMaxCt,cc.log("bltCt",t.bltCt),t.bltBar&&t.bltBar.updateBltBarLine()},content:"magazine",des:"Increase by 50%",remove:function(t){t.oBltMax&&(t.weapon.bltMax-=.5*t.oBltMax,t.bltMaxCt=t.weapon.bltMax,t.bltCt=t.bltMaxCt,cc.log("bltCt",t.bltCt),t.bltBar&&t.bltBar.updateBltBarLine())}},magazine_2:{title:"Capacity magazine",limit:1,show1:"magezine",rarity:2,upgrade:"magazine_3",effect:function(t){t.oBltMax||(t.oBltMax=t.bltMaxCt),t.weapon.bltMax+=1*t.oBltMax,t.bltMaxCt=t.weapon.bltMax,t.bltCt=t.bltMaxCt,cc.log("bltCt",t.bltCt),t.bltBar&&t.bltBar.updateBltBarLine()},remove:function(t){t.oBltMax&&(t.weapon.bltMax-=1*t.oBltMax,t.bltMaxCt=t.weapon.bltMax,t.bltCt=t.bltMaxCt,cc.log("bltCt",t.bltCt),t.bltBar&&t.bltBar.updateBltBarLine())},content:"magazine",des:"Increase by 100%"},magazine_3:{title:"Capacity magazine",limit:1,show1:"magezine",rarity:3,upgrade:"magazine_4",effect:function(t){t.oBltMax||(t.oBltMax=t.bltMaxCt),t.weapon.bltMax+=1.5*t.oBltMax,t.bltMaxCt=t.weapon.bltMax,t.bltCt=t.bltMaxCt,cc.log("bltCt",t.bltCt),t.bltBar&&t.bltBar.updateBltBarLine()},remove:function(t){t.oBltMax&&(t.weapon.bltMax-=1.5*t.oBltMax,t.bltMaxCt=t.weapon.bltMax,t.bltCt=t.bltMaxCt,cc.log("bltCt",t.bltCt),t.bltBar&&t.bltBar.updateBltBarLine())},content:"magazine",des:"Increase by 150%"},magazine_4:{title:"Capacity magazine",limit:1,show1:"magezine",rarity:4,effect:function(t){t.oBltMax||(t.oBltMax=t.bltMaxCt),t.weapon.bltMax+=2*t.oBltMax,t.bltMaxCt=t.weapon.bltMax,t.bltCt=t.bltMaxCt,cc.log("bltCt",t.bltCt),t.bltBar&&t.bltBar.updateBltBarLine()},remove:function(t){t.oBltMax&&(t.weapon.bltMax-=2*t.oBltMax,t.bltMaxCt=t.weapon.bltMax,t.bltCt=t.bltMaxCt,cc.log("bltCt",t.bltCt),t.bltBar&&t.bltBar.updateBltBarLine())},content:"magazine",des:"Increase by 200%"},critChance:{title:"Critical strike chance",limit:1,unique:"critChance",rarity:1,upgrade:"critChance_2",effect:function(t){t.attribute.add("critChance",.1),cc.log("critChance",t.attribute.get("critChance"))},content:"critChance",des:"Increase by 10%"},critChance_2:{title:"Critical strike chance",limit:1,unique:"critChance",rarity:2,upgrade:"critChance_3",effect:function(t){t.attribute.add("critChance",.13),cc.log("critChance",t.attribute.get("critChance"))},content:"critChance",des:"Increase by 13%"},critChance_3:{title:"Critical strike chance",limit:1,unique:"critChance",rarity:3,upgrade:"critChance_4",effect:function(t){t.attribute.add("critChance",.16),cc.log("critChance",t.attribute.get("critChance"))},content:"critChance",des:"Increase by 16%"},critChance_4:{title:"Critical strike chance",limit:1,unique:"critChance",rarity:4,effect:function(t){t.attribute.add("critChance",.2),cc.log("critChance",t.attribute.get("critChance"))},content:"critChance",des:"Increase by 20%"},critChance_lite:{title:"Critical strike chance",hide:1,rarity:0,effect:function(t){t.attribute.add("critChance",.05),cc.log("critChance",t.attribute.get("critChance"))},content:"critChance_minor",des:"Increase by 5%"},critBonus:{title:"Critical damage",rarity:1,show1:"critBonus",upgrade:"critBonus_2",effect:function(t){t.attribute.add("critBonus",.6),cc.log("critBonus",t.attribute.get("critBonus"))},content:"critBonus_major",des:"Increase by 60%"},critBonus_2:{title:"Critical damage",rarity:2,show1:"critBonus",upgrade:"critBonus_3",effect:function(t){t.attribute.add("critBonus",.8),cc.log("critBonus",t.attribute.get("critBonus"))},content:"critBonus_major",des:"Increase by 80%"},critBonus_3:{title:"Critical damage",rarity:3,show1:"critBonus",upgrade:"critBonus_4",effect:function(t){t.attribute.add("critBonus",1),cc.log("critBonus",t.attribute.get("critBonus"))},content:"critBonus_major",des:"Increase by 100%"},critBonus_4:{title:"Critical damage",rarity:4,show1:"critBonus",effect:function(t){t.attribute.add("critBonus",1.2),cc.log("critBonus",t.attribute.get("critBonus"))},content:"critBonus_major",des:"Increase by 120%"},critBonus_lite:{title:"Critical damage",hide:1,rarity:0,effect:function(t){t.attribute.add("critBonus",.3),cc.log("critBonus",t.attribute.get("critBonus"))},content:"critBonus",des:"Increase by 30%"},1:{title:"Attack speed",limit:3,show1:"atkSpd",rarity:1,upgrade:"1.1",effect:function(t){t.attribute.add("atkSpd",.15);var e=t.attribute.get("recoilScale")||1;t.attribute.add("recoilScale",-.15*e),cc.log("atkSpd",t.attribute.get("atkSpd"))},content:3,des:"Increase by 15%"},1.1:{title:"Attack speed",limit:3,upgrade:"1.2",show1:"atkSpd",rarity:2,effect:function(t){t.attribute.add("atkSpd",.2);var e=t.attribute.get("recoilScale")||1;t.attribute.add("recoilScale",-.2*e),cc.log("atkSpd",t.attribute.get("atkSpd"))},content:3,des:"Increase by 20%"},1.2:{title:"Attack speed",limit:3,show1:"atkSpd",rarity:3,upgrade:"1.3",effect:function(t){t.attribute.add("atkSpd",.25);var e=t.attribute.get("recoilScale")||1;t.attribute.add("recoilScale",-.25*e),cc.log("atkSpd",t.attribute.get("atkSpd"))},content:3,des:"Increase by 25%"},1.3:{title:"Attack speed",limit:3,show1:"atkSpd",rarity:4,effect:function(t){t.attribute.add("atkSpd",.3);var e=t.attribute.get("recoilScale")||1;t.attribute.add("recoilScale",-.3*e),cc.log("atkSpd",t.attribute.get("atkSpd"))},content:3,des:"Increase by 30%"},1.01:{title:"Attack speed",limit:3,rarity:0,hide:1,effect:function(t){t.attribute.add("atkSpd",.08);var e=t.attribute.get("recoilScale")||1;t.attribute.add("recoilScale",-.08*e),cc.log("atkSpd",t.attribute.get("atkSpd"))},content:3,des:"Increase by 8%"},2:{title:"Attack power",rarity:1,show1:"atk",upgrade:"2.11",effect:function(t){t.attribute.addScale("bltAtkScale",.15),cc.log("atkDmg",t.attribute.get("bltAtkScale"))},content:"atk_major",des:"Increase by 15%"},2.11:{title:"Attack power",rarity:2,show1:"atk",upgrade:"2.12",effect:function(t){t.attribute.addScale("bltAtkScale",.2),cc.log("atkDmg",t.attribute.get("bltAtkScale"))},content:"atk_major",des:"Increase by 20%"},2.12:{title:"Attack power",rarity:3,show1:"atk",upgrade:"2.13",effect:function(t){t.attribute.addScale("bltAtkScale",.25),cc.log("atkDmg",t.attribute.get("bltAtkScale"))},content:"atk_major",des:"Increase by 25%"},2.13:{title:"Attack power",rarity:4,show1:"atk",effect:function(t){t.attribute.addScale("bltAtkScale",.3),cc.log("atkDmg",t.attribute.get("bltAtkScale"))},content:"atk_major",des:"Increase by 30%"},2.1:{title:"Increased attack",hide:1,rarity:0,effect:function(t){t.attribute.addScale("bltAtkScale",.08),cc.log("atkDmg",t.attribute.get("bltAtkScale"))},content:1,des:"Bullet damage +8%"},debug:{title:"Very powerful",noShow:1,hide:1,effect:function(t,e){t.attribute.addScale("bltAtkScale",10);var i=t.attribute.get("hpMax");t.attribute.addScale("hpMax",20);var a=t.attribute.get("hpMax")-i;e&&t.heal(a),t.hpBar&&(t.hpBar.refresh(),t.hpBar.updateHpBarLine())}},master_atk:{title:"Increased attack",noShow:1,hide:1,showValue:.2,effect:function(t){t.attribute.addScale("bltAtkScale",.2),cc.log("atkDmg",t.attribute.get("bltAtkScale"))},content:1,des:"Bullet damage"},master_hp:{title:"Increased HP",noShow:1,hide:1,showValue:.2,effect:function(t,e){var i=t.attribute.get("hpMax");t.attribute.addScale("hpMax",.2);var a=t.attribute.get("hpMax")-i;e&&t.heal(a),t.hpBar&&(t.hpBar.refresh(),t.hpBar.updateHpBarLine()),cc.log("hpMax",t.attribute.get("hpMax"))},des:"Increase HP limit",content:"hpmax"},demon_hp:{title:"Increased HP",noShow:1,hide:1,showValue:.3,effect:function(t){t.attribute.mutScale("hpMax",.7),t.hp>t.hpMax&&(t.hp=t.hpMax),t.hpBar&&(t.hpBar.refresh(),t.hpBar.updateHpBarLine()),cc.log("hpMax",t.attribute.get("hpMax"))},des:"Increase HP limit",content:"hpmax"},4:{title:"Forward shooting",limit:1,upgrade:"4.1",effect:function(t){var e,i,a=t.weapon;for(var n in cc.log("double shot atkSequence before:",a.attackSequence),a.attackSequence)if(null!=(r=a.attackSequence[n]).blt){e=r,i=n,cc.log("double shot atkSequence after:",a.attackSequence,i);break}a.talentFrontShot=a.talentFrontShot||[e],null==a.originX&&(a.originX=e.x);var s=kit.clone(e);s.noSound=!0,a.talentFrontShot.push(s),a.attackSequence.splice(+i+1,0,s);var o=a.talentFrontShot.length;for(n=0;n<=o-1;n++){var r;(r=a.talentFrontShot[n]).x=-15*(o-1)+30*n+a.originX,cc.log("",o,n,r.x,a.originX),0!=n&&(r.t=0)}cc.log(":",a.attackSequence),t.updateWeapon(),t.attribute.mutScale("bltAtkScale",.75),t.attribute.mutScale("recoilScale",.6),cc.log("recoilScale",t.attribute.get("recoilScale"))},des:"Add a column of bullets",show1:"zx",content:5,rarity:3},4.1:{title:"Forward shooting",limit:1,effect:function(t){var e,i,a=t.weapon;for(var n in cc.log("double shot atkSequence before:",a.attackSequence),a.attackSequence)if(null!=(r=a.attackSequence[n]).blt){e=r,i=n,cc.log("double shot atkSequence after:",a.attackSequence,i);break}a.talentFrontShot=a.talentFrontShot||[e],null==a.originX&&(a.originX=e.x);var s=kit.clone(e);s.noSound=!0,a.talentFrontShot.push(s),a.attackSequence.splice(+i+1,0,s);var o=a.talentFrontShot.length;for(n=0;n<=o-1;n++){var r;(r=a.talentFrontShot[n]).x=-15*(o-1)+30*n+a.originX,cc.log("",o,n,r.x,a.originX),0!=n&&(r.t=0)}cc.log(":",a.attackSequence),t.updateWeapon(),t.attribute.mutScale("bltAtkScale",1),t.attribute.mutScale("recoilScale",.5),cc.log("recoilScale",t.attribute.get("recoilScale"))},des:"Add a column of bullets",show1:"zx",content:5,rarity:4},6:{title:"Health Capacity",rarity:1,show1:"hp",upgrade:"6.11",effect:function(t,e){var i=t.attribute.get("hpMax");t.attribute.addScale("hpMax",.15);var a=t.attribute.get("hpMax")-i;e&&t.heal(a),t.hpBar&&(t.hpBar.refresh(),t.hpBar.updateHpBarLine()),cc.log("hpMax",t.attribute.get("hpMax"))},des:"Capacity increases by 15%",content:"hpmax",remove:function(t){t.attribute.addScale("hpMax",-.15),t.hpBar&&(t.hpBar.refresh(),t.hpBar.updateHpBarLine())}},6.11:{title:"Health Capacity",rarity:2,show1:"hp",upgrade:"6.12",effect:function(t,e){var i=t.attribute.get("hpMax");t.attribute.addScale("hpMax",.2);var a=t.attribute.get("hpMax")-i;e&&t.heal(a),t.hpBar&&(t.hpBar.refresh(),t.hpBar.updateHpBarLine()),cc.log("hpMax",t.attribute.get("hpMax"))},des:"Capacity increases by 20%",content:"hpmax",remove:function(t){t.attribute.addScale("hpMax",-.2),t.hpBar&&(t.hpBar.refresh(),t.hpBar.updateHpBarLine())}},6.12:{title:"Health Capacity",rarity:3,show1:"hp",upgrade:"6.13",effect:function(t,e){var i=t.attribute.get("hpMax");t.attribute.addScale("hpMax",.25);var a=t.attribute.get("hpMax")-i;e&&t.heal(a),t.hpBar&&(t.hpBar.refresh(),t.hpBar.updateHpBarLine()),cc.log("hpMax",t.attribute.get("hpMax"))},remove:function(t){t.attribute.addScale("hpMax",-.25),t.hpBar&&(t.hpBar.refresh(),t.hpBar.updateHpBarLine())},des:"Capacity increases by 25%",content:"hpmax"},6.13:{title:"Health Capacity",rarity:4,show1:"hp",effect:function(t,e){var i=t.attribute.get("hpMax");t.attribute.addScale("hpMax",.3);var a=t.attribute.get("hpMax")-i;e&&t.heal(a),cc.log("hpMax",t.attribute.get("hpMax"))},des:"Capacity increases by 30%",content:"hpmax",remove:function(t){t.attribute.addScale("hpMax",-.3),t.hpBar&&(t.hpBar.refresh(),t.hpBar.updateHpBarLine())}},6.1:{title:"Health Capacity",hide:1,rarity:0,effect:function(t,e){var i=t.attribute.get("hpMax");t.attribute.addScale("hpMax",.08);var a=t.attribute.get("hpMax")-i;e&&t.heal(a),t.hpBar&&(t.hpBar.refresh(),t.hpBar.updateHpBarLine()),cc.log("hpMax",t.attribute.get("hpMax"))},des:"Capacity increases by 8%",content:"hpmax"},heal:{hide:1,noTalent:1,rarity:0,title:"Healing",chooseSound:"use_heal",effect:function(t){var e=.33*(t.hpBase||t.hpMax);t.heal(e),t.hpBar&&t.hpBar.refresh(),cc.log("heal",t.hp)},des:"Restore 30% health",content:"heal_major"},heal_5:{hide:1,noTalent:1,rarity:1,title:"Healing",effect:function(t){var e=.5*(t.hpBase||t.hpMax);t.heal(e),t.hpBar&&t.hpBar.refresh(),cc.log("heal",t.hp)},des:"Restore 50% health",content:7},heal_10:{hide:1,noTalent:1,rarity:2,title:"Healing",effect:function(t){var e=1*(t.hpBase||t.hpMax);t.heal(e),t.hpBar&&t.hpBar.refresh(),cc.log("heal",t.hp)},des:"Restore 100% health",content:7},grenade:{title:"Grenade",limit:1,rarity:1,upgrade:"grenade_2",unique:"grenade",remove:function(t){var e=t.getBuffById("AutoGrenade");e&&e.callEnd()},effect:function(t){var e,i=Talent.mods;i.grenadeRadius&&(e=BuffDefine.AutoGrenade.blt.hurtradius*i.grenadeRadius),t.setBuffById("AutoGrenade",{moreAttack:0,hurtradius:e})},des:"Throw 1 grenade at once",content:"grenade"},grenade_2:{title:"Grenade",limit:1,moreAttack:1,rarity:2,unique:"grenade",upgrade:"grenade_3",effect:function(t){t.setBuffById("AutoGrenade",{moreAttack:1})},des:"Throw 2 grenades at once",content:"grenade"},grenade_3:{title:"Grenade",limit:1,moreAttack:2,rarity:3,unique:"grenade",upgrade:"grenade_4",effect:function(t){t.setBuffById("AutoGrenade",{moreAttack:2})},des:"Throw 3 grenades at once",content:"grenade"},grenade_4:{title:"Grenade",limit:1,moreAttack:3,rarity:4,unique:"grenade",effect:function(t){t.setBuffById("AutoGrenade",{moreAttack:3})},des:"Throw 4 grenades at once",content:"grenade"},dodge:{title:"Dodge",limit:1,rarity:2,unique:"dodge",upgrade:"dodge_2",effect:function(t){t.attribute.add("dodgeChance",.1)},des:"10% Avoid enemy attacks",content:"dodge"},dodge_2:{title:"Dodge",limit:1,rarity:3,unique:"dodge",upgrade:"dodge_3",effect:function(t){t.attribute.add("dodgeChance",.15)},des:"15% Avoid enemy attacks",content:"dodge"},dodge_3:{title:"Dodge",limit:1,rarity:4,unique:"dodge",effect:function(t){t.attribute.add("dodgeChance",.2)},des:"20% Avoid enemy attacks",content:"dodge"},healScale:{title:"Super blood",limit:2,rarity:3,show1:"healScale",upgrade:"healScale_2",effect:function(t){t.attribute.add("healScale",1)},des:"Blood pack +100%",content:"healScale"},healScale_2:{title:"Super blood",limit:1,rarity:4,show1:"healScale",effect:function(t){t.attribute.add("healScale",2)},des:"Blood pack +200%",content:"healScale"},hpRegenOnKill:{title:"Suck blood",limit:1,rarity:3,unique:"hpRegenOnKill",upgrade:"hpRegenOnKill_2",effect:function(t){t.setBuffById("OnKillRegen")},des:"Kill monsters +0.5%HP",content:"drain"},hpRegenOnKill_2:{title:"Suck blood",limit:1,rarity:4,unique:"hpRegenOnKill",effect:function(t){t.setBuffById("OnKillRegen_2")},des:"Kill monsters +1%HP",content:"drain"},spinAxe:{title:"Rotate Knife",limit:1,rarity:1,unique:"spinAxe",upgrade:"spinAxe_2",effect:function(e){var i,a=0,n=1*e.getStandardAtk(),s=Talent.mods,o=[];s.spinAxeFire&&o.push(BuffDefine.spinAxeFire),s.spinAxeFrost&&o.push(BuffDefine.spinAxeFrost),s.spinAxePoison&&o.push(BuffDefine.spinAxePoison),s.spinAxeEletric&&o.push(BuffDefine.spinAxeEletric),o.length>0&&(i=o);var r={ctor:t("SpinBullet"),name:"",kb:.8,noBlend:!0,radius:30,anchorY:.5,frm:"effect/knife",length:65,dmg:300,n:1,wd:1,d:.04,spd:1,rnd:0,l:3e3,alwayThrough:1,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"knife_weapon",buffs:i};e.spinAxe||(e.spinAxe=[]);for(var c=1;c<=2;c++){a=180*c;var h=Ammofactory(e,r,{l:1,x:e.x,y:e.y,obj:e,te:e.team,deg:0,spinRotation:a,dmg:n},e.game);e.spinAxe.push(h)}},remove:function(t){for(var e in t.spinAxe)t.spinAxe[e].remove();t.spinAxe=null},des:"2 knives rotating around",content:"axe"},spinAxe_2:{title:"Rotating Knife",limit:1,rarity:2,unique:"spinAxe",upgrade:"spinAxe_3",remove:function(t){for(var e in t.spinAxe)t.spinAxe[e].remove();t.spinAxe=null},effect:function(e){var i,a=0,n=1*e.getStandardAtk(),s=Talent.mods,o=[];s.spinAxeFire&&o.push(BuffDefine.spinAxeFire),s.spinAxeFrost&&o.push(BuffDefine.spinAxeFrost),s.spinAxePoison&&o.push(BuffDefine.spinAxePoison),s.spinAxeEletric&&o.push(BuffDefine.spinAxeEletric),o.length>0&&(i=o);var r={ctor:t("SpinBullet"),name:"",kb:.8,noBlend:!0,radius:30,anchorY:.5,frm:"effect/knife",length:65,dmg:300,n:1,wd:1,d:.04,spd:1,rnd:0,l:3e3,alwayThrough:1,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"knife_weapon",buffs:i};e.spinAxe||(e.spinAxe=[]);for(var c=1;c<=4;c++){a=90*c;var h=Ammofactory(e,r,{l:1,x:e.x,y:e.y,obj:e,te:e.team,deg:0,spinRotation:a,dmg:n},e.game);e.spinAxe.push(h)}},des:"4 knives rotating around",content:"axe"},spinAxe_3:{title:"Rotating Knife",limit:1,rarity:3,unique:"spinAxe",upgrade:"spinAxe_4",remove:function(t){for(var e in t.spinAxe)t.spinAxe[e].remove();t.spinAxe=null},effect:function(e){var i,a=0,n=1*e.getStandardAtk(),s=Talent.mods,o=[];s.spinAxeFire&&o.push(BuffDefine.spinAxeFire),s.spinAxeFrost&&o.push(BuffDefine.spinAxeFrost),s.spinAxePoison&&o.push(BuffDefine.spinAxePoison),s.spinAxeEletric&&o.push(BuffDefine.spinAxeEletric),o.length>0&&(i=o);var r={ctor:t("SpinBullet"),name:"",kb:.8,noBlend:!0,radius:30,anchorY:.5,frm:"effect/knife",length:65,dmg:300,n:1,wd:1,d:.04,spd:1,rnd:0,l:3e3,alwayThrough:1,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"knife_weapon",buffs:i};e.spinAxe||(e.spinAxe=[]);for(var c=1;c<=6;c++){a=60*c;var h=Ammofactory(e,r,{l:1,x:e.x,y:e.y,obj:e,te:e.team,deg:0,spinRotation:a,dmg:n},e.game);e.spinAxe.push(h)}},des:"6 knives rotating around",content:"axe"},spinAxe_4:{title:"Rotating Knife",limit:1,rarity:4,unique:"spinAxe",remove:function(t){for(var e in t.spinAxe)t.spinAxe[e].remove();t.spinAxe=null},effect:function(e){var i,a=0,n=1*e.getStandardAtk(),s=Talent.mods,o=[];s.spinAxeFire&&o.push(BuffDefine.spinAxeFire),s.spinAxeFrost&&o.push(BuffDefine.spinAxeFrost),s.spinAxePoison&&o.push(BuffDefine.spinAxePoison),s.spinAxeEletric&&o.push(BuffDefine.spinAxeEletric),o.length>0&&(i=o);var r={ctor:t("SpinBullet"),name:"",kb:.8,noBlend:!0,radius:30,anchorY:.5,frm:"effect/knife",length:65,dmg:300,n:1,wd:1,d:.04,spd:1,rnd:0,l:3e3,alwayThrough:1,hurtStopTime:.8,hurtStopCD:3.5,hitSound:"knife_weapon",buffs:i};e.spinAxe||(e.spinAxe=[]);for(var c=1;c<=8;c++){a=45*c;var h=Ammofactory(e,r,{l:1,x:e.x,y:e.y,obj:e,te:e.team,deg:0,spinRotation:a,dmg:n},e.game);e.spinAxe.push(h)}},des:"8 knives rotating around",content:"axe"},autoLoot:{title:"Automatic picking",limit:1,chapter:2,rarity:1,effect:function(t){t.autoLoot=!0},des:"Automatically pick up props",content:"magnet"},onHurtBonusAttack:{title:"[MAX]Attack",limit:1,rarity:2,effect:function(t){t.setBuffById("OnHurtBonusAttack")},des:"The less health, the stronger the attack",content:"lowhp_bonus_attack"},OnHurtBonusAtkSpd:{title:"[MAX]Attack speed",limit:1,rarity:2,effect:function(t){t.setBuffById("OnHurtBonusAtkSpd")},des:"The less health, the faster the attack speed",content:"lowhp_bonus_atkSpd"},onHurtBonusCrit:{title:"[MAX]Critical strike",limit:1,rarity:2,effect:function(t){t.setBuffById("OnHurtBonusCrit")},des:"The less health, the higher the critical strike (chance n attack)",content:"lowhp_bonus_crit"},onHurtBonusDodge:{title:"[MAX]]Dodge",limit:1,rarity:2,effect:function(t){t.setBuffById("OnHurtBonusDodge")},des:"The less health, the better the dodge",content:"lowhp_bonus_dodge"},spider_fire:{title:"Fire Mine",limit:1,unique:"spider_fire",rarity:1,upgrade:"spider_fire_2",effect:function(t){var e=3.5*t.getStandardAtk();t.setBuffById("spider_fire",{dmg:e})},des:"Drop a SMALL Fire-spider mine every time reload",content:"spider_fire"},spider_fire_2:{title:"Fire Mine",limit:1,unique:"spider_fire",rarity:2,upgrade:"spider_fire_3",effect:function(t){var e=4.55*t.getStandardAtk();t.setBuffById("spider_fire",{dmg:e})},des:"Drop a MEDIUM Fire-spider mine every time reload",content:"spider_fire"},spider_fire_3:{title:"Fire Mine",limit:1,unique:"spider_fire",rarity:3,upgrade:"spider_fire_4",effect:function(t){var e=3.5*1.6*t.getStandardAtk();t.setBuffById("spider_fire",{dmg:e})},des:"Drop a BIG Fire-spider mine every time reload",content:"spider_fire"},spider_fire_4:{title:"Fire Mine",limit:1,unique:"spider_fire",rarity:4,effect:function(t){var e=7*t.getStandardAtk();t.setBuffById("spider_fire",{dmg:e})},des:"Drop a GIANT Fire-spider mine every time reload",content:"spider_fire"},spider_poison:{title:"Poison Mine",limit:1,unique:"spider_poison",rarity:1,upgrade:"spider_poison_2",effect:function(t){var e=1*t.getStandardAtk();t.setBuffById("spider_poison",{dmg:e})},des:"Drop a SMALL Poison-spider mine every time reload",content:"spider_poison"},spider_poison_2:{title:"Poison Mine",limit:1,unique:"spider_poison",rarity:2,upgrade:"spider_poison_3",effect:function(t){var e=1.3*t.getStandardAtk();t.setBuffById("spider_poison_2",{dmg:e})},des:"Drop a MEDIUM Poison-spider mine every time reload",content:"spider_poison"},spider_poison_3:{title:"Poison Mine",limit:1,unique:"spider_poison",rarity:3,upgrade:"spider_poison_4",effect:function(t){var e=1.6*t.getStandardAtk();t.setBuffById("spider_poison_3",{dmg:e})},des:"Drop a BIG Poison-spider mine every time reload",content:"spider_poison"},spider_poison_4:{title:"Poison Mine",limit:1,unique:"spider_poison",rarity:4,effect:function(t){var e=2*t.getStandardAtk();t.setBuffById("spider_poison_4",{dmg:e})},des:"Drop a GIANT Poison-spider mine every time reload",content:"spider_poison"},spider_frost:{title:"Ice Mine",limit:1,unique:"spider_frost",rarity:1,upgrade:"spider_frost_2",effect:function(t){var e=2.2*t.getStandardAtk();t.setBuffById("spider_frozen",{dmg:e})},des:"Drop a SMALL ice-spider mine every time reload",content:"spider_frost"},spider_frost_2:{title:"Ice Mine",limit:1,unique:"spider_frost",rarity:2,upgrade:"spider_frost_3",effect:function(t){var e=2.2*t.getStandardAtk();t.setBuffById("spider_frozen_2",{dmg:e})},des:"Drop a MEDIUIM ice-spider mine every time reload",content:"spider_frost"},spider_frost_3:{title:"Ice Mine",limit:1,unique:"spider_frost",rarity:3,upgrade:"spider_frost_4",effect:function(t){var e=2.2*t.getStandardAtk();t.setBuffById("spider_frozen_3",{dmg:e})},des:"Drop a BIG ice-spider mine every time reload",content:"spider_frost"},spider_frost_4:{title:"Ice Mine",limit:1,unique:"spider_frost",rarity:4,effect:function(t){var e=2.2*t.getStandardAtk();t.setBuffById("spider_frozen_4",{dmg:e})},des:"Drop a GIANT ice-spider mine every time reload",content:"spider_frost"},spider_eletric:{title:"Electric Mine",limit:1,unique:"spider_eletric",rarity:1,upgrade:"spider_eletric_2",effect:function(t){var e=3*t.getStandardAtk();t.setBuffById("spider_eletric",{dmg:e})},des:"Drop a SMALL electric-spider mine every time reload",content:"spider_eletric"},spider_eletric_2:{title:"Electric Mine",limit:1,unique:"spider_eletric",rarity:2,upgrade:"spider_eletric_3",effect:function(t){var e=3*1.3*t.getStandardAtk();t.setBuffById("spider_eletric",{dmg:e})},des:"Drop a MEDIUM electric-spider mine every time reload",content:"spider_eletric"},spider_eletric_3:{title:"Electric Mine",limit:1,unique:"spider_eletric",rarity:3,upgrade:"spider_eletric_4",effect:function(t){var e=3*1.6*t.getStandardAtk();t.setBuffById("spider_eletric",{dmg:e})},des:"Drop a BIG electric-spider mine every time reload",content:"spider_eletric"},spider_eletric_4:{title:"Electric Mine",limit:1,unique:"spider_eletric",rarity:4,effect:function(t){var e=6*t.getStandardAtk();t.setBuffById("spider_eletric",{dmg:e})},des:"Drop a GIANT electric-spider mine every time reload",content:"spider_eletric"},bomber_fire:{title:"Bombing-fire",limit:1,hide:1,rarity:4,effect:function(e,i){if(!i){var a=7*e.getStandardAtk(),n=e.game,s=(n.contactMgr.right,n.contactMgr.left,n.contactMgr.top,n.contactMgr.bottom,{name:"",ctor:t("BomberBomb"),explodeTime:.5,noBlend:!0,minradius:20,hurtradius:600,dmgk:20,l:0,accurateDis:1,st:0,frm:"effect/bomb",anchorY:.5,length:35,kb:35,z:1500,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:Effect.ExplosiveBlt,zOrder:1e3,buff:"burningDamage_Bomb",dmg:a,hitSound:"fire",dmgType:4});Bomber.pushOrder(s)}},des:"Drop the flame bomb every time you enter the game",content:"bomber_fire"},bomber_poison:{hide:1,rarity:4,title:"Bombing-poison",limit:1,effect:function(e,i){if(!i){var a=1*e.getStandardAtk(),n=e.game,s=(n.contactMgr.right,n.contactMgr.left,n.contactMgr.top,n.contactMgr.bottom,{name:"",ctor:t("BomberBomb"),explodeTime:.5,noBlend:!0,minradius:20,hurtradius:600,dmg:a,dmgk:20,l:0,accurateDis:1,st:0,frm:"effect/bomb",anchorY:.5,length:35,kb:35,z:1500,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:Effect.WidowBomb,zOrder:1e3,buff:"Poison_Bomb",hitSound:"poison",dmgType:2});Bomber.pushOrder(s)}},des:"Drop a poisonous bomb every time you enter the stage",content:"bomber_poison"},bomber_frost:{hide:1,rarity:4,title:"Bombing-ice",limit:1,effect:function(e,i){if(!i){var a=4*e.getStandardAtk(),n=e.game,s=(n.contactMgr.right,n.contactMgr.left,n.contactMgr.top,n.contactMgr.bottom,{name:"",ctor:t("BomberBomb"),explodeTime:.5,noBlend:!0,minradius:20,hurtradius:600,dmg:a,dmgk:20,l:0,accurateDis:1,st:0,frm:"effect/bomb",anchorY:.5,length:35,kb:35,z:1500,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:Effect.FrostExplosive,zOrder:1e3,buff:"frozenBuff_Bomb",hitSound:"frost",dmgType:5});Bomber.pushOrder(s)}},des:"Drop the ice bomb every time you enter the game",content:"bomber_frost"},bomber_eletric:{hide:1,rarity:4,title:"Electric-Bomb",limit:1,effect:function(e,i){if(!i){var a=5*e.getStandardAtk(),n=e.game,s=(n.contactMgr.right,n.contactMgr.left,n.contactMgr.top,n.contactMgr.bottom,{name:"",ctor:t("BomberBomb"),explodeTime:.5,noBlend:!0,minradius:20,hurtradius:600,dmg:a,dmgk:20,l:0,accurateDis:1,st:0,frm:"effect/bomb",anchorY:.5,length:35,kb:35,z:1500,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:Effect.EletricExplosive,zOrder:1e3,buff:"Eletric_Bomb",hitSound:"eletric",dmgType:3});Bomber.pushOrder(s)}},des:"Drop bomb when you enter the game",content:"bomber_eletric"},GhostFire:{group:"ghost",title:"Energy Ball-Fire",limit:1,chapter:3,unique:"ghost_fire",rarity:1,upgrade:"GhostFire_2",effect:function(t,e){var i;e&&(i=.01);var a=3*t.getStandardAtk();t.setBuffById("GhostFire",{dmg:a,timer:i,dx:void 0})},des:"Generate small fireballs to automatically attack the enemy",content:"GhostFire"},GhostFire_2:{group:"ghost",title:"Energy Ball-Fire",limit:1,chapter:3,unique:"ghost_fire",rarity:2,upgrade:"GhostFire_3",effect:function(t,e){var i;e&&(i=.01);var a=3*1.3*t.getStandardAtk();t.setBuffById("GhostFire",{dmg:a,timer:i,dx:void 0})},des:"Generate a medium fireball to automatically attack the enemy",content:"GhostFire"},GhostFire_3:{group:"ghost",title:"Energy Ball-Fire",limit:1,chapter:3,unique:"ghost_fire",rarity:3,upgrade:"GhostFire_4",effect:function(t,e){var i;e&&(i=.01);var a=3*1.6*t.getStandardAtk();t.setBuffById("GhostFire",{dmg:a,timer:i,dx:void 0})},des:"Generate large fireballs to automatically attack the enemy",content:"GhostFire"},GhostFire_4:{group:"ghost",title:"Energy Ball-Fire",limit:1,chapter:3,unique:"ghost_fire",rarity:4,effect:function(t,e){var i;e&&(i=.01);var a=6*t.getStandardAtk();t.setBuffById("GhostFire",{dmg:a,timer:i,dx:void 0})},des:"Generate giant fireballs to automatically attack enemies",content:"GhostFire"},GhostPoison:{group:"ghost",title:"Energy Ball-Poison",limit:1,chapter:3,unique:"ghost_poison",rarity:1,upgrade:"GhostPoison_2",effect:function(t,e){var i;e&&(i=.01);var a=.8*t.getStandardAtk();t.setBuffById("GhostPoison",{dmg:a,timer:i,dx:void 0})},des:"Poison Ball Auto Attack",content:"GhostPoison"},GhostPoison_2:{group:"ghost",title:"Energy Ball-Poison",limit:1,chapter:3,unique:"ghost_poison",rarity:2,upgrade:"GhostPoison_3",effect:function(t,e){var i;e&&(i=.01);var a=1.04*t.getStandardAtk();t.setBuffById("GhostPoison_2",{dmg:a,timer:i,dx:void 0})},des:"Poison Ball Auto Attack",content:"GhostPoison"},GhostPoison_3:{group:"ghost",title:"Energy Ball-Poison",limit:1,chapter:3,unique:"ghost_poison",rarity:3,upgrade:"GhostPoison_4",effect:function(t,e){var i;e&&(i=.01);var a=.8*1.6*t.getStandardAtk();t.setBuffById("GhostPoison_3",{dmg:a,timer:i,dx:void 0})},des:"Poison Ball Auto Attack",content:"GhostPoison"},GhostPoison_4:{group:"ghost",title:"Energy Ball-Poison",limit:1,chapter:3,unique:"ghost_poison",rarity:4,effect:function(t,e){var i;e&&(i=.01);var a=1.6*t.getStandardAtk();t.setBuffById("GhostPoison_4",{dmg:a,timer:i,dx:void 0})},des:"Poison Ball Auto Attack",content:"GhostPoison"},GhostFrost:{group:"ghost",title:"Energy Ball-Ice",limit:1,chapter:3,unique:"ghost_frost",rarity:1,upgrade:"GhostFrost_2",effect:function(t,e){var i;e&&(i=.01);var a=1.9*t.getStandardAtk();t.setBuffById("GhostFrost",{dmg:a,timer:i,dx:void 0})},des:"Automatic hockey attack",content:"GhostFrost"},GhostFrost_2:{group:"ghost",title:"Energy Ball-Ice",limit:1,chapter:3,unique:"ghost_frost",rarity:2,upgrade:"GhostFrost_3",effect:function(t,e){var i;e&&(i=.01);var a=1.9*t.getStandardAtk();t.setBuffById("GhostFrost_2",{dmg:a,timer:i,dx:void 0})},des:"Automatic hockey attack",content:"GhostFrost"},GhostFrost_3:{group:"ghost",title:"Energy Ball-Ice",limit:1,chapter:3,unique:"ghost_frost",rarity:3,upgrade:"GhostFrost_4",effect:function(t,e){var i;e&&(i=.01);var a=1.9*t.getStandardAtk();t.setBuffById("GhostFrost_3",{dmg:a,timer:i,dx:void 0})},des:"Automatic hockey attack",content:"GhostFrost"},GhostFrost_4:{group:"ghost",title:"Energy Ball-Ice",limit:1,chapter:3,unique:"ghost_frost",rarity:4,effect:function(t,e){var i;e&&(i=.01);var a=1.9*t.getStandardAtk();t.setBuffById("GhostFrost_4",{dmg:a,timer:i,dx:void 0})},des:"Automatic hockey attack",content:"GhostFrost"},GhostEletric:{group:"ghost",title:"Energy Ball-Electric",limit:1,chapter:3,unique:"ghost_eletric",rarity:1,upgrade:"GhostEletric_2",effect:function(t,e){var i;e&&(i=.01);var a=2.8*t.getStandardAtk();t.setBuffById("GhostEletric",{dmg:a,timer:i,dx:void 0})},des:"Automatic electric ball attack",content:"GhostEletric"},GhostEletric_2:{group:"ghost",title:"Energy Ball-Electric",limit:1,chapter:3,unique:"ghost_eletric",rarity:2,upgrade:"GhostEletric_3",effect:function(t,e){var i;e&&(i=.01);var a=2.8*1.3*t.getStandardAtk();t.setBuffById("GhostEletric",{dmg:a,timer:i,dx:void 0})},des:"Automatic electric ball attack",content:"GhostEletric"},GhostEletric_3:{group:"ghost",title:"Energy Ball-Electric",limit:1,chapter:3,unique:"ghost_eletric",rarity:3,upgrade:"GhostEletric_4",effect:function(t,e){var i;e&&(i=.01);var a=2.8*1.6*t.getStandardAtk();t.setBuffById("GhostEletric",{dmg:a,timer:i,dx:void 0})},des:"Automatic electric ball attack",content:"GhostEletric"},GhostEletric_4:{group:"ghost",title:"Energy Ball-Electric",limit:1,chapter:3,unique:"ghost_eletric",rarity:4,effect:function(t,e){var i;e&&(i=.01);var a=5.6*t.getStandardAtk();t.setBuffById("GhostEletric",{dmg:a,timer:i,dx:void 0})},des:"Automatic electric ball attack",content:"GhostEletric"},SpringBrother:{title:"One more life",limit:1,hide:1,content:"spring_brother",noShow:1,des:"Can be resurrected once",rarity:5,effect:function(t,e){var i=this;(e||this.onChoose)&&(t.setBuffById("InvincibleOnDead",{cb:function(){i.onChoose=!1}}),this.onChoose=!0)}},OnHitSuddenKill:{title:"head shot",limit:1,hide:1,rarity:5,content:"sudden_kill",des:"Hit chance to kill mobs in seconds",effect:function(t){t.setBuffById("OnHitSuddenKill")}},moneyDropBonus:{title:"Piggy bank",hide:1,unique:"moneyDropBonus",noShow:1,relic:1,rarity:1,content:"001",des:"Gold coins in battle +25%",effect:function(t){var e=t.game.gameManager;e&&e.globalAttr.add("moneyDropRate",.25)}},moneyDropBonus_2:{title:"Piggy bank",hide:1,unique:"moneyDropBonus",noShow:1,relic:1,rarity:2,content:"001",des:"Gold coins in battle +50%",effect:function(t){var e=t.game.gameManager;e&&e.globalAttr.add("moneyDropRate",.5)}},moneyDropBonus_3:{title:"Piggy bank",hide:1,unique:"moneyDropBonus",noShow:1,relic:1,rarity:3,content:"001",des:"Gold coins in battle +75%",effect:function(t){var e=t.game.gameManager;e&&e.globalAttr.add("moneyDropRate",.75)}},moneyDropBonus_4:{title:"Piggy bank",hide:1,unique:"moneyDropBonus",noShow:1,relic:1,rarity:4,content:"001",des:"Gold coins in battle +100%",effect:function(t){var e=t.game.gameManager;e&&e.globalAttr.add("moneyDropRate",1)}},itemDropBonus:{title:"Four leaf clover",hide:1,unique:"itemDropBonus",noShow:1,relic:1,rarity:1,content:"002",des:"Item drop rate +50%",effect:function(t){var e=t.game.gameManager;e&&e.globalAttr.add("itemDropRate",.5)}},itemDropBonus_2:{title:"Four leaf clover",hide:1,unique:"itemDropBonus",noShow:1,relic:1,rarity:2,content:"002",des:"Item drop rate +100%",effect:function(t){var e=t.game.gameManager;e&&e.globalAttr.add("itemDropRate",1)}},itemDropBonus_3:{title:"Four leaf clover",hide:1,unique:"itemDropBonus",noShow:1,relic:1,rarity:3,content:"002",des:"Item drop rate +150%",effect:function(t){var e=t.game.gameManager;e&&e.globalAttr.add("itemDropRate",1.5)}},itemDropBonus_4:{title:"Four leaf clover",hide:1,unique:"itemDropBonus",noShow:1,relic:1,rarity:4,content:"002",des:"Item drop rate +200%",effect:function(t){var e=t.game.gameManager;e&&e.globalAttr.add("itemDropRate",2)}},chooseBonusRarity:{title:"Coin of destiny",hide:1,unique:"chooseBonusRarity",noShow:1,relic:1,rarity:4,content:"003",des:"Probability of high quality +100%",effect:function(t){var e=t.game.gameManager;e&&e.globalAttr.add("chooseBonusRarityBonusRate",1)}},invincibleOnHurt:{title:"Invincible star",hide:1,unique:"invincibleOnHurt",noShow:1,relic:1,rarity:3,content:"004",des:"Invincible time when injured +1s",effect:function(t){t.bonusInvincibleTime=1}},invincibleOnHurt_2:{title:"Invincible star",hide:1,unique:"invincibleOnHurt",noShow:1,relic:1,rarity:4,content:"004",des:"Invincible time when injured +2s",effect:function(t){t.bonusInvincibleTime=2}},AdditionalChooseBonus_1:{title:"Tracking transmitter",hide:1,unique:"AdditionalChooseBonus_1",noShow:1,relic:1,rarity:2,content:"014",des:"Launch 2 tracking missiles when attacking",effect:function(t,e){e&&Talent.effect(t,i.autoMissle)}},AdditionalChooseBonus_2:{title:"Grandpa Lu's butt",hide:1,unique:"AdditionalChooseBonus_1",noShow:1,relic:1,rarity:1,content:"013",des:"Slightly reduce weapon scattering",effect:function(t,e){e&&Talent.effect(t,i.recoil)}},AdditionalChooseBonus_3:{title:"Flying knife",hide:1,unique:"AdditionalChooseBonus_1",noShow:1,relic:1,rarity:3,content:"012",des:"Generate 4 rotating throwing knives",effect:function(t,e){e&&Talent.effect(t,i.spinAxe_2)}},AdditionalChooseBonus_4:{title:"The real eye",hide:1,unique:"AdditionalChooseBonus_1",noShow:1,relic:1,rarity:1,content:"011",des:"Crit rate +10%",effect:function(t,e){e&&Talent.effect(t,i.critChance)}},BonusAtkSpdOnKill:{title:"Jack's Gloves",hide:1,unique:"BonusAtkSpdOnKill",noShow:1,relic:1,rarity:3,content:"005",des:"Increases attack speed by 20%",effect:function(t){t.setBuffById("onKillAtkSpd")}},BonusAtkSpdOnKill_2:{title:"Jack's Gloves",hide:1,unique:"BonusAtkSpdOnKill",noShow:1,relic:1,rarity:4,content:"005",des:"Increases attack speed by 25%",effect:function(t){t.setBuffById("onKillAtkSpd_2")}},BonusAtkOnHit:{title:"Nail of Pain",hide:1,unique:"BonusAtkOnHit",noShow:1,relic:1,rarity:4,content:"006",des:"Attack power per hit +1%",effect:function(t){t.setBuffById("onHitBonusAtk")}},RecoverHpOnNewRoom:{title:"Exercise Guide",hide:1,unique:"RecoverHpOnNewRoom",noShow:1,relic:1,rarity:2,content:"007",des:"Recover 1% HP after clearing",effect:function(t){var e=.01*t.hpMax;t.heal(e)}},RecoverHpOnNewRoom_2:{title:"Exercise Guide",hide:1,unique:"RecoverHpOnNewRoom",noShow:1,relic:1,rarity:3,content:"007",des:"Recover 2% HP after clearing",effect:function(t){var e=.02*t.hpMax;t.heal(e)}},BonusAtkWithoutHurt:{title:"Tooth necklace",hide:1,unique:"BonusAtkWithoutHurt",noShow:1,relic:1,rarity:1,content:"008",des:"Passing the level without losing health will gain 1% attack power",effect:function(t){var e=this;e.stack=e.stack||0,t.setBuffById("WithoutHurtCheck",{winCheckCB:function(){e.stack++}}),e.stack>0&&t.setBuffById("AtkUpWithoutHurt",{addScale:[["atkDmg",.01*e.stack]]})}},BonusAtkWithoutHurt_2:{title:"Tooth necklace",hide:1,unique:"BonusAtkWithoutHurt",noShow:1,relic:1,rarity:2,content:"008",des:"Pass without injury, Attack power +2%",effect:function(t){var e=this;e.stack=e.stack||0,t.setBuffById("WithoutHurtCheck",{winCheckCB:function(){e.stack++}}),e.stack>0&&t.setBuffById("AtkUpWithoutHurt",{addScale:[["atkDmg",.02*e.stack]]})}},BonusAtkWithoutHurt_3:{title:"Tooth necklace",hide:1,unique:"BonusAtkWithoutHurt",noShow:1,relic:1,rarity:3,content:"008",des:"Pass without injury, Attack power +3%",effect:function(t){var e=this;e.stack=e.stack||0,t.setBuffById("WithoutHurtCheck",{winCheckCB:function(){e.stack++}}),e.stack>0&&t.setBuffById("AtkUpWithoutHurt",{addScale:[["atkDmg",.03*e.stack]]})}},BonusAtkWithoutHurt_4:{title:"Tooth necklace",hide:1,unique:"BonusAtkWithoutHurt",noShow:1,relic:1,rarity:4,content:"008",des:"Pass without injury, Attack power +4%",effect:function(t){var e=this;e.stack=e.stack||0,t.setBuffById("WithoutHurtCheck",{winCheckCB:function(){e.stack++}}),e.stack>0&&t.setBuffById("AtkUpWithoutHurt",{addScale:[["atkDmg",.04*e.stack]]})}},BonusWeaponTrial:{title:"experience card",hide:1,unique:"BonusWeaponTrial",noShow:1,relic:1,rarity:2,content:"009",des:"Trial weapon levels +2",effect:function(){}},SpringBrotherRelic:{title:"Mirror shift chip",hide:1,unique:"SpringBrotherRelic",noShow:1,relic:1,rarity:1,content:"010",des:"Will not die when receiving fatal damage (Single use)",effect:function(t,e){var i=this;(e||this.onChoose)&&(t.setBuffById("InvincibleOnDead",{healPercent:.05,cb:function(){i.onChoose=!1}}),this.onChoose=!0)}},SpringBrotherRelic_2:{title:"Mirror shift chip",hide:1,unique:"SpringBrotherRelic",noShow:1,relic:1,rarity:2,content:"010",des:"Will not die when receiving fatal damage (Single use)",effect:function(t,e){var i=this;(e||this.onChoose)&&(t.setBuffById("InvincibleOnDead",{healPercent:.1,cb:function(){i.onChoose=!1}}),this.onChoose=!0)}},SpringBrotherRelic_3:{title:"Mirror shift chip",hide:1,unique:"SpringBrotherRelic",noShow:1,relic:1,rarity:3,content:"010",des:"Will not die when receiving fatal damage (Single use)",effect:function(t,e){var i=this;(e||this.onChoose)&&(t.setBuffById("InvincibleOnDead",{healPercent:.15,cb:function(){i.onChoose=!1}}),this.onChoose=!0)}},SpringBrotherRelic_4:{title:"Mirror shift chip",hide:1,unique:"SpringBrotherRelic",noShow:1,relic:1,rarity:4,content:"010",des:"Will not die when receiving fatal damage (Single use)",effect:function(t,e){var i=this;(e||this.onChoose)&&(t.setBuffById("InvincibleOnDead",{healPercent:.2,cb:function(){i.onChoose=!1}}),this.onChoose=!0)}},Consumable_InfiniteAmmo:{title:"Unlimited firepower",limit:1,rarity:2,consume:4,unique:"grenade",price:60,effect:function(t){var e=t;e.reload(!0);var i=BuffDefine.AtkSpdUp85;e.setBuffFromDrop(i,{t:i.t}),i=BuffDefine.InfiniteAmmo,e.setBuffFromDrop(i,{t:i.t}),t.game.effectMgr.play(SoundEffectPath.empower)},des:"Unlimited bullets , 10S",content:"wxhl"},Consumable_Firepower:{title:"Increased firepower",limit:1,rarity:2,consume:4,unique:"grenade",price:60,effect:function(t){var e=BuffDefine.DropAttackBuff,i=t;i.setBuffFromDrop(e,{t:e.t}),e=BuffDefine.BltSizeUp,i.setBuffFromDrop(e,{t:e.t}),i.game.effectMgr.play(SoundEffectPath.empower)},des:"Crit rate is 100% and attack power is increased , 10s",content:"hlzq"},Consumable_Invincible:{title:"Invincible",limit:1,rarity:3,consume:4,unique:"grenade",price:100,effect:function(t){t.setBuffById("AutoInvincible")},des:"5 seconds invincible once every 10 secondsLasts 3 levels",content:"wd"},Consumable_HpBonus:{title:"HP increase",limit:1,rarity:2,consume:4,unique:"grenade",price:60,effect:function(t,e){var i=t.attribute.get("hpMax");t.attribute.addScale("hpMax",1);var a=t.attribute.get("hpMax")-i;e&&t.heal(a),t.hpBar&&(t.hpBar.refresh(),t.hpBar.updateHpBarLine()),cc.log("hpMax",t.attribute.get("hpMax"))},onConsumeEnd:function(t){t.hp>t.hpMax&&(t.hp=t.hpMax,t.hpBar&&(t.hpBar.refresh(),t.hpBar.updateHpBarLine()))},des:"Max HP +100%Lasts 3 levels",content:"xlts"},Consumable_HpRegen:{title:"Recovery HP",limit:1,rarity:3,consume:4,unique:"grenade",price:100,effect:function(t,e){var i=t.attribute.get("hpMax");e?t.heal(.2*i):t.heal(.25*i),t.hpBar&&(t.hpBar.refresh(),t.hpBar.updateHpBarLine())},des:"Immediately restore 20% HP",content:"hfxl"},Consumable_SpinAxe_Fire:{title:"Flame Throwing Knife",limit:1,rarity:4,consume:4,unique:"grenade",price:120,effect:function(t,e){Talent.addMod("spinAxeFire",.5),Talent.updateByUnique("spinAxe",t,!e)},des:"Throwing knives add 100% fire damage",content:"lyfd"},Consumable_SpinAxe_Frost:{title:"Ice Blade",limit:1,rarity:4,consume:4,unique:"grenade",price:120,effect:function(t,e){Talent.addMod("spinAxeFrost",1),Talent.updateByUnique("spinAxe",t,!e)},des:"Knife additional freezing effect",content:"hbzr"},Consumable_SpinAxe_Poison:{title:"Toxic Dagger",limit:1,rarity:4,consume:4,unique:"grenade",price:120,effect:function(t,e){Talent.addMod("spinAxePoison",{duration:3,dt:.3,rate:.2}),Talent.updateByUnique("spinAxe",t,!e)},des:"Throwing knives add poisonous effect",content:"jdbs"},Consumable_SpinAxe_Eletric:{title:"Rechargeable flying knife",limit:1,rarity:4,consume:4,unique:"grenade",price:120,effect:function(t,e){Talent.addMod("spinAxeEletric",{range:300,rate:.5}),Talent.updateByUnique("spinAxe",t,!e)},des:"Throw knife additional lightning effect",content:"cdfd"},Consumable_Grenade:{title:"Giant grenade",limit:1,rarity:3,consume:4,unique:"grenade",price:100,effect:function(t,e){Talent.addMod("grenadeRadius",2),Talent.updateByUnique("grenade",t,!e)},des:"Increased explosion range +200%",content:"jxsl"},Consumable_ExplodeOnKill_Fire:{title:"Hot",limit:1,rarity:4,consume:4,unique:"grenade",price:120,effect:function(e){var i={ctor:t("Grenade"),name:"",kb:0,buff:BuffDefine.explosionOnKillFire,minradius:80,hurtradius:600,length:80,dmg:1,dmgk:10,frm:"bullet/player/playerbullet_03.png",n:1,t:.5,tr:0,l:1,bombEff:Effect.ExplosiveBlt,hitSound:"fire",dmgType:4};e.setBuffById("OnKillSpawnC4",{blt:i,chance:.4})},des:"Kill 40% chance to cause an explosion",content:"hb"},Consumable_ExplodeOnKill_Frost:{title:"Ice burst",limit:1,rarity:4,consume:4,unique:"grenade",price:120,effect:function(e){var i={ctor:t("Grenade"),name:"",kb:0,buff:BuffDefine.explosionOnKillFrost,minradius:80,hurtradius:700,length:80,dmg:1,dmgk:10,frm:"bullet/player/playerbullet_03.png",n:1,t:.5,tr:0,l:1,hitSound:"frost",dmgType:5};e.setBuffById("OnKillSpawnC4",{blt:i,chance:.4})},des:"Kills have a 40% chance to cause mass freezing",content:"bb"},Consumable_ExplodeOnKill_Poison:{title:"Poisonous explosion",limit:1,rarity:4,consume:4,unique:"grenade",price:120,effect:function(e){var i={ctor:t("Grenade"),name:"",kb:0,buff:BuffDefine.explosionOnKillPoison,minradius:80,hurtradius:800,length:80,dmg:0,dmgk:10,frm:"bullet/player/playerbullet_03.png",n:1,t:.5,tr:0,l:1,bombEff:Effect.WidowBombS,hitSound:"poison",dmgType:2};e.setBuffById("OnKillSpawnC4",{blt:i,chance:.4})},des:"Killing monsters has a 40% chance to cause poisonous radiation",content:"dub"},Consumable_ExplodeOnKill_Eletric:{title:"Electric burst",limit:1,rarity:4,consume:4,unique:"grenade",price:120,effect:function(e){var i={ctor:t("Grenade"),name:"",kb:0,buff:BuffDefine.explosionOnKillEletric,minradius:80,hurtradius:1e3,length:80,dmg:1,dmgk:10,frm:"bullet/player/playerbullet_03.png",n:1,t:.5,tr:0,l:1,bombEff:Effect.EletricHit,hitSound:"eletric",dmgType:3};e.setBuffById("OnKillSpawnC4",{blt:i,chance:.4})},des:"Kills have a 40% chance to cause a lightning burst",content:"dianb"}};for(var a in window.RelicPool={},window.MerchantPool={},window.TalentPool={},i)i[a].id=a,i[a].hide||i[a].consume||(window.TalentPool[a]=i[a]),null==i[a].rarity&&(i[a].rarity=1),i[a].relic&&(RelicPool[a]=i[a],RelicPool[a].unique=i[a].id),i[a].consume&&(MerchantPool[a]=i[a],MerchantPool[a].unique=i[a].id,MerchantPool[a].noShow=!0);for(var a in MerchantPool)window.MerchantPool[a]=i[a];for(var a in window.SurvivorPool={critBonus_lite:1,critChance_lite:1,2.1:1,6.1:1},window.DefaultPool={critBonus_lite:1,critChance_lite:1,2.1:1,6.1:1},window.DemonPool={bomber_eletric:1,bomber_frost:1,bomber_fire:1,bomber_poison:1,SpringBrother:1,OnHitSuddenKill:1,chainShot:1},window.ChestPool={critBonus_lite:1,critChance_lite:1,2.1:1,6.1:1},ChestPool)window.ChestPool[a]=i[a];for(var a in DemonPool)window.DemonPool[a]=i[a];for(var a in SurvivorPool)window.SurvivorPool[a]=i[a];for(var a in DefaultPool)window.DefaultPool[a]=i[a];var n={normal:TalentPool,survivor:SurvivorPool,demon:DemonPool,chest:ChestPool,default:DefaultPool,relic:RelicPool,merchant:MerchantPool};t("Attribute"),window.Talent={prepare:function(){Bomber.prepare()},init:function(t,e){for(var a in this.mods={},this.updateAfterInit={},t){var n=i[t[a].id],s=!1;n.relic&&!t[a].initRelic&&(t[a].initRelic=!0,s=!0),n.consume&&t[a].consume<=0?n.onConsumeEnd&&n.onConsumeEnd(e):n.effect.bind(t[a])(e,s)}for(var a in this.updateAfterInit)t=this.updateAfterInit[a],this.update(t,e,!1)},addMod:function(t,e){this.mods[t]?this.mods[t]+=e:this.mods[t]=e},start:function(t){Bomber.start(t)},effectById:function(t,e){i[e].effect(t,"fromChoose")},effect:function(t,e){var i=e.effect,a=this.save(e);i&&i.bind(a)(t,!0),e.consume&&!a.consume&&(a.consume=e.consume)},getPoolById:function(t,e){var i=n[t];return console.log("getPoolById",i),this.getPool(i,e)},getPool:function(t,e,a,n){t=t||TalentPool;var s=window.GameManagerConfig.talent,o=[],r=0,c=9;if(n&&n.lvlup){var h=TalentConfig.lvlUpRange;r=h[0],c=h[1]}var d={},l={};for(var u in s){var f=s[u].id;d[f]||(d[f]=0),d[f]++;var m=i[f].unique;console.log("",m),m&&(l[m]=!0)}for(var u in e=e||0,t){if(a){var p=!1;for(var g in a)if(a[g]==t[u].id){p=!0;break}if(p)continue}if(!(i[u].chapter>e)){var v=i[u].rarity||0;v>c||v<r||(i[u].unique&&l[i[u].unique]?console.log("",i[u].unique,"",u):(!d[u]||!i[u].limit||d[u]<i[u].limit)&&o.push(t[u]))}}return o},save:function(t){if(!t.noTalent){window.GameManagerConfig.talent=window.GameManagerConfig.talent||[],window.GameManagerConfig.talent;var e={id:t.id};return window.GameManagerConfig.talent.push(e),e}},remove:function(t,e){var a=e.id,n=window.GameManagerConfig.talent;for(var s in n)if(n[s].id==a)return i[a].remove&&i[a].remove(t,!0),n.splice(s,1),void console.log("talent remove",a,n,t.game.gameManager.config.talent)},upgrade:function(t,e){if(e.upgrade&&i[e.upgrade]){this.remove(t,e),e.remove?this.effect(t,i[e.upgrade]):Talent.save(i[e.upgrade]);var a=window.GameManagerConfig.talent;console.log("talent upgrade",e,a)}},updateByUnique:function(t,e,a){var n=window.GameManagerConfig.talent;for(var s in n)if(i[n[s].id].unique==t){var o=n[s];this.update(o,e,a)}},updateById:function(t,e,i){var a=window.GameManagerConfig.talent;for(var n in a)if(a[n].id==t){var s=a[n];this.update(s,e,i)}},update:function(t,e,a){if(a)this.updateAfterInit[t.id]=t;else{var n=i[t.id];n.remove&&(n.remove.bind(t)(e,!0),n.effect.bind(t)(e,!0))}},getUnlockTalent:function(t,e){var a=[];for(var n in e=s[t]){console.log(t,n,e[n]);var o=i[e[n]];o.chapter==t&&a.push({icon:"uiz/chooseBonus/icon/"+o.content,name:o.title})}return a},checkCanUpgradeBonus:function(){var t=window.GameManagerConfig.talent;for(var e in t){var a=i[t[e].id].upgrade;if(a&&i[a])return!0}},pickFromPool:function(t,e,i,a,n){var s,o;kit.shuffle(t),e.constructor==Array?(s=e.length,kit.shuffle(e),o=!0):s=g=e||1,console.log("Talent pickFromPool options",e),i=i||{},n=n;for(var r=0,c=0;c<s;c++){var h=o&&e[c]+TalentConfig.lvlUpRange[0];h&&h>TalentConfig.lvlUpRange[1]&&(h=TalentConfig.lvlUpRange[1]),console.log("Talent shuffleWithBonus rarityNeed",h,c);for(var d=0+r;d<t.length;d++){var l=t[d].rarity||0,u=t[d].unique&&i[t[d].unique]||t[d].show1&&i[t[d].show1],f=n&&n[t[d].id];if(console.log("talentUniqueGroup",i),!(null!=h&&l!=h||u||f)){console.log("Talent rarityNeed find",h,t[d].id,d,n),t[d].unique&&(i[t[d].unique]=!0),t[d].show1&&(i[t[d].show1]=!0),n&&(n[t[d].id]=!0);var m=t.splice(d,1);t.splice(0,0,m[0]),r++;break}}}console.log("Talent pickFromPool final array",t);var p=t.splice(0,r);if(console.log("",r,s),p.length<s&&a){a=a,kit.shuffle(a),console.log("",a),console.log("",p),console.log("ID",n);var g=s-p.length;for(c=0;c<a.length&&(console.log(c,a[c].id),0!=g);c++)n&&n[a[c].id]||(p.push(a[c]),n&&(n[a[c].id]=!0),a.splice(c,1),c--,g--);kit.shuffle(p),console.log(",",p,":",p.length,s)}return p},getInfo:function(t){var e=i[t],a=e.relic?"sub3#ui/relic/icon/":"uiz/chooseBonus/icon/",n=e.relic?"sub3#ui/relic/bg_":"uiz/chooseBonus/bg_";return{iconImgPath:a+e.content,title:e.title,des:e.des,bgImgPath:n+e.rarity}}};var s={0:["1","grenade","2","3"],1:[],2:[],3:["GhostFire","GhostPoison","GhostFrost","GhostEletric"]};window.TalentDefine=i,cc._RF.pop()},{Attribute:"Attribute",BomberBomb:"BomberBomb",Grenade:"Grenade",SpinBullet:"SpinBullet"}],TankSkill:[function(t,e){"use strict";cc._RF.push(e,"b7b7chnathNib12aYt3y/ga","TankSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.bastion_Tank),this.blt=kit.clone(this.define.blt),this.blt.dmg=this.define.dmg,this.blt.spd=this.define.spd,this.blt.l=this.define.l,this.blt.minradius=this.define.minr,this.blt.hurtradius=this.define.maxr,this.dt=this.define.dt,this.idleTimer=0,this.hp=this.define.hp,this.s=this.define.s;var t=this.obj,e=t.attribute;e.mutScale("moveSpd",this.s),t.setNoAttack(!0),t.setNoSkills(!0),t.isInvincible++,t.setForcedAnime("tank_transform",1),this.transfromTimer=1,t.avatar.setWalkAnimeName("tank_walk"),t.avatar.setStandAnimeName("tank_stand"),t.avatar.setAttackAnimeName("tank_attack"),t.refreshAvatar(),this.orgAimOffsetX=t.aimOffsetX,t.aimOffsetX=0,this.define.stunTime&&(this.blt.buff||(this.blt.buff=[]),this.blt.buff.push({name:"TankStun",ctor:StunBuff,symbol:getUniqueSymbol(),t:this.define.stunTime,chance:this.define.stunChance})),this.maxhp=e.get("hpMax"),e.add("hpMax",this.maxhp*this.hp),t.heal(this.maxhp*this.hp)},excute:function(t){var e=this.obj;if(!(this.castTimer<=1))return this.transfromTimer>0?(this.transfromTimer-=t,void(this.transfromTimer<=0&&(e.isInvincible--,e.setForcedAnime(null),this.isInFrom=!0,e.setAutoAttack(!0)))):void(e.isStun||1!=e.noAttack||(e.isAttack||(e.isAttack=!0,e.refreshAvatar(),this.idleTimer=0,!e.isAutoTarget&&e.target&&!e.target.isDead&&e.target||e.seekTarget(),Ammofactory(e,this.blt,{x:e.x,y:e.y,obj:e,te:e.team},this.game)),e.isAttack&&(this.idleTimer+=t,this.idleTimer>this.dt&&(e.isAttack=!1,e.refreshAvatar()))));this.isInFrom&&(e.isAttack=!1,e.isInvincible++,e.setForcedAnime("tank_transform_1",1),e.refreshAvatar(),this.isInFrom=!1)},end:function(){this._super();var t=this.obj,e=t.attribute;e.mutScale("moveSpd",1/this.s),t.isAttack=!1,t.setAutoAttack(!1),t.setNoAttack(!1),t.setNoSkills(!1),t.isInvincible--,t.setForcedAnime(null),t.avatar.setWalkAnimeName(),t.avatar.setStandAnimeName(),t.avatar.setAttackAnimeName(),t.refreshAvatar(),t.aimOffsetX=this.orgAimOffsetX,e.add("hpMax",-this.maxhp*this.hp),t.hp>t.hpMax&&(t.hp=t.hpMax),this.define.kb&&g_sharedContactManager.checkEnemy(this,t.x0,t.y0,this.define.kbr,t.team,this.onCover)},onCover:function(t,e,i,a){var n=-this.define.kb/t.weight;t.knockback(i*n,a*n)}}),cc._RF.pop()},{Skill:"Skill"}],TeamSupportManager:[function(t,e){"use strict";cc._RF.push(e,"64909zUCA5Ix6dxDxa8smMP","TeamSupportManager"),cc._RF.pop()},{}],TerrainDefine:[function(t,e){"use strict";cc._RF.push(e,"af5783zqaNLYoAnMIM9NL/P","TerrainDefine"),window.TerrainDefine={spike:{ctor:t("Spike"),themeId:"spike"}},cc._RF.pop()},{Spike:"Spike"}],Terrain:[function(t,e){"use strict";cc._RF.push(e,"534198wydJIfL3vc88Gtvld","Terrain"),cc.Class({init:function(t,e){this.define=t,this.game=e},update:function(){},onContact:function(){}}),cc._RF.pop()},{}],Theme:[function(t,e){"use strict";function i(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=a(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=t[Symbol.iterator]()).next.bind(i)}function a(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}cc._RF.push(e,"d9010VGweNNwZtIZWza7XmS","Theme"),t("ContactManager"),window.ZORDER={NORMAL:5,EFFECT0:10,MOB:100,HERO:200,FLY:300,BULLET:300,EFFECT:400,TOP:500,WEATHER:600,UI:1e3},window.AUTO_CAVE_DEFINE={1111:null,"0111":"br",1011:"bl",1101:"tr",1110:"tl","0011":"b","0101":"r",1010:"l",1100:"t",1001:"x1","0110":"x2","0001":"br_v","0010":"bl_v","0100":"tr_v",1000:"tl_v","0000":"c"};var s="sub3#theme/city2",o="sub2#theme/desert";CELL_W,CELL_H,window.THEME_WEATHER={rain:{cover:{res:"theme/night",s:4.1},cover2:{animation:"atlas/rain"}},fog:{func:function(t){Effect.fogEnvironment(t)}}},window.THEME_DEFINE={city2:{ground:{res:s+"/bg",s:1,z:0},block2x1:{res:"theme/block2x1",z:ZORDER.NORMAL,ax:0,ay:1},block1x2:{res:"theme/block1x2",z:ZORDER.NORMAL,ax:0,ay:1},block2x2:{res:"theme/block2x2",z:ZORDER.NORMAL,ax:0,ay:1},entrance:{res:s+"/entrance",z:ZORDER.NORMAL,ay:1},exit:{res:s+"/exit",z:10,ay:0},exit2:{res:s+"/exit2",z:ZORDER.TOP,ay:0},gate_left:{res:"theme/gate_left",z:ZORDER.NORMAL-1,ay:0,ax:0},gate_right:{res:"theme/gate_right",z:ZORDER.NORMAL-1,ay:0,ax:1},box:[{res:s+"/block",z:ZORDER.TOP,s:.7}],shadow:{res:"theme/block_shadow",z:ZORDER.TOP-1,s:.7,ax:0,ay:1,slice:[44,29,46,34]},spike:{res:"theme/spike",s:1,z:1},cave_t:{atlas:s+"/water",res:"t",s:1,z:2},cave_b:{atlas:s+"/water",res:"b",s:1,z:2},cave_l:{atlas:s+"/water",res:"l",s:1,z:2},cave_r:{atlas:s+"/water",res:"r",s:1,z:2},cave_tl:{atlas:s+"/water",res:"tl",s:1,z:2},cave_tr:{atlas:s+"/water",res:"tr",s:1,z:2},cave_bl:{atlas:s+"/water",res:"bl",s:1,z:2},cave_br:{atlas:s+"/water",res:"br",s:1,z:2},cave_c:{atlas:s+"/water",res:"x",s:1,z:2},cave_tl_v:{atlas:s+"/water",res:"tl_v",s:1,z:2},cave_tr_v:{atlas:s+"/water",res:"tr_v",s:1,z:2},cave_bl_v:{atlas:s+"/water",res:"bl_v",s:1,z:2},cave_br_v:{atlas:s+"/water",res:"br_v",s:1,z:2},cave_x1:{atlas:s+"/water",res:"x1",s:1,z:2},cave_x2:{atlas:s+"/water",res:"x2",s:1,z:2}},desert:{block2x1:{res:"theme/block2x1",z:ZORDER.NORMAL,ax:0,ay:1},block1x2:{res:"theme/block1x2",z:ZORDER.NORMAL,ax:0,ay:1},block2x2:{res:"theme/block2x2",z:ZORDER.NORMAL,ax:0,ay:1},ground:{res:o+"/bg",s:1,z:0},entrance:{res:o+"/entrance",z:ZORDER.NORMAL,ay:1},exit:{res:o+"/exit",z:10,ay:0},exit2:{res:o+"/exit2",z:ZORDER.TOP,ay:0},gate_left:{res:"theme/gate_left",z:ZORDER.NORMAL-1,ay:0,ax:0},gate_right:{res:"theme/gate_right",z:ZORDER.NORMAL-1,ay:0,ax:1},box:[{res:o+"/block",z:ZORDER.TOP,s:.7}],shadow:{res:"theme/block_shadow",z:ZORDER.TOP-1,s:.7,ax:0,ay:1,slice:[44,29,46,34]},spike:{res:"theme/spike",s:1,z:1},cave_t:{atlas:o+"/water",res:"t",s:1.02},cave_b:{atlas:o+"/water",res:"b",s:1.02},cave_l:{atlas:o+"/water",res:"l",s:1.02},cave_r:{atlas:o+"/water",res:"r",s:1.02},cave_tl:{atlas:o+"/water",res:"tl",s:1.02},cave_tr:{atlas:o+"/water",res:"tr",s:1.02},cave_bl:{atlas:o+"/water",res:"bl",s:1.02},cave_br:{atlas:o+"/water",res:"br",s:1.02},cave_c:{atlas:o+"/water",res:"x",s:1.02},cave_tl_v:{atlas:o+"/water",res:"tl_v",s:1.02},cave_tr_v:{atlas:o+"/water",res:"tr_v",s:1.02},cave_bl_v:{atlas:o+"/water",res:"bl_v",s:1.02},cave_br_v:{atlas:o+"/water",res:"br_v",s:1.02},cave_x1:{atlas:o+"/water",res:"x1",s:1.02},cave_x2:{atlas:o+"/water",res:"x2",s:1.02}},snow:{block2x1:{res:"theme/block2x1",z:ZORDER.NORMAL,ax:0,ay:1},block1x2:{res:"theme/block1x2",z:ZORDER.NORMAL,ax:0,ay:1},block2x2:{res:"theme/block2x2",z:ZORDER.NORMAL,ax:0,ay:1},ground:{res:"theme/snow/bg",s:1,z:0},entrance:{res:"theme/snow/entrance",z:ZORDER.NORMAL,ay:1},exit:{res:"theme/snow/exit",z:10,ay:0},exit2:{res:"theme/snow/exit2",z:ZORDER.TOP,ay:0},gate_left:{res:"theme/gate_left",z:ZORDER.NORMAL-1,ay:0,ax:0},gate_right:{res:"theme/gate_right",z:ZORDER.NORMAL-1,ay:0,ax:1},box:[{res:"theme/snow/block",z:ZORDER.TOP,s:.7}],shadow:{res:"theme/block_shadow",z:ZORDER.TOP-1,s:.7,ax:0,ay:1,slice:[44,29,46,34]},spike:{res:"theme/spike",s:1,z:1},cave_t:{atlas:"theme/snow/water",res:"t",s:1.02},cave_b:{atlas:"theme/snow/water",res:"b",s:1.02},cave_l:{atlas:"theme/snow/water",res:"l",s:1.02},cave_r:{atlas:"theme/snow/water",res:"r",s:1.02},cave_tl:{atlas:"theme/snow/water",res:"tl",s:1.02},cave_tr:{atlas:"theme/snow/water",res:"tr",s:1.02},cave_bl:{atlas:"theme/snow/water",res:"bl",s:1.02},cave_br:{atlas:"theme/snow/water",res:"br",s:1.02},cave_c:{atlas:"theme/snow/water",res:"x",s:1.02},cave_tl_v:{atlas:"theme/snow/water",res:"tl_v",s:1.02},cave_tr_v:{atlas:"theme/snow/water",res:"tr_v",s:1.02},cave_bl_v:{atlas:"theme/snow/water",res:"bl_v",s:1.02},cave_br_v:{atlas:"theme/snow/water",res:"br_v",s:1.02},cave_x1:{atlas:"theme/snow/water",res:"x1",s:1.02},cave_x2:{atlas:"theme/snow/water",res:"x2",s:1.02}}};var r={city:["star","desert","lab","city2"],roma:["snow"]};for(var c in r){var h=THEME_DEFINE[c];for(var d in h)for(var l in r[c]){var u=THEME_DEFINE[r[c][l]];u[d]||(u[d]=h[d])}}for(var c in THEME_DEFINE.city2){var f=THEME_DEFINE.city2[c];"cave"==c.substring(0,4)&&(f.s=1.02,f.z=0)}cc.Class({initMap:function(t,e){var i=this;this.game=t;var a=THEME_DEFINE[e.config.theme||"city"],n=e.config.themeShader;for(var s in a)if(Array.isArray(a[s]))for(var o in a[s])a[s][o].shader=n;else a[s].shader=n;this.bgOutsideBorderHeight=900,this.borderHeight=1e3-this.bgOutsideBorderHeight;var r=a.ground,c=t.effectMgr,h=r.s||1,d=this.getWidth()*CELL_W/h+40,l=this.getHeight()*CELL_H/h;(m=c.createSpriteFromAtlas(0,0,r.atlas,r.res,function(e,a){i.bgSprite=a,t.addToCamera(a.node,0),a.node.width=d,a.node.height=l+2*i.bgOutsideBorderHeight/h,a.node.scale=h,a.type=cc.Sprite.Type.TILED,a.node.x=d*h/2-20,a.node.y=l*h/2,r.shader&&c.bindShader(a,r.shader)})).setAnchorPoint(.5,.5);var u=e.config.themeWeather,f=THEME_WEATHER[u];if(f&&f.func&&f.func(t),f&&f.cover){if((r=f.cover).animation){var m=c.createAnimation(r.animation,{speed:1,repeat:-1});t.addToCamera(m,ZORDER.WEATHER)}else m=c.createSprite(0,0,r.res,r.slice,function(e,a){t.addToCamera(a.node,ZORDER.WEATHER),a.node.height=i.getHeight()*CELL_H/a.node.scale+2*i.bgOutsideBorderHeight/a.node.scale});m.x=this.getWidth()*CELL_W/2,m.y=this.getHeight()*CELL_H/2,m.scale=r.s||1}if(f&&f.cover2){if((r=f.cover2).animation)var p=c.createAnimation(r.animation,{speed:4,repeat:-1});else p=c.createSprite(0,0,r.res,null,function(){});t.addToCamera(p,ZORDER.WEATHER+1),p.x=this.getWidth()*CELL_W/2,p.y=this.getHeight()*CELL_H/2,p.scale=r.s||1}this.themeDefine=a,this.waterSprites=[],this.matTimer=0,e.config.themeMap=e.config.themeMap||[],this.themeMap=e.config.themeMap,this.generateBlock(),this.initBorder(),this.initEntrance(),this.initExit()},initEntrance:function(){var t=this.game.effectMgr;this.addSprite(t,this.getWidth()/2*CELL_W,0,this.themeDefine.entrance)},getGateOffY:function(){return-0},initExit:function(){var t=this.game,e=t.effectMgr,i=(this.addSprite(e,this.getWidth()/2*CELL_W,this.getHeight()*CELL_H+this.getGateOffY(),this.themeDefine.exit,null,null,function(t){t.spriteFrame.getTexture().setFilters(cc.Texture2D.Filter.NEAREST,cc.Texture2D.Filter.NEAREST)}),this.addSprite(e,this.getWidth()/2*CELL_W,this.getHeight()*CELL_H+this.getGateOffY(),this.themeDefine.exit2,null,null,function(t){t.spriteFrame.getTexture().setFilters(cc.Texture2D.Filter.NEAREST,cc.Texture2D.Filter.NEAREST)}));if(this.gateLeft=this.addSprite(e,this.getWidth()/2*CELL_W-183,this.getHeight()*CELL_H+20+this.getGateOffY(),this.themeDefine.gate_left),this.gateRight=this.addSprite(e,this.getWidth()/2*CELL_W+183,this.getHeight()*CELL_H+20+this.getGateOffY(),this.themeDefine.gate_right),t.gameManager&&t.gameManager.levelPool){var a=this.game.gameManager.levelPool.getIndex()+1,n=this.game.gameManager.levelPool.getLevel(a,!0),s=Math.floor(a/10),o=a-10*s,r=225;if(n)if("boss"==n||"finalboss"==n)(c=e.createSprite(0,r,"theme/text/boss")).scale=.8,i.addChild(c,2);else{var c;0!=s&&((c=e.createSprite(-34,r,"theme/text/"+s)).scale=.8,i.addChild(c,2)),(c=e.createSprite(0!=s?34:0,r,"theme/text/"+o)).scale=.8,i.addChild(c,2)}else(c=e.createSprite(0,r,"theme/text/live")).scale=.8,i.addChild(c,2)}},initBorder:function(){var t=this.game,e=t.effectMgr,i=-100,a=this,n=e.createSprite(this.getWidth()/2*CELL_W,i-this.bgOutsideBorderHeight,"theme/border",null,function(e,i){t.addToCamera(i.node,2223),i.node.setContentSize(a.getWidth()*CELL_W+40,900),i.node.setAnchorPoint(.5,0),i.sizeMode=cc.Sprite.SizeMode.SLICED});i=150,(n=e.createSprite(this.getWidth()/2*CELL_W,this.getHeight()*+CELL_H+this.bgOutsideBorderHeight+i,"theme/border",null,function(e,i){t.addToCamera(i.node,2223),i.node.setContentSize(a.getWidth()*CELL_W+40,900)})).setAnchorPoint(.5,0),n.angle=180,n.sprite.sizeMode=cc.Sprite.SizeMode.SLICED,this.borderTop=n},moveBorderTop:function(){if(!this.borderTopMoved){this.borderTopMoved=!0;var t=this.game.effectMgr;this.gateLeft.runAction(cc.spawn(cc.skewBy(.5,0,45),cc.fadeOut(.5))),this.gateRight.runAction(cc.spawn(cc.skewBy(.5,0,-45),cc.fadeOut(.5)));var e=this.addSprite(t,this.getWidth()/2*CELL_W+5,(this.getHeight()-1)*CELL_H+0+this.getGateOffY(),{res:"theme/exit_light",z:ZORDER.TOP-1}),i=e.sprite;i.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,i.dstBlendFactor=cc.macro.BlendFactor.ONE,e.scaleX=0,e.runAction(cc.scaleTo(.3,1.15)),cc.log("moveBorderTop")}},getWidth:function(){return this.game.contactMgr.width},getHeight:function(){return this.game.contactMgr.height},getCol:function(t,e){return this.game.contactMgr.getCol(t,e)},getTerrain:function(t,e){return this.game.contactMgr.getTerrain(t,e)},testPit:function(t,e){return this.getCol(t,e)<0?0:1},testWall:function(t,e){var i=this.getWidth(),a=this.getHeight();return t<0||t>=i||e<0||e>=a?1:this.getCol(t,e)>1?1:0},updateShadow:function(){for(var t=this.game.effectMgr,e=this.themeDefine,i=this.getWidth(),a=this.getHeight();a>=0;a--)for(var n=0;n<=i;n++)if(!this.getBlockTheme(n,a)){var s=(n+.5)*CELL_W,o=(a+.5)*CELL_H;1==this.getCol(n,a)&&(this.addSprite(t,s-.46*CELL_W,o+.5*CELL_H,e.shadow).opacity=120)}},getBlockTheme:function(t,e){for(var i in this.themeMap){var a=this.themeMap[i];if(a.blockPos){var n=a.blockSize||{width:1,height:1};if(t>=a.blockPos.x&&t<=a.blockPos.x+n.width&&e>=a.blockPos.y&&e<=a.blockPos.y+n.height)return i}}},generateBlock:function(){for(var t=this.game.effectMgr,e=this.themeDefine,i=this.getWidth(),a=this.getHeight(),n=a;n>=0;n--)for(var s=0;s<=i;s++)if(!this.getBlockTheme(s,n)){var o=(s+.5)*CELL_W,r=(n+.5)*CELL_H;if(1==this.getCol(s,n)){var c=e.box;this.addSprite(t,o,r,c)}if(this.getCol(s,n)>1)this.addSprite(t,o,r,e.wall_c);else if(s<i&&n<a){if(s>0&&this.testWall(s-1,n)){var h=this.testWall(s-1,n-1)||this.testWall(s,n-1),d=this.testWall(s-1,n+1)||this.testWall(s,n+1);this.addSprite(t,o,r,e["wall_r"+h+d])}s<i-1&&this.testWall(s+1,n)&&(h=this.testWall(s+1,n-1)||this.testWall(s,n-1),d=this.testWall(s+1,n+1)||this.testWall(s,n+1),this.addSprite(t,o,r,e["wall_l"+h+d])),n>0&&this.testWall(s,n-1)&&(h=this.testWall(s-1,n-1)||this.testWall(s-1,n),d=this.testWall(s+1,n-1)||this.testWall(s+1,n),this.addSprite(t,o,r,e["wall_t"+h+d])),n<a-1&&this.testWall(s,n+1)&&(h=this.testWall(s-1,n+1)||this.testWall(s-1,n),d=this.testWall(s+1,n+1)||this.testWall(s+1,n),this.addSprite(t,o,r,e["wall_b"+h+d]))}var l=this.getTerrain(s,n);l&&this.addSprite(t,o,r,e[l.define.themeId]);var u=this.testPit(s-1,n),f=this.testPit(s,n),m=this.testPit(s-1,n-1),p=this.testPit(s,n-1),g=AUTO_CAVE_DEFINE[""+u+f+m+p];if(g)if(o=s*CELL_W,r=n*CELL_H,Array.isArray(g))for(var v in g)this.addSprite(t,o,r,e["cave_"+g[v]],1);else this.addSprite(t,o,r,e["cave_"+g],1)}for(var s in this.updateShadow(),this.themeMap)c=this.themeMap[s],this.addSprite(t,c.x,c.y,e[c.id])},addSprite:function(t,e,i,a,n,s,o){if(a){if(a.bg){var r=this.themeDefine;this.addSprite(t,e,i,r[a.bg])}if(Array.isArray(a)&&(a=a[kit.rndInt(0,a.length-1)]),e+=a.dx||0,i+=a.dy||0,a.res){if(a.atlas){var c=t.createSpriteFromAtlas(e,i,a.atlas,a.res);this.game.addToCamera(c,a.z||1),c.setScale(a.sx||a.s||1,a.sy||a.s||1)}else{var h=this;c=t.createSprite(e,i,a.res,a.slice,function(t,e){h.game.addToCamera(e.node,a.z||1),e.node.setScale(a.sx||a.s||1,a.sy||a.s||1),s&&(cc.log("width",s),e.node.width=s/e.node.scale),o&&o(e)})}c.setAnchorPoint(a.ax||(0===a.ax?0:.5),a.ay||(0===a.ay?0:.5)),c.angle=a.deg||0;var d=c.sprite;return a.slice||(d.trim=!1,d.sizeMode=cc.Sprite.SizeMode.RAW),n&&(d.srcBlendFactor=cc.macro.BlendFactor.ONE),a.shader&&t.bindShader(d,a.shader),c}}},loadBlock:function(t,e,i){var a=this.game.effectMgr,n=t.i,s=t.x+e,o=t.y+i;if(n){var r=this.themeDefine[n],c=a.createSprite(s,o,r.res);this.game.addToCamera(c,r.z||0);var h=r.ax||(0===r.ax?0:.5),d=r.ay||(0===r.ay?0:.5);c.setAnchorPoint(h,d),c.setScale(r.s||1)}else c=a.createSprite(s,o,t.res),this.game.addToCamera(c,t.z||0);t.fx&&(c.scaleX=-1*(r.s||1)),c.angle=t.deg||0;var l=t.h;if(l&&(c.type=cc.Sprite.Type.FILLED,c.height=l),t.son){var u=t.son;for(var f in u)this.loadBlock(u[f],s,o)}},updateLogic:function(t){this.matTimer+=t;for(var e,a=i(this.waterSprites);!(e=a()).done;)e.value.getMaterial(0).setProperty("u_time",this.matTimer)}}),cc._RF.pop()},{ContactManager:"ContactManager"}],Timer:[function(t,e){"use strict";cc._RF.push(e,"54bfev4IHlDPq2aBI3U6Sty","Timer");var i=cc.Class({init:function(t,e,i,a){this.time=t,this.func=e,this.config=i,this.game=a,this.game&&this.game.addUpdate(this)},updateLogic:function(t){this.end?this.game&&this.game.removeUpdate(this):(this.time-=t,this.time<0&&(this.func&&this.func(this.config),this.end=!0))}});window.setTimer=function(t,e,a,n){var s=new i;return s.init(e,a,n,t),s},e.exports=i,cc._RF.pop()},{}],TouchAction:[function(t,e){"use strict";cc._RF.push(e,"51aaf1XsDZHJbfJzudNXwq4","TouchAction"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.zIndex=OperDefine.zIdx.TOUCHACTION,this.node.on(cc.Node.EventType.TOUCH_START,function(t){var e=t.getLocation();this.createCircle(e)},this),this.node._touchListener.swallowTouches=!1},createCircle:function(t){var e=new cc.Node,i=e.addComponent(cc.Sprite);reskit.setSpNodeFrame(i,"guide/q"),e.scale=.2,e.parent=this.node;var a=this.node.convertToNodeSpaceAR(t);e.setPosition(a),e.runAction(cc.sequence(cc.spawn(cc.scaleTo(.5,1).easing(cc.easeSineOut()),cc.fadeOut(.5)),cc.destroySelf()))}}),cc._RF.pop()},{}],TouchBlock:[function(t,e){"use strict";cc._RF.push(e,"0c77aU7FEhFQKGQ1e9r4xhz","TouchBlock");var i=cc.Class({extends:cc.Component,init:function(t){this.initTouch(),this.touchFunc=t&&t.touchFunc},initTouch:function(){this.touch=[],this.noTouch=0},onTouchBegan:function(){return this.touchFunc&&this.touchFunc(),!0},onTouchMoved:function(){},onTouchEnded:function(){}});e.exprots=i,cc._RF.pop()},{}],TracerImage:[function(t,e){"use strict";cc._RF.push(e,"da9850a0vhNZI55oWiNgUQw","TracerImage"),cc.Class({extends:t("ShadowImage"),initAvatar:function(){this.avatar=new CombinedAvatar(this.define.avatar,{obj:this}),this.node.addChild(this.avatar),this.avatar.setShader("tracer_blink_illusion"),this.avatar.refresh(),this.flashEffectIn(this.x,this.y)},flashEffectIn:function(t,e,i){var a=this.effectMgr.createSprite(0,0,"effect/tracer/light2");a.scale=0,(i=i||this).addChild(a);var n=cc.Sequence(cc.Spawn(cc.ScaleTo(.2,3),cc.FadeOut(.4)),cc.CallFunc(function(){a.destroy()}));a.runAction(n)},onRemove:function(){this.game.removeUpdate(this),this.destroy()},blinkTo:function(t,e,i){var a=kit.vector2Radian(t.x-this.x,t.y-this.y),n=kit.radian2Degree(a);this.atkRad=a,this.deg=n,this.node.angle=-this.deg;var s=kit.norm(t.x-this.x,t.y-this.y),o=this.streakEffect(s,n,t);this.x=t.x,this.y=t.y,this.x0=this.x,this.y0=this.y,e?(o.target=i,this.flashEffectIn(this.x,this.y,i),this.remove()):this.flashEffectIn(this.x,this.y)},streakEffect:function(t,e){this.blinkEffect(this.x,this.y,this.deg);var i=new cc.MotionStreak(3.8,3,50,cc.color(255,255,255),"1");return this.game.camera.addChild(i,this.getLocalZOrder()-1),i.setPosition(this.x,this.y),i.schedule(function(i){var a=this.target;if(a){this.effectTimer-=i;var n=this.effectDuration-.1;if(this.effectTimer<n){var s=kit.degree2Radian(a.deg),o=20*Math.sin(s),r=20*Math.cos(s);this.setPosition(a.x+o,a.y+r)}else{s=kit.degree2Radian(e);var c=t/5*Math.cos(s),h=t/5*Math.sin(s);this.x+=c,this.y+=h}}}),i.target=this,i.effectDuration=.61,i.effectTimer=i.effectDuration,i.runAction(cc.sequence(cc.fadeOut(.5),cc.destroySelf())),i},blinkEffect:function(t,e,i){var a=this.effectMgr.createSprite(0,0,"effect/tracer/light");a.scale=1,a.opacity=0,a.angle=-i,a.x=t,a.y=e,this.game.camera.addChild(a);var n=cc.Sequence(cc.Spawn(cc.ScaleTo(.2,2,0),cc.FadeIn(.2)),cc.CallFunc(function(){a.destroy()}));a.runAction(n)}}),cc._RF.pop()},{ShadowImage:"ShadowImage"}],TurretBltUI:[function(t,e){"use strict";cc._RF.push(e,"7ee3cIEistPKYzrankFEfJQ","TurretBltUI"),cc.Class({extends:cc.Node,init:function(t,e,i){this.game=i;var a=this.game.createSprite(0,0,"res/uiz/turret/blt_bg");this.base=a,this.addChild(a),this.owner=e,a=new cc.Sprite("res/uiz/turret/blt_content"),this.blt=a,a.y=1,a.x=-26,a.setAnchorPoint(0,.5),this.addChild(a),this.bltCt=t.bltCt,this.bltMax=t.bltMaxCt,this.updateBlt()},updateBlt:function(){var t=this.blt,e=this.owner.bltCt;e<=0&&(e=0);var i=e/this.owner.bltMaxCt,a=t.getTextureRect();t.oWidth||(t.oWidth=a.width),a.width=i*t.oWidth,a.width>t.oWidth&&(a.width=t.oWidth),t.setTextureRect(a),this.owner.bltCt<=0&&!this.isBlink?(this.isBlink=!0,this.base.runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)).repeatForever())):this.owner.bltCt>0&&this.isBlink&&(this.isBlink=!1,this.base.stopAllActions(),this.base.opacity=255)}}),cc._RF.pop()},{}],TurretDefine:[function(t,e){"use strict";cc._RF.push(e,"b6da0lSyJFB37Gvji5UdVzq","TurretDefine"),t("resource"),window.TURRET_0=500,window.TURRET_1=501,window.TURRET_2=502,window.TURRET_3=503,window.TURRET_4=504,window.TURRET_5=505,window.TURRET_BOSS="turret_boss";var i=t("GuidedMissileStraight"),a=t("TurretRocket"),n=t("ChasingTurret");window.TurretRotateDefine={30:[{t:1.5,deg:30},{t:1.5,deg:-60},{t:1.5,deg:30}],90:[{t:.9,deg:0},{t:.6,deg:90}],90.1:[{t:.9,deg:0},{t:.6,deg:-90}],90.2:[{t:3,deg:100},{t:3,deg:-100}],10:[{t:.1,deg:10},{t:.1,deg:-20},{t:.1,deg:10},{t:.1,deg:10},{t:.1,deg:-20},{t:.1,deg:10},{t:.1,deg:10},{t:.1,deg:-20},{t:.1,deg:10},{t:.6}],180:[{t:5.4,deg:180}],0:[{t:1.5,deg:0}],1001:[{t:5},{t:5,deg:0}],1002:[{t:5,deg:0},{t:5}]},window.TurretRocketAtkDefine={1:[{t:1,target:300}],2:[{t:.1,dx:0,dy:-500},{t:0,dx:300,dy:-500},{t:0,dx:300,dy:0},{t:0,dx:300,dy:500},{t:0,dx:0,dy:500},{t:0,dx:-300,dy:500},{t:0,dx:-300,dy:0},{t:0,dx:-300,dy:-500}],3:[{t:.1,dx:100,dy:-400},{t:0,dx:-100,dy:-400},{t:0,dx:200,dy:-400},{t:0,dx:-200,dy:-400},{t:0,dx:300,dy:-400},{t:0,dx:-300,dy:-400},{t:0,dx:400,dy:-400},{t:0,dx:-400,dy:-400}]},window.TurretDefine={turret0:{ctor:n,id:TURRET_0,isTurret:!0,name:"",noTeam:1,radius:40,weight:-1,hp:4e3,bltCt:2e5,z:100,exp:20,isRange:!0,bltPrepare:6,scale:1.5,rttSpd:20,attack:150,avatar:{ctor:t("SimpleAvatar"),anime:g_resources.anime.Turrets,base:"entity/turret/base",shader:"pm1",skin:{gun:"3"}},ai:{ctor:t("ChasingAimAI"),sr:9999,aimTime:1},attackSequence:[{t:1.5,x:0,y:130,blt:0,aimCB:function(t,e,i){Effect.PreShoot(t,1.5,600,0,105,i,.3)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}}],blt:[{name:"",sx:1,sy:.5,sx1:1.5,sy1:2,st:.2,frm:"bullet/player/zidan",length:30,dmg:1,kb:1e-4,n:1,wd:0,d:0,spd:2500,rnd:0,l:3e3,hurtStopTime:2,hurtStopCD:2.8}]},turret1:{id:TURRET_1,isTurret:!0,name:"",noTeam:1,radius:40,weight:-1,hp:4e3,z:100,exp:20,isRange:!0,bltCt:2e5,bltPrepare:6,scale:1.5,rttSpd:20,seek:{sr:360,ar0:100,ar1:150},attack:150,avatar:{ctor:t("SimpleAvatar"),anime:g_resources.anime.Turrets,base:"entity/turret/base"},blt:[{name:"",sx:1,sy:.5,sx1:1.5,sy1:2,st:.2,frm:"bullet/player/zidan",length:30,dmg:1,kb:1e-4,n:1,wd:0,d:0,spd:3500,rnd:0,l:3e3,hurtStopTime:2,hurtStopCD:2.8}],attackSequence:[{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}}],rotateSequence:[{t:1.5,deg:30},{t:1.5,deg:-60},{t:1.5,deg:30}],specialTranslate:"rotateSeqTemplate"},turret2:{ctor:a,id:TURRET_2,isTurret:!0,name:"",noTeam:1,radius:60,weight:-1,hp:4e3,bltCt:2e3,bltPrepare:6,exp:20,isRange:!0,z:100,rttSpd:20,attack:150,seek:{sr:360,ar0:100,ar1:150},avatar:{ctor:t("SimpleAvatar"),anime:g_resources.anime.paota,base:"entity/turret/base"},blt:[{name:"",ctor:t("GrenadeFromAbove"),explodeTime:1.5,noBlend:!0,minradius:20,hurtradius:100,dmg:100,dmgk:20,l:1,accurateDis:1,st:0,frm:"bullet/enemy/turret.png",anchorY:.5,length:35,kb:35,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:"ExplosiveBlt",zOrder:1e3,alert:!0}],attackSequence:[{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)},dx:0,dy:0},{t:.49},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.49},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.49},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.49},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.49},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.49},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.49},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.49},{t:4}],specialTranslate:"rotateSeqTemplate"},turret3:{id:TURRET_3,isTurret:!0,name:"",noTeam:1,radius:20,weight:-1,bltCt:2e3,bltPrepare:6,hp:4e3,exp:20,isRange:!0,z:100,scale:1.5,rttSpd:20,attack:150,seek:{sr:360,ar0:100,ar1:150},avatar:{ctor:t("SimpleAvatar"),anime:g_resources.anime.Turrets,base:"entity/turret/base",shader:"fire"},blt:[{name:"",sx:1,sy:.5,sx1:1.5,sy1:2,st:.2,frm:"bullet/player/zidan",length:30,dmg:1,kb:1e-4,n:1,wd:0,d:0,spd:3400,rnd:0,l:3e3,hurtStopTime:2,hurtStopCD:2.8},{name:"",ctor:i,st:.3,frm:"bullet/player/zidan4",anchorY:.9,length:35,minradius:50,hurtradius:160,dmg:4,dmgk:20,n:1,wd:0,d:0,spd:1250,rnd:1,l:850,hurtStopTime:4,hurtStopCD:4.5,bombEff:"ExplosiveBlt"}],attackSequence:[{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:-10,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:2.5}],specialTranslate:"rotateSeqTemplate"},turret4:{id:TURRET_4,isTurret:!0,name:"BOSS",noTeam:1,radius:20,weight:-1,bltCt:2e3,bltPrepare:6,hp:37e3,scale:1.5,z:100,exp:50,isRange:!0,rttSpd:20,attack:150,seek:{sr:360,ar0:100,ar1:150},avatar:{ctor:t("SimpleAvatar"),anime:g_resources.anime.Turrets,base:"entity/turret/base",shader:"boss-4"},blt:[{name:"",sx:1,sy:.5,sx1:1.5,sy1:2,st:.2,frm:"bullet/player/zidan",length:30,dmg:1,kb:1e-4,n:1,wd:0,d:0,spd:2500,rnd:0,l:3e3,hurtStopTime:2,hurtStopCD:2.8},{name:"",sx:1,sy:.5,sx1:1.5,sy1:2,st:.2,frm:"bullet/player/zidan",length:30,dmg:1,kb:1e-4,n:6,wd:1,d:1.7,spd:1500,rnd:0,l:3e3,hurtStopTime:2,hurtStopCD:2.8},{name:"",sx:1,sy:.5,sx1:1.5,sy1:2,st:.2,frm:"bullet/player/zidan",length:30,dmg:1,kb:1e-4,n:1,wd:0,d:0,spd:3500,rnd:0,l:3e3,hurtStopTime:2,hurtStopCD:2.8}],attackSequence:[{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}},{t:.1,x:0,y:130,blt:0,effect:function(t,e,i,a){Effect.PureFireLight(t,e,i,0,0,null,a)}}],attackSeqNum:1,rotateSequence:[{t:1.5,deg:30},{t:1.5,deg:-60},{t:1.5,deg:30}],specialTranslate:"rotateSeqTemplate"},turret5:{id:TURRET_5,isTurret:!0,name:"",noTeam:1,radius:20,weight:-1,bltCt:2e3,z:100,bltPrepare:6,hp:5e3,exp:20,isRange:!0,rttSpd:20,seek:{sr:360,ar0:100,ar1:150},avatar:{gun:"effect/turret/gun5",base:"effect/turret/base"},blt:[{name:"",sx:1.2,sy:.5,sx1:2,sy1:3,st:.2,frm:"bullet/player/zidan4",length:30,dmg:3,kb:1e-6,noBlend:1,n:1,wd:0,d:.1,spd:2500,rnd:.4,l:1200,hurtStopTime:2.6,hurtStopCD:2.8},{name:"",ctor:i,st:.3,frm:"bullet/player/zidan4",anchorY:.9,length:35,minradius:50,hurtradius:160,dmg:4,dmgk:20,n:1,wd:0,d:0,spd:1250,rnd:1,l:850,hurtStopTime:4,hurtStopCD:4.5}],attackSequence:[{t:.05,x:8,y:90,blt:0},{t:.05,x:-8,y:90,blt:0},{t:.05,x:8,y:90,blt:0},{t:.05,x:-8,y:90,blt:0},{t:0,x:20,y:90,blt:0},{t:0,x:-20,y:90,blt:0},{t:.05,x:8,y:90,blt:0},{t:.05,x:-8,y:90,blt:0},{t:.05,x:8,y:90,blt:0},{t:.05,x:-8,y:90,blt:0},{t:0,x:20,y:90,blt:0},{t:0,x:-20,y:90,blt:0},{t:.05,x:8,y:90,blt:0},{t:.05,x:-8,y:90,blt:0},{t:.05,x:8,y:90,blt:0},{t:.05,x:-8,y:90,blt:0},{t:0,x:20,y:90,blt:0},{t:0,x:-20,y:90,blt:0},{t:.5}]},turret_boss:{ctor:a,id:TURRET_BOSS,isTurret:!0,name:"BOSS()",noTeam:1,radius:60,weight:-1,hp:4e4,bltCt:2e3,bltPrepare:6,exp:50,isRange:!0,scale:1.3,z:100,rttSpd:20,attack:150,seek:{sr:360,ar0:100,ar1:150},avatar:{ctor:t("SimpleAvatar"),anime:g_resources.anime.paota,base:"entity/turret/base"},blt:[{name:"",ctor:t("GrenadeFromAbove"),explodeTime:1.2,noBlend:!0,minradius:30,hurtradius:120,dmg:100,dmgk:20,l:1,accurateDis:1,st:0,frm:"bullet/enemy/turret.png",anchorY:.5,length:35,kb:35,n:1,wd:0,d:0,spd:600,rnd:.3,bombEff:"ExplosiveBlt",zOrder:1e3,alert:!0}],attackSequence:[{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)},dx:0,dy:0},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)},dx:0,dy:0},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.29},{t:.01,x:0,y:50,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a)}},{t:.29},{t:4}],specialTranslate:"rotateSeqTemplate"}},cc._RF.pop()},{ChasingAimAI:"ChasingAimAI",ChasingTurret:"ChasingTurret",GrenadeFromAbove:"GrenadeFromAbove",GuidedMissileStraight:"GuidedMissileStraight",SimpleAvatar:"SimpleAvatar",TurretRocket:"TurretRocket",resource:"resource"}],TurretRocket:[function(t,e){"use strict";cc._RF.push(e,"1afc0GPyoVDR7DTzJf6qRI6","TurretRocket");var i=t("Entity"),a=cc.Class({extends:t("Turret"),init:function(t,e,i){this._super(t,e,i),this.deg=0,this.moveRad=0,this.rotateSeq=this.config.rotateSequence||this.define.rotateSequence;var a=this.config.rotateSeqTemplate||this.define.rotateSeqTemplate;a&&(this.rotateSeq=TurretRocketAtkDefine[a]),this.isAttack=!1},updateLogic:function(t){i.prototype.updateLogic.call(this,t),this.updateRotateSeq(t)||this.callAttack()},seekTarget:function(){for(var t=g_sharedContactManager.contactList,e=this.x0,i=this.y0,a=1e12,n=null,s=0;s<t.length;s++){var o=t[s],r=o.x0-e,c=o.y0-i;if(o.team!=this.team&&!o.isDead&&o.canAutoAim){var h=r*r+c*c;o.taunting&&(h-=9e4),h<a&&(a=h,n=o)}}return n},getTargetPos:function(t){var e=this.seekTarget();if(e){var i=Math.min(e.x,this.game.contactMgr.right-t),a=Math.max(i,this.game.contactMgr.left+t),n=Math.min(e.y,this.game.contactMgr.top-t),s=Math.max(n,this.game.contactMgr.bottom+t);return{x:a+kit.rnd(-t,t),y:s+kit.rnd(-t,t)}}},updateTargetPos:function(){if(this.rotateSeq){if(null!=(a=this.rotateSeq[this.rotateIndex]).target){var t=this.getTargetPos(a.target);if(t){var e=t.x;e=t.y}}else if(a.tx||a.ty||a.dx||a.dy){e=null!=a.tx&&a.tx||this.x+a.dx;var i=null!=a.ty&&a.ty||this.y+a.dy}null!=e&&null!=i||(e=kit.rnd(this.game.contactMgr.left,this.game.contactMgr.right),i=kit.rnd(this.game.contactMgr.bottom,this.game.contactMgr.top))}else{var a;if((a=this.attackSequence[this.attackIndex]).target){var n=this.getTargetPos(a.target);n&&(e=n.x,i=n.y)}e||i||(e=kit.rnd(this.game.contactMgr.left,this.game.contactMgr.right),i=kit.rnd(this.game.contactMgr.bottom,this.game.contactMgr.top))}this.tx=e,this.ty=i},updateRotateSeq:function(t){if(this.rotateSeq)return this.rotateTimer-=t,this.rotateTimer<0&&(t-=-this.rotateTimer),this.rotateTimer<=0&&(this.callAttack(),this.updateTargetPos(),this.rotateIndex++,this.rotateIndex>this.rotateSeq.length-1&&(this.rotateIndex=0),this.rotateTimer=this.rotateSeq[this.rotateIndex].t),!0},attack:function(){var t=this.attackSequence[this.attackIndex];if(t.blt||0===t.blt){this.rotateSeq||this.updateTargetPos();var e,i=this.blt[t.blt],a=t.x||0,n=t.y||0,s=this.x0,o=this.y0,r=this.deg,c=kit.degree2Radian(r),h=Math.sin(c),d=Math.cos(c),l=s+d*a+h*n,u=o-h*a+d*n;if(i.grenade){var f=this.ai.target;(e=kit.norm(f.x0-this.x0,f.y0-this.y0))>i.l&&(e=null)}var m=r+(t.deg||0),p=(a=t.dx||0,n=t.dy||0,this.tx+a),g=this.ty+n;t.effect&&t.effect(l,u,this,this.game),Ammofactory(this,i,{x:l,y:u,tx:p,ty:g,te:this.team,obj:this,dmg:this.attribute.get("atkDmg"),l:e,deg:m},this.game),this.game.effectMgr.play(SoundEffectPath[EntityCN2EN[this.toString()]+"_weapon"])}}});e.exports=a,cc._RF.pop()},{Entity:"Entity",Turret:"Turret"}],TurretSkill:[function(t,e){"use strict";cc._RF.push(e,"0c498RFisBFyoIr2Y0S1wDP","TurretSkill");var i=t("Timer");cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.bastion_Turret),this.blt=this.define.blt,this.blt.dmg=this.define.dmg,this.blt.spd=this.define.spd,this.dt=this.define.dt,this.idleTimer=0;var t=this.obj,e=t.attribute;t.setNoMove(!0),t.setNoAttack(!0),t.setNoSkills(!0),t.isInvincible++,t.setForcedAnime("turret_transform",1),this.transfromTimer=1,t.avatar.setWalkAnimeName("turret_stand"),t.avatar.setStandAnimeName("turret_stand"),t.avatar.setAttackAnimeName("turret_attack"),t.refreshAvatar(),this.orgW=t.weight,t.weight=-1,this.orgAimOffsetX=t.aimOffsetX,t.aimOffsetX=0,this.a=this.define.a||0,this.a&&e.add("armorLevel",this.a)},excute:function(t){var e=this.obj;if(this.castTimer<=.5)this.isInFrom&&(e.isAttack=!1,e.isInvincible++,e.setForcedAnime("turret_transform_1",2),e.refreshAvatar(),this.armature.runAction(cc.scaleTo(.5,.1)),this.isInFrom=!1);else{if(this.transfromTimer>0)return this.transfromTimer-=t,void(this.transfromTimer<=0&&(e.isInvincible--,e.setForcedAnime(null),this.isInFrom=!0,e.setAutoAttack(!0)));if(!e.isStun&&1==e.noAttack&&(e.isAttack||(e.isAttack=!0,e.refreshAvatar()),e.isAttack)){if(this.idleTimer+=t,this.idleTimer<this.dt)return;this.idleTimer=0,!e.isAutoTarget&&e.target&&!e.target.isDead&&e.target||e.seekTarget(),Ammofactory(e,this.blt,{x:e.x,y:e.y,obj:e,te:e.team},this.game),this.game.effectMgr.play(SoundEffectPath.bastion_Turret_bullet),Effect.DropShell(e.x,e.y,e),e.isAttack=!1,e.refreshAvatar()}}},end:function(){this._super(),this.armature.destroy();var t=this.obj,e=t.attribute;if(t.setNoMove(!1),t.setNoAttack(!1),t.setNoSkills(!1),t.setAutoAttack(!1),t.isInvincible--,t.setForcedAnime(null),t.avatar.setWalkAnimeName(),t.avatar.setStandAnimeName(),t.avatar.setAttackAnimeName(),t.refreshAvatar(),t.weight=this.orgW,t.aimOffsetX=this.orgAimOffsetX,this.a&&e.add("armorLevel",-this.a),this.define.atk){var a=e.get("atkDmg")*this.define.atk;e.add("atkDmg",a),(new i).init(15,function(){e.add("atkDmg",-a)})}}}),cc._RF.pop()},{Skill:"Skill",Timer:"Timer"}],Turret:[function(t,e){"use strict";cc._RF.push(e,"67d08uIuFVJ56jyRz+Fi6nf","Turret");var i=cc.Class({extends:t("Entity"),init:function(t,e,i){this.isTurret=!0,this._super(t,e,i),this.rotateSeq=this.config.rotateSequence||this.define.rotateSequence;var a=this.config.rotateSeqTemplate||this.define.rotateSeqTemplate;a&&(this.rotateSeq=TurretRotateDefine[a]),this.rotateTimer=0,this.rotateIndex=0,this.callRotate(),this.callAttack()},initAvatar:function(){var t=this.define.avatar||{};this.armatureBase=this.effectMgr.createSprite(0,0,t.base||"effect/turret/base"),this.addChild(this.armatureBase);var e=this.define.avatar;if(e.anime){var i=new cc.Node;this.addChild(i,0);var a=e.ctor;this.avatar=i.addComponent(a),this.avatar.init(e,{obj:this},this.game)}else e.frm&&(i=new cc.Node,this.addChild(i,0),a=e.ctor,this.avatar=i.addComponent(a),this.avatar.init(e,{obj:this},this.game))},updateLogic:function(t){this.updateRotateSeq(t),this._super(t),this.callAttack()},callRotate:function(){this.rotateSeq&&(this.isRotate=!0,this.rotateTimer=this.rotateSeq[this.rotateIndex].t,null!=this.rotateSeq[this.rotateIndex].deg?this.noAttack=!1:this.noAttack=!0)},updateRotateSeq:function(t){if(this.rotateSeq&&this.isRotate){this.rotateTimer-=t,this.rotateTimer<0&&(t-=-this.rotateTimer);var e=this.deg+t/this.rotateSeq[this.rotateIndex].t*this.rotateSeq[this.rotateIndex].deg,i=kit.degree2Radian(e);this.callMove({s:.01,rad:i}),this.rotateTimer<=0&&(this.rotateIndex++,this.rotateIndex>this.rotateSeq.length-1&&(this.rotateIndex=0),this.callRotate())}},updateRotate:function(t,e,i,a){if(a*=this.rttSpdMaxScale,this.isStun||this.noRotate>0)return 0;var n=this.deg,s=e-n;return s>180?s-=360:s<-180&&(s+=360),s>a?s=a:s<-a&&(s=-a),n=(n+s+360)%360,this.deg=n,this.setAvatarAngle(-n),s},attack:function(){var t=this.attackSequence[this.attackIndex];if(t.blt||0===t.blt){var e,i=this.blt[t.blt],a=t.x||0,n=t.y||0,s=this.x0,o=this.y0,r=this.deg,c=kit.degree2Radian(r),h=Math.sin(c),d=Math.cos(c),l=s+d*a+h*n,u=o-h*a+d*n;if(i.grenade){var f=this.ai.target;(e=kit.norm(f.x0-this.x0,f.y0-this.y0))>i.l&&(e=null)}var m=r+(t.deg||0);t.effect&&t.effect(l,u,this,this.game),Ammofactory(this,i,{x:l,y:u,te:this.team,obj:this,dmg:this.attribute.get("atkDmg"),l:e,deg:m},this.game),this.game.effectMgr.play(SoundEffectPath[EntityCN2EN[this.toString()]+"_weapon"])}},deadEffect:function(){t("Entity");var e=this.define.deadEff||this.deadEff||Effect.Death;return this.isBoss?(e=Effect.BossDeath)(this,this.game)||.01:e(this,1,1,1,this.game)||.01}});e.exports=i,cc._RF.pop()},{Entity:"Entity"}],UpgradeBonusMenu:[function(t,e){"use strict";cc._RF.push(e,"dd298tRGgZNd7AstaIr3uDU","UpgradeBonusMenu"),t("TalentDefine"),cc.Class({extends:t("Menu"),properties:{cards:[cc.Node],title:cc.Node,ultBg:cc.Node,richText:cc.RichText},onLoad:function(){},shuffle:function(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),a=[t[e],t[i]];t[i]=a[0],t[e]=a[1]}},start:function(){if(cc.Platformsdk.showBanner(),console.log("start cards length",this.cards.length),0==this.cards.length)return menuManager.close(),this.game.popTimeScale(),void console.log("UpgradeBonusMenu initOptions:")},init:function(t){this.lvl=t.lvl,this.fixOptions=t.fixOptions,this.noOptions=t.noOptions,this.bonus=t.bonus||[0,0,0],console.log("chooseBonusMenu bonus:initTalent init",this.bonus);var e=t.game;if(this.game=e,this.game.pushTimeScale(),this.lvl&&(this.title.getComponent(cc.Label).string=this.lvl+""),t.changeOptions){var i=this.node.getChildByName("buyAd");if(i.active=!0,i.runAction(cc.sequence(cc.delayTime(1),cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))),i.runAction(cc.sequence(cc.delayTime(1),cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))),10==this.lvl)var a="",n="B07AED";else 5==this.lvl?(a="",n="4F8AF8"):(a="",n="36C831");this.richText.string="<color=#fff068></c><color=#"+n+">"+a+"</color><color=#fff068></color>"}this.node.getChildByName("banner"),this.initOptions()},initOptions:function(){var t=this,e=this,i=this.game,a=kit.clone(window.GameManagerConfig.talent);this.shuffle(a);var n=[];for(var s in a){if(n.length>=3)break;TalentDefine[a[s].id].upgrade&&n.push(TalentDefine[a[s].id])}console.log("initOptions",n);var o=function(){var a=+s,o=new cc.Node;o.x=230*(-(n.length-1)/2+a),console.log(o.x),o.y=-20,t.node.addChild(o),t.cards.push(o),t.game.effectMgr.loadPrefab("prefab/chooseBonusCard",function(t){var s=cc.instantiate(t);s.on("click",e.onClick,e),o.addChild(s),s.getComponent("ChooseBonusCard").init(n[a],i),s.getChildByName("title").getComponent(cc.Label).string=n[a].title,s.getChildByName("des").getComponent(cc.Label).string=n[a].des;var r=s.getChildByName("content").getComponent(cc.Sprite),c="uiz/chooseBonus/icon/"+n[a].content;i.effectMgr.loadSprite(r,c),s.def=n[a]})};for(var s in n)o()},onClick:function(t){var e=t.node;e.parent.zIndex=999;var i=e.def;Talent.upgrade(this.game.hero,i),e.getComponent("ChooseBonusCard").upgradeEffect(function(){menuManager.close(),this.game.popTimeScale()}.bind(this));var a=new cc.Node;a.width=cc.winSize.width,a.height=cc.winSize.height,this.node.addChild(a,99999),a.addComponent(cc.BlockInputEvents),this.game.effectMgr.play(SoundEffectPath.choose_bonus_upgrade_click)},shuffleWithBonus:function(t,e){if(this.shuffle(t),e){this.shuffle(e),console.log("chooseBonusMenu shuffleWithBonus options",e);for(var i=0,a=0;a<e.length;a++){var n=e[a]&&e[a]+TalentConfig.lvlUpRange[0]||TalentConfig.lvlUpRange[0];n&&n>TalentConfig.lvlUpRange[1]&&(n=TalentConfig.lvlUpRange[1]),console.log("chooseBonusMenu shuffleWithBonus rarityNeed",n,a);for(var s=0+i;s<t.length;s++){var o=t[s].rarity||0;if(null!=n&&o==n){console.log("chooseBonusMenu rarityNeed find",n,t[s].id,s);var r=t.splice(s,1);t.splice(0,0,r[0]),i++;break}}}console.log("chooseBonusMenu final array",t)}return t},addArray:function(t,e){for(var i in t)e[i]&&(t[i]+=e[i]);return t},rollBonus:function(t){for(var e=t&&t[0]||0,i=[],a=TalentConfig.lvlUpRange[0]+e;a<=TalentConfig.lvlUpRange[1];a++)i.push(TalentConfig.rarity[a].rollPower);return+kit.rollWithPower(i)},initTalent:function(){if(this.fixOptions)for(var t in i=[],this.fixOptions)i.push(TalentDefine[this.fixOptions[t]]);else{var e=this.game.gameManager&&this.game.gameManager.getChapterProgress(),i=Talent.getPool(null,e,this.noOptions,{lvlup:!0}),a=this.lvl,n=TalentConfig.lvlUpBonus[a];n&&(this.bonus=this.addArray(this.bonus,n),console.log("chooseBonusMenu initTalent lvlUpBonus",n,this.bonus));var s=[0,0,0];for(var t in s)s[t]+=this.rollBonus(n);this.bonus=this.addArray(this.bonus,s),console.log("chooseBonusMenu initTalent rollBonus",s,this.bonus),this.shuffleWithBonus(i,this.bonus),i=i.slice(0,3)}return this.chooseArray=i,i},closeCb:function(){cc.Platformsdk.hideBanner()},changeOptions:function(t){t&&(this.game.popTimeScale(),menuManager.close(),menuManager.pop("prefab/chooseBonus",{lvl:this.lvl,game:this.game,bonus:TalentConfig.adBonus,noOptions:[this.chooseArray[0].id,this.chooseArray[1].id,this.chooseArray[2].id]}))},changeWeaponByVideo:function(){cc.Platformsdk.showVideo(TJ.ADID.war_choose_optionsChange,this.changeOptions.bind(this))},onMenuClose:function(t){this._super(t)}}),cc._RF.pop()},{Menu:"Menu",TalentDefine:"TalentDefine"}],WItem_add_leg:[function(t,e){"use strict";cc._RF.push(e,"fed59SXAd1CLoIBhSuVHtFt","WItem_add_leg"),cc.Class({extends:t("PopLittleWinItem"),properties:{txtLab1:cc.Label,hpNum:cc.Label},updateUI:function(t,e){this.cb=t.cb,e.cb=this.callBack.bind(this);var i=cc.Platformsdk.videoEnable();this.adid=TJ.ADID.add_leg,i?(this.txtLab1.string="Video acquisition",this.number=10,this.btnStr2="OK",this.btnIconType2=1):(this.txtLab1.string="",this.number=20,this.btnStr2="50",this.btnIconType2=3),this.hpNum.string=this.number,cc.Platformsdk.showBanner(),cc.Platformsdk.hideCustom()},callBack:function(t){t?this.cb&&this.cb(this.number):this.cb&&this.cb(0)},start:function(){},onDestroy:function(){cc.Platformsdk.showCustom()}}),cc._RF.pop()},{PopLittleWinItem:"PopLittleWinItem"}],WItem_collect:[function(t,e){"use strict";cc._RF.push(e,"7fd0ebC5rxOBIRZiFIMq+iQ","WItem_collect"),cc.Class({extends:t("PopLittleWinItem"),ctor:function(){},properties:{imgSp:cc.Sprite},updateUI:function(t){if(this._clickBgToHide=!0,this.idx=t.idx,this.idx)if(this.title={1:"",2:"",3:"",5:""}[t.idx],1===this.idx){reskit.setSpNodeFrame(this.imgSp,OperUrl.collectImg(this.idx+"_1"));var e=this.imgSp.node,i=new cc.instantiate(e);i.x=527,i.parent=e.parent,reskit.setSpNodeFrame(i.getComponent(cc.Sprite),OperUrl.collectImg(this.idx+"_2"));var a=new cc.Node,n=a.addComponent(cc.Sprite);reskit.setSpNodeFrame(n,OperUrl.collect_jt),a.angle=18,a.parent=e;var s=new cc.instantiate(a);reskit.setSpNodeFrame(s.getComponent(cc.Sprite),OperUrl.collect_jt),s.angle=-150,s.parent=i,a.opacity=0,s.opacity=0,e.runAction(cc.sequence(cc.callFunc(function(){a.runAction(cc.sequence(cc.moveTo(0,86,125),cc.delayTime(.3),cc.fadeIn(.5),cc.moveTo(.7,191,210).easing(cc.easeQuarticActionOut()),cc.delayTime(1.5),cc.fadeOut(0)))},this),cc.delayTime(2.5),cc.moveTo(.7,-527,0).easing(cc.easeQuarticActionOut()),cc.delayTime(2.5),cc.moveTo(0,0,0)).repeatForever()),i.runAction(cc.sequence(cc.delayTime(2.5),cc.moveTo(.7,0,0).easing(cc.easeQuarticActionOut()),cc.callFunc(function(){s.runAction(cc.sequence(cc.moveTo(0,156,176),cc.fadeIn(.3),cc.moveTo(.7,72,60).easing(cc.easeQuarticActionOut()),cc.delayTime(1.5),cc.fadeOut(0)))},this),cc.delayTime(2.5),cc.moveTo(0,527,0)).repeatForever())}else reskit.setSpNodeFrame(this.imgSp,OperUrl.collectImg(this.idx))},callBack:function(){},start:function(){}}),cc._RF.pop()},{PopLittleWinItem:"PopLittleWinItem"}],WItem_decompose:[function(t,e){"use strict";cc._RF.push(e,"d2c1cqb7u9HJZjTfNV4sV3C","WItem_decompose"),cc.Class({extends:t("PopLittleWinItem"),properties:{c_material_d:cc.Node,item_material:cc.Prefab},updateUI:function(t){if("decompose"===t.type){var e=t.show,i=t.rndShow;for(var a in e)this.addItem(a,e[a]);for(var a in i)this.addItem(a,-1)}cc.Platformsdk.showBanner()},addItem:function(t,e){var i=nodekit.createNode(this.item_material);i.scale=1.1,i.parent=this.c_material_d;var a=OperDefine.getFinalKey(t);i.getComponent("Item_material").updateUI(a,e)},start:function(){},onDestroy:function(){}}),cc._RF.pop()},{PopLittleWinItem:"PopLittleWinItem"}],WItem_event_zq:[function(t,e){"use strict";cc._RF.push(e,"2f027tTpptAZJz+sB2mefCZ","WItem_event_zq"),cc.Class({extends:t("PopLittleWinItem"),ctor:function(){this.signDay=1,this.curDay=1,this.itemJsList={}},properties:{c_sign:cc.Node,item_sign:cc.Prefab,scrollView:cc.ScrollView},updateUI:function(){for(var t in this.initEventData(),OperDefine.zhongqiu){var e=nodekit.createNode(this.item_sign);e.parent=this.c_sign;var i=e.getComponent("Item_sign"),a=OperDefine.zhongqiu[t];i.init({def:a,PopSign:this,isZQ:1}),this.itemJsList[t]=i,this.updateItem(t)}},initEventData:function(){operkit.checkEventZQData(1)&&operkit.checkEventZQData(2)&&operkit.checkEventZQData(3)&&setTimeout(function(){this.scrollView.scrollToPercentVertical(0)}.bind(this),50)},itemCb:function(t){t<2?(operkit.setEventZQData(t),this.showReward(t)):cc.Platformsdk.showVideo(TJ.ADID.event_zhongqiu,function(e){e&&(operkit.setEventZQData(t),this.showReward(t))}.bind(this))},showReward:function(t){this.updateItem(t);var e=OperDefine.zhongqiu[t],i=e.goods.split(","),a=e.nums.split(","),n={};for(var s in i)n[OperDefine.getFinalKey(i[s])]=a[s];menuManager.pop("sub2#/operate/prefab/pop_reward",{obj:n}),OperBridge.checkReddotById("tag_main")},updateItem:function(t){var e,i=OperDefine.zhongqiu[t].time,a=this.itemJsList[t];a&&(e=operkit.checkEventZQData(t)?0:operutils.isTimeOut(i)?a.day<2?1:2:4,a.updateBtn(e))}}),cc._RF.pop()},{PopLittleWinItem:"PopLittleWinItem"}],WItem_gift_bargain:[function(t,e){"use strict";cc._RF.push(e,"6e5e8TKrvdCPqt2fxUH5J6+","WItem_gift_bargain"),cc.Class({extends:t("PopLittleWinItem"),ctor:function(){},properties:{timeLab:cc.Label},start:function(){},updateUI:function(t,e){this.cb=t.cb,e.cb=this.callBack.bind(this),this.adid=TJ.ADID.gift_bargain,this.mItemList={},this.mItemList[OperBridge.MONEY_TYPE.GOLD]=5e3,this.mItemList[OperBridge.MONEY_TYPE.LEG]=10,this.giftBargainTime=operkit.getGiftBargainDownTime(),this.giftBargainTime?this.schedule(this.startCountdown,1,cc.macro.REPEAT_FOREVER,.1):this.timeLab.string="Available",cc.Platformsdk.showBanner()},addItem:function(t,e,i){var a=nodekit.createNode(this.item_material);a.parent=i;var n=OperDefine.getFinalKey(t);a.getComponent("Item_material").updateUI(n,e)},callBack:function(t){if(t){for(var e in this.mItemList)OperBridge.addSomethingByK(e,this.mItemList[e],function(t){!t||"e"!==t&&"m"!==t||OperBridge.toEquipTab(nodekit.createNode(node),node.convertToWorldSpaceAR(cc.v2(0,0)),.5)});operkit.giftBargainIsSend()}cc.game.emit("reset_gift_bargain"),this.cb&&this.cb(t),menuManager.close()},startCountdown:function(){this.giftBargainTime<=0&&(this.giftBargainTime=0,this.unschedule(this.startCountdown)),this.timeLab.string=""+operutils.formatTime2ByS(this.giftBargainTime),this.giftBargainTime--}}),cc._RF.pop()},{PopLittleWinItem:"PopLittleWinItem"}],WItem_material:[function(t,e){"use strict";cc._RF.push(e,"62010TUrQlPqpeBAFhyc2X3","WItem_material"),cc.Class({extends:t("PopLittleWinItem"),properties:{imgNode:cc.Node,desLab:cc.Label},updateUI:function(t){this._clickBgToHide=!0,this.title=t.title,this.desLab.string=t.des,OperBridge.createLatNodeByKey(t._k,{pNode:this.imgNode,scale:1.1})},start:function(){cc.Platformsdk.showBanner()},onDestroy:function(){}}),cc._RF.pop()},{PopLittleWinItem:"PopLittleWinItem"}],WItem_offline_extra:[function(t,e){"use strict";cc._RF.push(e,"61610wfawZI86e53IqXJwKU","WItem_offline_extra"),cc.Class({extends:t("PopLittleWinItem"),properties:{line1Node:cc.Node,line2Node:cc.Node,item_material:cc.Prefab},start:function(){cc.Platformsdk.videoBtnShow(TJ.ADID.offline_extra)},updateUI:function(t){var e=t.obj;this.cb=t.cb,this.mItemList={};var i=Object.keys(e),a=i.length;for(var n in this.line1Node.scale=a<4?1.1:1,this.line2Node.active=a>4,i){var s=i[n];n<3?this.addItem(s,e[s],this.line1Node):n>3?this.addItem(s,e[s],this.line2Node):this.addItem(s,e[s],a>4?this.line2Node:this.line1Node)}setTimeout(function(){cc.Platformsdk.showBanner(),cc.Platformsdk.hideCustom()},100)},addItem:function(t,e,i){var a=nodekit.createNode(this.item_material);a.parent=i;var n=OperDefine.getFinalKey(t);a.getComponent("Item_material").updateUI(n,e),a._k=n,a.num=parseInt(e),this.mItemList[n]=a},clickBtn2:function(){nodekit.playMusic(SoundEffectPath.op_click),cc.Platformsdk.showVideo(TJ.ADID.offline_extra,function(t){t&&this.addReward()}.bind(this))},addReward:function(){for(var t in this.mItemList){var e=this.mItemList[t];OperBridge.addSomethingByK(e._k,e.num,function(t){!t||"e"!==t&&"m"!==t||OperBridge.toEquipTab(nodekit.createNode(e),e.convertToWorldSpaceAR(cc.v2(0,0)),.5)})}this.cb&&this.cb(),menuManager.close()},onDestroy:function(){OperBridge.hideHead(!0),cc.Platformsdk.showCustom()}}),cc._RF.pop()},{PopLittleWinItem:"PopLittleWinItem"}],WItem_offline:[function(t,e){"use strict";cc._RF.push(e,"84e03QT65pHaqE//9O2Nim+","WItem_offline"),cc.Class({extends:t("PopLittleWinItem"),ctor:function(){this.timeLimit=21600},properties:{goldLab:cc.Label,timeLab:cc.Label,numberLab:cc.Label,goldSp:cc.Sprite},start:function(){},updateUI:function(){var t=operkit.getTalentLvById(8);this.perMGoldNum=t?1*OperDefine.talentInfo[8]["lv"+t]:OperDefine.OFFLINE_DEFAULT_NUM,this.goldLab.string="+"+this.perMGoldNum+"/min";var e=operkit.getOfflineTime(),i=operutils.disTimeS(e);this.secondSum=i>this.timeLimit?this.timeLimit:i,this.secondYu=0,this.updateTime(),this.updateGoldNum(),this.secondSum<this.timeLimit&&this.startSchedule(),cc.Platformsdk.showBanner(),cc.Platformsdk.hideCustom()},startSchedule:function(){this.scheduleRuning||(this.scheduleRuning=!0,this.schedule(function(){this.secondSum<this.timeLimit?(this.secondSum++,this.updateTime()):this.stopSchedule()}.bind(this),1))},stopSchedule:function(){this.scheduleRuning&&(this.scheduleRuning=!1,this.unscheduleAllCallbacks())},updateTime:function(){var t="";this.secondSum>=this.timeLimit&&(this.secondSum=this.timeLimit,this.timeLab.node.color=new cc.Color(255,0,0,255),t="(MAX)"),this.timeLab.string=operutils.formatTime2ByS(this.secondSum)+t,this.secondYu=this.secondSum%60,0===this.secondYu&&this.updateGoldNum()},updateGoldNum:function(){this.goldNumber=Math.floor(this.secondSum/60)*this.perMGoldNum,this.numberLab.string="x"+this.goldNumber,reskit.setSpNodeFrame(this.goldSp,OperUrl.getMoneyImgByNum(OperBridge.MONEY_TYPE.GOLD,this.goldNumber))},clickBtn1:function(){if(nodekit.playMusic(SoundEffectPath.op_click),this.goldNumber<1)return OperBridge.toastTip("No income yet");var t=Math.floor(this.secondSum/60/60);if(t>0){for(var e={},i=0;i<t;i++){var a=operutils.getTargetKeysByWeight(OperDefine.offlineEx),n=OperDefine.offlineEx[a],s=n.k;e[s]?e[s]+=n.num:e[s]=n.num}menuManager.pop("sub#/operate/prefab/popwin/poplittlewin",{type:"offlineEx",obj:e})}this.addReward(this.goldNumber,t)},addReward:function(t,e){OperBridge.toastTip("Get gold coins x"+t),e>0?OperBridge.showHeadAndAddMoney(OperBridge.MONEY_TYPE.GOLD,t,1):(cc.Platformsdk.showCustom(),OperBridge.addSomethingByK(OperBridge.MONEY_TYPE.GOLD,t)),this.secondSum=this.secondYu,this.goldNumber=0,operkit.updateOfflineTime(this.secondSum),OperBridge.checkReddotById("tag_main"),menuManager.close()}}),cc._RF.pop()},{PopLittleWinItem:"PopLittleWinItem"}],WItem_setting:[function(t,e){"use strict";cc._RF.push(e,"9c730JFZXFNabia40BrJUYf","WItem_setting"),cc.Class({extends:t("PopLittleWinItem"),properties:{versionLab:cc.Label},updateUI:function(){this.resetSettingBtn("yy"),this.resetSettingBtn("yx"),this.versionLab.string="v"+OperDefine.codeVersion,cc.Platformsdk.showBanner(),cc.Platformsdk.hideCustom()},resetSettingBtn:function(t){var e=operkit.getSoundSwitch(t),i=cc.find(t+"/btn/txt",this.node).getComponent(cc.Label),a=cc.find(t+"/btn",this.node).getComponent(cc.Sprite);reskit.setSpNodeFrame(a,e?OperUrl.c_btn_yellow:OperUrl.c_btn_blue),i.string=e?"ON":"OFF"},clickSettingBtn:function(t,e){var i=operkit.setSoundSwitch(e);this.resetSettingBtn(e),"yx"===e&&(window.isSoundOpened=i),"yy"===e&&(window.isBGMOpened=i,i?LoadBundleRes(BGMPath.mainTheme,cc.AudioClip,function(t,e){t?cc.log("load AudioClip err",t):cc.audioEngine.playMusic(e,!0)}):cc.audioEngine.stopMusic())},start:function(){},onDestroy:function(){cc.Platformsdk.showCustom()}}),cc._RF.pop()},{PopLittleWinItem:"PopLittleWinItem"}],WItem_sign:[function(t,e){"use strict";cc._RF.push(e,"83e257fcYRBE4NDx+ft2/iW","WItem_sign"),cc.Class({extends:t("PopLittleWinItem"),ctor:function(){this.signDefine=null,this.signDay=1,this.curDay=1,this.itemJsList={}},properties:{c_sign:cc.Node,item_sign:cc.Prefab},updateUI:function(){this.initSignData(),setTimeout(function(){for(var t in this.signDefine){var e=nodekit.createNode(this.item_sign);e.parent=this.c_sign;var i=e.getComponent("Item_sign");i.init({def:this.signDefine[t],PopSign:this}),this.itemJsList[t]=i,this.updateItem(t)}}.bind(this),20),cc.Platformsdk.showBanner(),cc.Platformsdk.hideCustom()},initSignData:function(){var t=operkit.getSignData();if(t){var e=t.split(","),i=e[0].split("-"),a=e[1],n=parseInt(i[0]),s=i[1];operutils.isNewDay(a)?(this.signDay=this.curDay=n+1,this.signDay>7&&(this.signDay=this.curDay=1)):"c"===s&&(this.curDay=n,this.signDay=!1)}var o=operkit.getSignCount();this.signDefine=o<7?OperDefine.sign1:7===o?this.signDay?OperDefine.sign2:OperDefine.sign1:OperDefine.sign2},itemCb:function(t,e){"newdaytime"===e?(this.signDay=this.curDay=this.curDay+2,this.updateItem(t)):"sign"===e&&(this.signDay?t<this.signDay?OperBridge.toastTip("Checked in"):t>this.signDay?OperBridge.toastTip("The day hasn't arrived yet~"):this.signDay==this.curDay?(operkit.setSignData(this.signDay+"-c"),this.signDay=!1,this.showReward(t)):cc.Platformsdk.showVideo(TJ.ADID.sign_next,function(e){e&&(operkit.setSignData(this.signDay+"-n"),this.signDay=!1,this.showReward(t))}.bind(this)):OperBridge.toastTip("Checked in"))},clickBtn:function(){this.itemCb(this.signDay,"sign")},showReward:function(t){this.updateItem(t),this.updateItem(t+1);var e=this.signDefine[t],i=e.goods.split(","),a=e.nums.split(","),n={};for(var s in i)n[OperDefine.getFinalKey(i[s])]=a[s];menuManager.pop("sub2#/operate/prefab/pop_reward",{obj:n,cb:function(){menuManager.close()}}),OperBridge.checkReddotById("tag_main")},updateItem:function(t){var e,i=this.itemJsList[t];i&&(e=this.signDay?i.day<this.curDay?0:i.day===this.curDay?1:4:i.day<=this.curDay?0:4,i.updateBtn(e))},onDestroy:function(){cc.Platformsdk.showCustom()}}),cc._RF.pop()},{PopLittleWinItem:"PopLittleWinItem"}],WeaponDefine:[function(t,e){"use strict";cc._RF.push(e,"8952cYKR2lBVLU3w1JhXcDf","WeaponDefine");var i=t("PharahGrenade");for(var a in t("Grenade2"),t("saw"),t("Knife"),t("Knife_doctor"),t("fist"),t("bat"),t("broadsword"),t("hammer"),window.WeaponShopList={melee:["knife","axe","saw"],range:["pistol","UMP","shotgun","rifle","sniperrifle","rocket","M249"]},window.WeaponDefine={pistol:{bltCt:7,bltPreLimit:195,name:"M1911",bltType:"pistol",reloadTime:.6,recoil:.1,recoilLimit:.1,recoilRecoverRate:.08,atkSpdScale:1,weight:45,aimRange:3e3,aimOffsetX:0,aimMaxDegree:1,aimBest:!0,selfSlow:1,attackSound:"sound/weapon/pistol",attackSeq:[{t:1/48,x:0,y:80,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a),Effect.DropShell(t,e,i,8,0,1.2,a)}},{t:1/48},{t:1/43,attackInterval:10/43}],anime:{prefix:"Pistol_"},atkDmg:70,blt:[{name:"",kb:1.4,sx:.3,sy:.3,sx1:.7,sy1:.7,noBlend:!0,st:.05,anchorY:.2,frm:"bullet/sq/98k",length:65,dmg:300,n:1,wd:0,d:0,spd:4e3,rnd:0,l:2500,thrDecline:.75,thrDeath:3,smoke:"BulletSmoke",hurtStopTime:.45,hurtStopCD:1.7}]},AK47:{bltCt:20,name:"AK47",bltPreLimit:150,reloadTime:1,recoil:.195,recoilLimit:.42,recoilOnMove:0,recoilRecoverRate:1.5,atkSpdScale:.8,weight:70,aimRange:3e3,bltType:"rifle",selfSlow:.8,attackSound:"sound/24H/M4A1",ingameImage:"uiz/ingame/weapon/2",bltImage:"uiz/ingame/blt/rile",recoverBltCt:15,statFunc:function(t){return 7*t},colorPic:"uiz/weapon/ak47",attackSeq:[{t:1/48,x:16,y:70,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a),Effect.DropShell(t,e,i,8,-58,1.2,a)}},{t:1/16}],atkDmg:0,anime:{prefix:"auto_",slot:"FAMAS"},blt:[{name:"",kb:1.6,sx:1,sy:1,sx1:.8,sy1:.8,noBlend:!0,st:.05,anchorY:.2,frm:"bullet/sq/98k",length:65,dmg:300,n:1,wd:1,d:.04,spd:4300,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"BulletSmoke"}],cost:0,unlockLvl:0,upgradeCostFunc:function(t){return 1e3*(.045*Math.pow(t-1,2.3)+(t-1)/200+1)},showStat:{atkDmg:2,atkSpd:2,bltCt:10},rarity:2},S12K:{bltCt:8,name:"S12k",bltPreLimit:120,reloadTime:1.5,recoil:.08,recoilLimit:.4,recoilRecoverRate:.055,atkSpdScale:1,weight:70,aimRange:3e3,bltType:"shotgun",selfSlow:.8,attackSound:"sound/weapon/shotgun",ingameImage:"uiz/ingame/weapon/2",bltImage:"uiz/ingame/blt/rile",colorPic:"uiz/weapon/m4",attackSeq:[{t:1/24,x:18,y:90,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a),Effect.DropShell(t,e,i,8,-58,1.4,a)}},{t:.125,attackInterval:4/24}],atkDmg:0,anime:{prefix:"auto_",display:"s12k",slot:"FAMAS"},standardAtkRatio:1,blt:[{name:"",kb:.4,sx:.7,sy:.7,sx1:.5,sy1:.5,noBlend:1,st:.05,anchorY:.2,frm:"bullet/sq/98k",length:65,dmg:300,n:7,wd:0,d:.45,spd:3200,rnd:1.5,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:1.1,hurtStopCD:3.5},{name:"",kb:.4,sx:.5,sy:.5,sx1:1.7,sy1:1.7,noBlend:!1,st:.05,anchorY:.2,frm:"bullet/sq/8",length:65,dmg:300,n:2,wd:1,d:.1,spd:3200,rnd:1,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:1.1,hurtStopCD:3.5,smoke:"BulletSmoke"}],recoverBltCt:15,statFunc:function(t){return 200*t},cost:0,unlockLvl:0,upgradeCostFunc:function(t){return 1e3*(.045*Math.pow(t-1,2.3)+(t-1)/200+1)},rarity:2,showStat:{atkDmg:2,atkSpd:2,bltCt:10}},Kar98k:{bltCt:5,bltPreLimit:60,name:"Kar98k",reloadTime:.9,recoil:.1,recoilLimit:.1,recoilRecoverRate:.5,atkSpdScale:1.3,weight:70,aimRange:3e3,bltType:"sniperrifle",attackSound:"sound/weapon/sniper",ingameImage:"uiz/ingame/weapon/5",bltImage:"uiz/ingame/blt/sniper",critChance:.2,recoverBltCt:5,selfSlow:.8,colorPic:"uiz/weapon/98k",attackSeq:[{t:2/24},{t:1/24,x:18.5,y:80,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,43,1.3,a)}},{t:7/24,attackInterval:14/24}],atkDmg:0,anime:{prefix:"sniper_",pull:!0},standardAtkRatio:.28,blt:[{name:"",kb:3.8,sx:.8,sy:.8,sx1:1.1,sy1:1.1,noBlend:!0,st:.05,anchorY:.2,frm:"bullet/sq/98k",length:65,dmg:300,n:1,wd:0,d:0,spd:5e3,rnd:0,l:3e3,radius:15,thrDecline:.8,thrCount:3,hurtStopTime:1.5,hurtStopCD:2.2,alwayThrough:1,smoke:"BulletSmoke",hitShake:2,hitEffectScale:1.3}],statFunc:function(t){return 1200*t},cost:0,unlockLvl:0,upgradeCostFunc:function(t){return 1200*(.045*Math.pow(t-1,2.3)+(t-1)/200+1)},rarity:2,showStat:{atkDmg:10,atkSpd:2,bltCt:1}},S686:{bltCt:6,name:"S686",bltPreLimit:120,reloadTime:1.6,recoil:.08,recoilLimit:.4,recoilRecoverRate:.055,atkSpdScale:1,weight:70,aimRange:2e3,bltType:"shotgun",selfSlow:.8,attackSound:"sound/weapon/shotgun",ingameImage:"uiz/ingame/weapon/2",bltImage:"uiz/ingame/blt/rile",colorPic:"uiz/weapon/m4",attackSeq:[{t:1/24,x:18,y:90,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a),Effect.DropShell(t,e,i,8,-58,1.4,a)}},{t:2/24},{t:1/24,x:18,y:90,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a),Effect.DropShell(t,e,i,8,-58,1.4,a)}},{t:.125,attackInterval:8/24}],atkDmg:0,anime:{prefix:"auto_",display:"s12k",slot:"FAMAS"},standardAtkRatio:1,blt:[{name:"",kb:.012,sx:.5,sy:.5,sx1:1.3,sy1:1.3,noBlend:!1,st:.05,anchorY:.2,frm:"bullet/sq/9",length:65,dmg:300,n:5,wd:0,d:.45,spd:3200,rnd:1.1,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:1.1,hurtStopCD:3.5,smoke:"BulletSmoke"},{name:"",kb:.012,sx:.5,sy:.5,sx1:1.7,sy1:1.7,noBlend:!1,st:.05,anchorY:.2,frm:"bullet/sq/8",length:65,dmg:300,n:2,wd:1,d:.1,spd:3200,rnd:1,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:1.1,hurtStopCD:3.5,smoke:"BulletSmoke"}],recoverBltCt:15,statFunc:function(t){return 200*t},cost:0,unlockLvl:0,upgradeCostFunc:function(t){return 1e3*(.045*Math.pow(t-1,2.3)+(t-1)/200+1)},rarity:2,showStat:{atkDmg:2,atkSpd:2,bltCt:10}},UZI:{bltCt:40,name:"UZI",bltPreLimit:150,reloadTime:.8,recoil:.21,recoilLimit:.5,recoilOnMove:0,recoilRecoverRate:1.4,atkSpdScale:1.1,weight:70,aimRange:3e3,bltType:"rifle",selfSlow:.8,attackSound:"sound/24H/M4A1",ingameImage:"uiz/ingame/weapon/2",bltImage:"uiz/ingame/blt/rile",recoverBltCt:15,statFunc:function(t){return 7*t},colorPic:"uiz/weapon/ak47",attackSeq:[{t:1/48,x:16,y:70,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,33,null,a),Effect.DropShell(t,e,i,8,-58,1.2,a)}},{t:1/48}],atkDmg:0,anime:{prefix:"auto_",slot:"FAMAS"},blt:[{name:"",kb:.8,sx:.3,sy:.5,sx1:1.05,sy1:1.15,st:.05,anchorY:.2,frm:"bullet/sq/4",length:65,dmg:300,n:1,wd:1,d:.04,spd:4300,rnd:0,l:3e3,thrDecline:.75,thrDeath:3,hurtStopTime:.8,hurtStopCD:3.5,smoke:"BulletSmoke"}],cost:0,unlockLvl:0,upgradeCostFunc:function(t){return 1e3*(.045*Math.pow(t-1,2.3)+(t-1)/200+1)},showStat:{atkDmg:2,atkSpd:2,bltCt:10},rarity:2},MK47:{bltCt:20,bltPreLimit:60,name:"MK47",reloadTime:1.3,recoil:.1,recoilLimit:.4,recoilRecoverRate:.15,atkSpdScale:1.2,weight:70,aimRange:3e3,bltType:"sniperrifle",attackSound:"sound/weapon/awp1",ingameImage:"uiz/ingame/weapon/5",bltImage:"uiz/ingame/blt/sniper",critChance:.2,recoverBltCt:5,selfSlow:.8,colorPic:"uiz/weapon/98k",attackSeq:[{t:2/24},{t:1/24,x:18.5,y:80,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,43,1.3,a)}},{t:1/24,attackInterval:2/24}],atkDmg:0,anime:{prefix:"sniper_"},standardAtkRatio:.28,blt:[{name:"",kb:.025,sx:.8,sy:.8,sx1:2.5,sy1:2.5,noBlend:!0,st:.05,anchorY:.2,frm:"bullet/sq/9",length:65,dmg:300,n:1,wd:0,d:0,spd:5e3,rnd:0,l:3e3,radius:50,thrDecline:.8,thrCount:3,hurtStopTime:1.5,hurtStopCD:2.2,thr:.8,hitShake:2,hitEffectScale:1.3}],statFunc:function(t){return 1200*t},cost:0,unlockLvl:0,upgradeCostFunc:function(t){return 1200*(.045*Math.pow(t-1,2.3)+(t-1)/200+1)},rarity:2,showStat:{atkDmg:10,atkSpd:2,bltCt:1}},RPG:{bltCt:20,bltPreLimit:60,name:"RPG",reloadTime:1.3,recoil:.1,recoilLimit:.4,recoilRecoverRate:.15,atkSpdScale:1.2,weight:70,aimRange:3e3,bltType:"sniperrifle",attackSound:"sound/weapon/rocket",ingameImage:"uiz/ingame/weapon/5",bltImage:"uiz/ingame/blt/sniper",critChance:.2,recoverBltCt:5,selfSlow:.8,colorPic:"uiz/weapon/98k",attackSeq:[{t:2/24},{t:1/24,x:18.5,y:80,blt:0,effect:function(t,e,i,a){Effect.FireLight(t,e,i,0,43,1.3,a)}},{t:1/24,attackInterval:2/24}],atkDmg:0,anime:{prefix:"auto_",display:"mgl",slot:"FAMAS"},standardAtkRatio:.28,blt:[{name:"",ctor:i,st:.3,anchorY:.9,frm:"bullet/player/genzhongdaodan1",length:65,radius:40,minradius:70,hurtradius:180,dmg:800,dmgk:20,kb:4500,n:1,wd:0,d:0,hurtStopTime:2,hurtStopCD:2.5,spd:3e3,rnd:0,l:1350,bombEff:Effect.MissleExplosive,smoke:"BulletSmoke"}],statFunc:function(t){return 1200*t},cost:0,unlockLvl:0,upgradeCostFunc:function(t){return 1200*(.045*Math.pow(t-1,2.3)+(t-1)/200+1)},rarity:2,showStat:{atkDmg:10,atkSpd:2,bltCt:1}},MGX:{bltCt:20,bltPreLimit:60,name:"MGX",reloadTime:1.3,recoil:.05,recoilLimit:.1,recoilRecoverRate:.15,atkSpdScale:1.2,weight:70,aimRange:3e3,bltType:"sniperrifle",attackSound:"sound/weapon/fkymo",ingameImage:"uiz/ingame/weapon/5",bltImage:"uiz/ingame/blt/sniper",critChance:.2,recoverBltCt:5,selfSlow:.8,colorPic:"uiz/weapon/98k",attackSeq:[{t:1/48,x:13.5,y:80,blt:0,effect:function(t,e,i,a){Effect.LaserFireLight(t,e,i,0,43,.6,a)}},{t:1/48,x:23.5,y:80,blt:0,effect:function(t,e,i,a){Effect.LaserFireLight(t,e,i,0,43,.6,a)}},{t:1/48,attackInterval:1/24}],atkDmg:0,anime:{prefix:"auto_",display:"lazer",slot:"FAMAS"},standardAtkRatio:.28,blt:[{name:"",kb:.025,sx:1.3,sy:1,sx1:1.3,sy1:1,noBlend:!1,st:.05,anchorY:.2,frm:"bullet/player/playerbullet_04",length:65,dmg:300,n:1,wd:0,d:0,spd:5e3,rnd:0,l:3e3,radius:50,thrDecline:.8,thrCount:3,hurtStopTime:1.5,hurtStopCD:2.2,thr:.8,hitShake:2,hitEffect:Effect.LaserHitFloor2,hitFloorEffect:Effect.LaserHitFloor2}],statFunc:function(t){return 1200*t},cost:0,unlockLvl:0,upgradeCostFunc:function(t){return 1200*(.045*Math.pow(t-1,2.3)+(t-1)/200+1)},rarity:2,showStat:{atkDmg:10,atkSpd:2,bltCt:1}}},WeaponDefine)WeaponDefine[a].id=a,WeaponDefine[a].name||(WeaponDefine[a].name=WeaponDefine[a].id),WeaponDefine[a].ingameImage||(WeaponDefine[a].ingameImage="uiz/ingame/new/gun"),WeaponDefine[a].type||(WeaponDefine[a].type="range"),WeaponDefine[a].bltType||("melee"==WeaponDefine[a].type?WeaponDefine[a].bltType=a:WeaponDefine[a].bltType="pistol"),WeaponDefine[a].animeType=WeaponDefine[a].animeType||WeaponDefine[a].bltType;for(var n in window.TempTestWeaponDefine=[],WeaponDefine)"range"==WeaponDefine[n].type&&TempTestWeaponDefine.push(WeaponDefine[n]);var s={0:{lvlToStar:10},1:{lvlToStar:10},2:{lvlToStar:10},3:{lvlToStar:10},4:{lvlToStar:10},5:{lvlToStar:10}};window.WeaponTraitDefine={atkSpd:{addStat:["atkSpdScale",.1],res:"res/camp/armory/1.png"},crit:{addStat:["critChance",.2],res:"res/camp/armory/2.png"},impale:{addStat:["blt",{thr:.2}],res:"res/camp/armory/3.png"},StarTraitInfiniteAmmo1:{buff:"StarTraitInfiniteAmmo1",res:"res/camp/armory/4.png"},StarTraitInfiniteAmmo2:{buff:"StarTraitInfiniteAmmo2",res:"res/camp/armory/5.png"}},window.GetWeaponLvlRequireForRarity=function(t,e){for(var i=0,a=WeaponDefine[t].rarity;a<=e-1;a++)i+=5*s[a].lvlToStar;return i},window.GetWeaponTraitList=function(t,e){var i=WeaponDefine[e],a=GetWeaponRarityInfoByLvl(t,e).star;if(a){var n=[];if(i.starTrait)for(var s=0;s<a;s++)n.push(i.starTrait[s]);return n}},window.GetWeaponRarityInfoByLvl=function(t,e){t=t||1;for(var i,a=WeaponDefine[e].rarity||0,n=0,o=a;o<=5;o++){var r=s[o];if(t<(i=n+5*r.lvlToStar)||5==o){var c=Math.floor((t-n)/r.lvlToStar);c=c>4?4:c;var h=GetWeaponRarityPic(o-a,e);return{rarity:o,star:c,name:GetWeaponRarityName(o-a,e),pic:h}}n=i}},window.GetWeaponRarityPic=function(t,e){return t<=0||!WeaponDefine[e].rarityPic?WeaponDefine[e].colorPic:WeaponDefine[e].rarityPic[t-1]?WeaponDefine[e].rarityPic[t-1]:WeaponDefine[e].rarityPic[WeaponDefine[e].rarityPic.length-1]},window.GetWeaponUpgradeCost=function(t,e){var i=GetWeaponRarityInfoByLvl(e,t).rarity;return WeaponDefine[t].upgradeCostFunc(e,i)},window.GetWeaponRarityName=function(t,e){return t<=0||!WeaponDefine[e].rarityName?WeaponDefine[e].name:WeaponDefine[e].rarityName[t-1]?WeaponDefine[e].rarityName[t-1]:WeaponDefine[e].rarityName[WeaponDefine[e].rarityName.length-1]},window.GetWeaponDamage=function(t,e,i){var a=WeaponDefine[t],n=GetWeaponRarityInfoByLvl(e,t).rarity,s=a.statFunc||WeaponDefine.pistol.statFunc,o=i&&i.unlockLvl&&WeaponDefine[t].atkDmgDynamic&&WeaponDefine[t].atkDmgDynamic(i.unlockLvl)||WeaponDefine[t].atkDmg;return o+s(e,n,o)},window.GetWeaponPower=function(t,e,i){var a=WeaponDefine[t],n=i&&i.unlockLvl&&WeaponDefine[t].atkDmgDynamic&&WeaponDefine[t].atkDmgDynamic(i.unlockLvl)||WeaponDefine[t].atkDmg;return a.power&&a.power(e,n,i&&i.unlockLvl)||GetWeaponDamage(t,e,i)},cc._RF.pop()},{Grenade2:"Grenade2",Knife:"Knife",Knife_doctor:"Knife_doctor",PharahGrenade:"PharahGrenade",bat:"bat",broadsword:"broadsword",fist:"fist",hammer:"hammer",saw:"saw"}],WeaponMasterBuff:[function(t,e){"use strict";cc._RF.push(e,"5a9a8MJZ+9Kg682dS59Kr0o","WeaponMasterBuff"),cc.Class({extends:t("Buff"),begin:function(){this.cdTime=this.define.cdTime,this.cdTimer=0,this.attr=this.define.attr||"critChance",this.attrNum=this.define.attrNum||0,this.weaponId=this.define.weaponId,this.weaponType=this.define.type,this.attrNum&&(this.obj.registCb(this,"onEquip"),this.obj.registCb(this,"onUnEquip")),this.define.buff&&(this.obj.registOnHitCb(this),this.buff=kit.clone(this.define.buff),this.buff.symbol=getUniqueSymbol()),this.targetCDSymbol=getUniqueSymbol()},onEquip:function(){(this.weaponType&&this.weaponType==this.obj.weapon.define.type||this.weaponId&&this.weaponId==this.obj.weapon.define.id)&&this.obj.attribute.add(this.attr,this.attrNum)},onUnEquip:function(){(this.weaponType&&this.weaponType==this.obj.weapon.define.type||this.weaponId&&this.weaponId==this.obj.weapon.define.id)&&this.obj.attribute.add(this.attr,-this.attrNum)},onHit:function(t,e,i){if((this.weaponType&&this.weaponType==this.obj.weapon.define.type||this.weaponId&&this.weaponId==this.obj.weapon.define.id)&&this.define.buff&&!i.getBuff(this.targetCDSymbol)){i.setBuff(this.buff);var a={ctor:Buff,t:this.define.cdTime,symbol:this.targetCDSymbol};i.setBuff(a)}},end:function(){this.obj.unregistOnHurtCb(this)}}),cc._RF.pop()},{Buff:"Buff"}],WeaponSteadyBuff:[function(t,e){"use strict";cc._RF.push(e,"2ec4bX6EHVK1pWRI6EkrpNk","WeaponSteadyBuff"),cc.Class({extends:t("Buff"),begin:function(){},end:function(){},excute:function(){this.obj.isMove?this.affected&&(this.affected=!1,this.obj.weapon.recoilRate=this.obj.weapon.define.recoil):this.affected||(this.affected=!0,this.obj.weapon.recoilRate=0)}}),cc._RF.pop()},{Buff:"Buff"}],WeaponTrialNpc:[function(t,e){"use strict";cc._RF.push(e,"f6e99ZC1B9D5rviMoV5ByvW","WeaponTrialNpc");var i=cc.Class({extends:t("Npc"),init:function(t,e,i){this._super(t,e,i),this.game=i,this.effectMgr=this.game.effectMgr,t=this.define,e=this.config,this.isAIEnabled=!1},showEffect:function(){},initAvatar:function(){this.avatarNode=this.effectMgr.createSprite(0,0,this.define.avatar||"npc/master"),this.addChild(this.avatarNode)},activateNpc:function(){menuManager.pop("prefab/WeaponTrialPopMenu2",this)},onClose:function(){this.remove(),this.removeEffect()}});e.exports=i,cc._RF.pop()},{Npc:"Npc"}],WeaponTrialPopMenu:[function(t,e){"use strict";cc._RF.push(e,"b50bam0gYhJq7HYezUQKkF5","WeaponTrialPopMenu"),t("TalentDefine"),cc.Class({extends:t("Menu"),properties:{},onLoad:function(){},shuffle:function(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),a=[t[e],t[i]];t[i]=a[0],t[e]=a[1]}},start:function(){cc.Platformsdk.showBanner()},closeCb:function(){cc.Platformsdk.hideBanner()},cancel:function(){this.game.popTimeScale(),this.npc.onClose&&this.npc.onClose(),menuManager.close()},init:function(t){var e,i,a=t.game;this.npc=t,this.game=a,this.game.pushTimeScale(),Math.random()<.5?(i="npc/lazer",e='"Ghost" Special Rifle\n(Try 5 levels)',this.weaponID="MGX"):(i="npc/rpg",e='"Hellfire" grenade launcher\n(Try 5 levels)',this.weaponID="RPG");var n=this.node.getChildByName("content").getComponent(cc.Sprite);a.effectMgr.loadSprite(n,i),this.node.getChildByName("des").getComponent(cc.Label).string=e,cc.Platformsdk.videoBtnShow(TJ.ADID.war_weapon_trial)},initTalent:function(){var t=Math.random()<.5&&[TalentDefine[2]]||[TalentDefine[6]];return this.chooseArray=t,t},changeWeaponByVideo:function(){cc.Platformsdk.showVideo(TJ.ADID.war_weapon_trial,this.changeWeapon.bind(this))},getCard:function(t){if(t){this.game.popTimeScale();var e=this.define;Talent.effect(this.game.hero,e),this.npc.onClose&&this.npc.onClose(),menuManager.close()}},changeWeapon:function(t){if(t){var e=this.weaponID;this.game.gameManager.changeWeapon(e),this.game.effectMgr.play(SoundEffectPath.chooseTalent),menuManager.close(),this.game.popTimeScale(),this.npc.onClose&&this.npc.onClose()}}}),cc._RF.pop()},{Menu:"Menu",TalentDefine:"TalentDefine"}],Weapon:[function(t,e){"use strict";cc._RF.push(e,"0351dP9tppAOYwTFikh9/Uc","Weapon"),window.WeaponIndex=0;var i=cc.Class({init:function(t,e){this.weaponIndex=WeaponIndex,WeaponIndex++,this.define=t,e=e||{},this.config=e,this.config=e,this.blt=kit.clone(this.define.blt),this.blt2=kit.clone(this.define.blt2),this.attackSequence=kit.clone(this.define.attackSeq),this.attackSequence2=kit.clone(this.define.attackSeq2),this.aimRange=this.define.aimRange||1e3,this.name=t.name,this.type=t.type||"range",this.bltMax=this.config.bltCt||this.define.bltCt,this.infiniteBltPrepare=e.infiniteBltPrepare,this.bltCt=0,this.bltType=this.define.bltType,cc.log("bltType:"+this.bltType),this.bltPool=e.bltList,this.bltPool||(this.bltPool={}),this.bltPool[this.bltType]||(this.bltPool[this.bltType]=this.define.bltPreLimit),"saw"==this.define.id&&(this.bltMax=this.bltPool[this.bltType]),this.reload(),this.reloadTime=this.define.reloadTime,this.bltDownRate=1,this.infiniteBltPrepare&&"melee"==this.type&&(this.bltDownRate=0),this.atkDmg=this.config.atkDmg||this.define.atkDmg,this.critChance=this.define.critChance,this.atkSpdScale=this.define.atkSpdScale||1,this.weight=this.define.weight||5,this.attackSound=this.define.attackSound,this.selfSlow=this.define.selfSlow||.5,this.recoil=0,this.recoilRate=this.define.recoil||.2,this.recoilLimit=this.define.recoilLimit||1,this.recoilRecoverRate=this.define.recoilRecoverRate||.1,this.recoilOnMove=this.define.recoilOnMove||0,this.buff=[]},onEquip:function(t){if(this.buff.length>0)for(var e in this.buff)t.setBuffById(this.buff[e])},onUnEquip:function(t){if(this.buff.length>0)for(var e in this.buff)t.removeBuffById(this.buff[e])},updateLvl:function(t){if(t&&(this.config||(this.config={}),this.config.lvl=t),t=this.config&&this.config.lvl){var e=PlayerData.getWeaponStat(this.define.id);this.atkDmg=GetWeaponDamage(this.define.id,t,e);var i=GetWeaponRarityInfoByLvl(t,this.define.id).star;if(this.buff=[],i&&this.define.starTrait)for(var a=0;a<i;a++){var n=WeaponTraitDefine[this.define.starTrait[a]];n.addStat&&(this[n.addStat[0]]=kit.addObjs(this[n.addStat[0]],this[n.addStat[1]])),n.buff&&this.buff.push(n.buff)}}},refill:function(){this.bltCt=0,this.bltPool[this.bltType]=1e4,this.reload()},initBonus:function(t,e){t&&(t[this.type+"AttackScale"]&&(this.atkDmg*=t[this.type+"AttackScale"]+1),t.attackScale&&(this.atkDmg*=t.attackScale+1),t.rangeBltMaxBonus&&"range"==this.type&&(this.bltMax*=t.rangeBltMaxBonus+1,this.reload()),t.meleeBltBonus&&"melee"==this.type&&(this.bltDownRate/=t.meleeBltBonus+1),t.blt&&(this.blt=t.blt&&kit.addObjs(t.blt,e.blt),this.blt2=t.blt&&kit.addObjs(t.blt,e.blt2)),t.bltCt&&(this.bltMax+=t.bltCt,this.reload()),this.critChance+=t.critChance||0,this.recoilRate+=t.recoilRate||0,this.reloadTime+=t.reloadTime||0,this.atkSpdScale+=t.atkSpdScale||0,this.selfSlow+=t.selfSlow||0)},fire:function(t){return t!=this.type?this.bltCt:(-1!=this.bltMax&&(this.bltCt-=this.bltDownRate),this.recoil+=this.recoilRate,this.recoil>this.recoilLimit&&(this.recoil=this.recoilLimit),this.bltCt)},updateRecoil:function(t){this.recoil-=this.recoilRecoverRate*t,this.recoil<0&&(this.recoil=0)},getBltPrepared:function(){return this.bltPool[this.bltType]||1e4},reload:function(){return this.bltPool[this.bltType]||(this.bltPool[this.bltType]=0),this.infiniteBltPrepare?this.bltCt=this.bltMax:this.bltPool[this.bltType]>this.bltMax-this.bltCt?(this.bltPool[this.bltType]-=this.bltMax-this.bltCt,this.bltCt=this.bltMax):(this.bltCt=this.bltPool[this.bltType]+this.bltCt,this.bltPool[this.bltType]=0),-1==this.bltMax&&(this.bltCt=1,this.bltPool[this.bltType]=0),this.bltCt},canReload:function(){return(this.infiniteBltPrepare||this.bltPool[this.bltType]>0)&&this.bltCt<this.bltMax}});e.exports=i,cc._RF.pop()},{}],WebBlockGrenade:[function(t,e){"use strict";cc._RF.push(e,"549f56a7H9JFLGaxsWW+pm/","WebBlockGrenade"),cc.Class({extends:t("BlockGrenade"),move:function(t,e){this._super(t,e)},updateLogic:function(t){this.sprite.rotation-=45,this._super(t)}}),cc._RF.pop()},{BlockGrenade:"BlockGrenade"}],WidowPoisonGrenade:[function(t,e){"use strict";cc._RF.push(e,"964f6uC2FdKWZ0wC0P4tOR4","WidowPoisonGrenade"),cc.Class({extends:t("PoisonGrenade"),initSprite:function(){if(!this.game.fastMode){var t=this.define,e=this.effectMgr.createSprite(0,0,"entity/guafulei/lower");e.setAnchorPoint(t.anchorX||.5,t.anchorY||.85),t.noBlend,this.game.bindScheduler(e),this.game.camera.addChild(e,11),this.sprite=e;var i=this.effectMgr.createSprite(0,0,"entity/guafulei/upper"),a=e.getContentSize();i.setPosition(a.width/2,a.height/2),e.addChild(i,10);var n=cc.repeatForever(cc.rotateBy(2,360));i.runAction(n);var s=this.effectMgr.createSprite(0,0,"entity/guafulei/blue");s.scale=.4,a=e.getContentSize(),s.setPosition(a.width/2,a.height/2),e.addChild(s,10.5),n=cc.repeatForever(cc.sequence(cc.spawn(cc.fadeIn(.02),cc.scaleTo(.02,.4)),cc.scaleTo(.2,.3),cc.fadeOut(.2),cc.delayTime(.5))),s.runAction(n)}}}),cc._RF.pop()},{PoisonGrenade:"PoisonGrenade"}],WithoutHurtGetBuffBuff:[function(t,e){"use strict";cc._RF.push(e,"dc564Nt5gJObYk9aDl+d14s","WithoutHurtGetBuffBuff"),cc.Class({extends:t("Buff"),begin:function(){this.obj.registOnHurtCb(this),this.chance=this.define.chance||1,this.bonusChance=this.define.bonusChance||0,this.obj.registCb(this,"onWin")},onHurt:function(){Math.random()<this.chance?(this.hurted=!0,this.chance=this.define.chance||1):this.chance+=this.bonusChance},onWin:function(){this.hurted||this.define.winCheckCB&&this.define.winCheckCB()},end:function(){this.obj.unregistOnHurtCb(this),this.obj.unregistCb(this,"onWin")},excute:function(){},buff:function(){var t=this.define.spawnBuff,e={t:this.define.buffTime};this.define.attrIndex&&(e.addScale=[[this.define.attrIndex,this.define.attrNum]]),this.obj.setBuffById(t,e)}}),cc._RF.pop()},{Buff:"Buff"}],WuweiSkill:[function(t,e){"use strict";cc._RF.push(e,"74212js3JlEr6klLHZdyCHY","WuweiSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.game.effectMgr.play(SoundEffectPath.zenyatta_Wuwei),this.r=this.define.r,this.reHp=this.define.reHp,this.a=this.define.a,this.addtionAtk=this.define.addtionAtk,this.resist=this.define.resist,this.dt=this.define.dt,this.idleTimer=0;var t=this.obj,e=t.attribute;if(t.setNoAttack(!0),t.setNoMove(!0),t.setNoRotate(!0),t.setNoSkills(!0),e.add("armorLevel",this.a),t.setForcedAnime("skill",1),t.avatar.floatArmature.enabled=!1,t.refreshAvatar(),t.isInvincible++,this.orgW=t.weight,t.weight=-1,!this.game.fastMode){var i=Effect.ZenyattaUlt(t);i.opacity=0,i.runAction(cc.sequence(cc.fadeIn(.2),cc.delayTime(this.define.t),cc.fadeOut(1))),this.sp=i;var a=this.game.effectMgr.createParticle(t.x,t.y,"zenyatta_ult2"),n=a.getComponent(cc.ParticleSystem);n.positionType=cc.ParticleSystem.PositionType.RELATIVE,n.autoRemoveOnFinish=!0,this.game.camera.addChild(a,1e5),this.obj.runAction(cc.sequence(cc.delayTime(.25),cc.callFunc(function(){var e,i;(i=(e=this.game.effectMgr.createParticle(t.x,t.y,"zenyatta_ult")).getComponent(cc.ParticleSystem)).positionType=cc.ParticleSystem.PositionType.RELATIVE,i.autoRemoveOnFinish=!0,this.game.camera.addChild(e,1e5),this.p1=i,(i=(e=this.game.effectMgr.createParticle(t.x,t.y,"zenyatta_ult3")).getComponent(cc.ParticleSystem)).positionType=cc.ParticleSystem.PositionType.RELATIVE,i.autoRemoveOnFinish=!0,this.game.camera.addChild(e,1e5),p.startRadius=this.r,p.endRadius=this.r,this.p2=p},this))),this.obj.runAction(cc.scaleBy(.1,1.1))}this.map=[]},excute:function(t){var e=this.obj;if(this.idleTimer+=t,!(this.idleTimer<this.dt)){this.idleTimer=0;var i=e.x,a=e.y,n=this.r,s=e.team,o=g_sharedContactManager.contactList;for(var r in o){var c=o[r];if(!c.isSensor&&c._isActiveContact&&!c.isDead&&s==c.team){var h=i-c.x0,d=a-c.y0;h*h+d*d<=n*n?(c.heal(this.reHp),c!=this.obj&&this.addtionAtk&&!this.map[c.uniqueID]&&(this.callIn(c),this.map[c.uniqueID]=c)):this.addtionAtk&&this.map[c.uniqueID]&&(this.callOut(c),this.map[c.uniqueID]=null)}}}},callIn:function(t){t.attribute.mutScale("atkDmg",1+this.addtionAtk)},callOut:function(t){t.attribute.mutScale("atkDmg",1/(1+this.addtionAtk))},end:function(){this._super();var t=this.obj,e=t.attribute;if(t.runAction(cc.scaleBy(.3,1/1.1)),t.setNoAttack(!1),t.setNoMove(!1),t.setNoRotate(!1),t.setNoSkills(!1),t.refreshAvatar(),e.add("armorLevel",-this.a),t.setForcedAnime(null),t.avatar.floatArmature.enabled=!0,t.refreshAvatar(),t.isInvincible--,t.weight=this.orgW,this.addtionAtk){var i=g_sharedContactManager.contactList;for(var a in i){var n=i[a];this.map[n.uniqueID]&&this.callOut(n)}}this.game.fastMode||(this.sp.destroy(),this.p1.stopSystem(),this.p1.autoRemoveOnFinish=!0,this.p2.stopSystem(),this.p2.autoRemoveOnFinish=!0)}}),cc._RF.pop()},{Skill:"Skill"}],1:[function(t,e,i){"use strict";i.byteLength=function(t){var e=h(t),i=e[0],a=e[1];return 3*(i+a)/4-a},i.toByteArray=function(t){var e,i,a=h(t),o=a[0],r=a[1],c=new s(3*(o+r)/4-r),d=0,l=r>0?o-4:o;for(i=0;i<l;i+=4)e=n[t.charCodeAt(i)]<<18|n[t.charCodeAt(i+1)]<<12|n[t.charCodeAt(i+2)]<<6|n[t.charCodeAt(i+3)],c[d++]=e>>16&255,c[d++]=e>>8&255,c[d++]=255&e;return 2===r&&(e=n[t.charCodeAt(i)]<<2|n[t.charCodeAt(i+1)]>>4,c[d++]=255&e),1===r&&(e=n[t.charCodeAt(i)]<<10|n[t.charCodeAt(i+1)]<<4|n[t.charCodeAt(i+2)]>>2,c[d++]=e>>8&255,c[d++]=255&e),c},i.fromByteArray=function(t){for(var e,i=t.length,n=i%3,s=[],o=0,r=i-n;o<r;o+=16383)s.push(l(t,o,o+16383>r?r:o+16383));return 1===n?(e=t[i-1],s.push(a[e>>2]+a[e<<4&63]+"==")):2===n&&(e=(t[i-2]<<8)+t[i-1],s.push(a[e>>10]+a[e>>4&63]+a[e<<2&63]+"=")),s.join("")};for(var a=[],n=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,c=o.length;r<c;++r)a[r]=o[r],n[o.charCodeAt(r)]=r;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function d(t){return a[t>>18&63]+a[t>>12&63]+a[t>>6&63]+a[63&t]}function l(t,e,i){for(var a,n=[],s=e;s<i;s+=3)a=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),n.push(d(a));return n.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},{}],2:[function(t,e,i){(function(e){"use strict";var a=t("base64-js"),n=t("ieee754"),s=t("isarray");function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,i){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return h(this,t,e,i)}function h(t,e,i,a){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,a){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(a||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===a?new Uint8Array(e):void 0===a?new Uint8Array(e,i):new Uint8Array(e,i,a),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=u(t,e),t}(t,e,i,a):"string"==typeof e?function(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!c.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var a=0|m(e,i),n=(t=r(t,a)).write(e,i);return n!==a&&(t=t.slice(0,n)),t}(t,e,i):function(t,e){if(c.isBuffer(e)){var i=0|f(e.length);return 0===(t=r(t,i)).length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(a=e.length)!=a?r(t,0):u(t,e);if("Buffer"===e.type&&s(e.data))return u(t,e.data)}var a;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(d(e),t=r(t,e<0?0:0|f(e)),!c.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function u(t,e){var i=e.length<0?0:0|f(e.length);t=r(t,i);for(var a=0;a<i;a+=1)t[a]=255&e[a];return t}function f(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function m(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var a=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return G(t).length;default:if(a)return H(t).length;e=(""+e).toLowerCase(),a=!0}}function p(t,e,i){var a=t[e];t[e]=t[i],t[i]=a}function g(t,e,i,a,n){if(0===t.length)return-1;if("string"==typeof i?(a=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return-1;i=t.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof e&&(e=c.from(e,a)),c.isBuffer(e))return 0===e.length?-1:v(t,e,i,a,n);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):v(t,[e],i,a,n);throw new TypeError("val must be string, number or Buffer")}function v(t,e,i,a,n){var s,o=1,r=t.length,c=e.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(t.length<2||e.length<2)return-1;o=2,r/=2,c/=2,i/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){var d=-1;for(s=i;s<r;s++)if(h(t,s)===h(e,-1===d?0:s-d)){if(-1===d&&(d=s),s-d+1===c)return d*o}else-1!==d&&(s-=s-d),d=-1}else for(i+c>r&&(i=r-c),s=i;s>=0;s--){for(var l=!0,u=0;u<c;u++)if(h(t,s+u)!==h(e,u)){l=!1;break}if(l)return s}return-1}function b(t,e,i,a){i=Number(i)||0;var n=t.length-i;a?(a=Number(a))>n&&(a=n):a=n;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");a>s/2&&(a=s/2);for(var o=0;o<a;++o){var r=parseInt(e.substr(2*o,2),16);if(isNaN(r))return o;t[i+o]=r}return o}function k(t,e,i,a){return j(H(e,t.length-i),t,i,a)}function y(t,e,i,a){return j(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,a)}function S(t,e,i,a){return y(t,e,i,a)}function _(t,e,i,a){return j(G(e),t,i,a)}function x(t,e,i,a){return j(function(t,e){for(var i,a,n,s=[],o=0;o<t.length&&!((e-=2)<0);++o)a=(i=t.charCodeAt(o))>>8,n=i%256,s.push(n),s.push(a);return s}(e,t.length-i),t,i,a)}function w(t,e,i){return 0===e&&i===t.length?a.fromByteArray(t):a.fromByteArray(t.slice(e,i))}function B(t,e,i){i=Math.min(t.length,i);for(var a=[],n=e;n<i;){var s,o,r,c,h=t[n],d=null,l=h>239?4:h>223?3:h>191?2:1;if(n+l<=i)switch(l){case 1:h<128&&(d=h);break;case 2:128==(192&(s=t[n+1]))&&(c=(31&h)<<6|63&s)>127&&(d=c);break;case 3:s=t[n+1],o=t[n+2],128==(192&s)&&128==(192&o)&&(c=(15&h)<<12|(63&s)<<6|63&o)>2047&&(c<55296||c>57343)&&(d=c);break;case 4:s=t[n+1],o=t[n+2],r=t[n+3],128==(192&s)&&128==(192&o)&&128==(192&r)&&(c=(15&h)<<18|(63&s)<<12|(63&o)<<6|63&r)>65535&&c<1114112&&(d=c)}null===d?(d=65533,l=1):d>65535&&(d-=65536,a.push(d>>>10&1023|55296),d=56320|1023&d),a.push(d),n+=l}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);for(var i="",a=0;a<e;)i+=String.fromCharCode.apply(String,t.slice(a,a+=C));return i}(a)}i.Buffer=c,i.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},i.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),i.kMaxLength=o(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,i){return h(null,t,e,i)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,i){return function(t,e,i,a){return d(e),e<=0?r(t,e):void 0!==i?"string"==typeof a?r(t,e).fill(i,a):r(t,e).fill(i):r(t,e)}(null,t,e,i)},c.allocUnsafe=function(t){return l(null,t)},c.allocUnsafeSlow=function(t){return l(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,a=e.length,n=0,s=Math.min(i,a);n<s;++n)if(t[n]!==e[n]){i=t[n],a=e[n];break}return i<a?-1:a<i?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var a=c.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var o=t[i];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,n),n+=o.length}return a},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?B(this,0,t):function(t,e,i){var a=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,i);case"utf8":case"utf-8":return B(this,e,i);case"ascii":return A(this,e,i);case"latin1":case"binary":return T(this,e,i);case"base64":return w(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,e,i);default:if(a)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),a=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,i,a,n){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===a&&(a=0),void 0===n&&(n=this.length),e<0||i>t.length||a<0||n>this.length)throw new RangeError("out of range index");if(a>=n&&e>=i)return 0;if(a>=n)return-1;if(e>=i)return 1;if(this===t)return 0;for(var s=(n>>>=0)-(a>>>=0),o=(i>>>=0)-(e>>>=0),r=Math.min(s,o),h=this.slice(a,n),d=t.slice(e,i),l=0;l<r;++l)if(h[l]!==d[l]){s=h[l],o=d[l];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},c.prototype.indexOf=function(t,e,i){return g(this,t,e,i,!0)},c.prototype.lastIndexOf=function(t,e,i){return g(this,t,e,i,!1)},c.prototype.write=function(t,e,i,a){if(void 0===e)a="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)a=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===a&&(a="utf8")):(a=i,i=void 0)}var n=this.length-e;if((void 0===i||i>n)&&(i=n),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var s=!1;;)switch(a){case"hex":return b(this,t,e,i);case"utf8":case"utf-8":return k(this,t,e,i);case"ascii":return y(this,t,e,i);case"latin1":case"binary":return S(this,t,e,i);case"base64":return _(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function A(t,e,i){var a="";i=Math.min(t.length,i);for(var n=e;n<i;++n)a+=String.fromCharCode(127&t[n]);return a}function T(t,e,i){var a="";i=Math.min(t.length,i);for(var n=e;n<i;++n)a+=String.fromCharCode(t[n]);return a}function D(t,e,i){var a=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>a)&&(i=a);for(var n="",s=e;s<i;++s)n+=P(t[s]);return n}function q(t,e,i){for(var a=t.slice(e,i),n="",s=0;s<a.length;s+=2)n+=String.fromCharCode(a[s]+256*a[s+1]);return n}function M(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function E(t,e,i,a,n,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(i+a>t.length)throw new RangeError("Index out of range")}function R(t,e,i,a){e<0&&(e=65535+e+1);for(var n=0,s=Math.min(t.length-i,2);n<s;++n)t[i+n]=(e&255<<8*(a?n:1-n))>>>8*(a?n:1-n)}function I(t,e,i,a){e<0&&(e=4294967295+e+1);for(var n=0,s=Math.min(t.length-i,4);n<s;++n)t[i+n]=e>>>8*(a?n:3-n)&255}function O(t,e,i,a){if(i+a>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function N(t,e,i,a,s){return s||O(t,0,i,4),n.write(t,e,i,a,23,4),i+4}function L(t,e,i,a,s){return s||O(t,0,i,8),n.write(t,e,i,a,52,8),i+8}c.prototype.slice=function(t,e){var i,a=this.length;if((t=~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),(e=void 0===e?a:~~e)<0?(e+=a)<0&&(e=0):e>a&&(e=a),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=c.prototype;else{var n=e-t;i=new c(n,void 0);for(var s=0;s<n;++s)i[s]=this[s+t]}return i},c.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||M(t,e,this.length);for(var a=this[t],n=1,s=0;++s<e&&(n*=256);)a+=this[t+s]*n;return a},c.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||M(t,e,this.length);for(var a=this[t+--e],n=1;e>0&&(n*=256);)a+=this[t+--e]*n;return a},c.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||M(t,e,this.length);for(var a=this[t],n=1,s=0;++s<e&&(n*=256);)a+=this[t+s]*n;return a>=(n*=128)&&(a-=Math.pow(2,8*e)),a},c.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||M(t,e,this.length);for(var a=e,n=1,s=this[t+--a];a>0&&(n*=256);)s+=this[t+--a]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*e)),s},c.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),n.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),n.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),n.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),n.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,i,a){t=+t,e|=0,i|=0,a||E(this,t,e,i,Math.pow(2,8*i)-1,0);var n=1,s=0;for(this[e]=255&t;++s<i&&(n*=256);)this[e+s]=t/n&255;return e+i},c.prototype.writeUIntBE=function(t,e,i,a){t=+t,e|=0,i|=0,a||E(this,t,e,i,Math.pow(2,8*i)-1,0);var n=i-1,s=1;for(this[e+n]=255&t;--n>=0&&(s*=256);)this[e+n]=t/s&255;return e+i},c.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||E(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||E(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||E(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||E(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):I(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||E(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,i,a){if(t=+t,e|=0,!a){var n=Math.pow(2,8*i-1);E(this,t,e,i,n-1,-n)}var s=0,o=1,r=0;for(this[e]=255&t;++s<i&&(o*=256);)t<0&&0===r&&0!==this[e+s-1]&&(r=1),this[e+s]=(t/o>>0)-r&255;return e+i},c.prototype.writeIntBE=function(t,e,i,a){if(t=+t,e|=0,!a){var n=Math.pow(2,8*i-1);E(this,t,e,i,n-1,-n)}var s=i-1,o=1,r=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===r&&0!==this[e+s+1]&&(r=1),this[e+s]=(t/o>>0)-r&255;return e+i},c.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||E(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||E(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||E(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||E(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||E(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,i){return N(this,t,e,!0,i)},c.prototype.writeFloatBE=function(t,e,i){return N(this,t,e,!1,i)},c.prototype.writeDoubleLE=function(t,e,i){return L(this,t,e,!0,i)},c.prototype.writeDoubleBE=function(t,e,i){return L(this,t,e,!1,i)},c.prototype.copy=function(t,e,i,a){if(i||(i=0),a||0===a||(a=this.length),e>=t.length&&(e=t.length),e||(e=0),a>0&&a<i&&(a=i),a===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),t.length-e<a-i&&(a=t.length-e+i);var n,s=a-i;if(this===t&&i<e&&e<a)for(n=s-1;n>=0;--n)t[n+e]=this[n+i];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(n=0;n<s;++n)t[n+e]=this[n+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),e);return s},c.prototype.fill=function(t,e,i,a){if("string"==typeof t){if("string"==typeof e?(a=e,e=0,i=this.length):"string"==typeof i&&(a=i,i=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!c.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var s;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=e;s<i;++s)this[s]=t;else{var o=c.isBuffer(t)?t:H(new c(t,a).toString()),r=o.length;for(s=0;s<i-e;++s)this[s+e]=o[s%r]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function P(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){var i;e=e||1/0;for(var a=t.length,n=null,s=[],o=0;o<a;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===a){(e-=3)>-1&&s.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function G(t){return a.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,i,a){for(var n=0;n<a&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e){var i={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},{}],4:[function(t,e,i){i.read=function(t,e,i,a,n){var s,o,r=8*n-a-1,c=(1<<r)-1,h=c>>1,d=-7,l=i?n-1:0,u=i?-1:1,f=t[e+l];for(l+=u,s=f&(1<<-d)-1,f>>=-d,d+=r;d>0;s=256*s+t[e+l],l+=u,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=a;d>0;o=256*o+t[e+l],l+=u,d-=8);if(0===s)s=1-h;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,a),s-=h}return(f?-1:1)*o*Math.pow(2,s-a)},i.write=function(t,e,i,a,n,s){var o,r,c,h=8*s-n-1,d=(1<<h)-1,l=d>>1,u=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=a?0:s-1,m=a?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(r=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+l>=1?u/c:u*Math.pow(2,1-l))*c>=2&&(o++,c/=2),o+l>=d?(r=0,o=d):o+l>=1?(r=(e*c-1)*Math.pow(2,n),o+=l):(r=e*Math.pow(2,l-1)*Math.pow(2,n),o=0));n>=8;t[i+f]=255&r,f+=m,r/=256,n-=8);for(o=o<<n|r,h+=n;h>0;t[i+f]=255&o,f+=m,o/=256,h-=8);t[i+f-m]|=128*p}},{}],ZanSkill:[function(t,e){"use strict";cc._RF.push(e,"e607ecdr2hHQKaob9xqgfAH","ZanSkill"),cc.Class({extends:t("Skill"),cast:function(){if(this._super())return!0;this.n=this.define.n,this.dmg=this.define.dmg,this.deg=this.define.deg,this.offsetDeg=this.define.offsetDeg,this.l=this.define.l,this.dt=this.define.dt,this.idleTimer=0,this.index=0;var t=this.obj,e=t.attribute;t.setNoAttack(!0),t.setNoMove(!0),t.setNoSkills(!0),t.setNoRotate(!0),t.isInvincible++,this.orgW=t.weight,t.weight=-1,t.stopAttack(),t.refreshAvatar(),this.define.critScale&&e.mutScale("critChance",this.define.critScale);var i=this.offsetDeg*(this.n-1);this.startDeg=t.deg-i/2},excute:function(t){if(this.idleTimer+=t,!(this.idleTimer<this.dt))if(this.idleTimer=0,this.index>=this.n)this.callEnd();else{var e=this.obj,i=e.team,a=e.x0,n=e.y0,s=this.startDeg+this.index*this.offsetDeg,o=g_sharedContactManager.contactList;for(var r in o){var c=o[r];if(!c.isSensor&&c._isActiveContact&&!c.isDead&&i!=c.team){var h=c.x0,d=c.y0,l=c.radius,u=kit.norm(d-n,h-a),f=kit.radian2Degree(Math.asin(l/u));if(u<this.l){var m=kit.vector2Radian(d-n,h-a),p=(s-kit.radian2Degree(m))%360;p>180?p-=360:p<-180&&(p+=360),Math.abs(p)<=this.deg/2+f&&c.hurt(this.dmg,{obj:e})}}}this.index++}},end:function(){this._super();var t=this.obj,e=t.attribute;t.setNoAttack(!1),t.setNoMove(!1),t.setNoSkills(!1),t.setNoRotate(!1),t.isInvincible--,t.weight=this.orgW,t.refreshAvatar(),this.define.critScale&&e.mutScale("critChance",1/this.define.critScale)}}),cc._RF.pop()},{Skill:"Skill"}],bat:[function(t,e){"use strict";cc._RF.push(e,"1f033fRpb1G97sj8Z+a1361","bat");var i=cc.Class({extends:t("Ammo"),init:function(t,e,i){this._super(t,e,i);var a=kit.degree2Radian(this.obj.getRotation());this.knockBackX=this.knockBack*kit.sin(a),this.knockBackY=this.knockBack*kit.cos(a)},initSprite:function(){},onCover:function(t){var e=t.x,i=t.y;this.obj.hit(this.dmg,this,t);var a=1/t.weight;t.knockback&&t.knockback(this.knockBackX*a,this.knockBackY*a),this.game.fastMode||Effect.Slash(t,e,i),this.effectMgr.play(SoundEffectPath.bat_weapon)},updateLogic:function(){g_sharedContactManager.checkAliveEnemy(this,this.x,this.y,this.radius,this.team,this.onCover),this.remove()}});e.exports=i,cc._RF.pop()},{Ammo:"Ammo"}],box:[function(t,e){"use strict";cc._RF.push(e,"155e98jJ7RJPoM60kRG76a5","box"),cc.Class({extends:cc.Component,properties:{animNode:cc.Node,bx2Node:cc.Node,gq2Node:cc.Node,boxSp:cc.Sprite,dgSprite:cc.Sprite,gq1Sprite:cc.Sprite},start:function(){var t=this.node.boxK,e=this.node.openType,i=this.node.boxUrl;if(reskit.setSpNodeFrame(this.boxSp,2===e?i.box_2:i.box_1),1===e){this.animNode.active=!0,"b2"===t?(this.animNode.scale=1,this.bx2Node.active=!0,this.gq2Node.active=!0):(this.animNode.scale=.9,this.bx2Node.active=!1,this.gq2Node.active=!1),reskit.setSpNodeFrame(this.dgSprite,i.store_box_dg),reskit.setSpNodeFrame(this.gq1Sprite,i.store_box_gq);for(var a=1;a<7;a++){var n=cc.find("anim/x"+a,this.node).getComponent(cc.Sprite);reskit.setSpNodeFrame(n,i.store_box_x)}for(a=1;a<11;a++){var s=cc.find("anim/d"+a,this.node).getComponent(cc.Sprite);reskit.setSpNodeFrame(s,i.store_box_d)}}else this.animNode.active=!1}}),cc._RF.pop()},{}],broadsword:[function(t,e){"use strict";cc._RF.push(e,"0e47fk11p5O0qDC5+UpcNj6","broadsword");var i=cc.Class({extends:t("Ammo"),init:function(t,e,i){this._super(t,e,i);var a=kit.degree2Radian(this.obj.getRotation());this.knockBackX=this.knockBack*kit.sin(a),this.knockBackY=this.knockBack*kit.cos(a)},initSprite:function(){},onCover:function(t){var e=t.x,i=t.y;this.obj.hit(this.dmg,this,t);var a=1/t.weight;t.knockback&&t.knockback(this.knockBackX*a,this.knockBackY*a),this.game.fastMode||Effect.Slash(t,e,i)},updateLogic:function(){g_sharedContactManager.checkAliveEnemy(this,this.x,this.y,this.radius,this.team,this.onCover),this.remove()}});e.exports=i,cc._RF.pop()},{Ammo:"Ammo"}],debugGame:[function(t,e){"use strict";cc._RF.push(e,"99fb3EAXM5DwIqH/fv+LC/E","debugGame");var i=!1;cc.Class({extends:cc.Component,properties:{layout:cc.Node,button:cc.Node,toggle:cc.Node,morefunctionlayout:cc.Node},onLoad:function(){console.log("DebugGame init start"),OperDefine.DEBUG?(this.init(),this.node.opacity=i?0:255):this.node.active=!1,console.log("DebugGame init finish")},init:function(){var t=cc.Canvas.instance.node.getChildByName("gamenode").getComponent("LevelLayer");this.game=t,this.game.setTimeLabel(this.node.getChildByName("time").getComponent(cc.Label)),this.node.getChildByName("level").getComponent(cc.Label).string=window.GameManagerConfig.lvl,this.toggle&&(this.toggle.getComponent(cc.Toggle).isChecked=window.NODEPOOL_ACTIVATE),this.moreFunctionList=[{title:"",func:this.hideUI},{title:"",func:this.invincible},{title:"",func:this.showItemGain},{title:"",func:this.death},{title:"",func:this.weaponTrial},{title:"gradient",func:this.gradientShader},{title:"",func:this.empower},{title:"",func:this.dropUpgradeBonus},{title:"",func:this.relicPopMenu},{title:"",func:this.toggleNodePool},{title:"",func:this.merchantTrial},{title:"",func:this.skipToLastLevel}]},skipToLastLevel:function(){var t=this.game.gameManager.levelPool.length-1;this.game.gameManager.nextLevel(t)},relicPopMenu:function(){menuManager.pop("sub3#prefab/relicPopMenu",{game:this.game,nBossKilled:3})},dropUpgradeBonus:function(){Talent.checkCanUpgradeBonus()&&DropItemById("upgradeBonus",{x:this.game.hero.x,y:this.game.hero.y+300},this.game)},popUpgradeTalent:function(){menuManager.pop("prefab/upgradeBonus",{game:this.game})},upgradeTalent:function(){var t=window.GameManagerConfig.talent;for(var e in t){var i=t[e].id;if(TalentDefine[i].upgrade)return cc.log("upgradeTalent id",i),Talent.upgrade(this.game.hero,TalentDefine[i]),void Effect.ShowChooseBonusGain(this.game,TalentDefine[TalentDefine[i].upgrade])}},empower:function(){Talent.effect(this.game.hero,TalentDefine.debug),Effect.ShowChooseBonusGain(this.game,TalentDefine.debug)},gradientShader:function(){var e=t("GradientShaderMgr"),i=this.game.theme.bgSprite;this.game.node.addComponent(e).init(i)},death:function(){this.game.hero.simpleHurt(99999)},showItemGain:function(){Effect.ItemGainMsg(this.game,10031)},createButton:function(t,e,i,a){var n=this.game.effectMgr.createSprite(0,0,"select_1");n.x=t,n.y=e,n.setAnchorPoint(0,1),this.node.addChild(n);var s=this.game.effectMgr.createLabel2(0,0,a,25);s.x=68,s.y=-47,n.addChild(s),n.on(cc.Node.EventType.TOUCH_END,function(){this.onTouch(i)},this)},onTouch:function(t){cc.log("DebugGame onTouch:"+t),this.game.hero.equipWeaponById("range",t)},equipWeapon:function(){this.game.hero.equipWeaponById("AK47"),operkit.addEquip(1001,0,0,1),this.game.gameManager.config.equipment=EquipDefine.getAllAttrs()},weaponTrial:function(){menuManager.pop("prefab/WeaponTrialPopMenu",{game:this.game})},merchantTrial:function(){this.game.moneyGain+=1e4,menuManager.pop("prefab/merchantPopMenu",{game:this.game})},quitGame:function(){menuManager.runWithTransition("mainMenu",{},!0,"mainui")},hideUI:function(){i=!i,this.node.opacity=i?0:255},nextLevel:function(){this.game.nextLevel()},win:function(){this.game.winGame()},toggleNodePool:function(){window.NODEPOOL_ACTIVATE=!window.NODEPOOL_ACTIVATE,cc.log(""+window.NODEPOOL_ACTIVATE),cc.log(""+window.NODEPOOL_ACTIVATE+",")},setAttackMode:function(){window.ATTACK_MODE=!window.ATTACK_MODE,this.node.getChildByName("attackmode").getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string=window.ATTACK_MODE?"":"",window.ATTACK_MODE?(this.game.hero.aimRange*=2,this.game.hero.updateShootRange()):(this.game.hero.aimRange/=2,this.game.hero.updateShootRange())},initTalentList:function(){var t=TalentDefine;if(this.layout.active=!0,!this.initTalent)for(var e in this.initTalent=!0,t){var i=cc.instantiate(this.button);i.active=!0,this.layout.addChild(i),i.on("click",this.onClick,this),i.index=e,i.getChildByName("Background").color=cc.color(0,0,0),i.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string=TalentDefine[e].title,i.getChildByName("Background").getChildByName("Label").color=RarityTextColor[TalentDefine[e].rarity||1]}},initMoreFunctionList:function(){if(i)this.hideUI();else if(this.morefunctionlayout.active=!0,!this.initMoreFunction){var t=this.moreFunctionList;for(var e in t){var a=cc.instantiate(this.button);a.active=!0,this.morefunctionlayout.addChild(a),a.on("click",this.onClickMoreFunction,this),a.index=e,a.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string=this.moreFunctionList[e].title}this.initMoreFunction=!0}},invincible:function(){this.game.hero.setBuffById("invincibleBuff",{t:9999})},onClickMoreFunction:function(t){var e=t.node;this.moreFunctionList[e.index].func.bind(this)(),this.morefunctionlayout.active=!1},onClick:function(t){cc.log("onClick");var e=t.node;this.layout.active=!1,Talent.effect(this.game.hero,TalentDefine[e.index]),Effect.ShowChooseBonusGain(this.game,TalentDefine[e.index])}}),cc._RF.pop()},{GradientShaderMgr:"GradientShaderMgr"}],debugNet:[function(t,e){"use strict";cc._RF.push(e,"6d0e3FnG/9Dtq0AzjE1pMH3","debugNet"),window.editor={},cc._RF.pop()},{}],diamondFrame:[function(t,e){"use strict";cc._RF.push(e,"0b929lmPq1Erp7LOgwd2rcg","diamondFrame"),cc.Class({extends:cc.Component,properties:{num:cc.Node},init:function(t){this.effectMgr=t.effectMgr;var e=operkit.getMoneyData(OperBridge.MONEY_TYPE.DIAMOND);this.num.getComponent(cc.Label).string=Math.round(e),this.num.showNum=e,this.soundCD=.1},update:function(t){var e=operkit.getMoneyData(OperBridge.MONEY_TYPE.DIAMOND);if(this.soundCD-=t,e!=this.num.showNum){var i=Math.abs(e-this.num.showNum)/10;i<2&&(i=2),this.num.showNum=kit.numApproach(this.num.showNum,e,i),this.num.getComponent(cc.Label).string=Math.round(this.num.showNum),this.soundCD<0&&(this.soundCD=.1,this.effectMgr.play(SoundEffectPath.pickup_money))}}}),cc._RF.pop()},{}],editor:[function(t,e){"use strict";cc._RF.push(e,"ae50dlYjcFMI4VsKNYC8883","editor"),t("EntityInit"),window.SORT_LIST=[HERO_SOLDIER_76,MOB_DOG,MOB_SMALLDOG,HUMAN_RIFLEMAN,MOB_DOG_1,HYDRALISK_1,HYDRALISK_2,DRAGON_1,DRAGON_2,MOB_BIGDOG,MOB_WOLF,MOB_FASTDOG,HYDRALISK_1_100,HYDRALISK_1_200,HYDRALISK_3,HYDRALISK_1_300,HYDRALISK_2_1,MOB_DOG_F1,BARRACK,EGG,MANHOLE_COVER,MOB_DOG_F2,HYDRALISK_2_2,HYDRALISK_2_3,BOUNCE_BALL,MOB_FASTDOGS,MOB_DOG_100,MOB_SMALLDOG_100,MOB_BIGDOG_100,HYDRALISK_1_100_100,HYDRALISK_100_3,HYDRALISK_100_2,DRAGON_100_1,DRAGON_100_2,TURRET_1,TURRET_2,HYDRALISK_FLY,MOB_EXPLOSIVEDOG,MOB_BOUNCE,TURRET_3,HYDRALISK_FLY_BOSS,TURRET_4,MOB_BOUNCE_BOSS,MOB_WOLF_BOSS,TURRET_0,HYDRALISK_3_1,HYDRALISK_SL1,HYDRALISK_SL2,HYDRALISK_PD1,HYDRALISK_PD2,HYDRALISK_SL_BOSS,WY_BOSS,PH_BOSS,MOB_EXPLOSIVEDOG_BZ1,HYDRALISK_ZD_1,HYDRALISK_FX_1,HYDRALISK_FX_2,HYDRALISK_FLY_BOSS_2,MOB_BIGBOSS,HYDRALISK_FLY_BOSS_3,HYDRALISK_FX_3,WY_BOSS_JY,GDDM_BOSS,ZD_BOSS_JY,GJCK_BOSS_JY,JQR_BOSS,TURRET_BOSS,FLY_BOSS_JY,ZW_BOSS,SL_BOSS_JY,MOB_BIGBOSS_JY,PX_BOSS,HYDRALISK_FLY_BOSS_4,GDDM_BOSS_XS],window.COND_LIST=[COND.MSG,COND.TIMER,COND.POS,COND.DEED,COND.STATUS,COND.RANDOM],window.ACT_LIST=[ACT.MSG,ACT.CREATE,ACT.REMOVE,ACT.CAMERA,ACT.BORDER,ACT.STATUS,ACT.SWITCH,ACT.CTRL,ACT.AVATAR,ACT.QUEST,ACT.EFFECT,ACT.DELAY,ACT.CHOSE,ACT.SPAWN];var i=[];for(var a in TurretRotateDefine)i.push({n:a,s:a});var n=[];for(var a in TurretRocketAtkDefine)n.push({n:a,s:a});window.ATTRIBUTE_DESCRIBE_SPECIAL={},ATTRIBUTE_DESCRIBE_SPECIAL[TURRET_1]={n:"",v:"special",list:i,info:"id"},ATTRIBUTE_DESCRIBE_SPECIAL[TURRET_2]={n:"",v:"special",list:n,info:"id"};var s=["","","",""],o={n:"",v:"t",info:"0:/1:/2:/3:/9:",t:"int",min:0,max:9,list:[{n:"",s:0},{n:"",s:1},{n:"",s:2},{n:"",s:3},{n:"",s:9}]},r=function(t){return t.t==INDEX_TYPE.ALL?"":t.t==INDEX_TYPE.ME?"":t.t==INDEX_TYPE.ID&&t.i&&ENTITYS[t.i]?ENTITYS[t.i].name:s[t.t||0]+t.i+""},c=[{n:"0",s:0},{n:"1",s:1}],h=[];for(var a in SORT_LIST){var d=SORT_LIST[a],l=ENTITYS[d];l&&h.push({n:l.name+"\n"+d,s:d})}var u={n:"",v:"i",info:"",listFunc:function(t){if(1==t.t)return h;if(2==t.t)return c;if(3==t.t);else if(9!=t.t)return this.entityList}},f=[],m=[];for(var a in ENTITYS_VALUE){var p=ENTITYS_VALUE[a];p.get&&m.push({n:p.n+"\n"+a,s:a}),p.set&&f.push({n:p.n+"\n"+a,s:a})}var g=function(t){this.updateEventArea(t)},v={n:"",v:"1",t:"num",info:",",func:g},b={n:"",v:"2",t:"num",info:",",func:g},k={n:"",v:"3",t:"num",info:",",func:g},y={n:"",v:"4",t:"num",info:",",func:g},S=[{n:""}];for(var a in window.COND_DESCRIBE={},COND_DESCRIBE[COND.TIMER]={n:"",info:"",i:COND.TIMER,quest:1,func:function(t){return t.t+""},v:[{n:"",v:"t",info:"t",t:"num",min:0},{n:"",v:"q",min:0,max:S.length,list:S,info:"0:/n:\n0"}]},S=[{n:""}],POS_QUEST_STR)S.push({n:POS_QUEST_STR[a],s:a});var _=["",""];for(var a in COND_DESCRIBE[COND.POS]={n:"",info:"",i:COND.POS,area:1,func:function(t){return r(t)+(t.c?t.c+"":"")+""+_[t.b||0]},v:[o,u,{n:"",v:"cb",info:"0/1/2\n0",t:"int",min:0,max:2,list:[{n:"",s:0},{n:"",s:1},{n:"",s:2}]},{n:"",v:"c",info:"\n0",t:"int",min:0},{n:"/",v:"b",t:"num",min:0,max:1,list:[{n:"",s:0},{n:"",s:1}],info:"0:/1:\n0"},v,b,k,y,{n:"",v:"q",min:0,max:S.length,list:S,info:"0:/n:\n0"}]},S=[{n:""}],DEED_QUEST_STR)S.push({n:DEED_QUEST_STR[a],s:a});_=["",""];var x=[""];for(var a in COND_DESCRIBE[COND.DEED]={n:"",info:"",i:COND.DEED,func:function(t){return r(t)+x[t.d||0]+(t.ct?t.ct+"":"")+""},v:[o,u,{n:"",v:"d",info:"0,0 (,,)",t:"int",min:0,max:0},{n:"",v:"ct",info:"",t:"int",min:0},{n:"",v:"q",min:0,max:S.length,list:S,info:"0:/n:\n0"}]},S=[{n:""}],STATUS_QUEST_STR)S.push({n:STATUS_QUEST_STR[a],s:a});var w=["","",""],B=["","",""];COND_DESCRIBE[COND.STATUS]={n:"",info:"",i:COND.STATUS,func:function(t){return r(t)+t.n+w[t.b||0]+t.v+""+B[t.cb||0]+(t.c||0)+""},v:[o,u,{n:"",v:"cb",info:"0/1/2\n0",t:"int",min:0,max:2,list:[{n:"",s:0},{n:"",s:1},{n:"",s:2}]},{n:"",v:"c",info:"\n0",t:"int",min:0},{n:"",v:"n",list:m,info:""},{n:"",v:"b",info:"0/1/2\n0",t:"int",min:0,max:2,list:[{n:"",s:0},{n:"",s:1},{n:"",s:2}]},{n:"",v:"v",t:"num",info:""},{n:"",v:"q",min:0,max:S.length,list:S,info:"0:/n:\n0"}]},COND_DESCRIBE[COND.MSG]={n:"",info:"",i:COND.MSG,func:function(t){return""+t.n+""+(t.ct?t.ct+"":"")+""},v:[{n:"",v:"n",info:""},{n:"",v:"ct",info:"\n1",t:"int",min:1}]},COND_DESCRIBE[COND.RANDOM]={n:"",info:"",i:COND.RANDOM,func:function(t){return(t.t?""+t.t+"":"")+(t.n<0?"":t.n||1)+""+t.r+""},v:[{n:"",v:"r",min:0,max:1,info:"01,"},{n:"",v:"t",info:"\n0",t:"num",min:0},{n:"",v:"n",info:",\n1",t:"int",min:-1}]},COND_DESCRIBE[COND.EVENT]={n:"",info:"",i:COND.EVENT,func:function(t){return""+t.e+(t.n?""+t.n+"":"")+""},v:[{n:"",v:"e",info:"",listFunc:function(){return this.eventList}},{n:"",v:"n",info:"\n0",t:"int",min:0}]},window.ACT_DESCRIBE={},ACT_DESCRIBE[ACT.CREATE]={n:"",info:"",i:ACT.CREATE,func:function(t){return""+t.i+""},v:[{n:"",v:"i",info:"by index",listFunc:function(){return this.entityList}},{n:"x",v:"x",info:"x",t:"num"},{n:"y",v:"y",info:"y",t:"num"},{n:"x",v:"rx",info:"0:/1:\n0",t:"int",min:0,max:1,list:[{n:""},{n:"",s:1}]},{n:"y",v:"ry",info:"0:/1:\n0",t:"int",min:0,max:1,list:[{n:""},{n:"",s:1}]}]};var C=["",""];ACT_DESCRIBE[ACT.REMOVE]={n:"",info:"",i:ACT.REMOVE,func:function(t){return C[t.k||0]+r(t)},v:[o,u,{n:"",v:"k",info:"0:/1:\n0",t:"int",min:0,max:1,list:[{n:"",s:0},{n:"",s:1}]}]};var A=["","",""];ACT_DESCRIBE[ACT.CAMERA]={n:"",info:"",i:ACT.CAMERA,func:function(t){return t.l?""+A[t.l]:""+A[0]+r(t)},v:[o,u,{n:"",v:"l",info:"0:/1:/2:\n0",t:"int",min:0,max:2,list:[{n:"",s:0},{n:"",s:1},{n:"",s:2}]},{n:"x",v:"x",info:"x,",t:"num"},{n:"y",v:"y",info:"y,",t:"num"},{n:"s",v:"s",info:"",t:"num",min:.1,max:10},{n:"dt",v:"dt",info:"",t:"num"}]},ACT_DESCRIBE[ACT.BORDER]={n:"",info:"",i:ACT.BORDER,area:1,func:function(t){var e,i="";return(e=(t[1]?""+t[1]:"")+(t[2]?""+t[2]:"")+(t[3]?""+t[3]:"")+(t[4]?""+t[4]:""))&&(i+=e+""),(e=(t[1]?"":"")+(t[2]?"":"")+(t[3]?"":"")+(t[4]?"":""))&&(i&&(i+=","),i+=e+","),i},v:[{n:"",v:"1",t:"mapCell",step:CELL_W,info:",",func:g},{n:"",v:"2",t:"mapCell",step:CELL_W,info:",",func:g},{n:"",v:"3",t:"mapCell",step:CELL_H,info:",",func:g},{n:"",v:"4",t:"mapCell",step:CELL_H,info:",",func:g}]};var T=["","",""];ACT_DESCRIBE[ACT.SWITCH]={n:"",info:"",i:ACT.SWITCH,func:function(t){return T[t.s||0]+""+t.e+(t.r?"":"")},v:[{n:"",v:"e",info:"",listFunc:function(){return this.eventList}},{n:"",v:"s",info:"0:/1:/2:\n0",t:"int",min:0,max:2,list:[{n:"",s:0},{n:"",s:1},{n:"",s:2}]},{n:"",v:"r",info:"1:\n0,",t:"int",min:0,max:1,list:[{n:""},{n:"",s:1}]}]};var D=["",""];ACT_DESCRIBE[ACT.STATUS]={n:"",info:"",i:ACT.STATUS,func:function(t){return""+r(t)+""+t.n+D[t.o||0]+t.v},v:[o,u,{n:"",v:"n",list:f,info:""},{n:"",v:"v",t:"num",info:"",listFunc:function(t){if(cc.log(t.n,ENTITY_VALUE[t.n]),ENTITY_VALUE[t.n])return ENTITY_VALUE[t.n].list}},{n:"",v:"o",info:"0:/1:\n0",t:"int",min:0,max:1,list:[{n:"",s:0},{n:"",s:1}]}]};var q=[];for(var a in ACT_EVENT){var M=ACT_EVENT[a];q.push({n:M.n||a,s:a})}ACT_DESCRIBE[ACT.MSG]={n:"",info:"",i:ACT.MSG,func:function(t){return""+t.n+""},v:[{n:"",v:"n",list:q,info:""}]},ACT_DESCRIBE[ACT.DELAY]={n:"",info:"",i:ACT.DELAY,virtual:1,func:function(t){return(t.t||0)+""},v:[{n:"",v:"t",info:"t",t:"num",min:0}]};var E=[];for(var a in ACT_EFFECT){var R=ACT_EFFECT[a];E.push({n:R.n||a,s:a})}ACT_DESCRIBE[ACT.EFFECT]={n:"",info:"",i:ACT.EFFECT,func:function(t){return""+t.e},v:[{n:"",v:"e",info:"",list:E},{n:"x",v:"x",info:"x",t:"num"},{n:"y",v:"y",info:"y",t:"num"},o,u]};var I=function(t,e,i,a){for(var n=3;n<9;n++)a[n].active=!1;e&&9!=e?e<4?(a[3].active=!0,a[4].active=!0,a[7].active=!0,a[8].active=!0):10==e&&(a[5].active=!0,a[6].active=!0):(a[3].active=!0,a[4].active=!0)},O={0:"",10:"",9:"",1:"1",2:"2",3:"3"};for(var a in ACT_DESCRIBE[ACT.CTRL]={n:"",info:"",i:ACT.CTRL,func:function(t){return""+r(t)+O[t.b]},v:[o,u,{n:"",v:"b",info:"0/9/10/1-3",t:"int",min:0,max:10,func:I,initFunc:I,list:[{n:"",s:0},{n:"",s:10},{n:"",s:9},{n:"1",s:1},{n:"2",s:2},{n:"3",s:3}]},{n:"",v:"a",info:"",t:"int"},{n:"2",v:"d",info:"2",t:"num"},{n:"x",v:"x",info:"x",t:"num"},{n:"y",v:"y",info:"y",t:"num"},{n:"",v:"t2",info:"0:/1:/2:/3:/9:",t:"int",min:0,max:9,list:[{n:"",s:0},{n:"",s:1},{n:"",s:2},{n:"",s:3},{n:"",s:9}]},{n:"",v:"i2",info:"",listFunc:function(t){if(1==t.t2)return h;if(2==t.t2)return c;if(3==t.t2);else if(9!=t.t2)return this.entityList}}]},ACT_DESCRIBE[ACT.SPAWN]={n:"",info:"",i:ACT.SPAWN,func:function(){return""},v:[o,u,{n:"",v:"dt",info:"",t:"num",min:0,max:360},{n:"x",v:"x",info:"x",t:"num"},{n:"y",v:"y",info:"y",t:"num"},{n:"",v:"t2",info:"0:/1:/2:/3:/9:",t:"int",min:0,max:9,list:[{n:"",s:0},{n:"",s:1},{n:"",s:2},{n:"",s:3},{n:"",s:9}]},{n:"",v:"i2",info:"",listFunc:function(t){if(1==t.t2)return h;if(2==t.t2)return c;if(3==t.t2);else if(9!=t.t2)return this.entityList}}]},ACT_DESCRIBE[ACT.AVATAR]={n:"",info:"",i:ACT.AVATAR,func:function(t){return t.n?""+r(t)+""+t.n+"":""+r(t)+""},v:[o,u,{n:"",v:"p",info:"0/1/2,0",t:"int",min:0,max:2,list:[{n:"",s:0},{n:"",s:1},{n:"",s:2}]},{n:"",v:"n",info:"",list:[{n:"",s:"attack"},{n:"",s:"walk"},{n:"",s:"stand"},{n:"",s:"reload"},{n:"",s:"death"}]}]},ACT_DESCRIBE[ACT.CHOSE]={n:"",info:"",i:ACT.CHOSE,virtual:2,func:function(t){return""+t.n+""},v:[{n:"",v:"n",info:",0",t:"int",min:0}]},S=[],QUEST_STR)for(var N in S[a]=[],QUEST_STR[a])S[a][N]={n:QUEST_STR[a][N],s:+N};var L=function(t){return S[t.q-1]};ACT_DESCRIBE[ACT.QUEST]={n:"",info:"",i:ACT.QUEST,func:function(t){return t.q?""+L(t)[t.s||0].n:""},v:[{n:"",v:"q",info:"0/1/2/3,",t:"int",min:1,max:4,list:[{n:""},{n:"",s:1},{n:"",s:2},{n:"",s:3},{n:"",s:4}]},o,u,{n:"",v:"n",info:"0",t:"int",min:0},{n:"",v:"s",info:"0",t:"int",min:0,listFunc:L}]},window.EVENT_DESCRIBE=[{n:"",v:"id",func:function(t,e){t.getChildByName("name").getComponent(cc.Label).string=""+(e?" - "+e:""),this.updateMapLink()},info:""},{n:"x",v:"x",t:"num",func:function(t,e){t.x=e||0},info:"x"},{n:"y",v:"y",t:"num",func:function(t,e){t.y=e||0},info:"y"},{n:"",v:"off",func:function(t,e){t.getChildByName("name").color=e?cc.color(205,50,50):cc.color(255,255,255)},list:[{n:"",s:1},{n:"",s:0}],info:""},{n:"",v:"repeat",t:"int",min:-1,list:[{n:""},{n:"",s:-1}],info:"n.\n.\n."}];var F=[{n:""}];for(var a in SHADER_DEFINE)F.push({n:SHADER_DEFINE[a].n||a,s:a});window.ATTRIBUTE_DESCRIBE=[{n:"",v:"id",func:function(t,e){t.getChildByName("name").getComponent(cc.Label).string=t.define.name+(e?" - "+e:""),this.updateMapLink()},info:""},{n:"x",v:"x",t:"num",func:function(t,e){t.x=e||0},info:"x"},{n:"y",v:"y",t:"num",func:function(t,e){t.y=e||0},info:"y"},{n:"",v:"deg",t:"num",min:-360,max:360,func:function(t,e){t.avatar.angle=-e||0},info:""},{n:"",v:"lvl",info:"excel"},{n:"",v:"team",t:"int",func:function(t){this.updateAura(t)},list:c,info:"\n0:,1~n:"},{n:"",v:"me",t:"int",func:function(t){this.updateAura(t)},list:[{n:"",s:1}],info:"\n1:"},{n:"",v:"c",t:"int",info:",1"},{n:"",v:"t",t:"num",min:0,list:[{n:"",s:0},{n:""}],info:","},{n:"",v:"n",t:"int",info:",1,"},{n:"",v:"m",t:"int",min:0,max:1,list:[{n:"0",s:0},{n:"1",s:1}],info:","},{n:"",v:"r",t:"num",info:",1  00"},{n:"AI",v:"ai",t:"int",list:[{n:"1",s:1},{n:"0",s:0}],info:"ai"},{n:"HP",v:"hp",t:"num",info:""},{n:"",v:"ep",t:"num",info:""},{n:"",v:"hpScale",t:"num",min:0,info:""},{n:"Boss",v:"isBoss",t:"num",min:0,info:""},{n:"",v:"amr0",t:"num",min:0,info:""},{n:"",v:"atk0",t:"num",min:0,info:""},{n:"",v:"scale",t:"num",min:0,info:""},{n:"ID",v:"spawnID",list:h,info:"ID"},{n:"",v:"spawnDt",t:"num",info:""},{n:"",v:"spawnLimit",t:"num",info:""},{n:"",v:"spawnN",t:"num",info:""},{n:"",v:"drop",info:"index"},{n:"shader",v:"shader",func:function(t,e){var i=t.avatar,a=i.animeNode;if(a){var n=a.sprite||a.armatureDisplay;n&&(cc.log("editor bindShader",e),this.bindShader(n,e),"debug"==e?this.showShaderBars(n):this.removeShaderBars())}var s=i.base;s&&(this.bindShader(s.sprite,e),"debug"==e?this.showShaderBars(s.sprite):this.removeShaderBars())},list:F,info:"shader"},{n:"",v:"special",special:1,info:""}],window.CONFIG_DESCRIBE=[{n:"",v:"width",t:"int",min:1,max:100,default:5,func:function(t,e){this.width=e,this.updateBlock(this.mapData),this.updateBlockTheme()},info:""},{n:"",v:"height",t:"int",min:1,max:100,default:5,func:function(t,e){this.height=e,this.updateBlock(this.mapData),this.updateBlockTheme()},info:""},{n:"",v:"name",info:""},{n:"",v:"scale",t:"num",info:",1"},{n:"",v:"lock",t:"bool",info:""},{n:"x",v:"x",t:"num",info:""},{n:"y",v:"y",t:"num",info:""},{n:"",v:"theme",t:"list",func:function(t,e){this.themeDefine=THEME_DEFINE[e||"city"],this.updateBlockTheme()},list:[{n:"2",s:"city2"},{n:"",s:"desert"},{n:"",s:"snow"}],info:""},{n:"",v:"left",t:"mapCell",step:CELL_W,info:","},{n:"",v:"right",t:"mapCell",step:CELL_W,info:","},{n:"",v:"top",t:"mapCell",step:CELL_W,info:","},{n:"",v:"bottom",t:"mapCell",step:CELL_W,info:","},{n:"",v:"noSkills",list:[{n:"",s:1},{n:""}],info:""},{n:"",v:"wf",t:"int",min:0,max:6,list:[{n:""},{n:"1",s:1},{n:"2",s:2},{n:"+3",s:3},{n:"4",s:4},{n:"5",s:5},{n:"+6",s:6}],info:":,\n:,\n\n,"},{n:"",v:"hpScale",t:"num",info:"hpep,1"},{n:"",v:"attackScale",t:"num",info:"hpep,1"},{n:"",v:"weapon",info:"vid"}],window.DEFAULT_MAP={config:{width:12,height:25,wf:4,theme:"city2"},entity:[{x:600,y:400,i:"k",c:1,team:0,me:1,t:0}],block:[],scene:[],event:[]},cc._RF.pop()},{EntityInit:"EntityInit"}],expFrame:[function(t,e){"use strict";cc._RF.push(e,"57e8bPTF+BMh5JnCjcOndHp","expFrame"),cc.Class({extends:cc.Component,properties:{content:cc.Sprite,num:cc.Node,man:cc.Node},init:function(t){this.gameManager=t,this.effectMgr=this.gameManager.effectMgr,this.initUI(),this.waitForChooseBonus=.5},initUI:function(){this.toExp=this.exp=this.gameManager.getExp(),this.toLvl=this.lvl=this.gameManager.getLvl();var t=this.gameManager.getExpRequire(this.lvl);this.content.fillRange=this.exp/t,10==this.lvl?(this.man.active=!0,this.num.active=!1):this.num.getComponent(cc.Label).string=this.lvl,cc.log("expFrame initUI:"+this.lvl)},moveTo:function(t,e,i){this.toLvl=t,this.toExp=e,i&&(this.finishCB=i),cc.log("expFrame moveTo:"+this.toLvl,this.toExp),this.waitForChooseBonus=.5,this.startUpdate=!0},updateLogic:function(t){if(this.startUpdate)if(this.toLvl>this.lvl){var e=0;(i=this.gameManager.getExpRequire(this.lvl))&&(e=this.toLvl-this.lvl>1?3:this.toExp/i+1-this.content.fillRange),(a=2*e)>1&&(a=1),this.content.fillRange+=(.2+a)*t,cc.log("expFrame update fillRange:"+this.content.fillRange),this.content.fillRange>=1&&(this.content.fillRange-=1,this.lvl++,this.exp=0,10==this.lvl?(this.man.active=!0,this.num.active=!1):this.num.getComponent(cc.Label).string=this.lvl,this.gameManager.onLevelup(),this.waitForChooseBonus=.5)}else if(this.toExp>=this.exp){var i,a;if(i=this.gameManager.getExpRequire(this.lvl))n=this.toExp/i;else{this.content.fillRange=1;var n=1}(a=2*(e=n-this.content.fillRange))>1&&(a=1),this.content.fillRange+=(.2+a)*t,this.content.fillRange>=n&&(this.content.fillRange=n,this.exp=this.toExp,this.waitForChooseBonus>0&&(this.waitForChooseBonus-=t),this.finishCB&&(!this.waitForChooseBonus||this.waitForChooseBonus<=0)&&(this.finishCB(),this.finishCB=null,this.startUpdate=!1))}},enableVisible:function(t){"number"!=typeof this.visibleCt&&(this.visibleCt=1),this.visibleCt+=t?1:-1,cc.warn("expFrame enableVisible ct2",this.visibleCt),this.visibleCt>0?this.node.opacity=255:this.node.opacity=0}}),cc._RF.pop()},{}],fist:[function(t,e){"use strict";cc._RF.push(e,"2f35d17jiBFQLcKS5psu0Gc","fist");var i=cc.Class({extends:t("Ammo"),init:function(t,e,i){this._super(t,e,i);var a=kit.degree2Radian(this.obj.getRotation());this.knockBackX=this.knockBack*kit.sin(a),this.knockBackY=this.knockBack*kit.cos(a)},initSprite:function(){},onCover:function(t){var e=t.x,i=t.y;this.obj.hit(this.dmg,this,t);var a=1/t.weight;t.knockback&&t.knockback(this.knockBackX*a,this.knockBackY*a),this.game.fastMode||Effect.Slash(t,e,i)},updateLogic:function(){g_sharedContactManager.checkAliveEnemy(this,this.x,this.y,this.radius,this.team,this.onCover),this.remove()}});e.exports=i,cc._RF.pop()},{Ammo:"Ammo"}],hack:[function(t,e){"use strict";cc._RF.push(e,"e60c6uPkRFH74592RuNnM7G","hack"),window.dragonBones&&(dragonBones.Slot.prototype.setDisplayByName=function(t){if(this._displayDatas){for(var e=0;e<this._displayDatas.length;e++)if(this._displayDatas[e].name==t)return void(this.displayIndex=e);this.displayIndex=-1}}),cc._RF.pop()},{}],hammer:[function(t,e){"use strict";cc._RF.push(e,"017a3klGiZKK4ScB7sE7csf","hammer");var i=cc.Class({extends:t("Ammo"),init:function(t,e,i){this._super(t,e,i);var a=kit.degree2Radian(this.obj.getRotation());this.knockBackX=this.knockBack*kit.sin(a),this.knockBackY=this.knockBack*kit.cos(a)},initSprite:function(){},onCover:function(t){var e=t.x,i=t.y;this.obj.hit(this.dmg,this,t);var a=1/t.weight;t.knockback&&t.knockback(this.knockBackX*a,this.knockBackY*a),this.game.fastMode||Effect.Slash(t,e,i),this.effectMgr.play(SoundEffectPath.hammer_weapon)},updateLogic:function(){g_sharedContactManager.checkAliveEnemy(this,this.x,this.y,this.radius,this.team,this.onCover),this.remove()}});e.exports=i,cc._RF.pop()},{Ammo:"Ammo"}],iconCache:[function(t,e){"use strict";cc._RF.push(e,"837cdKTl55LPZ0tuUg8jRwl","iconCache");var i={init:function(){i.saveData=kit.getSaveData("icon_cache")||{table:{},index:0},i.downloadCbs={}},save:function(){kit.setSaveData("icon_cache",i.saveData),kit.checkSaveData()},get:function(t,e){if(t&&cc.sys.isNative){var a=i.saveData.table[t];a&&jsb.fileUtils.isFileExist(a)?e(t,a):cc.sys.os==cc.sys.OS_ANDROID&&"dream"==cc.Platformsdk.getChannelName()?i.downloadDream(t,e):i.download(t,e)}else t&&!cc.sys.isNative?(cc.log("get file?"+t),cc.loader.loadImg(t,{isCrossOrigin:!0},function(i){e(t,i?"":t)})):e(t,"")},downloadCb:function(t,e){var a=i.downloadCbs[t];a?(i.saveData.table[t]=e,i.save(),a(t,e)):cc.error("download fail: "+e+","+t)},downloadDream:function(t,e){i.downloadCbs[t]=e,i.saveData.index+=1,i.save();var a="icon-"+i.saveData.index,n=jsb.fileUtils.getWritablePath()+GAME_NAME+"icon/",s=n+a;jsb.fileUtils.isDirectoryExist(n)||jsb.fileUtils.createDirectory(n),sdk.getOnlinePicCb=function(t,e){t&&i.downloadCb(e.url,e.file)},cc.Platformsdk.getOnlinePic(t,s,sdk.getOnlinePicCb)},download:function(t,e){i.downloadCbs[t]=e,i.saveData.index+=1,i.save();var a,n="icon-"+i.saveData.index,s=jsb.fileUtils.getWritablePath()+GAME_NAME+"icon/",o=s+n;jsb.fileUtils.isDirectoryExist(s)||jsb.fileUtils.createDirectory(s),i.downloader||((a=new jsb.Downloader).setOnTaskError(i.onTaskError),a.setOnTaskProgress(i.onTaskProgress),a.setOnFileTaskSuccess(i.onFileTaskSuccess),i.downloader=a),(a=i.downloader).createDownloadFileTask(t,o)},onTaskError:function(t,e,i,a){var n=t.requestURL;cc.error("err:"+n),cc.log("onTaskError:"+t.storagePath+"\nerr:"+e+"\nierr:"+i+"\nerrStr:"+a)},onTaskProgress:function(){},onFileTaskSuccess:function(t){var e=t.requestURL,a=t.storagePath;i.downloadCb(e,a)}};window.iconCache=i,cc._RF.pop()},{}],item_more:[function(t,e){"use strict";cc._RF.push(e,"f2420TRiVtIlot+N5X3/jp4","item_more"),cc.Class({extends:cc.Component,properties:{iconSp:cc.Sprite,nameLab:cc.Label},start:function(){this.node.mpsdkAdCfg&&(this.iconSp.spriteFrame=this.node.mpsdkAdCfg.icon,this.nameLab.string=this.node.mpsdkAdCfg.name)},iconClick:function(){this.node.mpsdkAdCfg&&qmSDK.adClick(this.node.mpsdkAdCfg)}}),cc._RF.pop()},{}],"jszip.min":[function(t,e){(function(t,i){"use strict";cc._RF.push(e,"7595coLXQRHC4oakw+9i25A","jszip.min"),window.JSZip=function t(e,i,a){function n(o){if(!i[o]){if(!e[o]){if(s)return s(o,!0);var r=new Error("Cannot find module '"+o+"'");throw r.code="MODULE_NOT_FOUND",r}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){return n(e[o][1][t]||t)},c,c.exports,t,e,i,a)}return i[o].exports}for(var s,o=0;o<a.length;o++)n(a[o]);return n}({1:[function(t,e,i){var a=t("./utils"),n=t("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(t){for(var e,i,n,o,r,c,h,d=[],l=0,u=t.length,f=u,m="string"!==a.getTypeOf(t);l<t.length;)f=u-l,n=m?(e=t[l++],i=l<u?t[l++]:0,l<u?t[l++]:0):(e=t.charCodeAt(l++),i=l<u?t.charCodeAt(l++):0,l<u?t.charCodeAt(l++):0),o=e>>2,r=(3&e)<<4|i>>4,c=1<f?(15&i)<<2|n>>6:64,h=2<f?63&n:64,d.push(s.charAt(o)+s.charAt(r)+s.charAt(c)+s.charAt(h));return d.join("")},i.decode=function(t){var e,i,a,o,r,c,h=0,d=0,l="data:";if(t.substr(0,l.length)===l)throw new Error("Invalid base64 input, it looks like a data url.");var u,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===s.charAt(64)&&f--,t.charAt(t.length-2)===s.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=n.uint8array?new Uint8Array(0|f):new Array(0|f);h<t.length;)e=s.indexOf(t.charAt(h++))<<2|(o=s.indexOf(t.charAt(h++)))>>4,i=(15&o)<<4|(r=s.indexOf(t.charAt(h++)))>>2,a=(3&r)<<6|(c=s.indexOf(t.charAt(h++))),u[d++]=e,64!==r&&(u[d++]=i),64!==c&&(u[d++]=a);return u}},{"./support":30,"./utils":32}],2:[function(t,e){var i=t("./external"),a=t("./stream/DataWorker"),n=t("./stream/DataLengthProbe"),s=t("./stream/Crc32Probe");function o(t,e,i,a,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=i,this.compression=a,this.compressedContent=n}n=t("./stream/DataLengthProbe"),o.prototype={getContentWorker:function(){var t=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new n("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(t,e,i){return t.pipe(new s).pipe(new n("uncompressedSize")).pipe(e.compressWorker(i)).pipe(new n("compressedSize")).withStreamInfo("compression",e)},e.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,i){var a=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e){var i=t("./utils"),a=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var a=0;a<8;a++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,i){var n=a,s=0+i;t^=-1;for(var o=0;o<s;o++)t=t>>>8^n[255&(t^e[o])];return-1^t}(0|e,t,t.length):function(t,e,i){var n=a,s=0+i;t^=-1;for(var o=0;o<s;o++)t=t>>>8^n[255&(t^e.charCodeAt(o))];return-1^t}(0|e,t,t.length):0}},{"./utils":32}],5:[function(t,e,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,e){var i;i="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,i){var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=t("pako"),s=t("./utils"),o=t("./stream/GenericWorker"),r=a?"uint8array":"array";function c(t,e){o.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}i.magic="\b\0",s.inherits(c,o),c.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(r,t.data),!1)},c.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},i.compressWorker=function(t){return new c("Deflate",t)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e){function i(t,e){var i,a="";for(i=0;i<e;i++)a+=String.fromCharCode(255&t),t>>>=8;return a}function a(t,e,a,s,h,d){var l,u,f=t.file,m=t.compression,p=d!==o.utf8encode,g=n.transformTo("string",d(f.name)),v=n.transformTo("string",o.utf8encode(f.name)),b=f.comment,k=n.transformTo("string",d(b)),y=n.transformTo("string",o.utf8encode(b)),S=v.length!==f.name.length,_=y.length!==b.length,x="",w="",B="",C=f.dir,A=f.date,T={crc32:0,compressedSize:0,uncompressedSize:0};e&&!a||(T.crc32=t.crc32,T.compressedSize=t.compressedSize,T.uncompressedSize=t.uncompressedSize);var D=0;e&&(D|=8),p||!S&&!_||(D|=2048);var q=0,M=0;C&&(q|=16),"UNIX"===h?(M=798,q|=function(t){var e=t;return t||(e=C?16893:33204),(65535&e)<<16}(f.unixPermissions)):(M=20,q|=63&(f.dosPermissions||0)),l=A.getUTCHours(),l<<=6,l|=A.getUTCMinutes(),l<<=5,l|=A.getUTCSeconds()/2,u=A.getUTCFullYear()-1980,u<<=4,u|=A.getUTCMonth()+1,u<<=5,u|=A.getUTCDate(),S&&(x+="up"+i((w=i(1,1)+i(r(g),4)+v).length,2)+w),_&&(x+="uc"+i((B=i(1,1)+i(r(k),4)+y).length,2)+B);var E="";return E+="\n\0",E+=i(D,2),E+=m.magic,E+=i(l,2),E+=i(u,2),E+=i(T.crc32,4),E+=i(T.compressedSize,4),E+=i(T.uncompressedSize,4),E+=i(g.length,2),E+=i(x.length,2),{fileRecord:c.LOCAL_FILE_HEADER+E+g+x,dirRecord:c.CENTRAL_FILE_HEADER+i(M,2)+E+i(k.length,2)+"\0\0\0\0"+i(q,4)+i(s,4)+g+x+k}}var n=t("../utils"),s=t("../stream/GenericWorker"),o=t("../utf8"),r=t("../crc32"),c=t("../signature");function h(t,e,i,a){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=i,this.encodeFileName=a,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(h,s),h.prototype.push=function(t){var e=t.meta.percent||0,i=this.entriesCount,a=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,s.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:i?(e+100*(i-a-1))/i:100}}))},h.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var i=a(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=a(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(t){return c.DATA_DESCRIPTOR+i(t.crc32,4)+i(t.compressedSize,4)+i(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var a=this.bytesWritten-t,s=function(t,e,a,s,o){var r=n.transformTo("string",o(s));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(t,2)+i(t,2)+i(e,4)+i(a,4)+i(r.length,2)+r}(this.dirRecords.length,a,t,this.zipComment,this.encodeFileName);this.push({data:s,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},h.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(t){var e=this._sources;if(!s.prototype.error.call(this,t))return!1;for(var i=0;i<e.length;i++)try{e[i].error(t)}catch(t){}return!0},h.prototype.lock=function(){s.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,i){var a=t("../compressions"),n=t("./ZipFileWorker");i.generateWorker=function(t,e,i){var s=new n(e.streamFiles,i,e.platform,e.encodeFileName),o=0;try{t.forEach(function(t,i){o++;var n=function(t,e){var i=t||e,n=a[i];if(!n)throw new Error(i+" is not a valid compression method !");return n}(i.options.compression,e.compression),r=i.options.compressionOptions||e.compressionOptions||{},c=i.dir,h=i.date;i._compressWorker(n,r).withStreamInfo("file",{name:t,dir:c,date:h,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(s)}),s.entriesCount=o}catch(t){s.error(t)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.2.0",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e){var i=t("./utils"),a=t("./external"),n=t("./utf8"),s=(i=t("./utils"),t("./zipEntries")),o=t("./stream/Crc32Probe"),r=t("./nodejsUtils");function c(t){return new a.Promise(function(e,i){var a=t.decompressed.getContentWorker().pipe(new o);a.on("error",function(t){i(t)}).on("end",function(){a.streamInfo.crc32!==t.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}e.exports=function(t,e){var o=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),r.isNode&&r.isStream(t)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var i=new s(e);return i.load(t),i}).then(function(t){var i=[a.Promise.resolve(t)],n=t.files;if(e.checkCRC32)for(var s=0;s<n.length;s++)i.push(c(n[s]));return a.Promise.all(i)}).then(function(t){for(var i=t.shift(),a=i.files,n=0;n<a.length;n++){var s=a[n];o.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(o.comment=i.zipComment),o})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e){var i=t("../utils"),a=t("../stream/GenericWorker");function n(t,e){a.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(n,a),n.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},n.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e){var i=t("readable-stream").Readable;function a(t,e,a){i.call(this,e),this._helper=t;var n=this;t.on("data",function(t,e){n.push(t)||n._helper.pause(),a&&a(e)}).on("error",function(t){n.emit("error",t)}).on("end",function(){n.push(null)})}t("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},e.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,e){e.exports={isNode:void 0!==i,newBufferFrom:function(t,e){if(i.from&&i.from!==Uint8Array.from)return i.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new i(t,e)},allocBuffer:function(t){if(i.alloc)return i.alloc(t);var e=new i(t);return e.fill(0),e},isBuffer:function(t){return i.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e){function i(t,e,i){var a,o=n.getTypeOf(e),d=n.extend(i||{},r);d.date=d.date||new Date,null!==d.compression&&(d.compression=d.compression.toUpperCase()),"string"==typeof d.unixPermissions&&(d.unixPermissions=parseInt(d.unixPermissions,8)),d.unixPermissions&&16384&d.unixPermissions&&(d.dir=!0),d.dosPermissions&&16&d.dosPermissions&&(d.dir=!0),d.dir&&(t=m(t)),d.createFolders&&(a=f(t))&&p.call(this,a,!0);var g,v="string"===o&&!1===d.binary&&!1===d.base64;i&&void 0!==i.binary||(d.binary=!v),(e instanceof c&&0===e.uncompressedSize||d.dir||!e||0===e.length)&&(d.base64=!1,d.binary=!0,e="",d.compression="STORE",o="string"),g=e instanceof c||e instanceof s?e:l.isNode&&l.isStream(e)?new u(t,e):n.prepareContent(t,e,d.binary,d.optimizedBinaryString,d.base64);var b=new h(t,g,d);this.files[t]=b}var a=t("./utf8"),n=t("./utils"),s=t("./stream/GenericWorker"),o=t("./stream/StreamHelper"),r=t("./defaults"),c=t("./compressedObject"),h=t("./zipObject"),d=t("./generate"),l=t("./nodejsUtils"),u=t("./nodejs/NodejsStreamInputAdapter"),f=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},p=function(t,e){return e=void 0!==e?e:r.createFolders,t=m(t),this.files[t]||i.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function g(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,i,a;for(e in this.files)this.files.hasOwnProperty(e)&&(a=this.files[e],(i=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(i,a))},filter:function(t){var e=[];return this.forEach(function(i,a){t(i,a)&&e.push(a)}),e},file:function(t,e,a){if(1!==arguments.length)return t=this.root+t,i.call(this,t,e,a),this;if(g(t)){var n=t;return this.filter(function(t,e){return!e.dir&&n.test(t)})}var s=this.files[this.root+t];return s&&!s.dir?s:null},folder:function(t){if(!t)return this;if(g(t))return this.filter(function(e,i){return i.dir&&t.test(e)});var e=this.root+t,i=p.call(this,e),a=this.clone();return a.root=i.name,a},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter(function(e,i){return i.name.slice(0,t.length)===t}),a=0;a<i.length;a++)delete this.files[i[a].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,i={};try{if((i=n.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");n.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var r=i.comment||this.comment||"";e=d.generateWorker(this,i,r)}catch(t){(e=new s("error")).error(t)}return new o(e,i.type||"string",i.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e){e.exports=t("stream")},{stream:void 0}],17:[function(t,e){var i=t("./DataReader");function a(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(a,i),a.prototype.byteAt=function(t){return this.data[this.zero+t]},a.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),a=t.charCodeAt(2),n=t.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===e&&this.data[s+1]===i&&this.data[s+2]===a&&this.data[s+3]===n)return s-this.zero;return-1},a.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),i=t.charCodeAt(1),a=t.charCodeAt(2),n=t.charCodeAt(3),s=this.readData(4);return e===s[0]&&i===s[1]&&a===s[2]&&n===s[3]},a.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,e){var i=t("../utils");function a(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=a},{"../utils":32}],19:[function(t,e){var i=t("./Uint8ArrayReader");function a(t){i.call(this,t)}t("../utils").inherits(a,i),a.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e){var i=t("./DataReader");function a(t){i.call(this,t)}t("../utils").inherits(a,i),a.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},a.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},a.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},a.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,e){var i=t("./ArrayReader");function a(t){i.call(this,t)}t("../utils").inherits(a,i),a.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,e){var i=t("../utils"),a=t("../support"),n=t("./ArrayReader"),s=t("./StringReader"),o=t("./NodeBufferReader"),r=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||a.uint8array?"nodebuffer"===e?new o(t):a.uint8array?new r(i.transformTo("uint8array",t)):new n(i.transformTo("array",t)):new s(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e){var i=t("./GenericWorker"),a=t("../utils");function n(t){i.call(this,"ConvertWorker to "+t),this.destType=t}a.inherits(n,i),n.prototype.processChunk=function(t){this.push({data:a.transformTo(this.destType,t.data),meta:t.meta})},e.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(t,e){var i=t("./GenericWorker"),a=t("../crc32");function n(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(n,i),n.prototype.processChunk=function(t){this.streamInfo.crc32=a(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e){var i=t("../utils"),a=t("./GenericWorker");function n(t){a.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(n,a),n.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}a.prototype.processChunk.call(this,t)},e.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(t,e){var i=t("../utils"),a=t("./GenericWorker");function n(t){a.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}i.inherits(n,a),n.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(t,e){function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var i=0;i<this._listeners[t].length;i++)this._listeners[t][i].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=i},{}],29:[function(t,e){var a=t("../utils"),n=t("./ConvertWorker"),s=t("./GenericWorker"),o=t("../base64"),r=t("../support"),c=t("../external"),h=null;if(r.nodestream)try{h=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function d(t,e,i){var o=e;switch(e){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=e,this._mimeType=i,a.checkSupport(o),this._worker=t.pipe(new n(o)),t.lock()}catch(t){this._worker=new s("error"),this._worker.error(t)}}d.prototype={accumulate:function(t){return function(t,e){return new c.Promise(function(n,s){var r=[],c=t._internalType,h=t._outputType,d=t._mimeType;t.on("data",function(t,i){r.push(t),e&&e(i)}).on("error",function(t){r=[],s(t)}).on("end",function(){try{var t=function(t,e,i){switch(t){case"blob":return a.newBlob(a.transformTo("arraybuffer",e),i);case"base64":return o.encode(e);default:return a.transformTo(t,e)}}(h,function(t,e){var a,n=0,s=null,o=0;for(a=0;a<e.length;a++)o+=e[a].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(s=new Uint8Array(o),a=0;a<e.length;a++)s.set(e[a],n),n+=e[a].length;return s;case"nodebuffer":return i.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(c,r),d);n(t)}catch(t){s(t)}r=[]}).resume()})}(this,t)},on:function(t,e){var i=this;return"data"===t?this._worker.on(t,function(t){e.call(i,t.data,t.meta)}):this._worker.on(t,function(){a.delay(e,arguments,i)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(a.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,a.nodebuffer=void 0!==i,a.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)a.blob=!1;else{var n=new ArrayBuffer(0);try{a.blob=0===new Blob([n],{type:"application/zip"}).size}catch(t){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(n),a.blob=0===s.getBlob("application/zip").size}catch(t){a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch(t){a.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,i){for(var a=t("./utils"),n=t("./support"),s=t("./nodejsUtils"),o=t("./stream/GenericWorker"),r=new Array(256),c=0;c<256;c++)r[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function h(){o.call(this,"utf-8 decode"),this.leftOver=null}function d(){o.call(this,"utf-8 encode")}r[254]=r[254]=1,i.utf8encode=function(t){return n.nodebuffer?s.newBufferFrom(t,"utf-8"):function(t){var e,i,a,s,o,r=t.length,c=0;for(s=0;s<r;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<r&&56320==(64512&(a=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(a-56320),s++),c+=i<128?1:i<2048?2:i<65536?3:4;for(e=n.uint8array?new Uint8Array(c):new Array(c),s=o=0;o<c;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<r&&56320==(64512&(a=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(a-56320),s++),i<128?e[o++]=i:(i<2048?e[o++]=192|i>>>6:(i<65536?e[o++]=224|i>>>12:(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63),e[o++]=128|i>>>6&63),e[o++]=128|63&i);return e}(t)},i.utf8decode=function(t){return n.nodebuffer?a.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,i,n,s,o=t.length,c=new Array(2*o);for(e=i=0;e<o;)if((n=t[e++])<128)c[i++]=n;else if(4<(s=r[n]))c[i++]=65533,e+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&e<o;)n=n<<6|63&t[e++],s--;1<s?c[i++]=65533:n<65536?c[i++]=n:(n-=65536,c[i++]=55296|n>>10&1023,c[i++]=56320|1023&n)}return c.length!==i&&(c.subarray?c=c.subarray(0,i):c.length=i),a.applyFromCharCode(c)}(t=a.transformTo(n.uint8array?"uint8array":"array",t))},a.inherits(h,o),h.prototype.processChunk=function(t){var e=a.transformTo(n.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var s=e;(e=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),e.set(s,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var o=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;0<=i&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+r[t[i]]>e?i:e}(e),c=e;o!==e.length&&(n.uint8array?(c=e.subarray(0,o),this.leftOver=e.subarray(o,e.length)):(c=e.slice(0,o),this.leftOver=e.slice(o,e.length))),this.push({data:i.utf8decode(c),meta:t.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,a.inherits(d,o),d.prototype.processChunk=function(t){this.push({data:i.utf8encode(t.data),meta:t.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,i){var a=t("./support"),n=t("./base64"),s=t("./nodejsUtils"),o=t("set-immediate-shim"),r=t("./external");function c(t){return t}function h(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}i.newBlob=function(t,e){i.checkSupport("blob");try{return new Blob([t],{type:e})}catch(i){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return a.append(t),a.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(t,e,i){var a=[],n=0,s=t.length;if(s<=i)return String.fromCharCode.apply(null,t);for(;n<s;)"array"===e||"nodebuffer"===e?a.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+i,s)))):a.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+i,s)))),n+=i;return a.join("")},stringifyByChar:function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(t){return!1}}()}};function l(t){var e=65536,a=i.getTypeOf(t),n=!0;if("uint8array"===a?n=d.applyCanBeUsed.uint8array:"nodebuffer"===a&&(n=d.applyCanBeUsed.nodebuffer),n)for(;1<e;)try{return d.stringifyByChunk(t,a,e)}catch(t){e=Math.floor(e/2)}return d.stringifyByChar(t)}function u(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}i.applyFromCharCode=l;var f={};f.string={string:c,array:function(t){return h(t,new Array(t.length))},arraybuffer:function(t){return f.string.uint8array(t).buffer},uint8array:function(t){return h(t,new Uint8Array(t.length))},nodebuffer:function(t){return h(t,s.allocBuffer(t.length))}},f.array={string:l,array:c,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return s.newBufferFrom(t)}},f.arraybuffer={string:function(t){return l(new Uint8Array(t))},array:function(t){return u(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:c,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return s.newBufferFrom(new Uint8Array(t))}},f.uint8array={string:l,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:c,nodebuffer:function(t){return s.newBufferFrom(t)}},f.nodebuffer={string:l,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return f.nodebuffer.uint8array(t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:c},i.transformTo=function(t,e){if(e=e||"",!t)return e;i.checkSupport(t);var a=i.getTypeOf(e);return f[a][t](e)},i.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":a.nodebuffer&&s.isBuffer(t)?"nodebuffer":a.uint8array&&t instanceof Uint8Array?"uint8array":a.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(t){if(!a[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(t){var e,i,a="";for(i=0;i<(t||"").length;i++)a+="\\x"+((e=t.charCodeAt(i))<16?"0":"")+e.toString(16).toUpperCase();return a},i.delay=function(t,e,i){o(function(){t.apply(i||null,e||[])})},i.inherits=function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i},i.extend=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===i[e]&&(i[e]=arguments[t][e]);return i},i.prepareContent=function(t,e,s,o,c){return r.Promise.resolve(e).then(function(t){return a.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new r.Promise(function(e,i){var a=new FileReader;a.onload=function(t){e(t.target.result)},a.onerror=function(t){i(t.target.error)},a.readAsArrayBuffer(t)}):t}).then(function(e){var d=i.getTypeOf(e);return d?("arraybuffer"===d?e=i.transformTo("uint8array",e):"string"===d&&(c?e=n.decode(e):s&&!0!==o&&(e=function(t){return h(t,a.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):r.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e){var i=t("./reader/readerFor"),a=t("./utils"),n=t("./signature"),s=t("./zipEntry"),o=(t("./utf8"),t("./support"));function r(t){this.files=[],this.loadOptions=t}r.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(e)+", expected "+a.pretty(t)+")")}},isSignature:function(t,e){var i=this.reader.index;this.reader.setIndex(t);var a=this.reader.readString(4)===e;return this.reader.setIndex(i),a},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=o.uint8array?"uint8array":"array",i=a.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,a=this.zip64EndOfCentralSize-44;0<a;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(n.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(n.CENTRAL_FILE_HEADER);)(t=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(n.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,n.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see ");this.reader.setIndex(t);var e=t;if(this.checkSignature(n.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,n.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var s=e-i;if(0<s)this.isSignature(e,n.CENTRAL_FILE_HEADER)||(this.reader.zero=s);else if(s<0)throw new Error("Corrupted zip: missing "+Math.abs(s)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=r},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e){var i=t("./reader/readerFor"),a=t("./utils"),n=t("./compressedObject"),s=t("./crc32"),o=t("./utf8"),r=t("./compressions"),c=t("./support");function h(t,e){this.options=t,this.loadOptions=e}h.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in r)if(r.hasOwnProperty(e)&&r[e].magic===t)return r[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,i,a,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<n;)e=t.readInt(2),i=t.readInt(2),a=t.readData(i),this.extraFields[e]={id:e,length:i,value:a}},handleUTF8:function(){var t=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var i=a.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var s=a.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:s(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:s(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null}},e.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e){function i(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}}var a=t("./stream/StreamHelper"),n=t("./stream/DataWorker"),s=t("./utf8"),o=t("./compressedObject"),r=t("./stream/GenericWorker");i.prototype={internalStream:function(t){var e=null,i="string";try{if(!t)throw new Error("No output type specified.");var n="string"===(i=t.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),e=this._decompressWorker();var o=!this._dataBinary;o&&!n&&(e=e.pipe(new s.Utf8EncodeWorker)),!o&&n&&(e=e.pipe(new s.Utf8DecodeWorker))}catch(t){(e=new r("error")).error(t)}return new a(e,i,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof o&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new s.Utf8EncodeWorker)),o.createWorkerFrom(i,t,e)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof r?this._data:new n(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)i.prototype[c[d]]=h;e.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,i){(function(t){var e,a,n=t.MutationObserver||t.WebKitMutationObserver;if(n){var s=0,o=new n(d),r=t.document.createTextNode("");o.observe(r,{characterData:!0}),e=function(){r.data=s=++s%2}}else if(t.setImmediate||void 0===t.MessageChannel)e="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){d(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(d,0)};else{var c=new t.MessageChannel;c.port1.onmessage=d,e=function(){c.port2.postMessage(0)}}var h=[];function d(){var t,e;a=!0;for(var i=h.length;i;){for(e=h,h=[],t=-1;++t<i;)e[t]();i=h.length}a=!1}i.exports=function(t){1!==h.push(t)||a||e()}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e){var i=t("immediate");function a(){}var n={},s=["REJECTED"],o=["FULFILLED"],r=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=r,this.queue=[],this.outcome=void 0,t!==a&&u(this,t)}function h(t,e,i){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function d(t,e,a){i(function(){var i;try{i=e(a)}catch(i){return n.reject(t,i)}i===t?n.reject(t,new TypeError("Cannot resolve promise with itself")):n.resolve(t,i)})}function l(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function u(t,e){var i=!1;function a(e){i||(i=!0,n.reject(t,e))}function s(e){i||(i=!0,n.resolve(t,e))}var o=f(function(){e(s,a)});"error"===o.status&&a(o.value)}function f(t,e){var i={};try{i.value=t(e),i.status="success"}catch(t){i.status="error",i.value=t}return i}(e.exports=c).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then(function(i){return e.resolve(t()).then(function(){return i})},function(i){return e.resolve(t()).then(function(){throw i})})},c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){if("function"!=typeof t&&this.state===o||"function"!=typeof e&&this.state===s)return this;var i=new this.constructor(a);return this.state!==r?d(i,this.state===o?t:e,this.outcome):this.queue.push(new h(i,t,e)),i},h.prototype.callFulfilled=function(t){n.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){d(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){n.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){d(this.promise,this.onRejected,t)},n.resolve=function(t,e){var i=f(l,e);if("error"===i.status)return n.reject(t,i.value);var a=i.value;if(a)u(t,a);else{t.state=o,t.outcome=e;for(var s=-1,r=t.queue.length;++s<r;)t.queue[s].callFulfilled(e)}return t},n.reject=function(t,e){t.state=s,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callRejected(e);return t},c.resolve=function(t){return t instanceof this?t:n.resolve(new this(a),t)},c.reject=function(t){var e=new this(a);return n.reject(e,t)},c.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,s=!1;if(!i)return this.resolve([]);for(var o=new Array(i),r=0,c=-1,h=new this(a);++c<i;)d(t[c],c);return h;function d(t,a){e.resolve(t).then(function(t){o[a]=t,++r!==i||s||(s=!0,n.resolve(h,o))},function(t){s||(s=!0,n.reject(h,t))})}},c.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,i=!1;if(!e)return this.resolve([]);for(var s,o=-1,r=new this(a);++o<e;)s=t[o],this.resolve(s).then(function(t){i||(i=!0,n.resolve(r,t))},function(t){i||(i=!0,n.reject(r,t))});return r}},{immediate:36}],38:[function(t,e){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,i){var a=t("./zlib/deflate"),n=t("./utils/common"),s=t("./utils/strings"),o=t("./zlib/messages"),r=t("./zlib/zstream"),c=Object.prototype.toString,h=0,d=-1,l=0,u=8;function f(t){if(!(this instanceof f))return new f(t);this.options=n.assign({level:d,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var i=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==h)throw new Error(o[i]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var m;if(m="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(i=a.deflateSetDictionary(this.strm,m))!==h)throw new Error(o[i]);this._dict_set=!0}}function m(t,e){var i=new f(e);if(i.push(t,!0),i.err)throw i.msg||o[i.err];return i.result}f.prototype.push=function(t,e){var i,o,r=this.strm,d=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=s.string2buf(t):"[object ArrayBuffer]"===c.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new n.Buf8(d),r.next_out=0,r.avail_out=d),1!==(i=a.deflate(r,o))&&i!==h)return this.onEnd(i),!(this.ended=!0);0!==r.avail_out&&(0!==r.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(s.buf2binstring(n.shrinkBuf(r.output,r.next_out))):this.onData(n.shrinkBuf(r.output,r.next_out)))}while((0<r.avail_in||0===r.avail_out)&&1!==i);return 4===o?(i=a.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===h):2!==o||(this.onEnd(h),!(r.avail_out=0))},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=f,i.deflate=m,i.deflateRaw=function(t,e){return(e=e||{}).raw=!0,m(t,e)},i.gzip=function(t,e){return(e=e||{}).gzip=!0,m(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,i){var a=t("./zlib/inflate"),n=t("./utils/common"),s=t("./utils/strings"),o=t("./zlib/constants"),r=t("./zlib/messages"),c=t("./zlib/zstream"),h=t("./zlib/gzheader"),d=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var i=a.inflateInit2(this.strm,e.windowBits);if(i!==o.Z_OK)throw new Error(r[i]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function u(t,e){var i=new l(e);if(i.push(t,!0),i.err)throw i.msg||r[i.err];return i.result}l.prototype.push=function(t,e){var i,r,c,h,l,u,f=this.strm,m=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?f.input=s.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new n.Buf8(m),f.next_out=0,f.avail_out=m),(i=a.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(u="string"==typeof p?s.string2buf(p):"[object ArrayBuffer]"===d.call(p)?new Uint8Array(p):p,i=a.inflateSetDictionary(this.strm,u)),i===o.Z_BUF_ERROR&&!0===g&&(i=o.Z_OK,g=!1),i!==o.Z_STREAM_END&&i!==o.Z_OK)return this.onEnd(i),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&i!==o.Z_STREAM_END&&(0!==f.avail_in||r!==o.Z_FINISH&&r!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(c=s.utf8border(f.output,f.next_out),h=f.next_out-c,l=s.buf2string(f.output,c),f.next_out=h,f.avail_out=m-h,h&&n.arraySet(f.output,f.output,c,h,0),this.onData(l)):this.onData(n.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((0<f.avail_in||0===f.avail_out)&&i!==o.Z_STREAM_END);return i===o.Z_STREAM_END&&(r=o.Z_FINISH),r===o.Z_FINISH?(i=a.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===o.Z_OK):r!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(f.avail_out=0))},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=l,i.inflate=u,i.inflateRaw=function(t,e){return(e=e||{}).raw=!0,u(t,e)},i.ungzip=u},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,i){var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,i,a,n){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+a),n);else for(var s=0;s<a;s++)t[n+s]=e[i+s]},flattenChunks:function(t){var e,i,a,n,s,o;for(e=a=0,i=t.length;e<i;e++)a+=t[e].length;for(o=new Uint8Array(a),e=n=0,i=t.length;e<i;e++)s=t[e],o.set(s,n),n+=s.length;return o}},s={arraySet:function(t,e,i,a,n){for(var s=0;s<a;s++)t[n+s]=e[i+s]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,n)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(a)},{}],42:[function(t,e,i){var a=t("./common"),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var o=new a.Buf8(256),r=0;r<256;r++)o[r]=252<=r?6:248<=r?5:240<=r?4:224<=r?3:192<=r?2:1;function c(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&n))return String.fromCharCode.apply(null,a.shrinkBuf(t,e));for(var i="",o=0;o<e;o++)i+=String.fromCharCode(t[o]);return i}o[254]=o[254]=1,i.string2buf=function(t){var e,i,n,s,o,r=t.length,c=0;for(s=0;s<r;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<r&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),c+=i<128?1:i<2048?2:i<65536?3:4;for(e=new a.Buf8(c),s=o=0;o<c;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<r&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),i<128?e[o++]=i:(i<2048?e[o++]=192|i>>>6:(i<65536?e[o++]=224|i>>>12:(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63),e[o++]=128|i>>>6&63),e[o++]=128|63&i);return e},i.buf2binstring=function(t){return c(t,t.length)},i.binstring2buf=function(t){for(var e=new a.Buf8(t.length),i=0,n=e.length;i<n;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,a,n,s,r=e||t.length,h=new Array(2*r);for(i=a=0;i<r;)if((n=t[i++])<128)h[a++]=n;else if(4<(s=o[n]))h[a++]=65533,i+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&i<r;)n=n<<6|63&t[i++],s--;1<s?h[a++]=65533:n<65536?h[a++]=n:(n-=65536,h[a++]=55296|n>>10&1023,h[a++]=56320|1023&n)}return c(h,a)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;0<=i&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+o[t[i]]>e?i:e}},{"./common":41}],43:[function(t,e){e.exports=function(t,e,i,a){for(var n=65535&t|0,s=t>>>16&65535|0,o=0;0!==i;){for(i-=o=2e3<i?2e3:i;s=s+(n=n+e[a++]|0)|0,--o;);n%=65521,s%=65521}return n|s<<16|0}},{}],44:[function(t,e){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e){var i=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var a=0;a<8;a++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e,a,n){var s=i,o=n+a;t^=-1;for(var r=n;r<o;r++)t=t>>>8^s[255&(t^e[r])];return-1^t}},{}],46:[function(t,e,i){var a,n=t("../utils/common"),s=t("./trees"),o=t("./adler32"),r=t("./crc32"),c=t("./messages"),h=0,d=4,l=0,u=-2,f=-1,m=4,p=2,g=8,v=9,b=286,k=30,y=19,S=2*b+1,_=15,x=3,w=258,B=w+x+1,C=42,A=113,T=1,D=2,q=3,M=4;function E(t,e){return t.msg=c[e],e}function R(t){return(t<<1)-(4<t?9:0)}function I(t){for(var e=t.length;0<=--e;)t[e]=0}function O(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(n.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function N(t,e){s._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,O(t.strm)}function L(t,e){t.pending_buf[t.pending++]=e}function F(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function P(t,e){var i,a,n=t.max_chain_length,s=t.strstart,o=t.prev_length,r=t.nice_match,c=t.strstart>t.w_size-B?t.strstart-(t.w_size-B):0,h=t.window,d=t.w_mask,l=t.prev,u=t.strstart+w,f=h[s+o-1],m=h[s+o];t.prev_length>=t.good_match&&(n>>=2),r>t.lookahead&&(r=t.lookahead);do{if(h[(i=e)+o]===m&&h[i+o-1]===f&&h[i]===h[s]&&h[++i]===h[s+1]){s+=2,i++;do{}while(h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&s<u);if(a=w-(u-s),s=u-w,o<a){if(t.match_start=e,r<=(o=a))break;f=h[s+o-1],m=h[s+o]}}}while((e=l[e&d])>c&&0!=--n);return o<=t.lookahead?o:t.lookahead}function H(t){var e,i,a,s,c,h,d,l,u,f,m=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=m+(m-B)){for(n.arraySet(t.window,t.window,m,m,0),t.match_start-=m,t.strstart-=m,t.block_start-=m,e=i=t.hash_size;a=t.head[--e],t.head[e]=m<=a?a-m:0,--i;);for(e=i=m;a=t.prev[--e],t.prev[e]=m<=a?a-m:0,--i;);s+=m}if(0===t.strm.avail_in)break;if(h=t.strm,d=t.window,l=t.strstart+t.lookahead,f=void 0,(u=s)<(f=h.avail_in)&&(f=u),i=0===f?0:(h.avail_in-=f,n.arraySet(d,h.input,h.next_in,f,l),1===h.state.wrap?h.adler=o(h.adler,d,f,l):2===h.state.wrap&&(h.adler=r(h.adler,d,f,l)),h.next_in+=f,h.total_in+=f,f),t.lookahead+=i,t.lookahead+t.insert>=x)for(c=t.strstart-t.insert,t.ins_h=t.window[c],t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+x-1])&t.hash_mask,t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<x)););}while(t.lookahead<B&&0!==t.strm.avail_in)}function G(t,e){for(var i,a;;){if(t.lookahead<B){if(H(t),t.lookahead<B&&e===h)return T;if(0===t.lookahead)break}if(i=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-B&&(t.match_length=P(t,i)),t.match_length>=x)if(a=s._tr_tally(t,t.strstart-t.match_start,t.match_length-x),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=x){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else a=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(a&&(N(t,!1),0===t.strm.avail_out))return T}return t.insert=t.strstart<x-1?t.strstart:x-1,e===d?(N(t,!0),0===t.strm.avail_out?q:M):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?T:D}function j(t,e){for(var i,a,n;;){if(t.lookahead<B){if(H(t),t.lookahead<B&&e===h)return T;if(0===t.lookahead)break}if(i=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=x-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-B&&(t.match_length=P(t,i),t.match_length<=5&&(1===t.strategy||t.match_length===x&&4096<t.strstart-t.match_start)&&(t.match_length=x-1)),t.prev_length>=x&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-x,a=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-x),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=x-1,t.strstart++,a&&(N(t,!1),0===t.strm.avail_out))return T}else if(t.match_available){if((a=s._tr_tally(t,0,t.window[t.strstart-1]))&&N(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return T}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(a=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<x-1?t.strstart:x-1,e===d?(N(t,!0),0===t.strm.avail_out?q:M):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?T:D}function U(t,e,i,a,n){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=a,this.func=n}function W(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=p,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?C:A,t.adler=2===e.wrap?0:1,e.last_flush=h,s._tr_init(e),l):E(t,u)}function z(t){var e=W(t);return e===l&&function(t){t.window_size=2*t.w_size,I(t.head),t.max_lazy_match=a[t.level].max_lazy,t.good_match=a[t.level].good_length,t.nice_match=a[t.level].nice_length,t.max_chain_length=a[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=x-1,t.match_available=0,t.ins_h=0}(t.state),e}function Y(t,e,i,a,s,o){if(!t)return u;var r=1;if(e===f&&(e=6),a<0?(r=0,a=-a):15<a&&(r=2,a-=16),s<1||v<s||i!==g||a<8||15<a||e<0||9<e||o<0||m<o)return E(t,u);8===a&&(a=9);var c=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*S),this.dyn_dtree=new n.Buf16(2*(2*k+1)),this.bl_tree=new n.Buf16(2*(2*y+1)),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(_+1),this.heap=new n.Buf16(2*b+1),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*b+1),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return(t.state=c).strm=t,c.wrap=r,c.gzhead=null,c.w_bits=a,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=s+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+x-1)/x),c.window=new n.Buf8(2*c.w_size),c.head=new n.Buf16(c.hash_size),c.prev=new n.Buf16(c.w_size),c.lit_bufsize=1<<s+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new n.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=o,c.method=i,z(t)}a=[new U(0,0,0,0,function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(H(t),0===t.lookahead&&e===h)return T;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var a=t.block_start+i;if((0===t.strstart||t.strstart>=a)&&(t.lookahead=t.strstart-a,t.strstart=a,N(t,!1),0===t.strm.avail_out))return T;if(t.strstart-t.block_start>=t.w_size-B&&(N(t,!1),0===t.strm.avail_out))return T}return t.insert=0,e===d?(N(t,!0),0===t.strm.avail_out?q:M):(t.strstart>t.block_start&&(N(t,!1),t.strm.avail_out),T)}),new U(4,4,8,4,G),new U(4,5,16,8,G),new U(4,6,32,32,G),new U(4,4,16,16,j),new U(8,16,32,32,j),new U(8,16,128,128,j),new U(8,32,128,256,j),new U(32,128,258,1024,j),new U(32,258,258,4096,j)],i.deflateInit=function(t,e){return Y(t,e,g,15,8,0)},i.deflateInit2=Y,i.deflateReset=z,i.deflateResetKeep=W,i.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?u:(t.state.gzhead=e,l):u},i.deflate=function(t,e){var i,n,o,c;if(!t||!t.state||5<e||e<0)return t?E(t,u):u;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||666===n.status&&e!==d)return E(t,0===t.avail_out?-5:u);if(n.strm=t,i=n.last_flush,n.last_flush=e,n.status===C)if(2===n.wrap)t.adler=0,L(n,31),L(n,139),L(n,8),n.gzhead?(L(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),L(n,255&n.gzhead.time),L(n,n.gzhead.time>>8&255),L(n,n.gzhead.time>>16&255),L(n,n.gzhead.time>>24&255),L(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),L(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(L(n,255&n.gzhead.extra.length),L(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=r(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(L(n,0),L(n,0),L(n,0),L(n,0),L(n,0),L(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),L(n,3),n.status=A);else{var f=g+(n.w_bits-8<<4)<<8;f|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(f|=32),f+=31-f%31,n.status=A,F(n,f),0!==n.strstart&&(F(n,t.adler>>>16),F(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>o&&(t.adler=r(t.adler,n.pending_buf,n.pending-o,o)),O(t),o=n.pending,n.pending!==n.pending_buf_size));)L(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(t.adler=r(t.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=r(t.adler,n.pending_buf,n.pending-o,o)),O(t),o=n.pending,n.pending===n.pending_buf_size)){c=1;break}c=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,L(n,c)}while(0!==c);n.gzhead.hcrc&&n.pending>o&&(t.adler=r(t.adler,n.pending_buf,n.pending-o,o)),0===c&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=r(t.adler,n.pending_buf,n.pending-o,o)),O(t),o=n.pending,n.pending===n.pending_buf_size)){c=1;break}c=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,L(n,c)}while(0!==c);n.gzhead.hcrc&&n.pending>o&&(t.adler=r(t.adler,n.pending_buf,n.pending-o,o)),0===c&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&O(t),n.pending+2<=n.pending_buf_size&&(L(n,255&t.adler),L(n,t.adler>>8&255),t.adler=0,n.status=A)):n.status=A),0!==n.pending){if(O(t),0===t.avail_out)return n.last_flush=-1,l}else if(0===t.avail_in&&R(e)<=R(i)&&e!==d)return E(t,-5);if(666===n.status&&0!==t.avail_in)return E(t,-5);if(0!==t.avail_in||0!==n.lookahead||e!==h&&666!==n.status){var m=2===n.strategy?function(t,e){for(var i;;){if(0===t.lookahead&&(H(t),0===t.lookahead)){if(e===h)return T;break}if(t.match_length=0,i=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(N(t,!1),0===t.strm.avail_out))return T}return t.insert=0,e===d?(N(t,!0),0===t.strm.avail_out?q:M):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?T:D}(n,e):3===n.strategy?function(t,e){for(var i,a,n,o,r=t.window;;){if(t.lookahead<=w){if(H(t),t.lookahead<=w&&e===h)return T;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=x&&0<t.strstart&&(a=r[n=t.strstart-1])===r[++n]&&a===r[++n]&&a===r[++n]){o=t.strstart+w;do{}while(a===r[++n]&&a===r[++n]&&a===r[++n]&&a===r[++n]&&a===r[++n]&&a===r[++n]&&a===r[++n]&&a===r[++n]&&n<o);t.match_length=w-(o-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=x?(i=s._tr_tally(t,1,t.match_length-x),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(N(t,!1),0===t.strm.avail_out))return T}return t.insert=0,e===d?(N(t,!0),0===t.strm.avail_out?q:M):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?T:D}(n,e):a[n.level].func(n,e);if(m!==q&&m!==M||(n.status=666),m===T||m===q)return 0===t.avail_out&&(n.last_flush=-1),l;if(m===D&&(1===e?s._tr_align(n):5!==e&&(s._tr_stored_block(n,0,0,!1),3===e&&(I(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),O(t),0===t.avail_out))return n.last_flush=-1,l}return e!==d?l:n.wrap<=0?1:(2===n.wrap?(L(n,255&t.adler),L(n,t.adler>>8&255),L(n,t.adler>>16&255),L(n,t.adler>>24&255),L(n,255&t.total_in),L(n,t.total_in>>8&255),L(n,t.total_in>>16&255),L(n,t.total_in>>24&255)):(F(n,t.adler>>>16),F(n,65535&t.adler)),O(t),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?l:1)},i.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==C&&69!==e&&73!==e&&91!==e&&103!==e&&e!==A&&666!==e?E(t,u):(t.state=null,e===A?E(t,-3):l):u},i.deflateSetDictionary=function(t,e){var i,a,s,r,c,h,d,f,m=e.length;if(!t||!t.state)return u;if(2===(r=(i=t.state).wrap)||1===r&&i.status!==C||i.lookahead)return u;for(1===r&&(t.adler=o(t.adler,e,m,0)),i.wrap=0,m>=i.w_size&&(0===r&&(I(i.head),i.strstart=0,i.block_start=0,i.insert=0),f=new n.Buf8(i.w_size),n.arraySet(f,e,m-i.w_size,i.w_size,0),e=f,m=i.w_size),c=t.avail_in,h=t.next_in,d=t.input,t.avail_in=m,t.next_in=0,t.input=e,H(i);i.lookahead>=x;){for(a=i.strstart,s=i.lookahead-(x-1);i.ins_h=(i.ins_h<<i.hash_shift^i.window[a+x-1])&i.hash_mask,i.prev[a&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=a,a++,--s;);i.strstart=a,i.lookahead=x-1,H(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=x-1,i.match_available=0,t.next_in=h,t.input=d,t.avail_in=c,i.wrap=r,l},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e){e.exports=function(t,e){var i,a,n,s,o,r,c,h,d,l,u,f,m,p,g,v,b,k,y,S,_,x,w,B,C;i=t.state,a=t.next_in,B=t.input,n=a+(t.avail_in-5),s=t.next_out,C=t.output,o=s-(e-t.avail_out),r=s+(t.avail_out-257),c=i.dmax,h=i.wsize,d=i.whave,l=i.wnext,u=i.window,f=i.hold,m=i.bits,p=i.lencode,g=i.distcode,v=(1<<i.lenbits)-1,b=(1<<i.distbits)-1;t:do{m<15&&(f+=B[a++]<<m,m+=8,f+=B[a++]<<m,m+=8),k=p[f&v];e:for(;;){if(f>>>=y=k>>>24,m-=y,0==(y=k>>>16&255))C[s++]=65535&k;else{if(!(16&y)){if(0==(64&y)){k=p[(65535&k)+(f&(1<<y)-1)];continue e}if(32&y){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}S=65535&k,(y&=15)&&(m<y&&(f+=B[a++]<<m,m+=8),S+=f&(1<<y)-1,f>>>=y,m-=y),m<15&&(f+=B[a++]<<m,m+=8,f+=B[a++]<<m,m+=8),k=g[f&b];i:for(;;){if(f>>>=y=k>>>24,m-=y,!(16&(y=k>>>16&255))){if(0==(64&y)){k=g[(65535&k)+(f&(1<<y)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(_=65535&k,m<(y&=15)&&(f+=B[a++]<<m,(m+=8)<y&&(f+=B[a++]<<m,m+=8)),c<(_+=f&(1<<y)-1)){t.msg="invalid distance too far back",i.mode=30;break t}if(f>>>=y,m-=y,(y=s-o)<_){if(d<(y=_-y)&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(w=u,(x=0)===l){if(x+=h-y,y<S){for(S-=y;C[s++]=u[x++],--y;);x=s-_,w=C}}else if(l<y){if(x+=h+l-y,(y-=l)<S){for(S-=y;C[s++]=u[x++],--y;);if(x=0,l<S){for(S-=y=l;C[s++]=u[x++],--y;);x=s-_,w=C}}}else if(x+=l-y,y<S){for(S-=y;C[s++]=u[x++],--y;);x=s-_,w=C}for(;2<S;)C[s++]=w[x++],C[s++]=w[x++],C[s++]=w[x++],S-=3;S&&(C[s++]=w[x++],1<S&&(C[s++]=w[x++]))}else{for(x=s-_;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(S-=3););S&&(C[s++]=C[x++],1<S&&(C[s++]=C[x++]))}break}}break}}while(a<n&&s<r);a-=S=m>>3,f&=(1<<(m-=S<<3))-1,t.next_in=a,t.next_out=s,t.avail_in=a<n?n-a+5:5-(a-n),t.avail_out=s<r?r-s+257:257-(s-r),i.hold=f,i.bits=m}},{}],49:[function(t,e,i){var a=t("../utils/common"),n=t("./adler32"),s=t("./crc32"),o=t("./inffast"),r=t("./inftrees"),c=1,h=2,d=0,l=-2,u=1,f=852,m=592;function p(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=u,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new a.Buf32(f),e.distcode=e.distdyn=new a.Buf32(m),e.sane=1,e.back=-1,d):l}function b(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,v(t)):l}function k(t,e){var i,a;return t&&t.state?(a=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?l:(null!==a.window&&a.wbits!==e&&(a.window=null),a.wrap=i,a.wbits=e,b(t))):l}function y(t,e){var i,a;return t?(a=new g,(t.state=a).window=null,(i=k(t,e))!==d&&(t.state=null),i):l}var S,_,x=!0;function w(t){if(x){var e;for(S=new a.Buf32(512),_=new a.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(r(c,t.lens,0,288,S,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;r(h,t.lens,0,32,_,0,t.work,{bits:5}),x=!1}t.lencode=S,t.lenbits=9,t.distcode=_,t.distbits=5}function B(t,e,i,n){var s,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new a.Buf8(o.wsize)),n>=o.wsize?(a.arraySet(o.window,e,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(n<(s=o.wsize-o.wnext)&&(s=n),a.arraySet(o.window,e,i-n,s,o.wnext),(n-=s)?(a.arraySet(o.window,e,i-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}i.inflateReset=b,i.inflateReset2=k,i.inflateResetKeep=v,i.inflateInit=function(t){return y(t,15)},i.inflateInit2=y,i.inflate=function(t,e){var i,f,m,g,v,b,k,y,S,_,x,C,A,T,D,q,M,E,R,I,O,N,L,F,P=0,H=new a.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return l;12===(i=t.state).mode&&(i.mode=13),v=t.next_out,m=t.output,k=t.avail_out,g=t.next_in,f=t.input,b=t.avail_in,y=i.hold,S=i.bits,_=b,x=k,N=d;t:for(;;)switch(i.mode){case u:if(0===i.wrap){i.mode=13;break}for(;S<16;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}if(2&i.wrap&&35615===y){H[i.check=0]=255&y,H[1]=y>>>8&255,i.check=s(i.check,H,2,0),S=y=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&y)<<8)+(y>>8))%31){t.msg="incorrect header check",i.mode=30;break}if(8!=(15&y)){t.msg="unknown compression method",i.mode=30;break}if(S-=4,O=8+(15&(y>>>=4)),0===i.wbits)i.wbits=O;else if(O>i.wbits){t.msg="invalid window size",i.mode=30;break}i.dmax=1<<O,t.adler=i.check=1,i.mode=512&y?10:12,S=y=0;break;case 2:for(;S<16;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}if(i.flags=y,8!=(255&i.flags)){t.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=y>>8&1),512&i.flags&&(H[0]=255&y,H[1]=y>>>8&255,i.check=s(i.check,H,2,0)),S=y=0,i.mode=3;case 3:for(;S<32;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}i.head&&(i.head.time=y),512&i.flags&&(H[0]=255&y,H[1]=y>>>8&255,H[2]=y>>>16&255,H[3]=y>>>24&255,i.check=s(i.check,H,4,0)),S=y=0,i.mode=4;case 4:for(;S<16;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}i.head&&(i.head.xflags=255&y,i.head.os=y>>8),512&i.flags&&(H[0]=255&y,H[1]=y>>>8&255,i.check=s(i.check,H,2,0)),S=y=0,i.mode=5;case 5:if(1024&i.flags){for(;S<16;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}i.length=y,i.head&&(i.head.extra_len=y),512&i.flags&&(H[0]=255&y,H[1]=y>>>8&255,i.check=s(i.check,H,2,0)),S=y=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(b<(C=i.length)&&(C=b),C&&(i.head&&(O=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),a.arraySet(i.head.extra,f,g,C,O)),512&i.flags&&(i.check=s(i.check,f,C,g)),b-=C,g+=C,i.length-=C),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===b)break t;for(C=0;O=f[g+C++],i.head&&O&&i.length<65536&&(i.head.name+=String.fromCharCode(O)),O&&C<b;);if(512&i.flags&&(i.check=s(i.check,f,C,g)),b-=C,g+=C,O)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===b)break t;for(C=0;O=f[g+C++],i.head&&O&&i.length<65536&&(i.head.comment+=String.fromCharCode(O)),O&&C<b;);if(512&i.flags&&(i.check=s(i.check,f,C,g)),b-=C,g+=C,O)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;S<16;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}if(y!==(65535&i.check)){t.msg="header crc mismatch",i.mode=30;break}S=y=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=12;break;case 10:for(;S<32;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}t.adler=i.check=p(y),S=y=0,i.mode=11;case 11:if(0===i.havedict)return t.next_out=v,t.avail_out=k,t.next_in=g,t.avail_in=b,i.hold=y,i.bits=S,2;t.adler=i.check=1,i.mode=12;case 12:if(5===e||6===e)break t;case 13:if(i.last){y>>>=7&S,S-=7&S,i.mode=27;break}for(;S<3;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}switch(i.last=1&y,S-=1,3&(y>>>=1)){case 0:i.mode=14;break;case 1:if(w(i),i.mode=20,6!==e)break;y>>>=2,S-=2;break t;case 2:i.mode=17;break;case 3:t.msg="invalid block type",i.mode=30}y>>>=2,S-=2;break;case 14:for(y>>>=7&S,S-=7&S;S<32;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}if((65535&y)!=(y>>>16^65535)){t.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&y,S=y=0,i.mode=15,6===e)break t;case 15:i.mode=16;case 16:if(C=i.length){if(b<C&&(C=b),k<C&&(C=k),0===C)break t;a.arraySet(m,f,g,C,v),b-=C,g+=C,k-=C,v+=C,i.length-=C;break}i.mode=12;break;case 17:for(;S<14;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}if(i.nlen=257+(31&y),y>>>=5,S-=5,i.ndist=1+(31&y),y>>>=5,S-=5,i.ncode=4+(15&y),y>>>=4,S-=4,286<i.nlen||30<i.ndist){t.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;S<3;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}i.lens[G[i.have++]]=7&y,y>>>=3,S-=3}for(;i.have<19;)i.lens[G[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,L={bits:i.lenbits},N=r(0,i.lens,0,19,i.lencode,0,i.work,L),i.lenbits=L.bits,N){t.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;q=(P=i.lencode[y&(1<<i.lenbits)-1])>>>16&255,M=65535&P,!((D=P>>>24)<=S);){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}if(M<16)y>>>=D,S-=D,i.lens[i.have++]=M;else{if(16===M){for(F=D+2;S<F;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}if(y>>>=D,S-=D,0===i.have){t.msg="invalid bit length repeat",i.mode=30;break}O=i.lens[i.have-1],C=3+(3&y),y>>>=2,S-=2}else if(17===M){for(F=D+3;S<F;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}S-=D,O=0,C=3+(7&(y>>>=D)),y>>>=3,S-=3}else{for(F=D+7;S<F;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}S-=D,O=0,C=11+(127&(y>>>=D)),y>>>=7,S-=7}if(i.have+C>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=30;break}for(;C--;)i.lens[i.have++]=O}}if(30===i.mode)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,L={bits:i.lenbits},N=r(c,i.lens,0,i.nlen,i.lencode,0,i.work,L),i.lenbits=L.bits,N){t.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,L={bits:i.distbits},N=r(h,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,L),i.distbits=L.bits,N){t.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===e)break t;case 20:i.mode=21;case 21:if(6<=b&&258<=k){t.next_out=v,t.avail_out=k,t.next_in=g,t.avail_in=b,i.hold=y,i.bits=S,o(t,x),v=t.next_out,m=t.output,k=t.avail_out,g=t.next_in,f=t.input,b=t.avail_in,y=i.hold,S=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;q=(P=i.lencode[y&(1<<i.lenbits)-1])>>>16&255,M=65535&P,!((D=P>>>24)<=S);){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}if(q&&0==(240&q)){for(E=D,R=q,I=M;q=(P=i.lencode[I+((y&(1<<E+R)-1)>>E)])>>>16&255,M=65535&P,!(E+(D=P>>>24)<=S);){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}y>>>=E,S-=E,i.back+=E}if(y>>>=D,S-=D,i.back+=D,i.length=M,0===q){i.mode=26;break}if(32&q){i.back=-1,i.mode=12;break}if(64&q){t.msg="invalid literal/length code",i.mode=30;break}i.extra=15&q,i.mode=22;case 22:if(i.extra){for(F=i.extra;S<F;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}i.length+=y&(1<<i.extra)-1,y>>>=i.extra,S-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;q=(P=i.distcode[y&(1<<i.distbits)-1])>>>16&255,M=65535&P,!((D=P>>>24)<=S);){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}if(0==(240&q)){for(E=D,R=q,I=M;q=(P=i.distcode[I+((y&(1<<E+R)-1)>>E)])>>>16&255,M=65535&P,!(E+(D=P>>>24)<=S);){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}y>>>=E,S-=E,i.back+=E}if(y>>>=D,S-=D,i.back+=D,64&q){t.msg="invalid distance code",i.mode=30;break}i.offset=M,i.extra=15&q,i.mode=24;case 24:if(i.extra){for(F=i.extra;S<F;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}i.offset+=y&(1<<i.extra)-1,y>>>=i.extra,S-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===k)break t;if(C=x-k,i.offset>C){if((C=i.offset-C)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=30;break}A=C>i.wnext?(C-=i.wnext,i.wsize-C):i.wnext-C,C>i.length&&(C=i.length),T=i.window}else T=m,A=v-i.offset,C=i.length;for(k<C&&(C=k),k-=C,i.length-=C;m[v++]=T[A++],--C;);0===i.length&&(i.mode=21);break;case 26:if(0===k)break t;m[v++]=i.length,k--,i.mode=21;break;case 27:if(i.wrap){for(;S<32;){if(0===b)break t;b--,y|=f[g++]<<S,S+=8}if(x-=k,t.total_out+=x,i.total+=x,x&&(t.adler=i.check=i.flags?s(i.check,m,x,v-x):n(i.check,m,x,v-x)),x=k,(i.flags?y:p(y))!==i.check){t.msg="incorrect data check",i.mode=30;break}S=y=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;S<32;){if(0===b)break t;b--,y+=f[g++]<<S,S+=8}if(y!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=30;break}S=y=0}i.mode=29;case 29:N=1;break t;case 30:N=-3;break t;case 31:return-4;case 32:default:return l}return t.next_out=v,t.avail_out=k,t.next_in=g,t.avail_in=b,i.hold=y,i.bits=S,(i.wsize||x!==t.avail_out&&i.mode<30&&(i.mode<27||4!==e))&&B(t,t.output,t.next_out,x-t.avail_out)?(i.mode=31,-4):(_-=t.avail_in,x-=t.avail_out,t.total_in+=_,t.total_out+=x,i.total+=x,i.wrap&&x&&(t.adler=i.check=i.flags?s(i.check,m,x,t.next_out-x):n(i.check,m,x,t.next_out-x)),t.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0==_&&0===x||4===e)&&N===d&&(N=-5),N)},i.inflateEnd=function(t){if(!t||!t.state)return l;var e=t.state;return e.window&&(e.window=null),t.state=null,d},i.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?l:((i.head=e).done=!1,d):l},i.inflateSetDictionary=function(t,e){var i,a=e.length;return t&&t.state?0!==(i=t.state).wrap&&11!==i.mode?l:11===i.mode&&n(1,e,a,0)!==i.check?-3:B(t,e,a,a)?(i.mode=31,-4):(i.havedict=1,d):l},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e){var i=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,c,h,d,l,u){var f,m,p,g,v,b,k,y,S,_=u.bits,x=0,w=0,B=0,C=0,A=0,T=0,D=0,q=0,M=0,E=0,R=null,I=0,O=new i.Buf16(16),N=new i.Buf16(16),L=null,F=0;for(x=0;x<=15;x++)O[x]=0;for(w=0;w<c;w++)O[e[r+w]]++;for(A=_,C=15;1<=C&&0===O[C];C--);if(C<A&&(A=C),0===C)return h[d++]=20971520,h[d++]=20971520,u.bits=1,0;for(B=1;B<C&&0===O[B];B++);for(A<B&&(A=B),x=q=1;x<=15;x++)if(q<<=1,(q-=O[x])<0)return-1;if(0<q&&(0===t||1!==C))return-1;for(N[1]=0,x=1;x<15;x++)N[x+1]=N[x]+O[x];for(w=0;w<c;w++)0!==e[r+w]&&(l[N[e[r+w]]++]=w);if(b=0===t?(R=L=l,19):1===t?(R=a,I-=257,L=n,F-=257,256):(R=s,L=o,-1),x=B,v=d,D=w=E=0,p=-1,g=(M=1<<(T=A))-1,1===t&&852<M||2===t&&592<M)return 1;for(;;){for(k=x-D,S=l[w]<b?(y=0,l[w]):l[w]>b?(y=L[F+l[w]],R[I+l[w]]):(y=96,0),f=1<<x-D,B=m=1<<T;h[v+(E>>D)+(m-=f)]=k<<24|y<<16|S|0,0!==m;);for(f=1<<x-1;E&f;)f>>=1;if(0!==f?(E&=f-1,E+=f):E=0,w++,0==--O[x]){if(x===C)break;x=e[r+l[w]]}if(A<x&&(E&g)!==p){for(0===D&&(D=A),v+=B,q=1<<(T=x-D);T+D<C&&!((q-=O[T+D])<=0);)T++,q<<=1;if(M+=1<<T,1===t&&852<M||2===t&&592<M)return 1;h[p=E&g]=A<<24|T<<16|v-d|0}}return 0!==E&&(h[v+E]=x-D<<24|64<<16|0),u.bits=A,0}},{"../utils/common":41}],51:[function(t,e){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,i){var a=t("../utils/common");function n(t){for(var e=t.length;0<=--e;)t[e]=0}var s=0,o=256,r=o+1+29,c=30,h=19,d=2*r+1,l=15,u=16,f=256,m=16,p=17,g=18,v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],b=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(r+2));n(S);var _=new Array(2*c);n(_);var x=new Array(512);n(x);var w=new Array(256);n(w);var B=new Array(29);n(B);var C,A,T,D=new Array(c);function q(t,e,i,a,n){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=a,this.max_length=n,this.has_stree=t&&t.length}function M(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function E(t){return t<256?x[t]:x[256+(t>>>7)]}function R(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function I(t,e,i){t.bi_valid>u-i?(t.bi_buf|=e<<t.bi_valid&65535,R(t,t.bi_buf),t.bi_buf=e>>u-t.bi_valid,t.bi_valid+=i-u):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function O(t,e,i){I(t,i[2*e],i[2*e+1])}function N(t,e){for(var i=0;i|=1&t,t>>>=1,i<<=1,0<--e;);return i>>>1}function L(t,e,i){var a,n,s=new Array(l+1),o=0;for(a=1;a<=l;a++)s[a]=o=o+i[a-1]<<1;for(n=0;n<=e;n++){var r=t[2*n+1];0!==r&&(t[2*n]=N(s[r]++,r))}}function F(t){var e;for(e=0;e<r;e++)t.dyn_ltree[2*e]=0;for(e=0;e<c;e++)t.dyn_dtree[2*e]=0;for(e=0;e<h;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*f]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function P(t){8<t.bi_valid?R(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function H(t,e,i,a){var n=2*e,s=2*i;return t[n]<t[s]||t[n]===t[s]&&a[e]<=a[i]}function G(t,e,i){for(var a=t.heap[i],n=i<<1;n<=t.heap_len&&(n<t.heap_len&&H(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!H(e,a,t.heap[n],t.depth));)t.heap[i]=t.heap[n],i=n,n<<=1;t.heap[i]=a}function j(t,e,i){var a,n,s,r,c=0;if(0!==t.last_lit)for(;a=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],n=t.pending_buf[t.l_buf+c],c++,0===a?O(t,n,e):(O(t,(s=w[n])+o+1,e),0!==(r=v[s])&&I(t,n-=B[s],r),O(t,s=E(--a),i),0!==(r=b[s])&&I(t,a-=D[s],r)),c<t.last_lit;);O(t,f,e)}function U(t,e){var i,a,n,s=e.dyn_tree,o=e.stat_desc.static_tree,r=e.stat_desc.has_stree,c=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=d,i=0;i<c;i++)0!==s[2*i]?(t.heap[++t.heap_len]=h=i,t.depth[i]=0):s[2*i+1]=0;for(;t.heap_len<2;)s[2*(n=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[n]=0,t.opt_len--,r&&(t.static_len-=o[2*n+1]);for(e.max_code=h,i=t.heap_len>>1;1<=i;i--)G(t,s,i);for(n=c;i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],G(t,s,1),a=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=a,s[2*n]=s[2*i]+s[2*a],t.depth[n]=(t.depth[i]>=t.depth[a]?t.depth[i]:t.depth[a])+1,s[2*i+1]=s[2*a+1]=n,t.heap[1]=n++,G(t,s,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,a,n,s,o,r,c=e.dyn_tree,h=e.max_code,u=e.stat_desc.static_tree,f=e.stat_desc.has_stree,m=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,g=e.stat_desc.max_length,v=0;for(s=0;s<=l;s++)t.bl_count[s]=0;for(c[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<d;i++)g<(s=c[2*c[2*(a=t.heap[i])+1]+1]+1)&&(s=g,v++),c[2*a+1]=s,h<a||(t.bl_count[s]++,o=0,p<=a&&(o=m[a-p]),r=c[2*a],t.opt_len+=r*(s+o),f&&(t.static_len+=r*(u[2*a+1]+o)));if(0!==v){do{for(s=g-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[g]--,v-=2}while(0<v);for(s=g;0!==s;s--)for(a=t.bl_count[s];0!==a;)h<(n=t.heap[--i])||(c[2*n+1]!==s&&(t.opt_len+=(s-c[2*n+1])*c[2*n],c[2*n+1]=s),a--)}}(t,e),L(s,h,t.bl_count)}function W(t,e,i){var a,n,s=-1,o=e[1],r=0,c=7,h=4;for(0===o&&(c=138,h=3),e[2*(i+1)+1]=65535,a=0;a<=i;a++)n=o,o=e[2*(a+1)+1],++r<c&&n===o||(r<h?t.bl_tree[2*n]+=r:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[2*m]++):r<=10?t.bl_tree[2*p]++:t.bl_tree[2*g]++,s=n,h=(r=0)===o?(c=138,3):n===o?(c=6,3):(c=7,4))}function z(t,e,i){var a,n,s=-1,o=e[1],r=0,c=7,h=4;for(0===o&&(c=138,h=3),a=0;a<=i;a++)if(n=o,o=e[2*(a+1)+1],!(++r<c&&n===o)){if(r<h)for(;O(t,n,t.bl_tree),0!=--r;);else 0!==n?(n!==s&&(O(t,n,t.bl_tree),r--),O(t,m,t.bl_tree),I(t,r-3,2)):r<=10?(O(t,p,t.bl_tree),I(t,r-3,3)):(O(t,g,t.bl_tree),I(t,r-11,7));s=n,h=(r=0)===o?(c=138,3):n===o?(c=6,3):(c=7,4)}}n(D);var Y=!1;function K(t,e,i,n){I(t,(s<<1)+(n?1:0),3),function(t,e,i){P(t),R(t,i),R(t,~i),a.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i)}i._tr_init=function(t){Y||(function(){var t,e,i,a,n,s=new Array(l+1);for(a=i=0;a<28;a++)for(B[a]=i,t=0;t<1<<v[a];t++)w[i++]=a;for(w[i-1]=a,a=n=0;a<16;a++)for(D[a]=n,t=0;t<1<<b[a];t++)x[n++]=a;for(n>>=7;a<c;a++)for(D[a]=n<<7,t=0;t<1<<b[a]-7;t++)x[256+n++]=a;for(e=0;e<=l;e++)s[e]=0;for(t=0;t<=143;)S[2*t+1]=8,t++,s[8]++;for(;t<=255;)S[2*t+1]=9,t++,s[9]++;for(;t<=279;)S[2*t+1]=7,t++,s[7]++;for(;t<=287;)S[2*t+1]=8,t++,s[8]++;for(L(S,r+1,s),t=0;t<c;t++)_[2*t+1]=5,_[2*t]=N(t,5);C=new q(S,v,o+1,r,l),A=new q(_,b,0,c,l),T=new q(new Array(0),k,0,h,7)}(),Y=!0),t.l_desc=new M(t.dyn_ltree,C),t.d_desc=new M(t.dyn_dtree,A),t.bl_desc=new M(t.bl_tree,T),t.bi_buf=0,t.bi_valid=0,F(t)},i._tr_stored_block=K,i._tr_flush_block=function(t,e,i,a){var n,s,r=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<o;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),U(t,t.l_desc),U(t,t.d_desc),r=function(t){var e;for(W(t,t.dyn_ltree,t.l_desc.max_code),W(t,t.dyn_dtree,t.d_desc.max_code),U(t,t.bl_desc),e=h-1;3<=e&&0===t.bl_tree[2*y[e]+1];e--);return t.opt_len+=14+3*(e+1),e}(t),n=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=n&&(n=s)):n=s=i+5,i+4<=n&&-1!==e?K(t,e,i,a):4===t.strategy||s===n?(I(t,2+(a?1:0),3),j(t,S,_)):(I(t,4+(a?1:0),3),function(t,e,i,a){var n;for(I(t,e-257,5),I(t,i-1,5),I(t,a-4,4),n=0;n<a;n++)I(t,t.bl_tree[2*y[n]+1],3);z(t,t.dyn_ltree,e-1),z(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,r+1),j(t,t.dyn_ltree,t.dyn_dtree)),F(t),a&&P(t)},i._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(w[i]+o+1)]++,t.dyn_dtree[2*E(e)]++),t.last_lit===t.lit_bufsize-1},i._tr_align=function(t){I(t,2,3),O(t,f,S),function(t){16===t.bi_valid?(R(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e){e.exports="function"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{buffer:2}],kit:[function(t,e){"use strict";cc._RF.push(e,"1e90fTzSQJJ/5kJNWoEuZbd","kit"),window.SAVE_DATA=window.SAVE_DATA||{},window.SAVE_FILE_NAME="game.sav",window.SAVE_FLAG=!1,window.SAVE_VERSION=2,window.QM_SAVE_FILE_NAME="qmSaveData",window.SAVE_ENABLE=1,cc.dump=function(t){cc.log(JSON.stringify(t))},cc.msgbox=cc.log,window.kit=window.kit||{},kit.getRank=function(t){return t<3?t+1:t<4?3:t<7?4:t<11?5:void 0},kit.snum2Date=function(t){return new Date(parseInt(t,36)+Date.now())},kit.replaceStr=function(t){return t.replace(/\[[\w]*\]/g,function(t){return window[t.substr(1,t.length-2)]})},kit.excel2Number=function(t){if("null"!=t){var e=parseFloat(t);return isNaN(e)?0:e}},kit.getOS=function(){return cc.sys.isNative?cc.sys.os:window.navigator.platform},kit.getAppend=function(t){return t<3?0:t<4?t-2:t<7?t-4:t<11?t-7:void 0},kit.getXmlLength=function(t){for(var e,i=0,a=0,n=t.length;a<n;a++){var s=t[a];e||"<"!=s?e?">"==s&&(e=!1,"/"==t[a-1]&&i++):i++:e=!0}return i},String.prototype.getXmlLength=function(){return kit.getXmlLength(this)},kit.subxml=function(t,e,i){for(var a="",n=-1,s=0,o=0,r=t.length;o<r;o++){var c=t[o];if(n<0&&"<"==c)n=a.length,a+=c,s++,"/"==t[o+1]&&(s-=2);else if(n>=0){if(a+=c,">"==c){if("/"==t[o-1]){if(0==i){a=a.substr(0,n);break}if(s--,0==--i&&0==s)break}n=-1}}else if(e>0)e--;else if(i>0)i--,a+=c;else if(0==s)break}return a},String.prototype.subxml=function(t,e){return kit.subxml(this,t,e)},kit.sin=function(t){return Math.sin(t)},kit.cos=function(t){return Math.cos(t)},kit.posRtt=function(t,e,i){return i.x=i.x||0,i.y=i.y||0,Math.sin(e),Math.cos(e),t.x,i.x,t.y,i.y,i.x,t.x,i.x,t.y,i.y,i.y,t},kit.posRtt00=function(t,e){var i=Math.sin(e),a=Math.cos(e),n=t.x*a-t.y*i,s=t.x*i+t.y*a;return t.x=n,t.y=s,t},kit.vector2Degree=function(t,e){var i=kit.vector2Radian(t,e);return kit.radian2Degree(i)},kit.vector2Radian=function(t,e){1==arguments.length&&(e=t.y,t=t.x);var i=0;return 0==e?i=t>0?0:Math.PI:e>0?i=-Math.atan(t/e)+.5*Math.PI:e<0&&(i=-Math.atan(t/e)-.5*Math.PI),i<0&&(i+=2*Math.PI),i},kit.radian2Degree=function(t){return 57.29577951*t},kit.degree2Radian=function(t){return.017453292521*t},kit.rndInt=function(t,e){return t+Math.floor(Math.random()*(e-t+1))},kit.rnd=function(t,e){return t+(e-t)*Math.random()},kit.norm=function(t,e){return Math.sqrt(t*t+e*e)},kit.sumOfSquares=function(t,e){return t*t+e*e},kit.clamp=function(t,e,i){return t<e?e:t>i?i:t},kit.clone=function(t){if("object"!=typeof t)return t;if(null===t)return t;if(t.constructor==Array)var e=[];else e={};for(var i in t)e[i]=kit.clone(t[i]);return e},kit.initTimer=function(t,e,i){t.gameTimerFromKit||(t.gameTimerFromKit={}),t.gameTimerFromKit[e]=null!==i&&-i||0},kit.timer=function(t,e,i,a,n){if(a=a||0,t.gameTimerFromKit||(t.gameTimerFromKit={}),t.gameTimerFromKit[e]||0==t.gameTimerFromKit[e])return t.gameTimerFromKit[e]=t.gameTimerFromKit[e]+a,t.gameTimerFromKit[e]>=i?(t.gameTimerFromKit[e]=0,!0):void 0;t.gameTimerFromKit[e]=null!==n&&-n||0},kit.mergeObjs=function(t,e,i){if(t){if("object"==typeof e)for(var a in e)t[a]=a!=i?kit.mergeObjs(t[a],e[a]):kit.addObjs(t[a],e[a])}else t=e=kit.clone(e);return t},kit.addObjs=function(t,e){if(t)if("object"!=typeof e)"number"==typeof t&&"number"==typeof e&&(t+=e);else for(var i in e)t[i]=kit.addObjs(t[i],e[i]);else t=e=kit.clone(e);return t},kit.mulObjs=function(t,e){if(t)if("object"!=typeof e)"number"==typeof t&&"number"==typeof e&&(t*=e);else for(var i in e)t[i]=kit.mulObjs(t[i],e[i]);else t=e=kit.clone(e);return t},kit.segmentsIntr=function(t,e,i,a){var n=(t.x-i.x)*(e.y-i.y)-(t.y-i.y)*(e.x-i.x),s=(t.x-a.x)*(e.y-a.y)-(t.y-a.y)*(e.x-a.x);if(n*s>=0)return!1;var o=(i.x-t.x)*(a.y-t.y)-(i.y-t.y)*(a.x-t.x);if(o*(o+n-s)>=0)return!1;var r=o/(s-n),c=r*(e.x-t.x),h=r*(e.y-t.y),d=t.x+c,l=t.y+h;return i.x>a.x&&(i.x=i.x+a.x,a.x=i.x-a.x,i.x=i.x-a.x),i.y>a.y&&(i.y=i.y+a.y,a.y=i.y-a.y,i.y=i.y-a.y),{x:d,y:l}},kit.isLinesCross=function(t,e,i,a,n,s,o,r){if(t-i==0&&n-o==0)return t==n&&(e>=s&&e<=r||a>=s&&a<=r);var c,h,d,l;if(h=e-(c=(e-a)/(t-i))*t,l=s-(d=(s-r)/(n-o))*n,c==d&&h!=l)return!1;var u,f,m,p,g=(l-h)/(c-d),v=c*g+h;return t-i!=0&&n-o!=0||(v=c*(g=t-i==0&&t||n)+h),(g>=t&&i>=g||g<=t&&i<=g)&&(u=!0),(v>=e&&a>=v||v<=e&&a<=v)&&(f=!0),(g>=n&&o>=g||g<=n&&o<=g)&&(m=!0),(v>=s&&r>=v||v<=s&&r<=v)&&(p=!0),!!(u&&f&&m&&p)||void 0},kit.isLineCrossBox=function(t,e,i,a,n,s,o,r){return kit.isLinesCross(t,e,i,a,n-o/2,s-r/2,n+o/2,s-r/2)||kit.isLinesCross(t,e,i,a,n-o/2,s-r/2,n-o/2,s+r/2)||kit.isLinesCross(t,e,i,a,n+o/2,s-r/2,n+o/2,s+r/2)||kit.isLinesCross(t,e,i,a,n-o/2,s+r/2,n+o/2,s+r/2)},kit.info=function(t,e){cc.log(t),e&&e()},kit.subDate=function(t,e){return(t-e)/1e3},kit.isSameDate=function(t,e){return t=[t.getYear(),t.getMonth(),t.getDate()],e=[e.getYear(),e.getMonth(),e.getDate()],t[0]==e[0]&&t[1]==e[1]&&t[2]==e[2]},kit.timeCountLabel=function(t,e,i,a,n){var s=new cc.Node,o=s.addComponent(cc.Label);s.setAnchorPoint(0,.5),o.fontSize=30,i&&s.setColor(i),s.label=o;var r=t.getTime()/1e3+e,c=n;return s.update=function(){var t=(new Date).getTime()/1e3,e=r-t;if(e>0){kit.fixNum(Math.floor(e/3600),2);var i=kit.fixNum(Math.floor(e%3600/60),2),a=kit.fixNum(Math.floor(e%60),2);s.label.string=i+":"+a}else s.label.string="00:00:00",s.unscheduleUpdate(),c&&c()},s.scheduleUpdate(),s},kit.fixTimeNum=function(t,e){return e&&2==e?kit.fixNum(Math.floor(t/60),2)+":"+kit.fixNum(Math.floor(t%60),2):kit.fixNum(Math.floor(t/3600),2)+":"+kit.fixNum(Math.floor(t%3600/60),2)+":"+kit.fixNum(Math.floor(t%60),2)},kit.fixNum=function(t,e){return(""+t).length<e?(new Array(e+1).join("0")+t).slice(-e):""+t},kit.numApproach=function(t,e,i){return t>e?(t-=i)<e&&(t=e):t<e&&(t+=i)>e&&(t=e),t},kit.num2Ch=function(t){return i.trans(t)};var i={ary0:["","","","","","","","","",""],ary1:["","","",""],ary2:["","","",""],trans:function(t){for(var e="",i="",a=t+"",n=-1,s=a.length,o=0;o<s;o++){var r=a[s-o-1];if(o%4==0&&(n++,i=this.ary2[n]+i,e=""),"0"==r){switch(o%4){case 0:break;case 1:case 2:case 3:"0"!=a[o-1]&&(e="")}i=e+i,e=""}else i=this.ary0[parseInt(r)]+this.ary1[o%4]+i}return 0==i.indexOf("")&&(i=i.substr(1)),0==i.indexOf("")&&(i=i.substr(1)),i}};window.num2ChObject=i,kit.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},kit.isObject=function(t){return"object"==typeof t&&null!==t},kit.getArrFromJson=function(){},kit.getObjFromJson=function(){},kit.getFullPathFileName=function(t){return cc.sys.os!=cc.sys.OS_IOS&&cc.sys.os!=cc.sys.OS_ANDROID||(t=jsb.fileUtils.getWritablePath()+"/"+t),t},kit.getDeviceId=function(){return kit.deviceId?kit.deviceId:kit.deviceId="FATTOY"},kit.getChannelName=function(){return kit.channelName?kit.channelName:kit.channelName=cc.Platformsdk.getChannelName()},kit.async=function(t,e){var i=t.length,a=function(){0==--i&&e()};for(var n in t)t[n](a)},kit.fall=function(t,e){var i=0;!function a(){if(i<t.length){var n=t[i];i++,n(a)}else e()}()},kit.isCollided=function(t,e,i,a,n,s,o,r){return 2*Math.abs(t-n)<i+o&&2*Math.abs(e-s)<a+r},kit.getSubChannelName=function(){if(kit.subChannelName)return kit.subChannelName;if(cc.sys.os==cc.sys.OS_ANDROID){if(t=jsb.reflection.callStaticMethod("com/fattoy/game/AppActivity","getMySubChannelName","()Ljava/lang/String;"))return kit.subChannelName=t}else if(cc.sys.os==cc.sys.OS_IOS){var t;if(t=jsb.reflection.callStaticMethod("AdConfig","getChannelAndType")){var e=t.split("_");return kit.channelName=e[0],kit.subChannelName=e[1],kit.subChannelName}}return kit.subChannelName=DEFAULT_TYPE},kit.getInternetDate=function(t){t&&t(1)},kit.getLocaleByTencent=function(t){},kit.getLocaleByBaidu=function(t){},kit.getLocale=function(t){kit.getLocaleByBaidu(function(e,i){e?kit.getLocaleByTencent(t):t&&t(null,i)})},window.nFormatter=function(t){var e,i=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"}];for(e=i.length-1;e>0&&!(t>=100*i[e].value);e--);return(t/i[e].value).toFixed(0).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+i[e].symbol},kit.checkSaveData=function(t){PlayerData.save(),kit.setNewLocalData(),t||kit.sendToServer()},window.testurl="",window.UserId="01",window.ServerVersion=0,window.Local_Platform="oppo",window.Local_openid="no_openid",window.SumitData_Success=!1,kit.setPlatform=function(t){Local_openid=t},kit.LoginFunc=function(){},kit.sendToServer=function(){},kit.keepSaveData=function(t){if(!window.wx&&(!window.wx||t)&&(!window.wx&&cc.sys.isNative||(SAVE_FLAG=!0,SAVE_ENABLE=!0),SAVE_ENABLE&&cloudloadOK&&(cc.sys.isNative&&(SAVE_FLAG=!0),SAVE_FLAG)))try{window.wx}catch(t){cc.error("kit.keepSaveData:"+t.message)}},kit.isNewDay=function(t){var e=PlayerData.getCollectionTime();if(!e){var i=new Date,a=[r=i.getFullYear(),c=i.getMonth(),h=i.getDate()];return PlayerData.setCollectionTime(a),!0}var n=parseInt(e[0]),s=parseInt(e[1]),o=parseInt(e[2]),r=t.getFullYear(),c=t.getMonth(),h=t.getDate();return n!=r||s!=c||o!=h},kit.isNewBannerDay=function(t){var e=PlayerData.getBannerTime();if(!e){var i=new Date,a=[r=i.getFullYear(),c=i.getMonth(),h=i.getDate()];return PlayerData.setBannerTime(a),!0}var n=parseInt(e[0]),s=parseInt(e[1]),o=parseInt(e[2]),r=t.getFullYear(),c=t.getMonth(),h=t.getDate();return n!=r||s!=c||o!=h},kit.canShowInserVideo=function(){var t=new Date((new Date).toLocaleDateString()).getTime(),e=PlayerData.getInsertVideoTime();return e?(console.log("formerTime   "),e=Math.round(e),console.log("formerTime  ",e),console.log("nowTime  ",t),Math.round(t)-e>=2592e5):(PlayerData.setInsertVideoTime(t),kit.checkSaveData(1),console.log("formerTime  "),!1)},kit.getSaveData=function(){return kit.getNewLocalData()},kit.getNewLocalData=function(){var t=cc.sys.localStorage.getItem(QM_SAVE_FILE_NAME);return!!t&&(SAVE_DATA=JSON.parse(t),SAVE_DATA)},kit.setNewLocalData=function(){PlayerData.UpdateTimeStamp();var t=JSON.stringify(PlayerData.saveData);cc.log("------------------------------",PlayerData.saveData),cc.sys.localStorage.setItem(QM_SAVE_FILE_NAME,t)},kit.CleanLocalData=function(){cc.sys.localStorage.removeItem(QM_SAVE_FILE_NAME)},kit.updateSaveData=function(t,e){try{e.__key=kit.getDeviceId(),e.__version=SAVE_VERSION;var i=JSON.stringify(e);SAVE_DATA[t]=i,SAVE_FLAG=!0}catch(i){cc.error("kit.updateSaveData:"+i.message+","+t+","+e)}},kit.loadSaveData=function(){if(SAVE_DATA={},SAVE_ENABLE)try{if(cc.sys.isNative){var t=kit.getFullPathFileName(SAVE_FILE_NAME);jsb.fileUtils.isFileExist(t)&&(e=jsb.fileUtils.getStringFromFile(t))&&(SAVE_DATA=JSON.parse(e))}else{var e;(e=cc.sys.localStorage.getItem(SAVE_FILE_NAME))&&(SAVE_DATA=JSON.parse(e))}}catch(t){cc.error("kit.readSaveData:"+t.message)}},kit.loadOldSaveData=function(){if(SAVE_ENABLE){var t=["Guide","Strength","ItemData","MoneyData","PayData","PlayerData","Ad","TJ","Adventure","Arena","Plunder","plunderMatch","RecommendEntity","Supply","Trials","Quest","GameSetting","CountDownCenter","LoginReward","onlineReward2"];for(var e in SAVE_FLAG=!0,t){var i=t[e];try{var a=kit.getFullPathFileName(i+".json");if(jsb.fileUtils.isFileExist(a)){var n=jsb.fileUtils.getStringFromFile(a);n&&(SAVE_DATA[i]=n)}}catch(t){cc.error("kit.readOldSaveData:"+t.message+","+i)}}}},kit.setSaveData=function(t,e){try{e.__key=kit.getDeviceId(),e.__version=SAVE_VERSION,SAVE_DATA[t]=JSON.stringify(e),SAVE_FLAG=!0}catch(i){cc.error("kit.setSaveData:"+i.message+","+t+","+e)}},kit.resetSaveData=function(){SAVE_ENABLE&&(kit.getFullPathFileName(SAVE_FILE_NAME),cc.game.restart())},window.FIXED=1e5,window.c_clamp=function(t,e,i){return t<e?e:t>i?i:t},window.c_floor=Math.floor,window.c_abs=Math.abs,window.c_sin=function(t){return c_floor(Math.sin(t)*FIXED)/FIXED},window.c_cos=function(t){return c_floor(Math.cos(t)*FIXED)/FIXED},window.PI=c_floor(Math.PI*FIXED)/FIXED,window.c_sqrt=function(t){return c_floor(Math.sqrt(t)*FIXED)/FIXED},window.c_norm=function(t,e){return c_sqrt(t*t+e*e)},window.c_sumOfSquares=function(t,e){return t*t+e*e},window.c_degree2Radian=function(t){return.017453292521*t},window.c_radian2Degree=function(t){return 57.29577951*t},window.c_degree2sin=function(t){return c_sin(.017453292521*t)},window.c_degree2cos=function(t){return c_cos(.017453292521*t)},window.c_atan=function(t){return c_floor(Math.atan(t)*FIXED)/FIXED},kit.normalizeDeg=function(t){var e=t%360;return e<0&&(e+=360),e},kit.normalizeRad=function(t){var e=t%(2*Math.PI);return e<0&&(e+=2*Math.PI),e},kit.shuffle=function(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),a=[t[e],t[i]];t[i]=a[0],t[e]=a[1]}return t},kit.vibrate=function(){window.wx&&wx.vibrateShort&&wx.vibrateShort()},kit.rollWithPower=function(t){var e=0;for(var i in t)e+=t[i];var a,n=Math.random()*e,s=0;for(var i in t)if(n<=(s+=t[i])){a=i;break}return a},cc._RF.pop()},{}],main:[function(t,e){"use strict";cc._RF.push(e,"8d3f7MLQ9lOvooV9xdYE/Hp","main"),window.SAVE_DATA=window.SAVE_DATA||{},window.PROP_DATA={},window.SAVE_FILE_NAME="game.sav",window.SAVE_FLAG=!1,window.SAVE_VERSION=2,window.QM_SAVE_FILE_NAME="qmSaveData",window.SAVE_ENABLE=1,window.OpLoginData={},window.WIDE_SCREEN=!1,window.NO_COLD_DOWN=0,window.EDITOR_MODE=1,window.DEBUG_MODE=1,window.COLOR_LOG=1,window.GUANG_DIAN=0,window.TEST_GATE_HOST="test.fattoy.cn",window.HOLIDAY="newyear",window.DT=1/60,window.WXOPENID=null,window.MainDebug=!1,window.DESIGN_SIZE=cc.size(672,1136),window.VIEW_SIZE=cc.size(672,1136),window.GAME_VERSION="1.1.0",window.TARGET_PLATFORM="android",window.TEST_CHANNEL="fattoy",window.IOS_CHANNEL="fattoy",window.IOS_TYPE="free",window.HEXIE=1,window.TEST_CONTENT=!1,window.DUANWUJIE=!1,window.LOW_GRAPHICS=!1,window.ENABLE_SHARE=!1,window.DEFAULT_TYPE="free",window.AD_ENABLE=0,window.SHARE_ENABLE=!1,window.APP_PAY_TYPE=null,window.SPECIAL_EFFECT_OPEN=!0,window.IMAGE_CACHES={},window.FRAME_CACHES={},window.ANIME_CACHES={};var i=!1,a=!1,n=!1;window.cloudloadOK=!1;var s=!1,o=!1;cc.sys.os==cc.sys.OS_IOS?(window.TARGET_PLATFORM="ios",DEBUG_MODE=0,GAME_VERSION="1.0.2"):cc.sys.os==cc.sys.OS_ANDROID&&(window.TARGET_PLATFORM="android",DEBUG_MODE=0),window.ENABLE_AD=!1,window.LOADING_BG_PATH="loading",window.MapDataH5=[];var r={};t("Platformsdk"),window.RESOURCES={},RESOURCES.BossHpFrame=[{path:"uiz/ingame/boss/boss_frame"},{path:"uiz/ingame/boss/boss_hp"},{path:"uiz/ingame/boss/boss_hp_hurt"},{path:"uiz/ingame/boss/bg"},{path:"uiz/ingame/boss/incoming"}],RESOURCES.healNumber_1={path:"effect/heal_number",type:cc.LabelAtlas},RESOURCES.HurtNum_1={path:"effect/numbar_light",type:cc.LabelAtlas},RESOURCES.DropShell_1={path:"shell"},RESOURCES.Blood_1={path:"effect/blood/baoxue",type:cc.SpriteAtlas},window.BUNDLE={},console.log("windowsconsole logcclog"),console.log=cc.log,cc.Class({extends:t("Menu"),start:function(){cc.debug.setDisplayStats(0);var t=this,e=cc.Canvas.instance.node;e.getChildByName("tips").getComponent(cc.Label).string="",t._label=e.getChildByName("_label").getComponent(cc.Label),visibleRect.init(),menuManager.init(this),cc.Platformsdk.init(),e.getChildByName("load").runAction(cc.sequence(cc.rotateBy(.7,360).easing(cc.easeInOut(2)),cc.delayTime(.5)).repeatForever()),this.updateLoadingStateLabel(),t.initResource();var i=function(){cloudloadOK=!0,t.updateLoadingStateLabel(),t.checkFirstPlay()?(a=!0,t.onSubpackOK(),console.log("onCloudLoadOKsub2",a)):(console.log("onCloudLoadOKsub2",a),t.goToMainMenuFirst=!0),t.checkStartGame(),!operkit.getOperData("guide","first_login")&&(tjSDK.onEvent("first_login"),operkit.setOperData("guide","first_login",!0,!0))};setTimeout(function(){cloudloadOK||(console.log("--"),cloudloadOK=!0)},3e4),function(){var e;if(t.checkStartGame(),cc.sys.isNative&&(MainDebug=!0),e=i,cc.Platformsdk.loadData(e),window.wx){var a=wx.getSystemInfoSync();"android"==kit.getOS()?!a.benchmarkLevel||a.benchmarkLevel:"ios"!=kit.getOS()&&"devtools"!=kit.getOS()||a.model.indexOf("iPhone 5s")>=0&&a.model.indexOf("iPhone 5"),t.loadSubpacks()}else t.loadSubpacks()}()},preloadScene:function(){console.log("preloadScene mainMenu"),cc.director.preloadScene("scene/mainMenu",function(){})},updateLoadingStateLabel:function(){var t=this;r&&r.onProgressUpdate&&!o&&window.wx&&r.onProgressUpdate(function(e){console.log("",e.progress);var i=100*e.progress;t.subpackUpdateString="... "+i+"%"})},onSubpackOK:function(){a&&i&&(o||(o=!0,this.updateLoadingStateLabel(),console.log("load subpackage successfully."),cc.log("EnittyInit"),t("EventManager"),t("EntityInit"),cc.log("EnittyInit"),ENTITYS.init(),this.startLoadSubpackResource(),!operkit.getOperData("guide","first_subpack_download")&&(tjSDK.onEvent("first_subpack_download"),operkit.setOperData("guide","first_subpack_download",!0,!0))))},loadSubpacks:function(){console.log("loadSubpacks");var t=this;cc.Platformsdk.setLoadingProgress(0),r=LoadBundle("sub",function(e){e&&console.log("sub",e),console.log("sub"),i=!0,cc.Platformsdk.setLoadingProgress(30),LoadBundle("sub2",function(e){e?console.log("sub2",e):(console.log("sub3"),LoadBundle("sub3",function(){console.log("sub3")}),cc.isValid(t)&&(console.log("sub2"),a=!0,t.onSubpackOK()))}),t.onSubpackOK()}),this.updateLoadingStateLabel()},initMainMenuData:function(){window.WIDE_SCREEN=cc.winSize.height/cc.winSize.width>=2;var t=operkit.getGuideData(),e=operkit.getGuideStep1015();t.length>=6?(window.INGUIDEPROGRESS=0,e<16&&operkit.setGuideStep1015(16)):window.INGUIDEPROGRESS=e>=16?0:1,window.INGUIDEPROGRESS||(operkit.addRelics(10021),operkit.addRelics(10042)),window.CUR_MAX_CHAPTER||(window.CUR_MAX_CHAPTER=operkit.getMaxWarChapter(),0===window.CUR_MAX_CHAPTER&&operkit.isJYChapter()&&(operkit.setWarProgress(1),window.CUR_MAX_CHAPTER=1)),cc.log("-INGUIDEPROGRESS:",INGUIDEPROGRESS),operkit.getLoginDay(),cc.Platformsdk.resetDebug(),!operkit.getOperData("guide","first_enter")&&(tjSDK.onEvent("first_enter"),operkit.setOperData("guide","first_enter",!0,!0),operkit.setSoundData("yx",!0),operkit.setSoundData("yy",!0)),window.isSoundOpened=operkit.getSoundSwitch("yx"),window.isBGMOpened=operkit.getSoundSwitch("yy"),window.qg&&qg.reportMonitor("game_scene",0)},checkFirstPlay:function(){var t=operkit.loadWarData("isInGameGuideFinish");return console.log("isInGameGuideFinish",t),!t},startGame:function(e){if(this.saveGameExist)cc.log("");else{e=e||0;var i=new(t("GameEntrance")),a=new(t("LevelPool"));a.initWithChapter(e),cc.log("equipment attr",EquipDefine.getAllAttrs()),cc.log("--------startGame--------",e);var n=operkit.loadWarData("isInGameGuideFinish");n||a.setGuide(),i.start("test",{chapterProgress:operkit.getCurWarChapter(),guide:!n,levelPool:a,equipment:EquipDefine.getAllAttrs()},!0),cc.Platformsdk.hideBanner(),cc.Platformsdk.hideCustom()}},checkStartGame:function(){s&&cloudloadOK&&o&&!n&&(n=!0,console.log("checkStartGame success"),cc.Platformsdk.setLoadingProgress(100),this.initMainMenuData(),this.checkFirstPlay()?(window.FirstEntryGame=!0,this.startGame(0)):(window.FirstEntryGame=!1,menuManager.runWithTransition("mainMenu",{},!0,"mainui")),!operkit.getOperData("guide","first_loadsuccess")&&(tjSDK.onEvent("first_loadsuccess"),operkit.setOperData("guide","first_loadsuccess",!0,!0),tjSDK.onEventQm(101)))},onLoad:function(){var t=cc.Canvas.instance.node;this.loadingContent=t.getChildByName("tiao")},init:function(t){this.args=t,this.mask={},this.initResource(this.args.map),this.cb=this.args.cb;var e=this,n=cc.Canvas.instance.node.getChildByName("Main Camera").getComponent("main");if(this.checkSubPackageComplete=function(){i&&a&&n.unschedule(e.checkSubPackageComplete)}.bind(this),n.schedule(e.checkSubPackageComplete,.1,cc.REPEAT_FOREVER,.1),cc.sys.isNative){var s=function(){this.isReadyForTouch=!0}.bind(this);this.scheduleOnce(s,.3)}},createSysLabel:function(t,e){var i=new cc.Node,a=i.addComponent(cc.Label);return a.string=t,a.fontSize=e,i},coverTouch:function(){},touchBegan:function(){return!0},touchEnded:function(){this.isReadyForTouch&&(s=!0,this.checkStartGame(),this.isReadyForTouch=!1)},initResource:function(){for(var t in this.mask={},this.loadCt=0,this.loadList=[],IMAGE_CACHES)-1!=IMAGE_CACHES[t]&&this.loadList.push({image:t});for(var t in FRAME_CACHES)-1!=FRAME_CACHES[t]&&this.loadList.push({plist:t});for(var t in ANIME_CACHES)-1!=ANIME_CACHES[t]&&this.loadList.push({anime:t,n:ANIME_CACHES[t]});for(var e in this.timer=.1,this.mask)this.mask[e].loaded||(this.mask[e].loaded=!0,this.loadList.push(this.mask[e]))},startLoadSubpackResource:function(){for(var t in g_resources.sprite);for(var t in g_resources.labelAtlas);for(var t in g_resources.sound);for(var e in this.pushResource([]),this.mask)this.mask[e].loaded||(this.mask[e].loaded=!0,this.loadList.push(this.mask[e]));console.log("startLoadSubpackResource")},pushResource:function(t,e){if(void 0===e&&(e=1),t)if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&this.pushResource(t[i],e);else if(cc.js.isString(t)){var a=t.indexOf("sound/");this.mask[t]=a<0?{path:t,type:cc.Texture2D}:{path:t,type:cc.AudioClip}}else if(t.path)this.mask[t.path]=t;else if(t.anime){var n=t.anime,s=(n.split("_"),"anime/"+n+"_ske"),o="anime/"+n+"_tex";this.mask[s]={path:s,type:dragonBones.DragonBonesAsset},this.mask[o]={path:o,type:dragonBones.DragonBonesAtlasAsset}}else if(t.particle){var r="particle/"+t.particle;this.mask[r]={path:r,type:cc.ParticleAsset}}else t.atlas?(r=t.atlas,this.mask[r]={path:r,type:cc.SpriteAtlas}):t.sound&&(r=t.sound,this.mask[r]={path:r,type:cc.AudioClip})},loadResource:function(t){if(t){if(t.path)var e=t.path,i=t.type;else e=t,i=cc.Texture2D;return e=this.getDefaultName(e),(t=window.Cache[e])||this.loadRes(e,i,function(t,i){t||ENABLE_CACHE&&(window.Cache[e]=i)}),!0}},getDefaultName:function(t){if(t){if(t.indexOf("#")<=0){var e=resDefaultPathNameCheckNum,i=t.substr(0,e);resDefaultPathName[i]&&(t=resDefaultPathName[i]+"#"+t)}return t}},loadRes:function(t,e,i){if(t.indexOf("#")>0){var a=t.split("#"),n=cc.assetManager.getBundle(a[0]);t=a[1],n&&n.load(t,e,i)}else cc.loader.loadRes(t,e,i)},update:function(t){if(!this.isDone&&this.timer){if(this.firstUpdate)for(var e=1;e<=50;e++)this.loadResource(this.loadList[this.loadCt])&&this.loadCt++;this.firstUpdate=!0;var a=parseInt(this.loadCt/this.loadList.length*100);if(a=(a=a<100?a:100)<0?0:a,this.loadingContent.scaleX=a/100*.865,i&&this.goToMainMenuFirst&&(this.preloadScene(),this.goToMainMenuFirst=!1),this._label.string=o?100!=a?"Loading... "+a+"%":"Login... ":100!=a?"Loading... "+a+"%":this.subpackUpdateString||"Loading...",kit.timer(this,"retry",8,t)&&this.loadSubpacks(),this.timer+=t,!o)return;a>=100&&(s=!0,this.checkStartGame())}}}),window.LoadBundle=function(t,e){cc.assetManager.loadBundle(t,function(i,a){console.log("loadBundle cb success",t),e&&e(i,a)})},cc._RF.pop()},{EntityInit:"EntityInit",EventManager:"EventManager",GameEntrance:"GameEntrance",LevelPool:"LevelPool",Menu:"Menu",Platformsdk:"Platformsdk"}],menuManager:[function(t,e){"use strict";cc._RF.push(e,"63d1f4dpAlKM7kS88pyjt23","menuManager");var i={init:function(t){i.menu=t,t.popMenuStack=[],cc.loader.loadRes("prefab/loading",cc.Prefab,function(t,e){i.loadingPrefab=e}),cc.loader.loadRes("loading/bg",cc.Texture2D,function(t,e){i.whiteBlockData=e})},currentRunCfg:function(){return i.menuStack[i.menuStack.length-1]},currentRun:function(){if(i.menu)return i.menu},currentrun:function(){var t=i.menu;if(!t)return null;var e=t.popMenuStack;return e&&e.length>0?e[e.length-1].menu:void 0},current:function(){var t=i.menu;if(!t)return null;var e=t.popMenuStack;return e.length>0?e[e.length-1].menu:t},queueCheck:function(t){if(i.queueMenu==t)for(i.queueMenu=null;i.popQuene.length>0;){var e=i.popQuene.shift();if(i.pop(e.name,e.args,function(t,a){e.noBusy||(i.queueMenu=a)}),!e.noBusy)return}},queue:function(t,e,a){i.queueMenu?i.popQuene.push({name:t,args:e,noBusy:a}):i.pop(t,e,function(t,e){a||(i.queueMenu=e)})},push:function(t,e,a){a?i.menuStack=[{name:t,args:e},i.currentRunCfg()]:i.menuStack.splice(i.menuStack.length-1,0,{name:t,args:e})},snapshot:function(){i.currentRunCfg().popMenuStack=i.menu.popMenuStack},popCover:function(){var t=i.menu,e=1e3+2*(t.popMenuStack.length+1),a=new cc.Node;a.width=cc.winSize.width,a.height=cc.winSize.height,a.addComponent(cc.BlockInputEvents),t.node.addChild(a,e);var n=cc.instantiate(i.loadingPrefab);return a.addChild(n),a},closeCover:function(t){t.destroy()},close:function(t,e){cc.log("menuManager.close");var a=i.menu,n=a.popMenuStack;if(n&&!(n.length<=0)){var s=!1;if(arguments.length<2)e=t,t=n[n.length-1].menu,n.length-=1,s=!0;else for(var o=n.length-1;o>=0;o--)if(t==n[o].menu){o==n.length-1&&(s=!0),n.splice(o,1);break}if(t.onMenuClose(e),0==n.length)a.onMenuBlock(0);else{var r=1e3+2*n.length;a.onMenuBlock(r)}s&&i.current().onMenuReappear(),i.queueCheck(t)}},loadRes:function(t,e,i){if(t.indexOf("#")>0){var a=t.split("#"),n=cc.assetManager.getBundle(a[0]);return t=a[1],n&&n.load(t,e,i),n}return cc.loader.loadRes(t,e,i),!0},pop:function(t,e,a,n){if(cc.log("menuManager.pop",t),i.loading)cc.warn("menuManager is loading now!");else{var s=i.menu,o=s.popMenuStack,r=1e3+2*(o.length+1);s.onMenuBlock(r,e.noBlack);var c=cc.instantiate(i.loadingPrefab);s.node.addChild(c,r);var h=i.current();h&&h.onMenuCover(),i.loading=!0,this.loadRes(t,cc.Prefab,function(n,s){if(i.loading=!1,c.destroy(),n)return cc.log("loadPrefab err",t,n),void kit.info(",");e=e||{};var h=cc.Canvas.instance.node,d=cc.instantiate(s);h.addChild(d,r);var l=d.getComponent("Menu");l.menuName=t,l.init(e),d.opacity=0,d.runAction(cc.fadeIn(.1)),l.popFreeFlag||o.push({name:t,menu:l,args:e}),a&&a(null,l)})||n&&(i.loading=!1,n(),tjSDK.onEvent("menu_popfail",t))}},runWithTransition:function(e,a,n,s){if(i.loadingWithTransition)cc.warn("menuManager is loading now!");else{i.loadingWithTransition=!0;var o=function(e,a,n){var s=new cc.Node;s.color=cc.color(0,0,0),s.opacity=e?255:0,e||s.addComponent(cc.BlockInputEvents);var o=s.addComponent(cc.Sprite),r=new cc.SpriteFrame;o.type=cc.Sprite.Type.SLICED;var c=i.whiteBlockData;return r.setTexture(c),o.spriteFrame=r,o.start=function(){s.width=cc.winSize.width,s.height=cc.winSize.height;var i=t("GradientShaderMgr");s.addComponent(i).init(o,e?-1:1,!e||n),a&&s.runAction(cc.sequence(cc.delayTime(a),cc.destroySelf()))},i.menu.node.addChild(s,12345),s},r=o(),c=a.fadeInTime||.4,h=(a.fadeOutTime,a.noFixDt);cc.tween(r).to(c,{opacity:255}).call(function(){i.run(e,a,n,function(){o(!0,.6,h).opacity=255,console.log("transition start"),i.loadingWithTransition=!1},s,!0)}).start()}},run:function(t,e,a,n,s,o){if(console.log("menuManager.run",t),s)return this.run("Loading",{title:e.loadingTitle,nextSceneArg:e,nextScene:t,nextSceneCb:n,preloadID:s},a,null,null,o);if(!i.loading||o){i.loading=!0;var r=i.current();r&&r.onMenuLeave();var c=i.menu;if(c){var h=1e3+2*c.popMenuStack.length;if(i.loadingPrefab){var d=cc.instantiate(i.loadingPrefab);c.node.addChild(d,h)}}console.log("menuManager.run preloadScene",t),cc.director.loadScene("scene/"+t,function(s){if(i.loading=!1,s)return console.log("loadScene err",t,s),i.back(),void kit.info(",");i.queueMenu=null,i.popQuene=[],e=e||{};var o=cc.Canvas.instance.node,r=i.menu=o.getComponent("Menu");r.runFreeFlag||(a?i.menuStack=[{name:t,args:e}]:i.currentRunCfg().name!=t&&i.menuStack.push({name:t,args:e})),r.popMenuStack=[],r.menuName=t,console.log("menuManager menu init",e),r.init(e),n&&n()})}else cc.warn("menuManager is loading now!")},back:function(t){if(void 0===t&&(t=1),cc.log("menuManager.back",t,i.menuStack.length),i.loading)cc.error("mm.back: busy now");else if(i.menuStack.length>t){i.menuStack.length-=t;var e=i.currentRunCfg();i.run(e.name,e.args);var a=e.popMenuStack;if(a&&a.length>0){for(var n in a)var s=a[n],o=i.pop(s.name,s.args);e.popMenuStack=null,o.onMenuBack()}else i.menu.onMenuBack()}else i.run("main",{},!0)},refresh:function(){var t=i.currentRunCfg();i.run(t.name,t.args)},stopBgm:function(){void 0!==this.music&&(cc.audioEngine.stop(this.music),delete this.music)},resumeBgm:function(){if(this.musicFile){var t=this.musicFile;delete this.musicFile,this.play(t)}},play:function(t,e){var i=this;if(void 0===e&&(e=!0),this.musicFile!=t&&(this.musicFile=t,void 0!==this.music&&(cc.audioEngine.stop(this.music),delete this.music),""!=t)){var a=t;cc.loader.loadRes(a,cc.AudioClip,function(t,a){t?delete i.musicFile:i.music=cc.audioEngine.play(a,e,1)})}}};window.menuManager=i,cc._RF.pop()},{GradientShaderMgr:"GradientShaderMgr"}],moneyFrame:[function(t,e){"use strict";cc._RF.push(e,"a485csbdWlNt7+PWvvGV2Ms","moneyFrame"),cc.Class({extends:cc.Component,properties:{num:cc.Node},init:function(t){this.gameManager=t,this.effectMgr=this.gameManager.effectMgr;var e=this.gameManager.levelLayer.moneyGain;this.num.getComponent(cc.Label).string=Math.round(e),this.num.showNum=e,this.soundCD=.1},update:function(t){var e=this.gameManager.levelLayer.moneyGain;if(this.soundCD-=t,e!=this.num.showNum){var i=Math.abs(e-this.num.showNum)/10;i<2&&(i=2),this.num.showNum=kit.numApproach(this.num.showNum,e,i),this.num.getComponent(cc.Label).string=Math.round(this.num.showNum),this.soundCD<0&&(this.soundCD=.1,this.effectMgr.play(SoundEffectPath.pickup_money))}}}),cc._RF.pop()},{}],nodekit:[function(t,e){"use strict";cc._RF.push(e,"2af79qppe5OuqXxwwIr6gEs","nodekit");var i={};window.nodekit=i;var a=new(t("EffectManager"));i.playMusic=function(t){a.play(t)},i.playEffect=function(t){a.play(t)},i.createBoxGx1=function(t,e,i){var n=a.createAnimation(OperUrl.atlas_boxgx1,{speed:.5,persist:1});return n.sprite.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,n.sprite.dstBlendFactor=cc.macro.BlendFactor.ONE,e&&(n.x=e),i&&(n.y=i),n.name="boxGx",n.parent=t,n.runAction(cc.sequence(cc.delayTime(1.2),cc.fadeOut(.3),cc.delayTime(.2),cc.spawn(cc.fadeIn(.3),cc.callFunc(function(){n.animation.play("1")},this))).repeatForever()),n},i.createBoxGx2=function(t,e,i){var n=a.createSprite(e,i,"effect/fire_light"),s=n.getComponent(cc.Sprite);s.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,s.dstBlendFactor=cc.macro.BlendFactor.ONE,n.scale=0,n.opacity=255;var o=cc.sequence(cc.spawn(cc.fadeIn(.24),cc.scaleTo(.24,3)),cc.scaleTo(.12,8),cc.fadeOut(1.2),cc.destroySelf());return n.runAction(o),n.parent=t,n},i.createArmature=function(t,e){a.createArmature(t,function(t,i,a){e&&e(a,i)})},i.createScreenImg=function(t){var e=new cc.Node;e.parent=cc.find("Canvas");var i=e.addComponent(cc.Camera);i.cullingMask=4294967295;var a=new cc.RenderTexture,n=cc.game._renderContext;a.initWithSize(cc.visibleRect.width,cc.visibleRect.height,n.STENCIL_INDEX8),i.targetTexture=a,i.render();var s=a.readPixels(),o=document.createElement("canvas"),r=o.getContext("2d"),c=o.width=a.width,h=o.height=a.height;o.width=a.width,o.height=a.height;for(var d=4*c,l=0;l<h;l++){for(var u=h-1-l,f=r.createImageData(c,1),m=u*c*4,p=0;p<d;p++)f.data[p]=s[m+p];r.putImageData(f,0,l)}var g=o.toDataURL("image/jpeg"),v=document.createElement("img");v.src=g;var b=new cc.Texture2D;b.initWithElement(v);var k=new cc.SpriteFrame;k.setTexture(b);var y=new cc.Node;return y.addComponent(cc.Sprite).spriteFrame=k,y.zIndex=cc.macro.MAX_ZINDEX,t&&(y.parent=t),e.destroy(),y},i.getBoxRectByNode=function(t){var e=t.parent.convertToWorldSpaceAR(cc.v2(t.x-t.anchorX*t.width,t.y-t.anchorY*t.height));return cc.rect(e.x,e.y,t.width,t.height)},i.checkPosInNode=function(t,e){return e.getBoundingBoxToWorld().contains(t)},i.getNodeFromPool=function(t,e){return t.size()>0?t.get():cc.instantiate(e)},i.createNode=function(t){return t?cc.instantiate(t):new cc.Node},i.createNodeByAttr=function(t,e){var a=i.createNode(t);return e&&(e.pNode&&(a.parent=e.pNode),e.name&&(a.name=e.name),e.x&&(a.x=e.x),e.y&&(a.y=e.y),e.w&&(a.width=e.w),e.h&&(a.height=e.h),e.scale&&(a.scale=e.scale),e.anchorX&&(a.anchorX=e.anchorX),e.anchorY&&(a.anchorY=e.anchorY),e.angle&&(a.angle=e.angle),e.opacity&&(a.opacity=e.opacity),e.color&&(a.color=e.color)),a},i.createComponentNode=function(t,e,a){var n=i.createNodeByAttr(t,a);return e?n.addComponent(e):n},i.createSpriteNode=function(t,e){var i=new cc.Node(e||"Sprite"),a=i.addComponent(cc.Sprite);return t&&(a.spriteFrame=t),i},i.addNodeTouchEvent=function(t,e){t.on(cc.Node.EventType.TOUCH_START,function(t){e&&e(t)}),t.on(cc.Node.EventType.TOUCH_MOVE,function(t){e&&e(t)}),t.on(cc.Node.EventType.TOUCH_END,function(t){e&&e(t)}),t.on(cc.Node.EventType.TOUCH_CANCEL,function(t){e&&e(t)})},i.delNodeTouchEvent=function(t){t.off(cc.Node.EventType.TOUCH_START),t.off(cc.Node.EventType.TOUCH_MOVE),t.off(cc.Node.EventType.TOUCH_END),t.off(cc.Node.EventType.TOUCH_CANCEL)},i.addScaleAction=function(t,e){switch(e){case cc.Node.EventType.TOUCH_START:t.setScale(.95*t.scale);break;case cc.Node.EventType.TOUCH_END:case cc.Node.EventType.TOUCH_CANCEL:t.setScale(t.scale/.95)}},i.addScaleAndColorAction=function(t,e){switch(e){case cc.Node.EventType.TOUCH_START:t.setScale(.95*t.scale),t.color=new cc.Color(220,220,220,255);break;case cc.Node.EventType.TOUCH_END:case cc.Node.EventType.TOUCH_CANCEL:t.setScale(t.scale/.95),t.color=new cc.Color(255,255,255,255)}},i.addButtonEvent=function(t,e,a,n){i.addNodeTouchEvent(t,function(t){switch(n||i.addScaleAction(t.target,t.type),t.type){case cc.Node.EventType.TOUCH_END:a&&a(t,e)}})},i.getWindowAction=function(t,e){var i=cc.scaleTo(0,0),a=cc.fadeTo(0,255),n=cc.scaleTo(.7/3,1.1),s=cc.scaleTo(.35/3,1);if(t)return cc.sequence(i,a,n,s);var o=cc.callFunc(function(){cc.audioEngine.playEffect(e,!1)});return cc.sequence(i,o,a,n,s)},i.getCurSceneScale=function(){var t=cc.winSize.width/640;return t>1?1:t},cc._RF.pop()},{EffectManager:"EffectManager"}],onFireBuff:[function(t,e){"use strict";cc._RF.push(e,"51c462luf1KLqpfeEMubjRZ","onFireBuff"),cc.Class({extends:t("Buff"),checkStop:function(){},begin:function(){this.timer=this.define.dt+.3,this.dmg=this.define.dmg||0,this.dmgPercent=this.define.dmgPercent,this.config.from&&this.define.dmgScaleRate?this.dmgScaleWithAttack=this.config.from.getStandardAtk()*this.define.dmgScaleRate:this.dmgScaleWithAttack=0,this.isDot=!0},excute:function(t){if(this.timer-=t,this.timer<=0){this.timer=this.define.dt;var e=this.dmg+this.dmgScaleWithAttack;this.dmgPercent&&(e+=this.dmgPercent*this.obj.hpMax),this.obj.simpleHurt(e,DMG_TYPE.fire,!0)}}}),cc._RF.pop()},{Buff:"Buff"}],operkit:[function(t,e){"use strict";cc._RF.push(e,"be01ebZdZBJdKdB5aPZCEqy","operkit");var i={};window.operkit=i,i.debugLog=function(t,e){(DEBUG_MODE||e)&&cc.log("->->",t)},i.setOperData=function(t,e,a,n){PROP_DATA[t]||(PROP_DATA[t]={}),PROP_DATA[t][e+""]=a,n&&i.saveToLocal(n)},i.getOperData=function(t,e){if(PROP_DATA.hasOwnProperty(t)&&PROP_DATA[t].hasOwnProperty(e+""))return PROP_DATA[t][e+""]},i.saveWarData=function(t,e,a){i.setOperData("war",t,e,a)},i.loadWarData=function(t){return i.getOperData("war",t)},i.setMoneyData=function(t,e,a){i.setOperData("Q",t,e,a)},i.getMoneyData=function(t){if(t===OperBridge.MONEY_TYPE.EXP)return i.getRoleLv();var e=i.getOperData("Q",t);if(t===OperBridge.MONEY_TYPE.LEG){void 0===e&&(e=OperDefine.MAX_LEG);var a=i.getOperData("Q","103t");if(e-OperDefine.MAX_LEG<0&&a){var n=operutils.disTimeS(a),s=Math.floor(n/OperDefine.LEG_AUTO_TIME);(e+=OperDefine.LEG_AUTO_NUM*s)-OperDefine.MAX_LEG>=0?(e=OperDefine.MAX_LEG,i.setMoneyData("103t",0)):i.setMoneyData("103t",a+OperDefine.LEG_AUTO_TIME*s*1e3)}else i.setMoneyData("103t",0);i.setMoneyData(t,1*e)}else if(t===OperBridge.MONEY_TYPE.GOLD&&void 0===e)return 500;return e?Math.round(e):0},i.setStoreData=function(t,e,a){i.setOperData("sd",t,e,a)},i.getStoreData=function(t){return i.getOperData("sd",t)},i.setOwnData=function(t,e,a){i.setOperData("own",t,e,a)},i.getOwnData=function(t){return i.getOperData("own",t)},i.setTalentData=function(t,e,a){i.setOperData("tf",t,e,a)},i.getTalentData=function(t){return i.getOperData("tf",t)},i.setRoleData=function(t,e,a){i.setOperData("role",t,e,a)},i.getRoleData=function(t){return i.getOperData("role",t)},i.setTaskData=function(t,e,a){i.setOperData("rw",t,e,a)},i.getTaskData=function(t){return i.getOperData("rw",t)},i.setChapterData=function(t,e,a){i.setOperData("chapter ",t,e,a)},i.getChapterData=function(t){return i.getOperData("chapter ",t)},i.setLiChengData=function(t,e,a){i.setOperData((i.isJYChapter()?"s":"")+"lc",t,e,a)},i.getLiChengData=function(t){return i.getOperData((i.isJYChapter()?"s":"")+"lc",t)},i.setSoundData=function(t,e,a){i.setOperData("sound",t,e,a)},i.getSoundData=function(t){return i.getOperData("sound",t)},i.setSignData=function(t){PROP_DATA.sign=t+","+(new Date).getTime();var e=i.getSignCount()+1;PROP_DATA.signNum=e,tjSDK.onEvent(TJ.eventId.sign7,{day:e+""}),i.saveToLocal(1)},i.getSignData=function(){if(PROP_DATA.hasOwnProperty("sign"))return PROP_DATA.sign},i.getSignCount=function(){var t=PROP_DATA.signNum;return t?1*t:0},i.checkSigned=function(){var t=1,e=i.getSignData();if(e){var a=e.split(","),n=a[0].split("-"),s=a[1],o=parseInt(n[0]);t=!!operutils.isNewDay(s)&&o+1}return t},i.updateBoxFreeTime=function(t){i.setStoreData(t+"t",(new Date).getTime())},i.getBoxFreeTime=function(t){var e=i.getStoreData(t+"t");return e||(e=(new Date).getTime(),"b1"===t&&(e-=300001),i.setStoreData(t+"t",e,!0)),e},i.getBoxOpenNum=function(t){var e=i.getStoreData(t+"c");return e?1*e:0},i.openBox=function(t,e){var a=i.getBoxOpenNum(t)+1;return(10===a||e)&&(a=0),i.setStoreData(t+"c",a,!0),a},i.getBoxKeyNum=function(t){var e=i.getStoreData(t+"k");return e?1*e:0},i.useBoxKey=function(t){var e=i.getBoxKeyNum(t)-1;return e<0?0:(i.setStoreData(t+"k",e,!0),e)},i.addBoxKey=function(t){var e=i.getBoxKeyNum(t)+1;return i.setStoreData(t+"k",e,!0),OperBridge.checkReddotById("store_"+t),e},i.storeFresh=function(t){var e=[];for(var a in t)e.push(t[a]+"#0");return i.setStoreData("st",(new Date).getTime()),i.setStoreData("s",e,!0),e},i.getStoreFreshTime=function(){return i.getStoreData("st")},i.setStoreCount=function(t){var e=i.getStoreData("s"),a=e[t].split("#");e[t]=a[0]+"#"+(parseInt(a[1])+1),i.setStoreData("s",e,!0)},i.getStoreItemByIdx=function(t){return i.getStoreData("s")[t]},i.getMaterialNumByK=function(t){var e=i.getOwnData("m");return e&&e.hasOwnProperty(t)?1*e[t]:0},i.addMaterialNum=function(t,e){var a=i.getOwnData("m"),n=0;a||(a={}),a.hasOwnProperty(t)&&(n=1*a[t]);var s=n+1*e;if(s>=0)return 0==s?delete a[t]:a[t]=s,i.setOwnData("m",a,!0),s},i.useMaterialNum=function(t,e){i.addMaterialNum(t,-1*e)},i._equipSIdArr=[],i._initEquipSId=function(){var t=function(t){var e=i.getOwnData(t);if(e)for(var t in e){var a=t.split("#")[1];a&&-1==i._equipSIdArr.indexOf(a)&&i._equipSIdArr.push(parseInt(a))}};t("e0"),t("e1")},i._newEquipSId=function(t){return t?-1==i._equipSIdArr.indexOf(parseInt(t))&&i._equipSIdArr.push(parseInt(t)):(t=operutils.getIntOutsideArr(i._equipSIdArr),i._equipSIdArr.push(parseInt(t))),t},i._releaseEquipSId=function(t){var e=i._equipSIdArr.indexOf(parseInt(t));e>=0&&i._equipSIdArr.splice(e,1)},i.getEquipLvByKSid=function(t,e){var a=function(a){var n=i.getOwnData(a);if(n)return n[t+"#"+e]};return a("e0")||a("e1")},i.addEquip=function(t,e,a,n){var s=n?"e1":"e0",o=i.getOwnData(s);return o||(o={}),a||(a=1),o[t+"#"+(e=i._newEquipSId(e))]=a,i.setOwnData(s,o,!0),e},i.delEquip=function(t,e,a,n){var s=a?"e1":"e0",o=t+"#"+e,r=i.getOwnData(s);r&&r.hasOwnProperty(o)&&(delete r[o],i._releaseEquipSId(e),i.setOwnData(s,r,!n))},i.upEquip=function(t,e,a){var n=a?"e1":"e0",s=t+"#"+e,o=i.getOwnData(n);if(o&&o.hasOwnProperty(s)){var r=o[s];if(r)return o[s]=1*r+1,i.setOwnData(n,o,!0),o[s]}},i.nextEquip=function(t,e,a,n){var s=n?"e1":"e0",o=t+"#"+e,r=i.getOwnData(s);if(r&&r.hasOwnProperty(o)){var c=r[o];return i.delEquip(t,e,n,!0),i.addEquip(a,e,c,n),c}},i.putOnEquip=function(t,e){var a=i.getOwnData("e0"),n=i.getOwnData("e1");if(t&&e&&a){var s=t+"#"+e,o=a[s];o&&(n||(n={}),n[s]=o,delete a[s],i.setOwnData("e0",a),i.setOwnData("e1",n,!0))}},i.takeOffEquip=function(t,e){var a=i.getOwnData("e1");if(t&&e&&a){var n=i.getOwnData("e0"),s=t+"#"+e,o=a[s];o&&(n||(n={}),n[s]=o,delete a[s],i.setOwnData("e0",n),i.setOwnData("e1",a,!0))}},i.getEquipIn=function(){return!1},i.setEquipIn=function(){},i.delEquipIn=function(t){var e=i.getOwnData("fen");e&&e.hasOwnProperty(t)&&delete e[t],i.setOwnData("fen",e,!0)},i.getRelicsStatus=function(t){if(!OperDefine.relics[t])return 0;var e=i.getOwnData("relics");if(e){if(Object.keys(e).indexOf(t+"")>=0)return 1;for(var a in e)if(OperDefine.relics[t].type===OperDefine.relics[a].type)return a}return-1},i.getRelics=function(){return i.getOwnData("relics")||{}},i.getRelicsTanlentId=function(){var t=i.getOwnData("relics");t=t||{};var e={};for(var a in t){var n=OperDefine.relics[a];n&&(e[a]=n.talentdefineid)}return e},i.addRelics=function(t,e){cc.log("--addRelics:",t,e);var a=1*i.getRelicsStatus(t);if(cc.log("--status:",a),!(0===a||a>1e4)){var n=i.getRelics();-1===a&&(n[t]=0),e=e?1*e:0,e=1*n[t]+e;for(var s=OperDefine.relics[t].lv,o=t;e>=s&&OperDefine.relics[t].next;)delete n[t],e-=s,t=OperDefine.relics[t].next,s=OperDefine.relics[t].lv;return n[t]=e,-1!==a&&o===t||reddotkit.addNewRelicKey(t),i.setOwnData("relics",n,!0),t}},i.getTalentCount=function(){var t=i.getTalentData("c");return t?1*t:0},i.getTalentLvById=function(t){var e=i.getTalentData("lv");return e&&e.hasOwnProperty("t"+t)?e["t"+t]:0},i.talentUp=function(t){var e=i.getTalentData("lv");e||(e={}),e.hasOwnProperty("t"+t)?e["t"+t]=e["t"+t]+1:(e["t"+t]=1,1*t==8&&i.updateOfflineTime());var a=i.getTalentCount()+1;return tjSDK.onEvent(TJ.eventId.talent_up,{count:a+"",talentid:t}),i.setTalentData("c",a),i.setTalentData("lv",e,!0),e["t"+t]},i.getRoleLv=function(){return 1*i.getRoleData("lv")||1},i.getRoleExp=function(){return 1*i.getRoleData("exp")||0},i.addRoleExp=function(t){if(!(isNaN(t-0)||t-0<0)){var e=i.getRoleExp()+parseInt(t),a=i.getRoleLv(),n=a;(function t(i){if(OperDefine.roleUp.hasOwnProperty(i)){var a=OperDefine.roleUp[i].exp;e-a>=0&&(n=i,e-=a,t(i+1))}})(a+1),i.setRoleData("lv",1*n),i.setRoleData("exp",1*e,!0)}},i.isJYChapter=function(){return 2===i.getCurChapterType()},i.getCurChapterType=function(){var t=i.getChapterData("type");return t||(t=1),t},i.setCurChapterType=function(t){i.setChapterData("type",parseInt(t))},i.getCurWarChapter=function(){var t=i.isJYChapter(),e=i.getChapterData((t?"s":"")+"cur");return e||(t?e=1:(e=i.getMaxWarChapter()>0?1:0,i.setCurWarChapter(e))),1*e},i.setCurWarChapter=function(t){i.setChapterData((i.isJYChapter()?"s":"")+"cur",parseInt(t),!0)},i.getMaxWarChapter=function(t){var e=i.getChapterData((!t&&i.isJYChapter()?"s":"")+"max");return e?parseInt(e.split("#")[0]):0},i.getMaxWardot=function(){var t=i.getChapterData((i.isJYChapter()?"s":"")+"max");return t?parseInt(t.split("#")[1]):0},i.setWarProgress=function(t,e){var a=0,n=i.getMaxWarChapter(),s=i.getMaxWardot();if(t=parseInt(t),e=e?parseInt(e):0,t===n&&e>s||t>n){var o=i.isJYChapter()?OperDefine.chapterS:OperDefine.chapterA;if(!o[t])return console.log(""),0;o[t].num-e<=0?(e=0,a=o[t+=1]?2:3):a=1,i.setChapterData((i.isJYChapter()?"s":"")+"max",t+"#"+e,!0)}return i.sendData2Server(1),a},i.getDisByCD=function(t,e,a,n){for(var s=0,o=t;o<=a;o++)if(o<a)(r=(i.isJYChapter()?OperDefine.chapterS:OperDefine.chapterA)[o].num-e)<0&&(r=0),s+=r,e=0;else{if(o!=a){s=0;break}var r;s+=r=n-e}return s},i.getReceivedIdxArr=function(t,e){return i.getLiChengData(t+"#"+e)||[]},i.setReceivedLcDot=function(t,e,a){var n=i.getReceivedIdxArr(t,e);n.indexOf(a)<0&&(n.push(a),i.setLiChengData(t+"#"+e,n,!0))},i.checkRewardDot=function(t,e){var a=i.getMaxWarChapter();if((t=parseInt(t))===a){var n=i.getMaxWardot();return(e=parseInt(e))<=n}return t<a},i.getReddotNewSidArr=function(){return PROP_DATA.hasOwnProperty("rednew")?PROP_DATA.rednew:[]},i.setReddotNewSid=function(t){var e=i.getReddotNewSidArr();(t=parseInt(t))&&e.indexOf(t)<0&&(e.push(t),PROP_DATA.rednew=e,i.saveToLocal(1))},i.delReddotNewSid=function(t){var e=i.getReddotNewSidArr(),a=e.indexOf(parseInt(t));a>=0&&(e.splice(a,1),PROP_DATA.rednew=e,i.saveToLocal(1))},i.getGuideData=function(){var t=[];return PROP_DATA.hasOwnProperty("guideStep")&&(t=PROP_DATA.guideStep),t},i.checkGuideStep=function(t){return t*=1,i.getGuideData().indexOf(t)>=0},i.setGuideStep=function(t){t*=1;var e=i.getGuideData();t&&e.indexOf(t)<0&&(e.push(t),tjSDK.onEvent(TJ.eventId.guide,{step:t+""}),PROP_DATA.guideStep=e,i.saveToLocal(1))},i.getGuideStep1015=function(){return PROP_DATA.hasOwnProperty("guideStep2")?1*PROP_DATA.guideStep2:0},i.setGuideStep1015=function(t){var e=i.getGuideStep1015();console.log("-----------setGuideStep1015 --",e,t),t-e>0&&(tjSDK.onEvent(TJ.eventId.guide,{step:t+""}),PROP_DATA.guideStep2=t,window.curGuideStep=0)},i.getSoundSwitch=function(t){var e=i.getSoundData(t);return void 0===e&&(e=1),e},i.setSoundSwitch=function(t){var e=i.getSoundData(t)?0:1;return i.setSoundData(t,e,!0),e},i.updateOfflineTime=function(t){var e=(new Date).getTime()-(t?1e3*t:0);return i.setOperData("offline","t",e,!0),e},i.getOfflineTime=function(){var t=i.getOperData("offline","t");return t||(t=i.updateOfflineTime()),t},i.getCurWeapon=function(){var t=i.getOwnData("e1");if(t)for(var e in t){var a=e.split("#");if(1*OperDefine.getBaseInfoByKey(a[0]).pos==0)return{k:a[0],lv:t[e]}}return{k:0,lv:0}},i.getLoginDay=function(){var t=i.getOperData("tj","dayT"),e=function(t){cc.log("--new--:",a),i.setOperData("tj","dayT",t+","+(new Date).getTime(),!0),t>=2&&t<=7&&tjSDK.onEvent(TJ.eventId.first_login_day+t,{maxcd:i.getMaxWarChapter()+"_"+i.getMaxWardot(),curWeaponLv:i.getCurWeapon().lv})},a=0;if(t){var n=t.split(",");a=1*n[0];var s=n[1];operutils.isNewDay(s)&&e(a+=1)}else e(a+=1);return cc.log("--dayC:",a),a},i.setGameCount=function(){var t=i.getGameCount()+1;return i.setOperData("tj","gameC",t,!0),t},i.getGameCount=function(){var t=i.getOperData("tj","gameC");return t||(t=0),1*t},i.getEquip1Str=function(){var t=i.getOwnData("e1"),e="";if(t)for(var a in t)e+=(e?",":"")+a.split("#")[0]+"#"+t[a];return e},i.checkGiftBargain=function(){var t=i.getOperData("gift_bargain","t"),e=0;if(t){var a=operutils.disTimeS(t);a>OperDefine.GIFT_BARGAIN_TIME?e=2:i.getOperData("gift_bargain","send")||(e=1)}else e=2;return console.log("--checkGiftBargain:",t,a,e),2===e&&(i.setOperData("gift_bargain","t",(new Date).getTime()),i.setOperData("gift_bargain","send",0)),i.setOperData("gift_bargain","show1",e?1:0,!0),!!e},i.giftBargainIsSend=function(){i.setOperData("gift_bargain","send",1),i.setOperData("gift_bargain","show1",0,!0)},i.getGiftBargainDownTime=function(){if(i.getOperData("gift_bargain","show1")){var t=i.getOperData("gift_bargain","t"),e=OperDefine.GIFT_BARGAIN_TIME-operutils.disTimeS(t);if(e>0)return e;i.setOperData("gift_bargain","show1",0,!0)}return 0},i.getCurWarChapterTJ=function(){var t=i.getCurWarChapter();return i.isJYChapter()&&(t+=200),t},i.getMaxWarChapterDotTJ=function(t){var e=i.getChapterData(t?"smax":"max");return e?e.replace("#","_"):"0_0"},i.initPlayerData=function(t){t&&(window.PROP_DATA=t),i.sendServerTime=(new Date).getTime(),i.sendLocalTime=(new Date).getTime(),i._initEquipSId()},window.LOCAL_STORAGE_DATA_NAME="foperdata",i.saveLocalCount=0,i.saveServerCount=0,i.saveToLocal=function(t){t&&(i.saveLocalCount++,setTimeout(function(){!function(){if(!(i.saveLocalCount<=0)){i.saveLocalCount=0,console.log("==local");try{var t=JSON.stringify(PROP_DATA);t&&(i.sendLocalTime=(new Date).getTime(),cc.sys.localStorage.setItem(LOCAL_STORAGE_DATA_NAME,t),i.sendData2Server())}catch(t){cc.error("saveToLocal:"+t.message)}}}()},1e3))},i.loadLocalData=function(){var t=cc.sys.localStorage.getItem(LOCAL_STORAGE_DATA_NAME);if(t)return JSON.parse(t)},i.clearSaveData=function(){window.PROP_DATA={},cc.sys.localStorage.removeItem(LOCAL_STORAGE_DATA_NAME),cc.Platformsdk.removeData()},i.sendData2Server=function(t){if(t)return i.saveServerCount++,void setTimeout(function(){i.saveServerCount<=0||(i.saveServerCount=0,console.log("==server"),i.sendServerTime=(new Date).getTime(),cc.Platformsdk.saveData(PROP_DATA))},500);var e=(new Date).getTime();!i.sendServerTime||e-i.sendServerTime<0?i.sendServerTime=(new Date).getTime():e-i.sendServerTime>3e5&&i.sendData2Server(1)},i.getVersionByData=function(t){return t&&t.chapter&&t.chapter.max?parseFloat(t.chapter.max.replace("#",".")):-1},cc._RF.pop()},{}],operutils:[function(t,e){"use strict";cc._RF.push(e,"95462rIaI1Nma7RgeeB6a80","operutils");var i={};window.operutils=i,i.random=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},i.randomFloat=function(t,e){return Math.random()*(e-t)+t},i.handlePrice=function(t,e){e||(e=1);var i=["K","M","B","T","aa","ab","ac","ad","ae","af","ag","ah","ai"];for(var a in i)if(t<Math.pow(10,3*(+a+1)))return 0==+a?Math.round(t)+"":(t/Math.pow(10,3*a)).toFixed(e)+i[+a-1];return t},i.formatPercentNum=function(t){return(""+t).indexOf(".")>=0?parseFloat((100*t).toFixed(1))+"%":t+""},i.formatNum2Capital=function(t){return{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:"",100:"",1000:""}[t=Math.floor(t)]||t},i.formatDate=function(t,e){var i=t?new Date(+t):new Date,a=i.getFullYear();r=(r=i.getMonth()+1)<10?"0"+r:r;var n=i.getDate(),s=a+"-"+r+"-"+(n=n<10?"0"+n:n);if(e){var o=i.getHours(),r=i.getMinutes(),c=i.getSeconds();s+=" "+(o=o<10?"0"+o:o)+":"+(r=r<10?"0"+r:r)+":"+(c=c<10?"0"+c:c)}return s},i.formatTime=function(t){var e=new Date(+t),i=e.getHours(),a=e.getMinutes(),n=e.getSeconds();return(i=i<10?"0"+i:i)+":"+(a=a<10?"0"+a:a)+"-"+(n<10?"0"+n:n)},i.formatTime3ByS=function(t){if(0==(t=+t))return"0";if(!t||t<0)return"error";if(t<60)return t+"";if(t<3600)return(t-=60*(e=Math.floor(t/60)))<10&&(t="0"+t),e+":"+t;if(t<86400){var e,i=Math.floor(t/3600);return t-=3600*i,(t-=60*(e=Math.floor(t/60)))<10&&(t="0"+t),e<10&&(e="0"+e),i+":"+e+":"+t}return Math.floor(t/86400)+"day"},i.formatTime1ByS=function(t){if(0==(t=+t))return"0";if(!t||t<0)return"error";if(t<60)return t+"";if(t<3600)return 0==(t-=60*(i=Math.floor(t/60)))?i+"":i+":"+t;if(t<86400)return t-=3600*(e=Math.floor(t/3600)),0==(t-=60*(i=Math.floor(t/60)))?0==i?e+"":e+""+i+"":e+""+i+""+t;var e,i,a=Math.floor(t/86400);return t-=86400*a,t-=3600*(e=Math.floor(t/3600)),0==(t-=60*(i=Math.floor(t/60)))?0==i?0==e?a+"":a+""+e+"":a+""+e+""+i+"":a+""+e+""+i+""+t},i.formatTime2ByS=function(t,e){var i=e?"":"00:";if(0==(t=+t))return i+"00:00";if(!t||t<0)return"error";if(t<10)return i+"00:0"+t;if(t<60)return i+"00:"+t;if(t<3600){var a=Math.floor(t/60);return(t%=60)<10&&(t="0"+t),a<10&&(a="0"+a),i+a+":"+t}return i=Math.floor(t/3600),a=Math.floor((t-3600*i)/60),(t%=60)<10&&(t="0"+t),a<10&&(a="0"+a),i<10&&(i="0"+i),i+":"+a+":"+t},i.isNewDay=function(t){if(t<=0)return cc.log("a new day"),!0;var e=i.formatDate(t).split("-"),a=i.formatDate((new Date).getTime()).split("-"),n=a[0]-e[0],s=a[1]-e[1],o=a[2]-e[2];return n>0||!(n<0)&&(s>0||!(s<0)&&o>0)},i.disTimeM=function(t,e){if(!t||t<0)return 0;var i=(new Date).getTime()-t;return e||i>=0?i:0},i.disTimeS=function(t,e){var a=i.disTimeM(t,e)/1e3;return Math.round(a)},i.getNextDate=function(t,e,i,a){var n;return e||(e=0),i||(i=0),a||(a=0),(n=t?new Date(t):new Date).getHours()>=e&&n.getMinutes()>=i&&n.getSeconds()>=i&&n.setDate(n.getDate()+1),n.setHours(e),n.setMinutes(i),n.setSeconds(a),n},i.getNextDate012=function(t){t||(t=(new Date).getTime());var e=i.getNextDate(t),a=i.getNextDate(t,12);return e<a?e:a},i.isInTime=function(t,e){var i=new Date,a=new Date(t.replace(/-/g,"/")),n=new Date(e.replace(/-/g,"/"));return i>=a&&i<=n||(cc.log("not in time"),!1)},i.isTimeOut=function(t){var e=new Date;return new Date(t.replace(/-/g,"/"))<=e},i.copyObj=function(t){for(var e={},a=Object.keys(t),n=null,s=null,o=0;o<a.length;o++)s=t[n=a[o]],e[n]=s&&"object"==typeof s?i.copyObj(s):s;return e},i.copyArr=function(t){var e=[];for(var a in t){var n=t[a];e[a]="object"==typeof n?i.copyObj(n):n}return e},i.delEleInArr=function(t,e){var i=t.indexOf(e);return i>=0&&(t.splice(i,1),t)},i.addEleToArr=function(t,e){return t.push(e),t},i.getIntOutsideArr=function(t,e){e||(e=1);for(var a=5*e,n=5*(e-1)+1;n<=a;n++)if(-1==t.indexOf(n))return n;return e+=1,i.getIntOutsideArr(t,e)},i.getTargetKeysByWeight=function(t,e){var i=0,a=[],n="weight"+(e||"");for(var s in t)-1!=(c=t[s][n])?i+=t[s][n]:a.push(s);var o=100*Math.random(),r=0;for(var s in t){var c;if(0!=(c=t[s][n])){var h=c/i*100;if(o<=(h+=r)){a.push(s);break}r=h}}return a},i.getTargetKeyAtKW=function(t){var e=0;for(var i in t)e+=t[i];var a=100*Math.random(),n=0;for(var i in t){var s=t[i];if(0!=s){var o=s/e*100;if(a<=(o+=n))return i;n=o}}},cc._RF.pop()},{}],pop_more9:[function(t,e){"use strict";cc._RF.push(e,"42c43bEmTpJlpukgPLtm+Gt","pop_more9"),cc.Class({extends:cc.Component,properties:{item_more:cc.Prefab,itemList:cc.Node,waitNode:cc.Node},start:function(){this.node.scale=nodekit.getCurSceneScale(),nodekit.playMusic(SoundEffectPath.op_openPopwin),cc.Platformsdk.showBanner()},addItem:function(t){t&&(this.waitNode.active=!1);var e=cc.instantiate(this.item_more);e.mpsdkAdCfg=t,e.parent=this.itemList},closeSelf:function(){nodekit.playMusic(SoundEffectPath.op_click),cc.Platformsdk.hideBanner(),cc.Platformsdk.showCustom(),this.node.destroy()}}),cc._RF.pop()},{}],record:[function(t,e){"use strict";var i;cc._RF.push(e,"550dbMQ3GZDzoZtaDoQIgyF","record"),window.record={isRecordEnabled:function(){if(window.tt&&tt.getGameRecorderManager)return!0},start:function(){if(console.log("----Record start--",i),window.tt&&tt.getGameRecorderManager){if(record.stopping)return console.log("recorderMgr waitForStart"),void(record.waitForStart=!0);if(i)return void console.warn("err recorderMgr exists");console.log("tt recorderMgr.start"),(i=tt.getGameRecorderManager()).onStart(function(t){console.log("recorderMgr.onStart",t),record.starting=!1,record.waitForStop&&(console.log("recorderMgr waitForStop done"),record.waitForStop=!1,setTimeout(function(){record.cancel()},100))}),i.start({duration:120}),record.starting=!0,i.onError(function(t){console.warn("recorderMgr.onError",t)})}},pause:function(){console.log("----Record pause--",i),i&&window.tt&&(i.pause(),i.onPause(function(){console.log("")}))},resume:function(){console.log("----Record resume--",i),i&&window.tt&&(i.resume(),i.onResume(function(){console.log("")}))},stop:function(t,e){if(console.log("----Record stop--",i,t,e),i&&window.tt){if(record.starting)return console.log("recorderMgr waitForStop"),void(record.waitForStop=!0);console.log("tt recorderMgr.stop"),i.onStop(function(a){console.log("recorderMgr.onStop",t,a.videoPath),t||(record.videoPath=a.videoPath,record.slogan=e),i=null,record.stopping=!1,record.waitForStart&&(console.log("recorderMgr waitForStart done"),record.waitForStart=!1,setTimeout(function(){record.start()},100))}),i.stop(),record.stopping=!0}},cancel:function(){record.stop(!0)},isRecordReady:function(){return record.videoPath},shareRecord:function(t,e){var i=record.videoPath;console.log("----shareRecordt--",t,i)}},cc._RF.pop()},{}],reddotkit:[function(t,e){"use strict";cc._RF.push(e,"1f1f1PERlZG+5WBvrHPYxuG","reddotkit");var i={};window.reddotkit=i,i.createReddotByPre=function(t,e,i,a){var n=nodekit.createNode(t).getComponent("Reddot");return e&&n.init({pNode:e,type:i,pos:a}),n},i.item={keyNumb1:0,keyNumb2:0,freeb1:0,freeb2:0,freestore:0,talentUp:0,equipUpPosArr:[],lcCanGetList:{},lcAdCanGetList:{}},i.setBoxKeyNum=function(t,e){i.item["keyNum"+t]=e},i.setBoxFree=function(t,e){i.item["free"+t]=e},i.setStoreFree=function(t){i.item.freestore=t},i.getStoreReddotNum=function(){return i.item.keyNumb1+i.item.keyNumb2+i.item.freeb1+i.item.freeb2+i.item.freestore},i.setTalentUp=function(t){i.item.talentUp=t},i.getTalentUp=function(){return i.item.talentUp},i.setEquipUp=function(t){i.item.equipUpPosArr=t},i.getEquipUp=function(){return i.item.equipUpPosArr.length},i.setLcReddotNum=function(t,e,a,n){n?i.item.lcAdCanGetList[t+"#"+e]=a:i.item.lcCanGetList[t+"#"+e]=a},i.getLcReddotSum=function(t){var e=t?i.item.lcAdCanGetList:i.item.lcCanGetList,a=0;for(var n in e)a+=e[n];return a},i.addNewRelicKey=function(t){var e=i.getNewRelicKey();(t=parseInt(t))&&e.indexOf(t)<0&&(e.push(t),PROP_DATA.relicnew=e,operkit.saveToLocal(1))},i.getNewRelicKey=function(){return PROP_DATA.hasOwnProperty("relicnew")?PROP_DATA.relicnew:[]},i.delNewRelic=function(t){var e=i.getNewRelicKey(),a=e.indexOf(parseInt(t));a>=0&&(e.splice(a,1),PROP_DATA.relicnew=e,operkit.saveToLocal(1))},cc._RF.pop()},{}],reskit:[function(t,e){"use strict";cc._RF.push(e,"d28930S7JdCRqOMcX9hqqo3","reskit");var i={};window.reskit=i,window.OperFrameData={},window.OperPrefabData={},i.getDefaultName=function(t){if(t){if(t.indexOf("#")<=0){var e=resDefaultPathNameCheckNum,i=t.substr(0,e);resDefaultPathName[i]&&(t=resDefaultPathName[i]+"#"+t)}return t}},i.loadRes=function(t,e,i){if(t.indexOf("#")>0){var a=t.split("#"),n=cc.assetManager.getBundle(a[0]);t=a[1],n&&n.load(t,e,i)}else cc.loader.loadRes(t,e,i)},i.loadPrefab=function(t,e){t=i.getDefaultName(t),OperPrefabData[t]?e&&e(OperPrefabData[t]):i.loadRes(t,function(t,i){t&&console.log("--Error:",t),e&&e(i)})},i.loadSpriteFrame=function(t,e){t=i.getDefaultName(t),OperFrameData[t]?e&&e(OperFrameData[t]):i.loadRes(t,cc.SpriteFrame,function(t,i){t&&console.log("--Error:",t),e&&e(i)})},i.loadSpriteFrameByUrl=function(t,e,i){OperFrameData[t]?e&&e(OperFrameData[t]):(cc.assetManager.downloader.register(".head",function(t,e,i){i(null,t)}),cc.assetManager.parser.register(".head",cc.assetManager.downloader.downloadDomImage),cc.assetManager.factory.register(".head",function(t,e,i,a){var n=null,s=null;try{(n=new cc.Texture2D)._uuid=t,n._nativeUrl=t,n._nativeAsset=e}catch(t){s=t}a&&a(s,n)}),cc.assetManager.loadRemote(t,{ext:".head"},function(a,n){if(a&&console.error(a),n){var s=new cc.SpriteFrame(n);i||(OperFrameData[t]=s),e&&e(s)}else e&&e(!1)}))},i.loadSpriteFrameFromAtlas=function(t,e,a){t=i.getDefaultName(t),OperFrameData[e]?a&&a(OperFrameData[e]):i.loadRes(t,cc.SpriteAtlas,function(t,i){t&&console.log("--Error:",t);var n=i.getSpriteFrame(e);ENABLE_CACHE&&(OperFrameData[e]=n),a&&a(n)})},i.setSpNodeFrame=function(t,e,a){i.loadSpriteFrame(e,function(e){t.node&&(t.spriteFrame=e,a&&a(e))}.bind(this))},i.setSpNodeAtlasFrame=function(t,e,a,n){i.loadSpriteFrameFromAtlas(e,a,function(e){t.node&&(t.spriteFrame=e,n&&n(e))}.bind(this))},i.setSpNodeFrameByUrl=function(t,e,a){i.loadSpriteFrameByUrl(e,function(e){t.node&&e&&(t.spriteFrame=e,a&&a(e))}.bind(this))},i.initSpriteFrame=function(){for(var t in OperUrl){var e=OperUrl[t];i.loadSpriteFrame(e)}},window.OperUrl={default_head:"operate/ui/head/head",c_diamond1:"operate/ui/common/diamond1",c_gold1:"operate/ui/common/gold1",c_key1:"operate/ui/common/key1",c_key2:"operate/ui/common/key1",c_video:"operate/ui/common/ad",c_lock:"operate/ui/common/lock",c_btn_yellow:"operate/ui/common/btn_yellow",c_btn_blue:"operate/ui/common/btn_blue",c_reward_light:"operate/ui/common/rewardlight",c_reward_light2:"operate/ui/common/rewardlight2",p_tray0:"operate/ui/page5/tray0",p_tray1:"operate/ui/page5/tray1",p_tray2:"operate/ui/page5/tray2",p_dotbg1:"operate/ui/page5/dotbg1",p_dotbg2:"operate/ui/page5/dotbg2",p_gou:"operate/ui/page5/gou",p_pt_btn:"operate/ui/page3/B_pt",p_jy_btn:"operate/ui/page3/B_jy",p_pt_bg:"operate/ui/page3/pt_BG",p_jy_bg:"operate/ui/page3/jy_BG",p_pt_title_bg:"operate/ui/page3/bt_1",p_jy_title_bg:"operate/ui/page3/bt_2",p_pt_task_bg:"operate/ui/page5/bg1",collect_jt:"operate/ui/collect/jt",atlas_box1:"operate/ui/anim/box1",atlas_box2:"operate/ui/anim/box2",atlas_boxgx1:"operate/ui/anim/boxgx1"},OperUrl.getNpcImg=function(t){return"operate/npc/"+t},OperUrl.getBoxUrlByK=function(t){return"b2"===t?{box_1:"operate/ui/anim/box2_1",box_2:"operate/ui/anim/box2_1",store_box_bg:"operate/ui/anim/box2gx/bg",store_box_d:"operate/ui/anim/box2gx/r_d",store_box_dg:"operate/ui/anim/box2gx/r_dg",store_box_gq:"operate/ui/anim/box2gx/r_gq",store_box_x:"operate/ui/anim/box2gx/r_x",store_box2_g:"operate/ui/anim/box2gx/r_g",store_box2_g2:"operate/ui/anim/box2gx/r_g2",store_box2_gq2:"operate/ui/anim/box2gx/r_gq2"}:{box_1:"operate/ui/anim/box1_1",box_2:"operate/ui/anim/box1_1",store_box_bg:"operate/ui/anim/box1gx/bg",store_box_d:"operate/ui/anim/box1gx/l_d",store_box_dg:"operate/ui/anim/box1gx/l_dg",store_box_gq:"operate/ui/anim/box1gx/l_gq",store_box_x:"operate/ui/anim/box1gx/l_x"}},OperUrl.getSignUrlByDay=function(t){return 7===t?{bg0:"operate/ui/page3/sign7/bg2_0",bg1:"operate/ui/page3/sign7/bg2_1",bgLight:"operate/ui/page3/sign7/bg2_2"}:{bg0:"operate/ui/page3/sign7/bg1_0",bg1:"operate/ui/page3/sign7/bg1_1",bgLight:"operate/ui/page3/sign7/bg1_2"}},OperUrl.menuIcon=function(t){return"operate/ui/menu/menu"+t},OperUrl.eLatflag=function(t){return"operate/ui/page2/f"+t},OperUrl.eLatBg=function(t){return"operate/ui/page2/lat"+t},OperUrl.latBg=function(t){return"operate/ui/common/lat"+t},OperUrl.chapterMap=function(t){return"operate/ui/page3/chapter/"+(operkit.isJYChapter()?"jy":"i")+t},OperUrl.chapterBg=function(t){return"operate/ui/page5/"+(operkit.isJYChapter()?"jy":"c")+t},OperUrl.talentBg=function(t){return"operate/ui/page4/iconbg"+(Math.floor((t-1)/3)+1)},OperUrl.talentLock1=function(t){return t=Math.floor((t-1)/3)+1,"operate/ui/page4/move/lock0"},OperUrl.talentIcon=function(t){return"operate/ui/page4/icon"+t},OperUrl.reddotBg=function(t){return"operate/ui/common/"+{1:"reddot",2:"reddot",3:"reddot",4:"arrow",5:"reddot"}[t]},OperUrl.collectIcon=function(t){return"operate/ui/collect/m"+t},OperUrl.collectImg=function(t){return"operate/ui/collect/tu"+t},OperUrl.getMoneyImgByType=function(t,e){return"operate/ui/common/material/"+(1*t===OperBridge.MONEY_TYPE.DIAMOND?"diamond":"gold")+e},OperUrl.getMoneyImgByNum=function(t,e){var i;return e*=1,i=(t*=1)===OperBridge.MONEY_TYPE.DIAMOND?e<=30?0:e<=200?1:2:e<=2e3?0:e<=6e3?1:2,OperUrl.getMoneyImgByType(t,i)},cc._RF.pop()},{}],resource:[function(t,e){"use strict";cc._RF.push(e,"03aecEni/xIoLjTGhpAPM41","resource"),window.g_resources={sound:["sound/boss_alert","sound/campfire","sound/empower","sound/explosive","sound/fight2","sound/footstep","sound/hit","sound/lvl_up","sound/money","sound/parachute","sound/plane","sound/revive","sound/weapon_reload","sound/win","sound/wolf","sound/character/incoming","sound/character/k_die","sound/character/onhit","sound/character/victory","sound/Enemy/crow_dead","sound/Enemy/death_2","sound/Enemy/DogAttack_1","sound/skill/eletric","sound/skill/fire","sound/skill/frost","sound/skill/poison","sound/UI/chooseTalent","sound/UI/click","sound/UI/talentPop","sound/weapon/hit","sound/weapon/knife","sound/weapon/knife_broken","sound/weapon/rocket","sound/weapon/shotgun"],anime:{BIGBOY:"sub3#BIGBOY",feixingbing:"sub3#feixingbing",fenlieguai2:"sub3#fenlieguai2",paota:"sub3#paota",Turrets:"sub3#Turrets",xiaodiji:"sub3#xiaodiji",zibaoguai:"sub3#zibaoguai"},particle:["76grenade2","attack_buff","attack_buff2","firethrower","pharah_rocket_smoke"],spriteAtlas:["bullet/enemy/1_1/000","bullet/enemy/1_2/000","bullet/enemy/1_3/000","bullet/enemy/1_4/003","bullet/enemy/1_5/001","bullet/enemy/1_6/000","bullet/enemy/1_7/000","bullet/enemy/1_8/000","bullet/enemy/1_9/000","bullet/enemy/poison/duwu/duw","bullet/enemy/poison/qiu/qiu","effect/crow_dead","effect/shine","effect/smoke","effect/death/drswbx","effect/enemy/mouse_walk","effect/enemy/pashi_attack","effect/enemy/pashi_walk","effect/enemy/xingshi_walk","effect/fire/fire","effect/genji/hit/px","effect/genji/hit/zhan","effect/gunfire/fire_attack","effect/hit_effect/baodian_huangse","effect/rock/rock","effect/spawn/spawn","effect/zuandi/zuandi","theme/city2","theme/city2/water","effect/hit1","effect/hit3","atlas/dead"],labelAtlas:["effect/numbar_light","effect/crit_number","effect/heal_number","effect/heal_number2","effect/heal_number3"],sprite:["circle","heitiao","heitiao3","light","lock","melee_durability_content","red","shadow","shell","smoke","test","test3","tiao","tiao2","white_block","aura/1","aura/2","aura/3","aura/4","aura/alert","aura/aura_arrow","aura/shadow","avatar/barrack","avatar/cover","avatar/cover2","avatar/egg","avatar/egg_base","avatar/egg_blood","avatar/egg_dead","bullet/enemy/bottle","bullet/enemy/enemybullet_04","bullet/enemy/fd","bullet/enemy/rock","bullet/enemy/tl","bullet/player/21","bullet/player/genzhongdaodan1","bullet/player/playerbullet_01","bullet/player/playerbullet_02","bullet/player/playerbullet_03","bullet/player/playerbullet_04","bullet/player/zidan","bullet/player/zidan2","bullet/player/zidan3","bullet/player/zidan4","bullet/sq/1","bullet/sq/2","bullet/sq/3","bullet/sq/4","bullet/sq/5","bullet/sq/6","bullet/sq/7","bullet/weapon/rifle","bullet/weapon/rifle2","drop/armor","drop/base","drop/bg","drop/gold","drop/gold_light","drop/handbook","drop/heal","drop/money","drop/pickup","drop/progress","drop/zuanshi","effect/A","effect/aimBlue","effect/aimRed","effect/alarm","effect/ally_ring","effect/B","effect/bullet_smoke","effect/bullet_smoke_blue","effect/bullet_smoke_red","effect/bullet_smoke_yellow","effect/C","effect/CD1","effect/dangerous","effect/dian","effect/fire","effect/fire_light","effect/fog","effect/gang","effect/lvlup_effect","effect/msg_frame","effect/nova","effect/numbar_light","effect/poison_glow","effect/protect","effect/s","effect/shell","effect/slash","effect/spawn_warning","effect/star","effect/stun","effect/text_lvlup","effect/aim/circle","effect/aim/dot","effect/aim/line","joystick/btn","joystick/ctrl_move_bg","joystick/movebtn_arrow","npc/banner","npc/demon","npc/HP","npc/merchant","npc/no","npc/survivor","npc/yes","theme/desert/bg","theme/desert/entrance","theme/desert/exit","theme/desert/exit2","theme/desert/gate_right","theme/desert/chest2","theme/border","theme/border2","theme/spike","ui/ingame/blt_content","ui/ingame/blt_frame","ui/ingame/blt_index","ui/ingame/exp","ui/ingame/exp_frame","ui/ingame/info","ui/ingame/pause","ui/ingame/bar/blt","ui/ingame/bar/blt_bg","ui/ingame/bar/blt_index","ui/ingame/bar/hp","ui/ingame/bar/hp_bg","ui/ingame/bar/hp_flash","ui/ingame/bar/hp_line","ui/pause/back","ui/pause/continue","ui/pause/line","ui/pause/title","ui/revive/back","ui/revive/revive","ui/revive/title","uiz/info","uiz/moneyBg","uiz/unlock","uiz/drop/pickup_bg","uiz/effect/ability_green","uiz/effect/ability_warn","uiz/effect/ability_warn_2","uiz/effect/burn_out","uiz/effect/hurt","uiz/effect/light_m249","uiz/effect/smoke","uiz/ingame/bottom","uiz/ingame/danger_incoming","uiz/ingame/dunhpbar","uiz/ingame/dunhpbar_bg","uiz/ingame/enemy_point","uiz/ingame/ep_bg","uiz/ingame/hp_bar","uiz/ingame/hp_bar_flash","uiz/ingame/hp_bar0","uiz/ingame/hp_bg","uiz/ingame/light","uiz/ingame/msg","uiz/ingame/msg1","uiz/ingame/pause_time","uiz/ingame/pause_txt","uiz/ingame/reload1","uiz/ingame/reload2","uiz/ingame/renwu","uiz/ingame/renwu2","uiz/ingame/search_frame","uiz/ingame/search_progress","uiz/ingame/search_text","uiz/ingame/shoot_range","uiz/ingame/switch","uiz/ingame/youshangjiao","uiz/ingame/boss/bg","uiz/ingame/boss/boss_frame","uiz/ingame/boss/boss_hp","uiz/ingame/boss/boss_hp_hurt","uiz/ingame/boss/incoming","uiz/ingame/boss/stencil","uiz/ingame/boss/strip","uiz/ingame/head/bg","uiz/ingame/new/gun","uiz/ingame/new/line","weapon/magazine"]},cc._RF.pop()},{}],saw:[function(t,e){"use strict";cc._RF.push(e,"337d4sPGihDbIzGD5V0xkie","saw");var i=cc.Class({extends:t("Ammo"),init:function(t,e,i){this._super(t,e,i);var a=kit.degree2Radian(this.obj.getRotation());this.knockBackX=this.knockBack*kit.sin(a),this.knockBackY=this.knockBack*kit.cos(a)},initSprite:function(){},onCover:function(t){var e=t.x,i=t.y;this.obj.hit(this.dmg,this,t);var a=1/t.weight;t.knockback&&t.knockback(this.knockBackX*a,this.knockBackY*a),this.game.fastMode||Effect.Slash(t,e,i)},updateLogic:function(){g_sharedContactManager.checkAliveEnemy(this,this.x,this.y,this.radius,this.team,this.onCover),this.remove()}});e.exports=i,cc._RF.pop()},{Ammo:"Ammo"}],serverUtils:[function(t,e){"use strict";cc._RF.push(e,"7575eMk6elC5omnk1bAbY4b","serverUtils"),t("jszip.min"),window.serverUtils={httpGet0:function(t,e){var i=cc.loader.getXMLHttpRequest();i.onreadystatechange=function(){4==i.readyState&&i.status>=200&&i.status<400?e&&e(i.responseText):e&&e(!1,i.status)},i.open("GET",t,!0),i.send()},httpGet:function(t,e,i){if(e){var a="",n=0;for(var s in e)0==n?a="?"+s+"="+e[s]:a+="&"+s+"="+e[s],n++;t+=a}var o=cc.loader.getXMLHttpRequest();o.timeout=5e3,o.ontimeout=function(){console.log(":getXMLHttp")},o.open("GET",t,!0),o.onloadend=function(){if(4==o.readyState&&o.status>=200&&o.status<=207){var t=o.responseText;console.log("GET "),i&&i(t)}else console.log("GET :",o.status),i&&i(!1,o.status)},o.send()},httpPost:function(t,e,i){var a;try{a=JSON.stringify(e)}catch(t){return void console.log("data ")}var n=cc.loader.getXMLHttpRequest();n.timeout=5e3,n.ontimeout=function(){console.log(":xhr.ontimeout3")},n.open("POST",t,!0),n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n.onloadend=function(){if(4==n.readyState&&n.status>=200&&n.status<=207){var t=n.responseText;console.log("POST "),i&&i(t)}else console.log("POST ",n.status),i&&i(!1,n.status)},n.send(a)},encodeByZip:function(t,e){var i=new JSZip;i.file("data.txt",t),i.generateAsync({type:"base64",compression:"DEFLATE"}).then(function(t){e&&e(t)})},decodeByZip:function(t,e){(new JSZip).loadAsync(t,{base64:!0}).then(function(t){t.file("data.txt").async("string").then(function(t){e&&e(t)})})}},cc._RF.pop()},{"jszip.min":"jszip.min"}],shader:[function(t,e){"use strict";cc._RF.push(e,"680b6NEEUdLu7WD8fGJWKAm","shader");var i=t("ColorMatrix");window.SHADER_DEFINE={gradient:{name:"gradient"},hue180:{name:"matrix",n:"",value:{u_mat4:(new i).setHue(180).getMatrix()}},hue130:{name:"matrix",n:"130",value:{u_mat4:(new i).setHue(130).getMatrix()}},debug:{name:"matrix",n:"debug",value:{u_mat4:cc.mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}},"b-shamo":{name:"matrix",n:"-",value:{u_mat4:cc.mat4(1,0,.6,0,0,1,.35,0,0,0,1,0,0,0,0,1)}},shamo:{name:"matrix",n:"",value:{u_mat4:cc.mat4(1,1,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}},xuedi:{name:"matrix",n:"",value:{u_mat4:cc.mat4(1,.5,0,0,.4,1,.1,0,.8,0,1,0,0,0,0,1)}},chengshi:{name:"matrix",n:"",value:{u_mat4:cc.mat4(1,0,0,0,0,1,.2,0,0,0,1,0,0,0,0,1)}},pm1:{name:"matrix",n:"",value:{u_mat4:cc.mat4(1,0,0,0,0,1,0,0,1,0,1,0,0,0,0,1)}},pm2:{name:"matrix",n:"",value:{u_mat4:cc.mat4(1,1,1,0,0,1,0,0,0,0,1,0,0,0,0,1)}},golden:{name:"matrix",n:"",value:{u_mat4:cc.mat4(1,.3,.3,.3,.3,1,.3,.3,0,0,0,0,0,0,0,1)}},pm3:{name:"matrix",n:"60",value:{u_mat4:(new i).setHue(60).setSaturation(1.5).getMatrix()}},poison:{name:"matrix",n:"",value:{u_mat4:cc.mat4(.5,0,0,0,0,1,0,0,0,0,.5,0,0,0,0,1)}},poison2:{name:"matrix",n:"2",value:{u_mat4:cc.mat4(1,0,0,0,0,.5,0,0,0,0,1,0,0,0,0,1)}},fire:{name:"matrix",n:"",value:{u_mat4:cc.mat4(1,0,0,0,0,.5,0,0,0,0,.5,0,0,0,0,1)}},pm4:{name:"matrix",n:"",value:{u_mat4:cc.mat4(1,0,0,0,.6,1,.6,0,1,1,1,0,0,0,0,1)}},m0:{name:"matrix",n:"0",value:{u_mat4:cc.mat4(0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,1)}},m1:{name:"matrix",n:"1",value:{u_mat4:cc.mat4(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1)}},m2:{name:"matrix",n:"2",value:{u_mat4:cc.mat4(0,1,0,0,1,0,0,0,0,0,1,0,0,0,0,1)}},m3:{name:"matrix",n:"3",value:{u_mat4:cc.mat4(0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,1)}},m4:{name:"matrix",n:"4",value:{u_mat4:cc.mat4(1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1)}},frost:{name:"color",n:"",value:{u_color:[150/255,225/255,1,.5]}},illusion:{name:"color",n:"",value:{u_color:[185/255,235/255,1,.8]}},outline:{name:"outline",n:""},gray:{name:"gray",n:""},hitFlash:{name:"hitFlash",n:""},hitFlashArmature:{name:"hitFlashArmature",n:"A"},theme_desert_2:{name:"matrix",n:"2",value:{u_mat4:cc.mat4(.3,.3,.3,0,0,1,0,0,0,0,1,0,0,0,0,1)}},theme_desert_3:{name:"matrix",n:"2",value:{u_mat4:cc.mat4(.8,0,0,0,0,.8,0,0,0,0,.8,0,0,0,0,1)}},"boss-1":{name:"matrix",n:"BOSS",value:{u_mat4:cc.mat4(1,1,1,0,1,0,0,.3,0,0,1,0,0,0,0,1)}},"boss-2":{name:"matrix",n:"BOSS",value:{u_mat4:cc.mat4(1,.3,.7,.25,0,1,.8,0,0,0,1,0,0,0,0,1)}},"boss-3":{name:"matrix",n:"BOSS",value:{u_mat4:cc.mat4(1,0,.7,0,0,.7,0,0,0,0,1,0,0,0,0,1)}},"boss-4":{name:"matrix",n:"BOSS",value:{u_mat4:cc.mat4(.9,0,0,0,.09,1,0,0,0,0,1,0,0,0,0,1)}},"boss-5":{name:"matrix",n:"BOSS",value:{u_mat4:cc.mat4(.7,0,0,0,.2,.3,1,0,.5,0,1,0,0,0,0,1)}},"boss-6":{name:"matrix",n:"BOSS",value:{u_mat4:cc.mat4(1,0,.15,0,0,1,1,0,.3,0,.8,0,0,0,0,1)}},dissolve:{name:"dissolve",n:"",value:{u_vec4:cc.v4(.5,1,0,2),u_gray:0,u_color:cc.v4(1,1,1,1)}}},cc._RF.pop()},{ColorMatrix:"ColorMatrix"}],strat:[function(t,e){"use strict";cc._RF.push(e,"5eb2f5pNb1PT5SPeDF4Ic7h","strat"),cc.Class({extends:cc.Component,properties:{startScale:{type:cc.Float,default:1,slide:!0,min:0,max:2,step:.1,tooltip:"0-2"},flashSpeed:{type:cc.Float,default:.4,slide:!0,min:0,max:2,step:.1,tooltip:"("}},onLoad:function(){this.node.scale=this.startScale,this.node.x+=-5+operutils.random(0,10),this.node.y+=-5+operutils.random(0,10);var t=this.startScale-.1,e=this.startScale+.1;this.node.runAction(cc.sequence(cc.scaleTo(this.flashSpeed,t),cc.scaleTo(this.flashSpeed,e)).repeatForever())},start:function(){}}),cc._RF.pop()},{}],tjSDK:[function(t,e){"use strict";cc._RF.push(e,"e974bS/i9dBSL2f0BRq6Mdj","tjSDK"),window.TJ={eventId:{enter_game:"enter_game",game_start:"game_start",war_start:"war_start",war_pass:"war_pass",game_end:"game_end",first_dead:"first_dead",first_exit:"first_exit",guide:"guide",share_click:"share_click",share_result:"share_result",video_click:"video_click",video_finish:"video_finish",use_gold_store:"use_gold_store",use_dmd_store:"use_dmd_store",use_dmd_box1:"use_dmd_box1",use_dmd_box2:"use_dmd_box2",byte_click_list:"byte_click_list",byte_click_more:"byte_click_more",byte_record_click:"byte_record_click",byte_record_success:"byte_record_success",more_click_start:"more_click_start",more_click_success:"more_click_success",more_click_fail:"more_click_fail",obtain_equip:"obtain_equip",put_on_equip:"put_on_equip",free_box2:"free_box2",equip_advanced:"equip_advanced",equip_upgrade:"equip_upgrade",role_up:"role_up",sign7:"sign7",first_login_day:"first_login_day",talent_up:"talent_up",reload_video_event:"reload_video_event",inter_ad_event:"inter_ad_event"},eventId_qm:{first_enter_lv1:103,first_enter_lv2:105,first_enter_lv3:108,first_enter_lv4:110,first_enter_lv5:112,first_enter_lv6:117,first_enter_lv7:120,first_enter_lv8:123,first_enter_lv9:125,first_enter_lv10:128,first_start_lv1:104,first_start_lv2:106,first_start_lv3:109,first_start_lv4:111,first_start_lv5:0,first_start_lv6:118,first_start_lv7:121,first_start_lv8:124,first_start_lv9:126,first_start_lv10:129,guide7:133,guide9:134,guide10:135,guide11:136,guide12:201,guide13:202,guide14:203,guide15:204,video_action:301,share_action:302},ADID:{share_by_3dot:"share_by_3dot",lc_reward:"lc_reward",equip_crystal2:"equip_crystal2",sign_next:"sign_next",offline_extra:"offline_extra",store_box1:"store_box1",store_free:"store_free",store_fresh:"store_fresh",add_leg:"add_leg",role_up_double:"role_up_double",war_lucky_draw:"war_lucky_draw",war_strengthen:"war_strengthen",war_trader:"war_trader",war_revived:"war_revived",record_from_war:"record_from_war",record_from_trader:"record_from_trader",record_from_ui:"record_from_ui",event_zhongqiu:"event_zhongqiu",gift_bargain:"gift_bargain",war_weapon_trial:"war_weapon_trial",war_choose_optionsChange:"war_choose_optionsChange",war_choose_bonus:"war_choose_bonus"},ADID_QM:{lc_reward:1,equip_crystal2:2,sign_next:3,offline_extra:4,store_box1:5,store_free:6,store_fresh:7,add_leg:8,role_up_double:9,war_lucky_draw:10,war_strengthen:11,war_trader:12,war_revived:13,share_by_3dot:14,event_zhongqiu:15,gift_bargain:16,war_weapon_trial:17,war_choose_optionsChange:18,war_choose_bonus:19},ADID_WX:{all_customAd:"BCBgAAoXHx5d0ixciz8U_8",all_banner:"BCBgAAoXHx5d0ixciz8U_9",all_rewardVideo:"BCBgAAoXHx5d0ixciz8U_6",all_interAd:"BCBgAAoXHx5d0ixciz8U_5"}},window.tjSDK={init:function(){tjSDK.onEvent(TJ.eventId.enter_game,{maxcd:operkit.getMaxWarChapterDotTJ(),smaxcd:operkit.getMaxWarChapterDotTJ(1),rolelv:operkit.getRoleLv()+""})},onStart:function(t,e,i){t=operkit.getCurWarChapterTJ(),console.log("--tjSDK: onStart:",t,e,i),window.wx&&wx.aldStage&&!window.qq&&(i||(i=0),wx.aldStage.onStart({stageId:t+"0"+e+"."+i,stageName:""})),window.tt&&tt.reportAnalytics&&tt.reportAnalytics(TJ.eventId.war_start,{chapter:t+"",point:e+"",wid:i+""}),"undefined"!=typeof GameGlobal&&GameGlobal.tdAppSdk&&GameGlobal.tdAppSdk.event({id:TJ.eventId.war_start,params:{chapter:t+"",point:e+"",wid:i+""}})},onRunning:function(){},onEnd:function(t,e,i,a){t=operkit.getCurWarChapterTJ(),console.log("--tjSDK: onEnd:",t,e,i,a),window.wx&&wx.aldStage&&!window.qq&&(i||(i=0),wx.aldStage.onEnd({stageId:t+"0"+e+"."+i,stageName:"",event:a?"complete":"fail",params:{desc:""}})),window.tt&&tt.reportAnalytics&&tt.reportAnalytics(TJ.eventId.war_pass,{chapter:t+"",point:e+"",wid:i+"",result:a+""}),"undefined"!=typeof GameGlobal&&GameGlobal.tdAppSdk&&GameGlobal.tdAppSdk.event({id:TJ.eventId.war_pass,params:{chapter:t+"",point:e+"",wid:i+"",result:a?1:0}})},onEvent:function(t,e){if(e||(e={}),"object"!=typeof e&&(e={args:e+""}),console.log("--tjSDK.onEvent:",t,e),window.wx&&!window.qq&&wx.aldSendEvent)if(["game_start","game_end","first_dead","first_death_endgame","first_exit","share_result","video_finish"].indexOf(t)>=0){var i={},a="";for(var n in e)a&&(a+="_"),a+=e[n]+"";i.detail=a,wx.aldSendEvent(t,i)}else wx.aldSendEvent(t,e);if(window.tt&&tt.reportAnalytics){var s={};for(var n in e)s[n]=e[n]+"";tt.reportAnalytics(t,s)}window.mpsdk&&(t===TJ.eventId.video_click?mpsdk.Report.reportEventVideoAdShow(1):t===TJ.eventId.video_finish?(mpsdk.Report.reportEventVideoAdEnd(1),e.result&&mpsdk.Report.reportVideoTimeEvent()):t===TJ.eventId.guide&&tjSDK.onEventQm(TJ.eventId_qm["guide"+e.step],"","")),"undefined"!=typeof GameGlobal&&GameGlobal.tdAppSdk&&(console.log("--td: event:",t,e),GameGlobal.tdAppSdk.event({id:t,params:e}),t===TJ.eventId.guide&&e.step&&GameGlobal.tdAppSdk.event({id:"guide"+e.step}))},onEventQm:function(t,e,i){if(window.mpsdk&&(console.log("--tjSDK mpsdk.onEvent:",t,e+"",i+""),t)){401===t&&(i=window.QM_SourceType+""),mpsdk.Report.reportEvent(t,e+"",i+"");var a=window.QM_SourceType&&"ad"===window.QM_SourceType;t===TJ.eventId_qm.video_action&&a&&mpsdk.Report.reportEvent(303,e+"",i+"")}},onEventWxBranch:function(t,e){if(window.wx&&wx.reportUserBehaviorBranchAnalytics){var i=TJ.ADID_WX.all_rewardVideo,a=cc.Platformsdk.getWxBranchDim(""+(1===e?"":"")+":"+t);console.log("--onEventWxBranch:",t,i,e),i&&a&&wx.reportUserBehaviorBranchAnalytics({branchId:i,branchDim:a,eventType:e})}}},cc._RF.pop()},{}],use_reversed_rotateTo:[function(t,e){"use strict";cc._RF.push(e,"bec3cHffI1ISZ+lDUI1jXc7","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}],visibleRect:[function(t,e){"use strict";cc._RF.push(e,"4e19cBMhqdCZJThYjwTN803","visibleRect");var i=cc.size(672,1136);window.VIEW_SIZE=cc.size(672,1136),window.visibleRect={init:function(){var t=cc.view.getFrameSize();i.height,i.width,VIEW_SIZE=cc.size(i.width,i.width*t.height/t.width),i.width,t.height,t.width,i.height},left:function(t,e){return{ax:0,ay:.5,x:t,y:e+.5*VIEW_SIZE.height}},right:function(t,e){return{ax:1,ay:.5,x:t+VIEW_SIZE.width,y:e+.5*VIEW_SIZE.height}},top:function(t,e){return{ax:.5,ay:1,x:t+.5*VIEW_SIZE.width,y:e+VIEW_SIZE.height}},bottom:function(t,e){return{ax:.5,ay:0,x:t+.5*VIEW_SIZE.width,y:e}},center:function(t,e){return{ax:.5,ay:.5,x:t+.5*VIEW_SIZE.width,y:e+.5*VIEW_SIZE.height}},topLeft:function(t,e){return{ax:0,ay:1,x:t,y:e+VIEW_SIZE.height}},topRight:function(t,e){return{ax:1,ay:1,x:t+VIEW_SIZE.width,y:e+VIEW_SIZE.height}},bottomLeft:function(t,e){return{ax:0,ay:0,x:t,y:e}},bottomRight:function(t,e){return{ax:1,ay:0,x:t+VIEW_SIZE.width,y:e}}},cc._RF.pop()},{}]},{},["use_reversed_rotateTo","EffectManager","SoundManager","iconCache","resource","ColorMatrix","GradientShaderMgr","hack","kit","shader","nodekit","operkit","operutils","reddotkit","reskit","visibleRect","Ammo","Arrow","BlockGrenade","BomberBomb","BounceBallBlt","BounceBlt","Breath","Bullet","BulletFrost","BulletLaser","BulletMei","C4Bomb","Cannon76","CustomBullet","CustomBulletDefine","Electric","GhostFire","Grenade","Grenade2","Grenade76","GrenadeFromAbove","GrenadeWithLatency","GuidedMissileDirect","GuidedMissileDirect2","GuidedMissileSin","GuidedMissileStraight","HealBall","Knife","Knife_doctor","Laser","LaserManager","PharahGrenade","PoisonGrenade","PullBackBlt","PulseBomb","RockBlt","SpinBullet","WebBlockGrenade","WidowPoisonGrenade","bat","broadsword","fist","hammer","saw","Attribute","Constant","ContactManager","EquipmentManager","HeroDataManager","LevelLayer","LevelManager","PathFinder","SkillManager","TeamSupportManager","Theme","debugGame","DebugMenu","DebugSelectMenu","DebugSlider","DebugToggle","EditorListMenu","EditorMenu","debugNet","editor","AdvancedLightSourceManager","AlertInfoBossStrip","Animation","AttackBuff","AttackBuff2","Burning","ColdBuff","Effect","Effect_Focus","Effect_Focus2","FrozenBuffEffect","GetAttackBuff","HitFlash","LaserEffect","MyLabel","Poison","RedDot","SpeedBuff","Stun","AddEpBuff","AtkDebuff","AttackUpSkill","AttributeBuff","BatterySkill","BleedBuff","BlinkIllusionSkill","BlinkSkill","BlowUPSkill","BltSizeUp","BonusAttackSpeedBuffOnHitBuff","BonusCritChanceOnHighEpBuff","BonusCritChanceOnKillBuff","BounceAI","Buff","BuffDefine","BuildTurretSkill","CannonSkill","CritOnHitCountBuff","Dash76Skill","DisableAttackBuff","DragonSkill","DragonSoul","DropBox","DropHpBuff","DvaBoomSkill","DvaUpSkill","Entity","EntityInit","ExplosiveMeka","FlySkill","FreezeBlockOnHpLowBuff","FrostBuff","FrozenBuff","FrozenSkill","GradualAttributeBuff","GradualLowHpAttributeBuff","Grenade76Skill","GuardSkill","HealSkill","HoldBuff","HurtScale","HurtScaleOnAttackBuff","HurtStopBuff","IceShieldSkill","InfiniteAmmoBuff","InvincibleOnDeadBuff","InvincibleOnHurtBuff","InvincileBuff","JumpSkill","MercyFlySkill","MovingProtectSkill","MultiAttackSkill","NewDropBox","OnDeathBonusAttackBuff","OnHitArmorPentrationForWidowBuff","OnHitBuff","OnHitCountBuff","OnHitEnemyBuff","OnHitHpHighMulAttrBuff","OnHitSelfBuff","OnHitSlowBuff","OnHpHighMulAttrBuff","OnHpLowBuff","OnHpLowMulAttrBuff","OnHurtBuff","OnHurtGetBuffBuff","OnKillBuff","OnKillCountBuff","OnMedicineBuff","OnMeleeHitEnemyBuff","OnStandBuff","PharahPulseBomb","PoisonBuff","PoisonWithOtherBuff","PowerAttackSkill","ProtectSkill","PullbackSkill","PulseBombOnHitBuff","RampageSkill","RebirthSkill","RecoverBuff","RecoverHpOnLowHpBuff","RecoverOnHpLowBuff","RecoverShieldOnShieldOffBuff","ReflectSkill","RendBuff","RepairSkill","RocketsSkill","RoundShotSkill","RunBuff","RunSkill","SelfRecoverEpBuff","ShadowImageSkill","ShadowSpeedUpSkill","ShangDebuff","ShangSkill","ShunSkill","SilentBuff","SilkSpeedDownSkill","SimpleAddAttrBuff","SimpleMulAttrBuff","Skill","SnowstormSkill","SpecialWeapon","SpiderPoisonSkill4","SprintInstantCooldownOnLowHpBuff","StandToHealBuff","StealthSkill","StreakSpeedUpSkill","StunBuff","TankSkill","TurretSkill","WeaponMasterBuff","WeaponSteadyBuff","WuweiSkill","ZanSkill","AI","BigDragonAI","BossStandAI","ChargeAndWanderAI","ChargeDragonAI","ChasingAimAI","CompanionAI","DragonAI","FlyHydraliskAI","HUMAN_AI","HydraliskAI","RangeAI","StandAI","Avatar","FlyAvatar","FrameAvatar","HeroAvatar","HumanAvatar","NewAvatar","SimpleAvatar","SpriteAvatar","AutoBltBuff","AutoBuffBuff","EletricBuff","EletricCoolDownBuff","FrozenCoolDownBuff","OnFirstBulletBuff","OnHitGetBuffBuff","OnHitSuddenKillBuff","OnHurtBonusAttributeBuff","OnKillBltSpawnBuff","OnKillGetBuffBuff","OnKillRegenBuff","OnKillSpawnDropBuff","OnMoveBuff","SpiderBuff","WithoutHurtGetBuffBuff","Companion","CompanionDefine","Dragon","DragonDefine","Drop","ItemGainInfoUI","Weapon","WeaponDefine","BastionHero","Hero","HeroDefine","HeroRes","ShadowImage","TracerImage","Human","HumanDefine","Hydralisk","HydraliskDefine","Boss","BounceMob","ExplosiveMob","Mob","MobDefine","MobSkill","PounceSkill","RushSkill","Chest","Demon","Healbox","Master","Merchant","Npc","NpcDefine","SoldierNpc","Survivor","WeaponTrialNpc","BounceBall","EnergyShield","Obstacle","ObstacleDefine","PlunderSetPoint","PlunderSetPointDefine","onFireBuff","Bomber","DrillSkill","Fire","Egg","ManholeCover","Spawner","SpawnerDefine","ChasingTurret","Turret","TurretBltUI","TurretDefine","TurretRocket","EventManager","PatrolUpdater","Timer","Platformsdk","jszip.min","record","serverUtils","tjSDK","main","GameEntrance","LevelPool","LevelPoolDefine","CollectManager","Debug___","EquipDefine","HeadManager","MoreGameManager","OperBridge","OperDefine","OperateManager","PageManager","ResizeToCustom","ScrollViewHandle","ShakeCustom","CircleNode","GuideLayer","Reddot","ShareBtn","SimpleButton","TouchAction","box","strat","Item_attr","Item_attr_t_t","Item_chapter","Item_collect","Item_equip","Item_lc_chapter","Item_lc_reward","Item_lc_reward_lat","Item_material","Item_reconfirm","Item_relics","Item_sign","Item_skill","Item_store","Item_store_box","Item_talent","Pop_equip","Pop_new_chapter","Pop_open_box","Pop_relics_detail","Pop_relics_list","Pop_reward","Pop_role_up","Pop_settlement","Pop_talent_up","item_more","pop_more9","ChatDefine","Pop_chat","PageBase","PageEquip","PageStore","PageTalent","PageTask","PageWar","PopLittleWin","PopLittleWinItem","WItem_add_leg","WItem_collect","WItem_decompose","WItem_event_zq","WItem_gift_bargain","WItem_material","WItem_offline","WItem_offline_extra","WItem_setting","WItem_sign","Spike","Terrain","TerrainDefine","GameMenu","LoadingMenu","MainMenu","BltBar","BossHpFrame","BuffUI","CheckPointPopMenu","DunHpBar","HpBar","InGameUI","InGame_EnemyPoint","Joystick","NewDunHpBar","NewHpBar","PauseMenu","QuitMenu","ReviveMenu","ShowHeroBuffManager","TouchBlock","ChooseBonusCard","ChooseBonusInfo","ChooseBonusMenu","RelicBtn","RelicPopMenu","TalentDefine","UpgradeBonusMenu","DemonPopMenu","GuideNewWeaponPopMenu","LootChestCard","LootChestPopMenu","LuckyDrawMenu","MasterPopMenu","MerchantPopMenu","SurvivorPopMenu","WeaponTrialPopMenu","diamondFrame","expFrame","moneyFrame","Menu","menuManager"]);